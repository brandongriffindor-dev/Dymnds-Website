(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},88760,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016),r=e.i(18566),i=e.i(53699);e.i(36180);var n=e.i(98925);e.i(51718);var l=e.i(18357),o=e.i(75254);let c=(0,o.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),d=(0,o.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function h({user:e,onComplete:a,onSkip:r}){let[i,n]=(0,s.useState)("intro"),[o,h]=(0,s.useState)(""),[u,x]=(0,s.useState)(""),[m,p]=(0,s.useState)(""),[w,f]=(0,s.useState)(""),[b,g]=(0,s.useState)(!1),j=(0,s.useRef)(null),N=async()=>{g(!0),f("");try{let t=await (0,l.multiFactor)(e).getSession(),s=await l.TotpMultiFactorGenerator.generateSecret(t);j.current=s,h(s.secretKey),x(s.generateQrCodeUrl(e.email||"admin","DYMNDS Admin")),n("qr")}catch(e){f(e instanceof Error?e.message:"Failed to start 2FA setup")}finally{g(!1)}},y=async()=>{g(!0),f("");try{if(!j.current){f("Setup session expired. Please start over."),n("intro");return}let t=l.TotpMultiFactorGenerator.assertionForEnrollment(j.current,m);await (0,l.multiFactor)(e).enroll(t,"Authenticator App"),a()}catch(e){f(e instanceof Error?e.message:"Invalid code. Please try again.")}finally{g(!1)}};return(0,t.jsxs)("div",{className:"max-w-md mx-auto p-8 bg-neutral-900 border border-white/10 rounded-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(c,{className:"w-6 h-6 text-green-400"}),(0,t.jsx)("h2",{className:"text-xl font-bebas tracking-wider",children:"Two-Factor Authentication"})]}),"intro"===i&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-white/60 text-sm leading-relaxed",children:"Protect your admin account with an authenticator app. This adds an extra layer of security beyond your password."}),(0,t.jsx)("button",{onClick:N,disabled:b,className:"w-full py-3 bg-white text-black font-bold tracking-wider uppercase rounded-lg disabled:opacity-50",children:b?"Setting up...":"Set Up 2FA"}),(0,t.jsx)("button",{onClick:r,className:"w-full py-2 text-xs text-white/40 hover:text-white/60 transition-colors",children:"Skip for now"})]}),"qr"===i&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-white/60 text-sm",children:"Add this key to your authenticator app (Google Authenticator, Authy, Microsoft Authenticator, etc.):"}),u&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"p-4 bg-white/5 border border-white/10 rounded-lg text-center",children:[(0,t.jsx)("p",{className:"text-[10px] tracking-widest uppercase text-white/40 mb-2",children:"Authenticator URL"}),(0,t.jsx)("p",{className:"text-xs text-white/60 break-all font-mono select-all",children:u}),(0,t.jsxs)("button",{onClick:()=>navigator.clipboard.writeText(u),className:"mt-2 text-xs text-white/40 hover:text-white flex items-center gap-1 mx-auto",children:[(0,t.jsx)(d,{className:"w-3 h-3"})," Copy URL"]})]}),(0,t.jsx)("p",{className:"text-white/40 text-xs text-center",children:"Paste this URL into your authenticator app, or use the manual key below"})]}),(0,t.jsxs)("div",{className:"p-3 bg-white/5 rounded-lg",children:[(0,t.jsx)("p",{className:"text-[10px] tracking-widest uppercase text-white/40 mb-1",children:"Manual Entry Key"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("code",{className:"text-sm text-white/80 font-mono break-all",children:o}),(0,t.jsx)("button",{onClick:()=>navigator.clipboard.writeText(o),className:"text-white/40 hover:text-white",children:(0,t.jsx)(d,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("button",{onClick:()=>n("verify"),className:"w-full py-3 bg-white text-black font-bold tracking-wider uppercase rounded-lg",children:"I've Added It"})]}),"verify"===i&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-white/60 text-sm",children:"Enter the 6-digit code from your authenticator app:"}),(0,t.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"w-full bg-black border border-white/20 rounded-lg px-4 py-3 text-white text-center text-2xl tracking-[0.5em] font-mono focus:outline-none focus:border-white/40",maxLength:6,autoFocus:!0}),(0,t.jsx)("button",{onClick:y,disabled:6!==m.length||b,className:"w-full py-3 bg-white text-black font-bold tracking-wider uppercase rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Verifying...":"Verify & Enable 2FA"})]}),w&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 text-red-400 text-sm rounded",children:w})]})}function u({error:e,onSuccess:a,onCancel:r}){let[n,o]=(0,s.useState)(""),[d,h]=(0,s.useState)(!1),[u,x]=(0,s.useState)(""),m=async()=>{h(!0),x("");try{let t=(0,i.getAuthClient)();if(!t)throw Error("Auth not initialized");let s=(0,l.getMultiFactorResolver)(t,e),r=s.hints.find(e=>e.factorId===l.TotpMultiFactorGenerator.FACTOR_ID);if(!r)return void x("No TOTP factor found");let o=l.TotpMultiFactorGenerator.assertionForSignIn(r.uid,n);await s.resolveSignIn(o),a()}catch(e){x(e instanceof Error?e.message:"Invalid code")}finally{h(!1)}};return(0,t.jsxs)("div",{className:"max-w-md mx-auto p-8 bg-neutral-900 border border-white/10 rounded-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)(c,{className:"w-6 h-6 text-green-400"}),(0,t.jsx)("h2",{className:"text-xl font-bebas tracking-wider",children:"Enter Verification Code"})]}),(0,t.jsx)("p",{className:"text-white/60 text-sm mb-4",children:"Enter the 6-digit code from your authenticator app."}),(0,t.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"000000",className:"w-full bg-black border border-white/20 rounded-lg px-4 py-3 text-white text-center text-2xl tracking-[0.5em] font-mono focus:outline-none focus:border-white/40 mb-4",maxLength:6,autoFocus:!0,onKeyDown:e=>"Enter"===e.key&&6===n.length&&m()}),(0,t.jsx)("button",{onClick:m,disabled:6!==n.length||d,className:"w-full py-3 bg-white text-black font-bold tracking-wider uppercase rounded-lg disabled:opacity-50",children:d?"Verifying...":"Verify"}),(0,t.jsx)("button",{onClick:r,className:"w-full mt-3 py-2 text-xs text-white/40 hover:text-white/60 transition-colors",children:"Cancel"}),u&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-red-500/10 border border-red-500/20 text-red-400 text-sm rounded",children:u})]})}let x=[{label:"Dashboard",href:"/admin",icon:"◆"},{label:"Products",href:"/admin/products",icon:"▦"},{label:"Orders",href:"/admin/orders",icon:"⬡"},{label:"Customers",href:"/admin/customers",icon:"◉"},{label:"Analytics",href:"/admin/analytics",icon:"◈"},{label:"Discounts",href:"/admin/discounts",icon:"◇"},{label:"Expenses",href:"/admin/expenses",icon:"▣"},{label:"Alerts",href:"/admin/alerts",icon:"⚠"},{label:"Inventory",href:"/admin/inventory",icon:"▤"},{label:"Waitlist",href:"/admin/waitlist",icon:"◎"},{label:"Messages",href:"/admin/messages",icon:"✉"}];function m({children:e}){let o,c=(0,r.usePathname)(),d=(0,r.useRouter)(),m=function(){let[e,t]=(0,s.useState)(null),[a,r]=(0,s.useState)(!0),[n,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[h,u]=(0,s.useState)(""),[x,m]=(0,s.useState)(!1),[p,w]=(0,s.useState)(!1),[f,b]=(0,s.useState)(null),[g,j]=(0,s.useState)(!1),[N,y]=(0,s.useState)(null),[v,k]=(0,s.useState)(!1),[C,S]=(0,s.useState)(0),[A,L]=(0,s.useState)(0);(0,s.useEffect)(()=>{let e=(0,i.getAuthClient)();if(!e)return;let s=(0,l.onAuthStateChanged)(e,e=>{t(e),r(!1)});return()=>s()},[]),(0,s.useEffect)(()=>{let e=(0,i.getAuthClient)();if(!e)return;let t=(0,l.onIdTokenChanged)(e,async e=>{if(e){let t=await e.getIdToken(),s=document.cookie.split("; ").find(e=>e.startsWith("csrf_token="))?.split("=")[1]||"";await fetch("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json",...s&&{"X-CSRF-Token":s}},body:JSON.stringify({idToken:t})}).catch(()=>{})}}),s=setInterval(async()=>{e.currentUser&&await e.currentUser.getIdToken(!0)},33e5);return()=>{t(),clearInterval(s)}},[]);let E=async e=>{e.preventDefault(),u(""),m(!0);let t=Date.now();if(A>t){let e=Math.ceil((A-t)/1e3);u(`Too many attempts. Try again in ${e} seconds.`),m(!1);return}try{let e=(0,i.getAuthClient)();if(!e)throw Error("Auth not available");let t=await (0,l.signInWithEmailAndPassword)(e,n,c),s=t.user;if(!(s.multiFactor&&s.multiFactor.enrolledFactors?.length>0)){y(t.user),k(!0),j(!0);return}let a=await t.user.getIdToken(),r=document.cookie.split("; ").find(e=>e.startsWith("csrf_token="))?.split("=")[1]||"";await fetch("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json",...r&&{"X-CSRF-Token":r}},body:JSON.stringify({idToken:a})})}catch(a){let e=a?.code||"";if("auth/multi-factor-auth-required"===e){b(a),w(!0),m(!1);return}let t=a instanceof Error?a.message:"Login failed";u({"auth/user-not-found":"Invalid email or password","auth/wrong-password":"Invalid email or password","auth/invalid-email":"Invalid email or password","auth/invalid-credential":"Invalid email or password","auth/too-many-requests":"Too many failed attempts. Try again later"}[e]||t);let s=C+1;S(s),s>=5&&(L(Date.now()+12e4),S(0),u("Too many failed attempts. Account locked for 2 minutes."))}finally{m(!1)}};return{user:e,authLoading:a,email:n,password:c,loginError:h,loginLoading:x,showMFA:p,mfaError:f,show2FASetup:g,pendingMFAUser:N,mfaSetupPending:v,loginAttempts:C,lockoutUntil:A,setEmail:o,setPassword:d,handleLogin:E,handleLogout:async()=>{await fetch("/api/auth/session",{method:"DELETE"}).catch(()=>{});let e=(0,i.getAuthClient)();e&&await (0,l.signOut)(e)},setShowMFA:w,setMfaError:b,setShow2FASetup:j,setMfaSetupPending:k,setPendingMFAUser:y,setLoginError:u}}(),[p,w]=(0,s.useState)(!1),[f,b]=(0,s.useState)(!1),[g,j]=(0,s.useState)(0),N=(0,s.useRef)(null),[y,v]=(0,s.useState)(0),[k,C]=(0,s.useState)(0),[S,A]=(0,s.useState)(0),[L,E]=(0,s.useState)(!1),[F,T]=(0,s.useState)(""),[M,D]=(0,s.useState)([]),[P,O]=(0,s.useState)([]);(0,s.useEffect)(()=>{w(!1)},[c]),(0,s.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),E(!0)),"Escape"===e.key&&E(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,s.useEffect)(()=>{"Notification"in window&&"granted"===Notification.permission&&b(!0)},[]),(0,s.useEffect)(()=>{if(!m.user)return;N.current=new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBjGH0fPTgjMGHm7A7+OZSA0PVanu87plHQUuh9Dz2YU2Bhxqv+zplkcODVGm5O+4ZSAEMYrO89GFNwYdcfDr4plIDQtPp+XysWUeBjiOz/PShjYGHG7A7+SaSQ0PTqjl8bJkHwU2jc7zzYU1Bhxwv+zmm0gNC1Gn5fGzZSAFNo/M89CEMwYccPDs4plIDQtQp+TwxWUeBTiOz/PPhjUGG3Dw7OKbSA0LUqjl8cVlHwU3jM7z0YU1Bhtw8OzhmUgNC1Ko5fHFZSAFOI7O89CEMwYccPDs4ppIDQtQp+TwxWUeBTiOz/PPhjUGG3Dw7OKaSA0LUqjl8cVlIAU3jM7z0YU1Bxtw8OzhmUgNC1Ko5fHFZSAF");let e=(0,n.query)((0,n.collection)(i.db,"orders"),(0,n.orderBy)("created_at","desc")),t=(0,n.onSnapshot)(e,e=>{let t=e.docs.map(e=>({id:e.id,...e.data()}));if(g>0&&t.length>g){let e=t.length-g;N.current&&N.current.play().catch(()=>{}),f&&"Notification"in window&&new Notification("New Order!",{body:`${e} new order${e>1?"s":""} received`,icon:"/favicon.ico"})}v(t.filter(e=>"pending"===e.status).length),j(t.length)},e=>{console.error("Error listening to orders:",e)});return()=>t()},[m.user,f,g]),(0,s.useEffect)(()=>{m.user&&(async()=>{try{let e=(await (0,n.getDocs)((0,n.collection)(i.db,"products"))).docs.map(e=>({id:e.id,...e.data()})),t=["XS","S","M","L","XL","XXL"],s=0;e.forEach(e=>{let a=e.colors||[];a.length>0?a.forEach(e=>{t.forEach(t=>{5>(e.stock?.[t]||0)&&s++})}):t.forEach(t=>{5>(e.stock?.[t]||0)&&s++})}),C(s)}catch(e){console.error("Error fetching low stock:",e)}})()},[m.user]),(0,s.useEffect)(()=>{m.user&&(async()=>{try{let e=(await (0,n.getDocs)((0,n.collection)(i.db,"contact_messages"))).docs.filter(e=>!0!==e.data().read).length;A(e)}catch(e){console.error("Error fetching unread messages:",e)}})()},[m.user]),(0,s.useEffect)(()=>{L&&m.user&&(async()=>{try{let[e,t]=await Promise.all([(0,n.getDocs)((0,n.collection)(i.db,"products")),(0,n.getDocs)((0,n.query)((0,n.collection)(i.db,"orders"),(0,n.orderBy)("created_at","desc")))]);D(e.docs.map(e=>({id:e.id,...e.data()}))),O(t.docs.map(e=>({id:e.id,...e.data()})))}catch(e){console.error("Error fetching search data:",e)}})()},[L,m.user]);let U=async()=>{"Notification"in window&&"granted"===await Notification.requestPermission()&&b(!0)};return m.authLoading?(0,t.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-2 border-white/20 border-t-white rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-white/40 text-sm tracking-wider uppercase",children:"Initializing DYMNDS OS"})]})}):!m.user||m.mfaSetupPending?m.show2FASetup?(0,t.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center px-4",children:(0,t.jsx)(h,{user:m.pendingMFAUser,onComplete:()=>{m.setMfaSetupPending(!1),m.setShow2FASetup(!1),m.setPendingMFAUser(null),d.push("/admin")},onSkip:async()=>{m.setMfaSetupPending(!1),m.setShow2FASetup(!1),m.setPendingMFAUser(null),await fetch("/api/auth/session",{method:"DELETE"}).catch(()=>{});let e=(0,i.getAuthClient)();e&&await (0,l.signOut)(e)}})}):m.showMFA&&m.mfaError?(0,t.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center px-4",children:(0,t.jsx)(u,{error:m.mfaError,onSuccess:()=>{m.setShowMFA(!1),m.setMfaError(null);let e=(0,i.getAuthClient)();e?.currentUser&&e.currentUser.getIdToken().then(e=>{let t=document.cookie.split("; ").find(e=>e.startsWith("csrf_token="))?.split("=")[1]||"";fetch("/api/auth/session",{method:"POST",headers:{"Content-Type":"application/json",...t&&{"X-CSRF-Token":t}},body:JSON.stringify({idToken:e})}).catch(()=>{})})},onCancel:()=>{m.setShowMFA(!1),m.setMfaError(null),m.setLoginError("MFA verification cancelled")}})}):(0,t.jsx)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center px-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-10",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 border border-white/10 rounded-2xl mb-6 bg-white/[0.03]",children:(0,t.jsx)("span",{className:"text-2xl",children:"◆"})}),(0,t.jsx)("h1",{className:"text-5xl font-bebas tracking-wider mb-2",children:"DYMNDS OS"}),(0,t.jsx)("p",{className:"text-white/30 text-sm tracking-widest uppercase",children:"Admin Access"})]}),(0,t.jsxs)("form",{onSubmit:m.handleLogin,className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-8 space-y-6",children:[m.loginError&&(0,t.jsx)("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-sm",children:m.loginError}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"admin-email",className:"block text-xs uppercase tracking-widest text-white/30 mb-2",children:"Email"}),(0,t.jsx)("input",{id:"admin-email",type:"email",value:m.email,onChange:e=>m.setEmail(e.target.value),className:"input-premium w-full bg-black/50 border border-white/[0.12] rounded-xl px-4 py-3.5 text-white placeholder:text-white/20 focus:outline-none",placeholder:"admin@weardymnds.com",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"admin-password",className:"block text-xs uppercase tracking-widest text-white/30 mb-2",children:"Password"}),(0,t.jsx)("input",{id:"admin-password",type:"password",value:m.password,onChange:e=>m.setPassword(e.target.value),className:"input-premium w-full bg-black/50 border border-white/[0.12] rounded-xl px-4 py-3.5 text-white placeholder:text-white/20 focus:outline-none",placeholder:"••••••••",required:!0})]}),(0,t.jsx)("button",{type:"submit",disabled:m.loginLoading,className:"btn-premium w-full py-4 bg-white text-black font-bold tracking-wider uppercase rounded-xl hover:bg-white/90 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:m.loginLoading?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}),"Authenticating..."]}):"Sign In"})]}),(0,t.jsx)("p",{className:"text-center text-white/15 text-xs mt-8 tracking-widest uppercase",children:"Pressure Creates Diamonds"})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,t.jsxs)("header",{className:"lg:hidden fixed top-0 left-0 right-0 h-16 bg-neutral-950/95 backdrop-blur-xl border-b border-white/[0.06] z-50 flex items-center justify-between px-4",children:[(0,t.jsx)("h1",{className:"text-xl font-bebas tracking-wider",children:"DYMNDS OS"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{onClick:()=>E(!0),className:"p-2 rounded-lg bg-white/[0.05] hover:bg-white/[0.1] transition-colors",title:"Search (⌘K)","aria-label":"Search products, orders, and customers",children:(0,t.jsx)("span",{className:"text-white/50",children:"⌕"})}),(0,t.jsx)("button",{onClick:()=>w(!p),className:"p-2 rounded-lg bg-white/[0.05] hover:bg-white/[0.1] transition-colors","aria-label":p?"Close admin menu":"Open admin menu","aria-expanded":p,children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p?(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),p&&(0,t.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>w(!1)}),(0,t.jsxs)("aside",{className:`fixed left-0 top-0 h-full w-64 bg-neutral-950 border-r border-white/[0.06] z-50 transform transition-transform duration-300 ease-[cubic-bezier(0.16,1,0.3,1)] lg:translate-x-0 ${p?"translate-x-0":"-translate-x-full"}`,children:[(0,t.jsx)("div",{className:"p-6 border-b border-white/[0.06]",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xl",children:"◆"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bebas tracking-wider",children:"DYMNDS OS"}),(0,t.jsx)("p",{className:"text-white/25 text-[10px] tracking-widest uppercase",children:"Command Center"})]})]})}),(0,t.jsx)("div",{className:"px-4 pt-4",children:(0,t.jsxs)("button",{onClick:()=>{E(!0),w(!1)},className:"w-full flex items-center gap-3 px-3 py-2.5 bg-white/[0.03] border border-white/[0.06] rounded-xl text-white/30 text-sm hover:bg-white/[0.05] transition-colors",children:[(0,t.jsx)("span",{children:"⌕"}),(0,t.jsx)("span",{children:"Search..."}),(0,t.jsx)("span",{className:"ml-auto text-[10px] bg-white/[0.06] px-1.5 py-0.5 rounded",children:"⌘K"})]})}),(0,t.jsx)("nav",{"aria-label":"Admin navigation",className:"px-3 pt-4 space-y-1 overflow-y-auto",style:{maxHeight:"calc(100vh - 220px)"},children:x.map(e=>{var s;let r="/admin"===(s=e.href)?"/admin"===c:c.startsWith(s),i="Orders"===e.label&&y>0?y:"Alerts"===e.label&&k>0?k:"Messages"===e.label&&S>0?S:null;return(0,t.jsxs)(a.default,{href:e.href,onClick:()=>w(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl text-sm tracking-wider uppercase transition-all duration-200 ${r?"bg-white text-black font-medium":"text-white/40 hover:text-white/70 hover:bg-white/[0.04]"}`,children:[(0,t.jsx)("span",{className:`text-base ${r?"opacity-100":"opacity-40"}`,children:e.icon}),(0,t.jsx)("span",{className:"flex-1",children:e.label}),i&&(0,t.jsx)("span",{className:`px-2 py-0.5 text-xs rounded-full ${r?"bg-black/20 text-black":"bg-red-500/80 text-white"}`,children:i})]},e.href)})}),(0,t.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-white/[0.06] space-y-2",children:["Notification"in window&&(0,t.jsxs)("button",{onClick:U,className:`w-full flex items-center gap-3 px-4 py-2.5 rounded-xl text-sm transition-all ${f?"text-green-400/70 bg-green-500/[0.05]":"text-white/30 hover:text-white/50 hover:bg-white/[0.03]"}`,children:[(0,t.jsx)("span",{children:f?"●":"○"}),(0,t.jsx)("span",{className:"tracking-wider uppercase text-xs",children:f?"Alerts On":"Enable Alerts"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2.5",children:[(0,t.jsx)("div",{className:"w-7 h-7 rounded-full bg-white/[0.06] flex items-center justify-center text-xs text-white/40",children:"A"}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsx)("p",{className:"text-xs text-white/30 truncate",children:m.user?.email})}),(0,t.jsx)("button",{onClick:m.handleLogout,className:"text-xs text-red-400/60 hover:text-red-400 transition-colors tracking-wider uppercase",children:"Exit"})]})]})]}),(0,t.jsx)("main",{className:"lg:ml-64 min-h-screen pt-20 lg:pt-0",children:(0,t.jsx)("div",{className:"p-4 lg:p-8",children:e})}),L&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-start justify-center pt-24 lg:pt-32 p-4",children:(0,t.jsxs)("div",{className:"modal-panel bg-neutral-950 border border-white/[0.08] rounded-2xl w-full max-w-2xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-white/[0.06] flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-white/30",children:"⌕"}),(0,t.jsx)("input",{type:"text",autoFocus:!0,value:F,onChange:e=>T(e.target.value),placeholder:"Search products, orders, customers...",className:"flex-1 bg-transparent text-lg focus:outline-none text-white placeholder:text-white/20","aria-label":"Search products, orders, and customers"}),(0,t.jsx)("button",{onClick:()=>{E(!1),T("")},className:"px-2 py-1 bg-white/[0.06] rounded text-xs text-white/30 hover:bg-white/[0.1] transition-colors","aria-label":"Close search",children:"ESC"})]}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto",children:F.length<2?(0,t.jsxs)("div",{className:"p-8 text-center text-white/30",children:[(0,t.jsx)("p",{className:"mb-2",children:"Start typing to search..."}),(0,t.jsx)("p",{className:"text-sm text-white/20",children:"Products, orders, customer emails"})]}):(0,t.jsxs)(t.Fragment,{children:[M.filter(e=>e.title?.toLowerCase().includes(F.toLowerCase())||e.slug?.toLowerCase().includes(F.toLowerCase())).length>0&&(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("p",{className:"px-3 py-2 text-[10px] uppercase tracking-widest text-white/25",children:"Products"}),M.filter(e=>e.title?.toLowerCase().includes(F.toLowerCase())||e.slug?.toLowerCase().includes(F.toLowerCase())).slice(0,5).map(e=>(0,t.jsxs)("button",{onClick:()=>{E(!1),T(""),d.push("/admin/products")},className:"w-full text-left px-3 py-3 rounded-xl hover:bg-white/[0.04] flex items-center gap-3 transition-colors",children:[(0,t.jsx)("span",{className:"text-white/20",children:"▦"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-medium truncate",children:e.title}),(0,t.jsxs)("p",{className:"text-sm text-white/30",children:["$",e.price," · ",e.category]})]})]},e.id))]}),P.filter(e=>e.id?.toLowerCase().includes(F.toLowerCase())||e.customer_name?.toLowerCase().includes(F.toLowerCase())||e.customer_email?.toLowerCase().includes(F.toLowerCase())).length>0&&(0,t.jsxs)("div",{className:"p-2 border-t border-white/[0.04]",children:[(0,t.jsx)("p",{className:"px-3 py-2 text-[10px] uppercase tracking-widest text-white/25",children:"Orders"}),P.filter(e=>e.id?.toLowerCase().includes(F.toLowerCase())||e.customer_name?.toLowerCase().includes(F.toLowerCase())||e.customer_email?.toLowerCase().includes(F.toLowerCase())).slice(0,5).map(e=>(0,t.jsxs)("button",{onClick:()=>{E(!1),T(""),d.push("/admin/orders")},className:"w-full text-left px-3 py-3 rounded-xl hover:bg-white/[0.04] flex items-center gap-3 transition-colors",children:[(0,t.jsx)("span",{className:"text-white/20",children:"⬡"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("p",{className:"font-medium",children:["#",e.id.slice(-6).toUpperCase()]}),(0,t.jsxs)("p",{className:"text-sm text-white/30",children:[e.customer_name," · $",e.total_amount?.toFixed(2)]})]})]},e.id))]}),(o=Array.from(new Set(P.map(e=>e.customer_email))).filter(e=>e?.toLowerCase().includes(F.toLowerCase())||P.find(t=>t.customer_email===e)?.customer_name?.toLowerCase().includes(F.toLowerCase()))).length>0?(0,t.jsxs)("div",{className:"p-2 border-t border-white/[0.04]",children:[(0,t.jsx)("p",{className:"px-3 py-2 text-[10px] uppercase tracking-widest text-white/25",children:"Customers"}),o.slice(0,5).map(e=>{let s=P.find(t=>t.customer_email===e),a=P.filter(t=>t.customer_email===e).length;return(0,t.jsxs)("button",{onClick:()=>{E(!1),T(""),d.push("/admin/customers")},className:"w-full text-left px-3 py-3 rounded-xl hover:bg-white/[0.04] flex items-center gap-3 transition-colors",children:[(0,t.jsx)("span",{className:"text-white/20",children:"◉"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-medium",children:s?.customer_name||"Unknown"}),(0,t.jsxs)("p",{className:"text-sm text-white/30",children:[e," · ",a," orders"]})]})]},e)})]}):null,0===M.filter(e=>e.title?.toLowerCase().includes(F.toLowerCase())||e.slug?.toLowerCase().includes(F.toLowerCase())).length&&0===P.filter(e=>e.id?.toLowerCase().includes(F.toLowerCase())||e.customer_name?.toLowerCase().includes(F.toLowerCase())||e.customer_email?.toLowerCase().includes(F.toLowerCase())).length&&(0,t.jsxs)("div",{className:"p-8 text-center text-white/25",children:["No results for “",F,"”"]})]})})]})})]})}e.s(["default",()=>m],88760)}]);
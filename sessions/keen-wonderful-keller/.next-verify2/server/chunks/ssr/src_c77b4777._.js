module.exports=[85469,a=>{"use strict";a.i(69387);var b=a.i(60574),c=a.i(79353);let d=new Set(["email","customer_email","customerEmail","phone","password","token","idToken","creditCard","ssn"]);function e(a,b,c,e){let f={level:a,message:b,timestamp:new Date().toISOString()};return c&&Object.keys(c).length>0&&(f.context=function a(b){let c={...b};for(let[b,e]of Object.entries(c))"string"==typeof e&&d.has(b)?c[b]=e.length>3?e.slice(0,3)+"***":"***":"object"!=typeof e||null===e||Array.isArray(e)||(c[b]=a(e));return c}(c)),e instanceof Error?f.error={name:e.name,message:e.message,stack:e.stack}:e&&(f.error={name:"UnknownError",message:String(e)}),f}function f(a){let b=JSON.stringify(a);"error"===a.level||"warn"===a.level?console.error(b):console.log(b)}let g={debug(a,b){},info(a,b){f(e("info",a,b))},warn(a,b,c){f(e("warn",a,b,c))},error(a,b,c){f(e("error",a,b,c))}};function h(a,d,e){(0,b.addDoc)((0,b.collection)(c.db,"admin_audit_log"),{action:a,details:d,admin_email:e||"unknown",timestamp:(0,b.serverTimestamp)(),created_at:new Date().toISOString()}).catch(b=>{g.error("Audit log write failed",{action:a},b)})}a.s(["logAdminAction",()=>h],85469)},91332,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(69387);var d=a.i(60574),e=a.i(79353),f=a.i(85469);function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0);(0,c.useEffect)(()=>{(async()=>{try{var a;a=(await (0,d.getDocs)((0,d.collection)(e.db,"app_waitlist"))).docs.map(a=>({id:a.id,...a.data()})).sort((a,b)=>{let c=new Date(a.signed_up_date);return new Date(b.signed_up_date).getTime()-c.getTime()}),g(a),i(!1)}catch(a){console.error("Error fetching waitlist:",a),i(!1)}})()},[]);let j=a.filter(a=>new Date(a.signed_up_date)>=new Date(new Date().getTime()-6048e5)).length,k=a.filter(a=>a.source?.toLowerCase().includes("homepage")||a.source?.toLowerCase().includes("home")).length,l=a=>new Date(a).toLocaleDateString();return h?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"text-white",children:"Loading waitlist..."})}):(0,b.jsx)("div",{className:"min-h-screen bg-black p-6",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-4xl font-bebas text-white mb-8",children:"Waitlist"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("p",{className:"text-white/[0.6] text-sm mb-2",children:"Total Signups"}),(0,b.jsx)("p",{className:"text-4xl font-bebas text-white",children:a.length})]}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("p",{className:"text-white/[0.6] text-sm mb-2",children:"This Week"}),(0,b.jsx)("p",{className:"text-4xl font-bebas text-white",children:j})]}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("p",{className:"text-white/[0.6] text-sm mb-2",children:"Homepage Signups"}),(0,b.jsx)("p",{className:"text-4xl font-bebas text-white",children:k})]})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)("button",{onClick:()=>{let b;(0,f.logAdminAction)("waitlist_exported",{count:a.length},(b=(0,e.getAuthClient)(),b?.currentUser?.email||"unknown"));let c=new Blob([["Email,Source,Signed Up Date",...a.map(a=>[a.email,a.source,l(a.signed_up_date)]).map(a=>a.map(a=>`"${a}"`).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),g=URL.createObjectURL(c);d.setAttribute("href",g),d.setAttribute("download",`waitlist_${new Date().toISOString().split("T")[0]}.csv`),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)},className:"btn-premium bg-white text-black hover:bg-white/[0.9]",children:"Export to CSV"})}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bebas text-white mb-6",children:"Waitlist Entries"}),0===a.length?(0,b.jsx)("p",{className:"text-white/[0.6] text-center py-8",children:"No waitlist entries yet."}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-white text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-white/[0.08]",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-white/[0.6]",children:"Email"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-white/[0.6]",children:"Source"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-white/[0.6]",children:"Signed Up"})]})}),(0,b.jsx)("tbody",{children:a.map(a=>{var c;let d;return(0,b.jsxs)("tr",{className:"border-b border-white/[0.08] hover:bg-white/[0.02]",children:[(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("a",{href:`mailto:${a.email}`,className:"text-white hover:text-white/[0.8] underline",children:a.email})}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsx)("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${(c=a.source,(d=c?.toLowerCase()||"").includes("homepage")||d.includes("home")?"bg-blue-500/[0.2] text-blue-300":d.includes("instagram")||d.includes("social")?"bg-purple-500/[0.2] text-purple-300":d.includes("email")||d.includes("newsletter")?"bg-green-500/[0.2] text-green-300":"bg-white/[0.1] text-white")}`,children:a.source||"Unknown"})}),(0,b.jsx)("td",{className:"py-4 px-4 text-white/[0.7]",children:l(a.signed_up_date)})]},a.id)})})]})})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=src_c77b4777._.js.map
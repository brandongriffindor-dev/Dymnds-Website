module.exports=[1906,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(69387);var d=a.i(60574),e=a.i(79353);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)([]),[i,j]=(0,c.useState)("all"),[k,l]=(0,c.useState)({start:"",end:""}),[m,n]=(0,c.useState)(!0);(0,c.useEffect)(()=>{(async()=>{try{let a=(await (0,d.getDocs)((0,d.collection)(e.db,"orders"))).docs.map(a=>({id:a.id,...a.data()}));f(a);let b=(await (0,d.getDocs)((0,d.collection)(e.db,"products"))).docs.map(a=>({id:a.id,...a.data()}));h(b),n(!1)}catch(a){console.error("Error fetching data:",a),n(!1)}})()},[]);let o=((a,b,c)=>{if("all"===b)return a;let d=new Date,e=new Date;switch(b){case"7days":e.setDate(d.getDate()-7);break;case"30days":e.setDate(d.getDate()-30);break;case"90days":e.setDate(d.getDate()-90);break;case"custom":c&&(e=new Date(c.start))}return a.filter(a=>{let d=new Date(a.created_at);if("custom"===b&&c){let a=new Date(c.end);return a.setHours(23,59,59,999),d>=e&&d<=a}return d>=e})})(a,i,k),p=o.reduce((a,b)=>a+(b.total||0),0),q=.1*p,r=o.length>0?p/o.length:0,s={};o.forEach(a=>{a.items?.forEach(a=>{a.category&&(s[a.category]=(s[a.category]||0)+1)})});let t={};o.forEach(a=>{let b=a.status||"unknown";t[b]=(t[b]||0)+1});let u=g.flatMap(a=>(a.variants||[]).map(b=>({productName:a.name,productCategory:a.category,color:b.color,sizes:b.sizes||{}}))).slice(0,20);return m?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"text-white",children:"Loading analytics..."})}):(0,b.jsx)("div",{className:"min-h-screen bg-black p-6",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-4xl font-bebas text-white mb-8",children:"Analytics"}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6 mb-8",children:[(0,b.jsx)("h2",{className:"text-xl font-bebas text-white mb-4",children:"Date Range"}),(0,b.jsx)("div",{className:"flex gap-3 flex-wrap",children:["all","7days","30days","90days","custom"].map(a=>(0,b.jsx)("button",{onClick:()=>j(a),className:`px-4 py-2 rounded-xl font-medium transition ${i===a?"bg-white text-black":"bg-white/[0.08] text-white hover:bg-white/[0.12]"}`,children:"all"===a?"All Time":"7days"===a?"Last 7 Days":"30days"===a?"Last 30 Days":"90days"===a?"Last 90 Days":"Custom"},a))}),"custom"===i&&(0,b.jsxs)("div",{className:"mt-4 flex gap-4",children:[(0,b.jsx)("input",{type:"date",value:k.start,onChange:a=>l({...k,start:a.target.value}),className:"input-premium bg-white/[0.05] border border-white/[0.08] text-white"}),(0,b.jsx)("input",{type:"date",value:k.end,onChange:a=>l({...k,end:a.target.value}),className:"input-premium bg-white/[0.05] border border-white/[0.08] text-white"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("p",{className:"text-white/[0.6] text-sm mb-2",children:"Total Revenue"}),(0,b.jsxs)("p",{className:"text-3xl font-bebas text-white",children:["$",p.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("p",{className:"text-white/[0.6] text-sm mb-2",children:"Total Orders"}),(0,b.jsx)("p",{className:"text-3xl font-bebas text-white",children:o.length})]}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("p",{className:"text-white/[0.6] text-sm mb-2",children:"Avg Order Value"}),(0,b.jsxs)("p",{className:"text-3xl font-bebas text-white",children:["$",r.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("p",{className:"text-white/[0.6] text-sm mb-2",children:"Impact Fund (10%)"}),(0,b.jsxs)("p",{className:"text-3xl font-bebas text-white",children:["$",q.toFixed(2)]})]})]}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6 mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bebas text-white mb-6",children:"Sales by Category"}),(0,b.jsx)("div",{className:"space-y-4",children:Object.entries(s).map(([a,c])=>{let d=o.length>0?c/o.length*100:0;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,b.jsx)("span",{className:"text-white",children:a}),(0,b.jsxs)("span",{className:"text-white/[0.6]",children:[c," sales"]})]}),(0,b.jsx)("div",{className:"w-full bg-white/[0.05] rounded-full h-2",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-white to-white/[0.5] h-2 rounded-full transition-all",style:{width:`${d}%`}})})]},a)})})]}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6 mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bebas text-white mb-6",children:"Order Status Breakdown"}),(0,b.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(t).map(([a,c])=>(0,b.jsxs)("div",{className:"bg-white/[0.05] border border-white/[0.08] rounded-xl p-4",children:[(0,b.jsx)("p",{className:"text-white/[0.6] text-sm capitalize mb-2",children:a}),(0,b.jsx)("p",{className:"text-2xl font-bebas text-white",children:c})]},a))})]}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bebas text-white mb-6",children:"Products & Color Variants"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-white",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-white/[0.08]",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-white/[0.6]",children:"Product"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-white/[0.6]",children:"Category"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-white/[0.6]",children:"Color"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-white/[0.6]",children:"Sizes"})]})}),(0,b.jsx)("tbody",{children:u.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-white/[0.08] hover:bg-white/[0.02]",children:[(0,b.jsx)("td",{className:"py-3 px-4",children:a.productName}),(0,b.jsx)("td",{className:"py-3 px-4",children:a.productCategory}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded-full border border-white/[0.2]",style:{backgroundColor:a.color}}),a.color]})}),(0,b.jsx)("td",{className:"py-3 px-4 text-white/[0.6]",children:Object.keys(a.sizes).join(", ")||"N/A"})]},c))})]})})]})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=src_app_admin_analytics_page_tsx_d9ac9286._.js.map
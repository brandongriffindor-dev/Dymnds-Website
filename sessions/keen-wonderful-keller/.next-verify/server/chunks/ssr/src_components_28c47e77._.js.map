{"version":3,"sources":["../../../../../../src/components/CollectionProductCard.tsx","../../../../../../src/components/CollectionGrid.tsx","../../../../../../src/components/AllCollectionClient.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { useCurrency, convertPrice, formatPrice, getCadPrice } from '@/lib/stores/currency-store';\nimport type { Product } from '@/lib/firebase';\n\ninterface CollectionProductCardProps {\n  product: Product;\n  showNewBadge?: boolean;\n  priority?: boolean;\n}\n\nexport default function CollectionProductCard({\n  product,\n  showNewBadge = false,\n  priority = false,\n}: CollectionProductCardProps) {\n  const currency = useCurrency();\n  const cadPrice = getCadPrice(product);\n  const displayPrice = convertPrice(cadPrice, currency);\n  const donation = (displayPrice * 0.10).toFixed(2);\n\n  return (\n    <div className=\"card-premium bg-white/5 border border-white/8 overflow-hidden group hover:border-white/20 transition-[var(--ease-premium)] duration-300\">\n      {/* Image Area */}\n      <Link href={`/products/${product.slug}`} className=\"block overflow-hidden\">\n        <div className=\"aspect-[3/4] bg-neutral-900 flex items-center justify-center relative\">\n          {product.images && product.images.length > 0 ? (\n            <div className=\"relative w-full h-full\">\n              {/* Primary image */}\n              {/* Fix #5: Above-fold product images get priority loading */}\n              <Image\n                src={product.images[0]}\n                alt={product.title}\n                fill\n                loading={priority ? \"eager\" : \"lazy\"}\n                priority={priority}\n                className={`object-cover transition-opacity duration-500 ${\n                  product.images.length > 1 ? 'group-hover:opacity-0' : 'group-hover:scale-[1.03]'\n                }`}\n                sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n              />\n              {/* Secondary image (shows on hover if available) */}\n              {product.images.length > 1 && (\n                <Image\n                  src={product.images[1]}\n                  alt={`${product.title} alternate view`}\n                  fill\n                  loading=\"lazy\"\n                  className=\"object-cover absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500\"\n                  sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n                />\n              )}\n            </div>\n          ) : (\n            <div className=\"flex flex-col items-center gap-2 bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900 w-full h-full relative overflow-hidden\">\n              <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/[0.03] to-transparent animate-shimmer\" />\n              <Image\n                src=\"/diamond-white.png\"\n                alt=\"DYMNDS\"\n                width={64}\n                height={64}\n                loading=\"lazy\"\n                className=\"opacity-15 relative z-10\"\n              />\n              <p className=\"text-xs tracking-[0.2em] uppercase text-white/20 relative z-10\">Image Coming Soon</p>\n            </div>\n          )}\n\n          {/* Gradient Overlay on Hover */}\n          <div className=\"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-[var(--ease-premium)] duration-300\" />\n\n          {/* New Badge */}\n          {showNewBadge && (\n            <div className=\"absolute top-4 left-4 px-3 py-1 bg-white text-black text-xs font-bebas tracking-wider uppercase rounded\">\n              New\n            </div>\n          )}\n        </div>\n      </Link>\n\n      {/* Content Area */}\n      <div className=\"p-6\">\n        {/* Category */}\n        <p className=\"text-[10px] tracking-[0.3em] uppercase text-white/40 mb-3\">\n          {product.category}\n        </p>\n\n        {/* Title */}\n        <Link href={`/products/${product.slug}`}>\n          <h3 className=\"font-bebas text-xl uppercase tracking-wide mb-2 group-hover:opacity-70 transition-[var(--ease-premium)] duration-300\">\n            {product.title}\n          </h3>\n        </Link>\n\n        {/* Subtitle */}\n        <p className=\"text-white/50 text-sm mb-4\">\n          {product.subtitle}\n        </p>\n\n        {/* Impact Badge */}\n        <div className=\"flex items-center gap-2 mb-4 text-emerald-400 text-xs\">\n          <div className=\"w-2 h-2 rounded-full bg-emerald-400\" />\n          <span className=\"tracking-wide\">${donation} supports survivors</span>\n        </div>\n\n        {/* Price */}\n        <p className=\"text-xl font-bebas mb-4\">\n          {formatPrice(displayPrice, currency)}\n        </p>\n\n        {/* Size availability dots */}\n        {product.stock && Object.keys(product.stock).length > 0 && (\n          <div className=\"flex gap-1.5 mb-4\">\n            {['XS', 'S', 'M', 'L', 'XL', 'XXL'].map(size => {\n              const inStock = (product.stock as Record<string, number>)?.[size] > 0;\n              return (\n                <div key={size} className=\"flex flex-col items-center gap-0.5\">\n                  <div className={`w-1.5 h-1.5 rounded-full transition-colors ${inStock ? 'bg-white/40' : 'bg-white/10'}`} />\n                  <span className=\"text-[8px] text-white/20\">{size}</span>\n                </div>\n              );\n            })}\n          </div>\n        )}\n\n        {/* View Product Button */}\n        <Link href={`/products/${product.slug}`}>\n          <button className=\"btn-premium w-full py-3.5 bg-white text-black font-bebas text-sm tracking-[0.2em] uppercase hover:scale-[1.02] transition-[var(--ease-premium)] duration-300\">\n            View Product\n          </button>\n        </Link>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport StaggerReveal from '@/components/StaggerReveal';\nimport CollectionProductCard from '@/components/CollectionProductCard';\nimport type { Product } from '@/lib/firebase';\n\n/**\n * Shared client wrapper for collection product grids.\n * Receives server-fetched products as props.\n * Handles animations and interactive product cards.\n */\ninterface CollectionGridProps {\n  products: Product[];\n  showNewBadge?: boolean;\n  emptyMessage?: string;\n  emptySubtext?: string;\n}\n\nexport default function CollectionGrid({\n  products,\n  showNewBadge = false,\n  emptyMessage = 'No products in this collection yet',\n  emptySubtext = 'Check back soon for new drops.',\n}: CollectionGridProps) {\n  if (products.length === 0) {\n    return (\n      <div className=\"text-center py-20\">\n        <p className=\"text-white/40 text-xl mb-4\">{emptyMessage}</p>\n        <p className=\"text-white/30\">{emptySubtext}</p>\n      </div>\n    );\n  }\n\n  return (\n    <StaggerReveal staggerDelay={50} animation=\"fade-up\" duration={500} threshold={0.1} className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">\n      {products.map((product, index) => (\n        <CollectionProductCard\n          key={product.id}\n          product={product}\n          showNewBadge={showNewBadge && index < 3}\n          priority={index < 3}\n        />\n      ))}\n    </StaggerReveal>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport Navbar from '@/components/Navbar';\nimport Footer from '@/components/Footer';\nimport ScrollReveal from '@/components/ScrollReveal';\nimport CollectionGrid from '@/components/CollectionGrid';\nimport type { Product } from '@/lib/firebase';\n\n/**\n * Client wrapper for the \"All Collections\" page.\n * Handles client-side category filtering on server-fetched products.\n */\ninterface AllCollectionClientProps {\n  products: Product[];\n}\n\nexport default function AllCollectionClient({ products }: AllCollectionClientProps) {\n  const [selectedCategory, setSelectedCategory] = useState('All');\n\n  const filteredProducts = selectedCategory === 'All'\n    ? products\n    : products.filter(p => p.category === selectedCategory);\n\n  const breadcrumbSchema = {\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"BreadcrumbList\",\n    \"itemListElement\": [\n      { \"@type\": \"ListItem\", \"position\": 1, \"name\": \"Home\", \"item\": \"https://dymnds.ca\" },\n      { \"@type\": \"ListItem\", \"position\": 2, \"name\": \"All Collections\", \"item\": \"https://dymnds.ca/collections/all\" }\n    ]\n  };\n\n  return (\n    <main className=\"min-h-screen bg-black text-white\">\n      <script\n        type=\"application/ld+json\"\n        dangerouslySetInnerHTML={{ __html: JSON.stringify(breadcrumbSchema) }}\n      />\n      <Navbar />\n\n      <section className=\"pt-36 pb-24 px-6\">\n        <div className=\"max-w-7xl mx-auto\">\n          <nav className=\"mb-8 flex items-center gap-2 text-xs text-white/40\">\n            <Link href=\"/\" className=\"link-underline hover:text-white/70 transition-colors\">Home</Link>\n            <span>/</span>\n            <span className=\"text-white/60\">All Collections</span>\n          </nav>\n\n          <ScrollReveal animation=\"fade-up\" delay={0} duration={600} threshold={0.1}>\n            <div className=\"text-center mb-16\">\n              <p className=\"text-xs tracking-[0.3em] uppercase text-white/50 mb-4\">Premium Activewear</p>\n              <h1 className=\"text-6xl md:text-8xl font-bebas tracking-tight uppercase mb-6\">\n                Shop Collection\n              </h1>\n              <p className=\"text-lg text-white/40 max-w-2xl mx-auto\">\n                Every piece engineered for performance. 10% of every order supports survivors.\n              </p>\n            </div>\n          </ScrollReveal>\n\n          {/* Category Filter */}\n          <div className=\"flex justify-center gap-4 mb-16\">\n            {['All', 'Men', 'Women'].map((cat) => (\n              <button\n                key={cat}\n                onClick={() => setSelectedCategory(cat)}\n                className={`btn-premium px-6 py-3 text-sm tracking-widest uppercase transition-[var(--ease-premium)] duration-300 ${\n                  selectedCategory === cat\n                    ? 'bg-white text-black'\n                    : 'border border-white/20 text-white/60 hover:text-white hover:border-white/40'\n                }`}\n              >\n                {cat}\n              </button>\n            ))}\n          </div>\n\n          <CollectionGrid products={filteredProducts} />\n        </div>\n      </section>\n\n      <Footer />\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}
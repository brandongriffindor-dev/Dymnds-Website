module.exports=[15311,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(69387);var d=a.i(60574),e=a.i(79353);function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{let a=await (0,d.getDocs)((0,d.query)((0,d.collection)(e.db,"inventory_logs"),(0,d.orderBy)("created_at","desc"),(0,d.limit)(100))),b=a.docs.map(a=>({id:a.id,...a.data()}));f(b),a.docs.length>0&&n(a.docs[a.docs.length-1]),l(100===a.docs.length),h(!1)}catch(a){console.error("Error fetching inventory logs:",a),h(!1)}})()},[]);let o=async()=>{if(m&&!i){j(!0);try{let a=await (0,d.getDocs)((0,d.query)((0,d.collection)(e.db,"inventory_logs"),(0,d.orderBy)("created_at","desc"),(0,d.startAfter)(m),(0,d.limit)(100))),b=a.docs.map(a=>({id:a.id,...a.data()}));f(a=>[...a,...b]),a.docs.length>0&&n(a.docs[a.docs.length-1]),l(100===a.docs.length)}catch(a){console.error("Error loading more logs:",a)}finally{j(!1)}}};return g?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"text-white",children:"Loading inventory logs..."})}):(0,b.jsx)("div",{className:"min-h-screen bg-black p-6",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-4xl font-bebas text-white mb-8",children:"Inventory Audit Trail"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("p",{className:"text-white/[0.6] text-sm mb-2",children:"Total Changes"}),(0,b.jsx)("p",{className:"text-4xl font-bebas text-white",children:a.length})]}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("p",{className:"text-white/[0.6] text-sm mb-2",children:"Total Restocks"}),(0,b.jsx)("p",{className:"text-4xl font-bebas text-white",children:a.filter(a=>a.change>0).length})]}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("p",{className:"text-white/[0.6] text-sm mb-2",children:"Total Sold/Removed"}),(0,b.jsx)("p",{className:"text-4xl font-bebas text-white",children:a.filter(a=>a.change<0).length})]})]}),(0,b.jsxs)("div",{className:"bg-white/[0.03] border border-white/[0.08] rounded-2xl p-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bebas text-white mb-6",children:"Change History"}),0===a.length?(0,b.jsx)("p",{className:"text-white/[0.6] text-center py-8",children:"No inventory changes yet."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-white text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-white/[0.08]",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-white/[0.6]",children:"Date"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-white/[0.6]",children:"Product"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-white/[0.6]",children:"Size"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-white/[0.6]",children:"Old Stock"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-white/[0.6]",children:"New Stock"}),(0,b.jsx)("th",{className:"text-center py-3 px-4 text-white/[0.6]",children:"Change"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-white/[0.6]",children:"Reason"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-white/[0.6]",children:"User"})]})}),(0,b.jsx)("tbody",{children:a.map(a=>{var c;return(0,b.jsxs)("tr",{className:"border-b border-white/[0.08] hover:bg-white/[0.02]",children:[(0,b.jsx)("td",{className:"py-4 px-4 text-white/[0.7]",children:new Date(a.created_at).toLocaleString()}),(0,b.jsx)("td",{className:"py-4 px-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-white",children:a.product_name}),(0,b.jsxs)("p",{className:"text-white/[0.5] text-xs flex items-center gap-1",children:[a.color&&(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:a.color}})}),a.color]})]})}),(0,b.jsx)("td",{className:"py-4 px-4",children:a.size}),(0,b.jsx)("td",{className:"py-4 px-4 text-center",children:a.old_stock}),(0,b.jsx)("td",{className:"py-4 px-4 text-center",children:a.new_stock}),(0,b.jsxs)("td",{className:`py-4 px-4 text-center font-medium ${(c=a.change)>0?"text-green-400":c<0?"text-red-400":"text-white"}`,children:[a.change>0?"+":"",a.change]}),(0,b.jsx)("td",{className:"py-4 px-4 text-white/[0.7]",children:a.reason}),(0,b.jsx)("td",{className:"py-4 px-4 text-white/[0.6]",children:a.user})]},a.id)})})]})}),(0,b.jsxs)("div",{className:"mt-6 flex flex-col items-center gap-4",children:[(0,b.jsxs)("p",{className:"text-white/[0.6] text-sm",children:["Showing ",a.length," logs"]}),k&&(0,b.jsx)("button",{onClick:o,disabled:i,className:"px-6 py-2 bg-white/[0.08] border border-white/[0.2] rounded-lg text-white hover:bg-white/[0.12] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?"Loading...":"Load More"})]})]})]})]})})}a.s(["default",()=>f])}];

//# sourceMappingURL=src_app_admin_inventory_page_tsx_c1234056._.js.map
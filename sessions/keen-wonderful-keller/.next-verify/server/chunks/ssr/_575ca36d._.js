module.exports=[41556,(a,b,c)=>{"use strict";var d,e,f;Object.defineProperty(c,"__esModule",{value:!0}),c.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=c.DEFAULT_MAX_SEND_MESSAGE_LENGTH=c.Propagate=c.LogVerbosity=c.Status=void 0,function(a){a[a.OK=0]="OK",a[a.CANCELLED=1]="CANCELLED",a[a.UNKNOWN=2]="UNKNOWN",a[a.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",a[a.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",a[a.NOT_FOUND=5]="NOT_FOUND",a[a.ALREADY_EXISTS=6]="ALREADY_EXISTS",a[a.PERMISSION_DENIED=7]="PERMISSION_DENIED",a[a.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",a[a.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",a[a.ABORTED=10]="ABORTED",a[a.OUT_OF_RANGE=11]="OUT_OF_RANGE",a[a.UNIMPLEMENTED=12]="UNIMPLEMENTED",a[a.INTERNAL=13]="INTERNAL",a[a.UNAVAILABLE=14]="UNAVAILABLE",a[a.DATA_LOSS=15]="DATA_LOSS",a[a.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(d||(c.Status=d={})),function(a){a[a.DEBUG=0]="DEBUG",a[a.INFO=1]="INFO",a[a.ERROR=2]="ERROR",a[a.NONE=3]="NONE"}(e||(c.LogVerbosity=e={})),function(a){a[a.DEADLINE=1]="DEADLINE",a[a.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",a[a.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",a[a.CANCELLATION=8]="CANCELLATION",a[a.DEFAULTS=65535]="DEFAULTS"}(f||(c.Propagate=f={})),c.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,c.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},67034,(a,b,c)=>{"use strict";var d,e,f,g;Object.defineProperty(c,"__esModule",{value:!0}),c.isTracerEnabled=c.trace=c.log=c.setLoggerVerbosity=c.setLogger=c.getLogger=void 0;let h=a.r(41556),i=a.r(5365),j=a.r(17887).version,k={error:(a,...b)=>{console.error("E "+a,...b)},info:(a,...b)=>{console.error("I "+a,...b)},debug:(a,...b)=>{console.error("D "+a,...b)}},l=h.LogVerbosity.ERROR;switch((null!=(e=null!=(d=process.env.GRPC_NODE_VERBOSITY)?d:process.env.GRPC_VERBOSITY)?e:"").toUpperCase()){case"DEBUG":l=h.LogVerbosity.DEBUG;break;case"INFO":l=h.LogVerbosity.INFO;break;case"ERROR":l=h.LogVerbosity.ERROR;break;case"NONE":l=h.LogVerbosity.NONE}c.getLogger=()=>k,c.setLogger=a=>{k=a},c.setLoggerVerbosity=a=>{l=a},c.log=(a,...b)=>{let c;if(a>=l){switch(a){case h.LogVerbosity.DEBUG:c=k.debug;break;case h.LogVerbosity.INFO:c=k.info;break;case h.LogVerbosity.ERROR:c=k.error}c||(c=k.error),c&&c.bind(k)(...b)}};let m=null!=(g=null!=(f=process.env.GRPC_NODE_TRACE)?f:process.env.GRPC_TRACE)?g:"",n=new Set,o=new Set;for(let a of m.split(","))a.startsWith("-")?o.add(a.substring(1)):n.add(a);let p=n.has("all");function q(a,b,d){r(b)&&(0,c.log)(a,new Date().toISOString()+" | v"+j+" "+i.pid+" | "+b+" | "+d)}function r(a){return!o.has(a)&&(p||n.has(a))}c.trace=q,c.isTracerEnabled=r},9932,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getErrorCode=c.getErrorMessage=void 0,c.getErrorMessage=function(a){return a instanceof Error?a.message:String(a)},c.getErrorCode=function(a){return"object"==typeof a&&null!==a&&"code"in a&&"number"==typeof a.code?a.code:null}},80161,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Metadata=void 0;let d=a.r(67034),e=a.r(41556),f=a.r(9932),g=/^[0-9a-z_.-]+$/,h=/^[ -~]*$/;function i(a){return g.test(a)}function j(a){return h.test(a)}function k(a){return a.endsWith("-bin")}function l(a){return!a.startsWith("grpc-")}function m(a){return a.toLowerCase()}function n(a,b){if(!i(a))throw Error('Metadata key "'+a+'" contains illegal characters');if(null!=b)if(k(a)){if(!Buffer.isBuffer(b))throw Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(b))throw Error("keys that don't end with '-bin' must have String values");if(!j(b))throw Error('Metadata string value "'+b+'" contains illegal characters')}}class o{constructor(a={}){this.internalRepr=new Map,this.options=a}set(a,b){n(a=m(a),b),this.internalRepr.set(a,[b])}add(a,b){n(a=m(a),b);let c=this.internalRepr.get(a);void 0===c?this.internalRepr.set(a,[b]):c.push(b)}remove(a){a=m(a),this.internalRepr.delete(a)}get(a){return a=m(a),this.internalRepr.get(a)||[]}getMap(){let a={};for(let[b,c]of this.internalRepr)if(c.length>0){let d=c[0];a[b]=Buffer.isBuffer(d)?Buffer.from(d):d}return a}clone(){let a=new o(this.options),b=a.internalRepr;for(let[a,c]of this.internalRepr){let d=c.map(a=>Buffer.isBuffer(a)?Buffer.from(a):a);b.set(a,d)}return a}merge(a){for(let[b,c]of a.internalRepr){let a=(this.internalRepr.get(b)||[]).concat(c);this.internalRepr.set(b,a)}}setOptions(a){this.options=a}getOptions(){return this.options}toHttp2Headers(){let a={};for(let[b,c]of this.internalRepr)a[b]=c.map(p);return a}toJSON(){let a={};for(let[b,c]of this.internalRepr)a[b]=c;return a}static fromHttp2Headers(a){let b=new o;for(let c of Object.keys(a)){if(":"===c.charAt(0))continue;let g=a[c];try{k(c)?Array.isArray(g)?g.forEach(a=>{b.add(c,Buffer.from(a,"base64"))}):void 0!==g&&(l(c)?g.split(",").forEach(a=>{b.add(c,Buffer.from(a.trim(),"base64"))}):b.add(c,Buffer.from(g,"base64"))):Array.isArray(g)?g.forEach(a=>{b.add(c,a)}):void 0!==g&&b.add(c,g)}catch(b){let a=`Failed to add metadata entry ${c}: ${g}. ${(0,f.getErrorMessage)(b)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,d.log)(e.LogVerbosity.ERROR,a)}}return b}}c.Metadata=o;let p=a=>Buffer.isBuffer(a)?a.toString("base64"):a},54518,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CallCredentials=void 0;let d=a.r(80161);function e(a){return"getRequestHeaders"in a&&"function"==typeof a.getRequestHeaders}class f{static createFromMetadataGenerator(a){return new h(a)}static createFromGoogleCredential(a){return f.createFromMetadataGenerator((b,c)=>{let f;(f=e(a)?a.getRequestHeaders(b.service_url):new Promise((c,d)=>{a.getRequestMetadata(b.service_url,(a,b)=>{a?d(a):b?c(b):d(Error("Headers not set by metadata plugin"))})})).then(a=>{let b=new d.Metadata;for(let c of Object.keys(a))b.add(c,a[c]);c(null,b)},a=>{c(a)})})}static createEmpty(){return new i}}c.CallCredentials=f;class g extends f{constructor(a){super(),this.creds=a}async generateMetadata(a){let b=new d.Metadata;for(let c of(await Promise.all(this.creds.map(b=>b.generateMetadata(a)))))b.merge(c);return b}compose(a){return new g(this.creds.concat([a]))}_equals(a){return this===a||a instanceof g&&this.creds.every((b,c)=>b._equals(a.creds[c]))}}class h extends f{constructor(a){super(),this.metadataGenerator=a}generateMetadata(a){return new Promise((b,c)=>{this.metadataGenerator(a,(a,d)=>{void 0!==d?b(d):c(a)})})}compose(a){return new g([this,a])}_equals(a){return this===a||a instanceof h&&this.metadataGenerator===a.metadataGenerator}}class i extends f{generateMetadata(a){return Promise.resolve(new d.Metadata)}compose(a){return a}_equals(a){return a instanceof i}}},27258,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getDefaultRootsData=c.CIPHER_SUITES=void 0;let d=a.r(22734);c.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;let e=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH,f=null;c.getDefaultRootsData=function(){return e?(null===f&&(f=d.readFileSync(e)),f):null}},29205,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ChannelCredentials=void 0;let d=a.r(55004),e=a.r(54518),f=a.r(27258);function g(a,b){if(a&&!(a instanceof Buffer))throw TypeError(`${b}, if provided, must be a Buffer.`)}class h{constructor(a){this.callCredentials=a||e.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(a,b,c,e){var h;if(g(a,"Root certificate"),g(b,"Private key"),g(c,"Certificate chain"),b&&!c)throw Error("Private key must be given with accompanying certificate chain");if(!b&&c)throw Error("Certificate chain must be given with accompanying private key");return new j((0,d.createSecureContext)({ca:null!=(h=null!=a?a:(0,f.getDefaultRootsData)())?h:void 0,key:null!=b?b:void 0,cert:null!=c?c:void 0,ciphers:f.CIPHER_SUITES}),null!=e?e:{})}static createFromSecureContext(a,b){return new j(a,null!=b?b:{})}static createInsecure(){return new i}}c.ChannelCredentials=h;class i extends h{constructor(a){super(a)}compose(a){throw Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(a){return a instanceof i}}class j extends h{constructor(a,b){super(),this.secureContext=a,this.verifyOptions=b,this.connectionOptions={secureContext:a},(null==b?void 0:b.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=b.checkServerIdentity)}compose(a){return new k(this,this.callCredentials.compose(a))}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(a){return this===a||a instanceof j&&this.secureContext===a.secureContext&&this.verifyOptions.checkServerIdentity===a.verifyOptions.checkServerIdentity}}class k extends h{constructor(a,b){super(b),this.channelCredentials=a}compose(a){let b=this.callCredentials.compose(a);return new k(this.channelCredentials,b)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(a){return this===a||a instanceof k&&this.channelCredentials._equals(a.channelCredentials)&&this.callCredentials._equals(a.callCredentials)}}},26005,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.validateLoadBalancingConfig=c.getFirstUsableConfig=c.isLoadBalancerNameRegistered=c.createLoadBalancer=c.registerDefaultLoadBalancerType=c.registerLoadBalancerType=c.createChildChannelControlHelper=void 0,c.createChildChannelControlHelper=function(a,b){var c,d,e,f,g,h,i,j,k,l;return{createSubchannel:null!=(d=null==(c=b.createSubchannel)?void 0:c.bind(b))?d:a.createSubchannel.bind(a),updateState:null!=(f=null==(e=b.updateState)?void 0:e.bind(b))?f:a.updateState.bind(a),requestReresolution:null!=(h=null==(g=b.requestReresolution)?void 0:g.bind(b))?h:a.requestReresolution.bind(a),addChannelzChild:null!=(j=null==(i=b.addChannelzChild)?void 0:i.bind(b))?j:a.addChannelzChild.bind(a),removeChannelzChild:null!=(l=null==(k=b.removeChannelzChild)?void 0:k.bind(b))?l:a.removeChannelzChild.bind(a)}};let d={},e=null;c.registerLoadBalancerType=function(a,b,c){d[a]={LoadBalancer:b,LoadBalancingConfig:c}},c.registerDefaultLoadBalancerType=function(a){e=a},c.createLoadBalancer=function(a,b){let c=a.getLoadBalancerName();return c in d?new d[c].LoadBalancer(b):null},c.isLoadBalancerNameRegistered=function(a){return a in d},c.getFirstUsableConfig=function(a,b=!1){for(let b of a)if(b.getLoadBalancerName()in d)return b;return b&&e?new d[e].LoadBalancingConfig:null},c.validateLoadBalancingConfig=function(a){if(null===a||"object"!=typeof a)throw Error("Load balancing config must be an object");let b=Object.keys(a);if(1!==b.length)throw Error("Provided load balancing config has multiple conflicting entries");let c=b[0];if(c in d)return d[c].LoadBalancingConfig.createFromJson(a[c]);throw Error(`Unrecognized load balancing config name ${c}`)}},26009,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.extractAndSelectServiceConfig=c.validateServiceConfig=c.validateRetryThrottling=void 0;let d=a.r(46786),e=a.r(41556),f=a.r(26005),g=/^\d+(\.\d{1,9})?s$/,h="node";function i(a){if("service"in a&&""!==a.service){if("string"!=typeof a.service)throw Error(`Invalid method config name: invalid service: expected type string, got ${typeof a.service}`);if(!("method"in a)||""===a.method)return{service:a.service};if("string"!=typeof a.method)throw Error(`Invalid method config name: invalid method: expected type string, got ${typeof a.service}`);return{service:a.service,method:a.method}}if("method"in a&&void 0!==a.method)throw Error("Invalid method config name: method set with empty or unset service");return{}}function j(a){if(!("maxAttempts"in a)||!Number.isInteger(a.maxAttempts)||a.maxAttempts<2)throw Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in a)||"string"!=typeof a.initialBackoff||!g.test(a.initialBackoff))throw Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in a)||"string"!=typeof a.maxBackoff||!g.test(a.maxBackoff))throw Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in a)||"number"!=typeof a.backoffMultiplier||a.backoffMultiplier<=0)throw Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in a&&Array.isArray(a.retryableStatusCodes)))throw Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===a.retryableStatusCodes.length)throw Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(let b of a.retryableStatusCodes)if("number"==typeof b){if(!Object.values(e.Status).includes(b))throw Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if("string"==typeof b){if(!Object.values(e.Status).includes(b.toUpperCase()))throw Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:a.maxAttempts,initialBackoff:a.initialBackoff,maxBackoff:a.maxBackoff,backoffMultiplier:a.backoffMultiplier,retryableStatusCodes:a.retryableStatusCodes}}function k(a){if(!("maxAttempts"in a)||!Number.isInteger(a.maxAttempts)||a.maxAttempts<2)throw Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in a&&("string"!=typeof a.hedgingDelay||!g.test(a.hedgingDelay)))throw Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in a&&Array.isArray(a.nonFatalStatusCodes))for(let b of a.nonFatalStatusCodes)if("number"==typeof b){if(!Object.values(e.Status).includes(b))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if("string"==typeof b){if(!Object.values(e.Status).includes(b.toUpperCase()))throw Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");let b={maxAttempts:a.maxAttempts};return a.hedgingDelay&&(b.hedgingDelay=a.hedgingDelay),a.nonFatalStatusCodes&&(b.nonFatalStatusCodes=a.nonFatalStatusCodes),b}function l(a){var b;let c={name:[]};if(!("name"in a)||!Array.isArray(a.name))throw Error("Invalid method config: invalid name array");for(let b of a.name)c.name.push(i(b));if("waitForReady"in a){if("boolean"!=typeof a.waitForReady)throw Error("Invalid method config: invalid waitForReady");c.waitForReady=a.waitForReady}if("timeout"in a)if("object"==typeof a.timeout){if(!("seconds"in a.timeout)||"number"!=typeof a.timeout.seconds)throw Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in a.timeout)||"number"!=typeof a.timeout.nanos)throw Error("Invalid method config: invalid timeout.nanos");c.timeout=a.timeout}else if("string"==typeof a.timeout&&g.test(a.timeout)){let d=a.timeout.substring(0,a.timeout.length-1).split(".");c.timeout={seconds:0|d[0],nanos:(null!=(b=d[1])?b:0)|0}}else throw Error("Invalid method config: invalid timeout");if("maxRequestBytes"in a){if("number"!=typeof a.maxRequestBytes)throw Error("Invalid method config: invalid maxRequestBytes");c.maxRequestBytes=a.maxRequestBytes}if("maxResponseBytes"in a){if("number"!=typeof a.maxResponseBytes)throw Error("Invalid method config: invalid maxRequestBytes");c.maxResponseBytes=a.maxResponseBytes}if("retryPolicy"in a)if("hedgingPolicy"in a)throw Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");else c.retryPolicy=j(a.retryPolicy);else"hedgingPolicy"in a&&(c.hedgingPolicy=k(a.hedgingPolicy));return c}function m(a){if(!("maxTokens"in a)||"number"!=typeof a.maxTokens||a.maxTokens<=0||a.maxTokens>1e3)throw Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in a)||"number"!=typeof a.tokenRatio||a.tokenRatio<=0)throw Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+a.maxTokens.toFixed(3),tokenRatio:+a.tokenRatio.toFixed(3)}}function n(a){let b={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in a)if("string"==typeof a.loadBalancingPolicy)b.loadBalancingPolicy=a.loadBalancingPolicy;else throw Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in a)if(Array.isArray(a.loadBalancingConfig))for(let c of a.loadBalancingConfig)b.loadBalancingConfig.push((0,f.validateLoadBalancingConfig)(c));else throw Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in a&&Array.isArray(a.methodConfig))for(let c of a.methodConfig)b.methodConfig.push(l(c));"retryThrottling"in a&&(b.retryThrottling=m(a.retryThrottling));let c=[];for(let a of b.methodConfig)for(let b of a.name){for(let a of c)if(b.service===a.service&&b.method===a.method)throw Error(`Invalid service config: duplicate name ${b.service}/${b.method}`);c.push(b)}return b}function o(a){if(!("serviceConfig"in a))throw Error("Invalid service config choice: missing service config");let b={serviceConfig:n(a.serviceConfig)};if("clientLanguage"in a)if(Array.isArray(a.clientLanguage))for(let c of(b.clientLanguage=[],a.clientLanguage))if("string"==typeof c)b.clientLanguage.push(c);else throw Error("Invalid service config choice: invalid clientLanguage");else throw Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in a)if(Array.isArray(a.clientHostname))for(let c of(b.clientHostname=[],a.clientHostname))if("string"==typeof c)b.clientHostname.push(c);else throw Error("Invalid service config choice: invalid clientHostname");else throw Error("Invalid service config choice: invalid clientHostname");if("percentage"in a)if("number"==typeof a.percentage&&0<=a.percentage&&a.percentage<=100)b.percentage=a.percentage;else throw Error("Invalid service config choice: invalid percentage");let c=["clientLanguage","percentage","clientHostname","serviceConfig"];for(let b in a)if(!c.includes(b))throw Error(`Invalid service config choice: unexpected field ${b}`);return b}function p(a,b){if(!Array.isArray(a))throw Error("Invalid service config list");for(let c of a){let a=o(c);if("number"!=typeof a.percentage||!(b>a.percentage)){if(Array.isArray(a.clientHostname)){let b=!1;for(let c of a.clientHostname)c===d.hostname()&&(b=!0);if(!b)continue}if(Array.isArray(a.clientLanguage)){let b=!1;for(let c of a.clientLanguage)c===h&&(b=!0);if(!b)continue}return a.serviceConfig}}throw Error("No matching service config found")}c.validateRetryThrottling=m,c.validateServiceConfig=n,c.extractAndSelectServiceConfig=function(a,b){for(let c of a)if(c.length>0&&c[0].startsWith("grpc_config="))return p(JSON.parse(c.join("").substring(12)),b);return null}},31536,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.ConnectivityState=void 0,function(a){a[a.IDLE=0]="IDLE",a[a.CONNECTING=1]="CONNECTING",a[a.READY=2]="READY",a[a.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",a[a.SHUTDOWN=4]="SHUTDOWN"}(d||(c.ConnectivityState=d={}))},16713,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.uriToString=c.splitHostPort=c.parseUri=void 0;let d=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;c.parseUri=function(a){let b=d.exec(a);return null===b?null:{scheme:b[1],authority:b[2],path:b[3]}};let e=/^\d+$/;c.splitHostPort=function(a){if(a.startsWith("[")){let b=a.indexOf("]");if(-1===b)return null;let c=a.substring(1,b);if(-1===c.indexOf(":"))return null;if(!(a.length>b+1))return{host:c};if(":"!==a[b+1])return null;{let d=a.substring(b+2);return e.test(d)?{host:c,port:+d}:null}}{let b=a.split(":");return 2!==b.length?{host:a}:e.test(b[1])?{host:b[0],port:+b[1]}:null}},c.uriToString=function(a){let b="";return void 0!==a.scheme&&(b+=a.scheme+":"),void 0!==a.authority&&(b+="//"+a.authority+"/"),b+=a.path}},37030,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.mapUriDefaultScheme=c.getDefaultAuthority=c.createResolver=c.registerDefaultScheme=c.registerResolver=void 0;let d=a.r(16713),e={},f=null;c.registerResolver=function(a,b){e[a]=b},c.registerDefaultScheme=function(a){f=a},c.createResolver=function(a,b,c){if(void 0!==a.scheme&&a.scheme in e)return new e[a.scheme](a,b,c);throw Error(`No resolver could be created for target ${(0,d.uriToString)(a)}`)},c.getDefaultAuthority=function(a){if(void 0!==a.scheme&&a.scheme in e)return e[a.scheme].getDefaultAuthority(a);throw Error(`Invalid target ${(0,d.uriToString)(a)}`)},c.mapUriDefaultScheme=function(a){if(void 0===a.scheme||!(a.scheme in e))if(null!==f)return{scheme:f,authority:void 0,path:(0,d.uriToString)(a)};else return null;return a}},40064,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.QueuePicker=c.UnavailablePicker=c.PickResultType=void 0;let e=a.r(80161),f=a.r(41556);!function(a){a[a.COMPLETE=0]="COMPLETE",a[a.QUEUE=1]="QUEUE",a[a.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",a[a.DROP=3]="DROP"}(d||(c.PickResultType=d={}));class g{constructor(a){this.status=Object.assign({code:f.Status.UNAVAILABLE,details:"No connection established",metadata:new e.Metadata},a)}pick(a){return{pickResultType:d.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}c.UnavailablePicker=g;class h{constructor(a){this.loadBalancer=a,this.calledExitIdle=!1}pick(a){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),{pickResultType:d.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}c.QueuePicker=h},21313,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BackoffTimeout=void 0;let d=1e3,e=1.6,f=12e4,g=.2;function h(a,b){return Math.random()*(b-a)+a}class i{constructor(a,b){this.callback=a,this.initialDelay=d,this.multiplier=e,this.maxDelay=f,this.jitter=g,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,b&&(b.initialDelay&&(this.initialDelay=b.initialDelay),b.multiplier&&(this.multiplier=b.multiplier),b.jitter&&(this.jitter=b.jitter),b.maxDelay&&(this.maxDelay=b.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}runTimer(a){var b,c;this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.callback(),this.running=!1},a),this.hasRef||null==(c=(b=this.timerId).unref)||c.call(b)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);let a=Math.min(this.nextDelay*this.multiplier,this.maxDelay),b=a*this.jitter;this.nextDelay=a+h(-b,b)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){let a=new Date,b=this.startTime;b.setMilliseconds(b.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),a<b?this.runTimer(b.getTime()-a.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var a,b;this.hasRef=!0,null==(b=(a=this.timerId).ref)||b.call(a)}unref(){var a,b;this.hasRef=!1,null==(b=(a=this.timerId).unref)||b.call(a)}getEndTime(){return this.endTime}}c.BackoffTimeout=i},85918,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ChildLoadBalancerHandler=void 0;let d=a.r(26005),e=a.r(31536),f="child_load_balancer_helper";class g{constructor(a){this.channelControlHelper=a,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(a){this.parent=a,this.child=null}createSubchannel(a,b){return this.parent.channelControlHelper.createSubchannel(a,b)}updateState(a,b){var c;if(this.calledByPendingChild()){if(a===e.ConnectivityState.CONNECTING)return;null==(c=this.parent.currentChild)||c.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(a,b)}requestReresolution(){var a;let b=null!=(a=this.parent.pendingChild)?a:this.parent.currentChild;this.child===b&&this.parent.channelControlHelper.requestReresolution()}setChild(a){this.child=a}addChannelzChild(a){this.parent.channelControlHelper.addChannelzChild(a)}removeChannelzChild(a){this.parent.channelControlHelper.removeChannelzChild(a)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(a,b){return a.getLoadBalancerName()!==b.getLoadBalancerName()}updateAddressList(a,b,c){let e;if(null===this.currentChild||null===this.latestConfig||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,b)){let a=new this.ChildPolicyHelper(this),c=(0,d.createLoadBalancer)(b,a);a.setChild(c),null===this.currentChild?(this.currentChild=c,e=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=c,e=this.pendingChild)}else e=null===this.pendingChild?this.currentChild:this.pendingChild;this.latestConfig=b,e.updateAddressList(a,b,c)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return f}}c.ChildLoadBalancerHandler=g},32888,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ResolvingLoadBalancer=void 0;let d=a.r(26005),e=a.r(26009),f=a.r(31536),g=a.r(37030),h=a.r(40064),i=a.r(21313),j=a.r(41556),k=a.r(80161),l=a.r(67034),m=a.r(41556),n=a.r(16713),o=a.r(85918),p="resolving_load_balancer";function q(a){l.trace(m.LogVerbosity.DEBUG,p,a)}let r=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function s(a,b,c,d){for(let e of c.name)switch(d){case"EMPTY":if(!e.service&&!e.method)return!0;break;case"SERVICE":if(e.service===a&&!e.method)return!0;break;case"SERVICE_AND_METHOD":if(e.service===a&&e.method===b)return!0}return!1}function t(a,b,c,d){for(let e of c)if(s(a,b,e,d))return e;return null}function u(a){return function(b,c){var d,e;let f=b.split("/").filter(a=>a.length>0),g=null!=(d=f[0])?d:"",h=null!=(e=f[1])?e:"";if(a&&a.methodConfig)for(let b of r){let c=t(g,h,a.methodConfig,b);if(c)return{methodConfig:c,pickInformation:{},status:j.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:j.Status.OK,dynamicFilterFactories:[]}}}class v{constructor(a,b,c,l,m){this.target=a,this.channelControlHelper=b,this.onSuccessfulResolution=l,this.onFailedResolution=m,this.latestChildState=f.ConnectivityState.IDLE,this.latestChildPicker=new h.QueuePicker(this),this.currentState=f.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,c["grpc.service_config"]?this.defaultServiceConfig=(0,e.validateServiceConfig)(JSON.parse(c["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(f.ConnectivityState.IDLE,new h.QueuePicker(this)),this.childLoadBalancer=new o.ChildLoadBalancerHandler({createSubchannel:b.createSubchannel.bind(b),requestReresolution:()=>{this.backoffTimeout.isRunning()?(q("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(a,b)=>{this.latestChildState=a,this.latestChildPicker=b,this.updateState(a,b)},addChannelzChild:b.addChannelzChild.bind(b),removeChannelzChild:b.removeChannelzChild.bind(b)}),this.innerResolver=(0,g.createResolver)(a,{onSuccessfulResolution:(a,b,c,e,f)=>{var g;this.backoffTimeout.stop(),this.backoffTimeout.reset();let h=null;null===b?null===c?(this.previousServiceConfig=null,h=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(c):h=this.previousServiceConfig:(h=b,this.previousServiceConfig=b);let i=null!=(g=null==h?void 0:h.loadBalancingConfig)?g:[],l=(0,d.getFirstUsableConfig)(i,!0);if(null===l)return void this.handleResolutionFailure({code:j.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new k.Metadata});this.childLoadBalancer.updateAddressList(a,l,f);let m=null!=h?h:this.defaultServiceConfig;this.onSuccessfulResolution(m,null!=e?e:u(m))},onError:a=>{this.handleResolutionFailure(a)}},c);const n={initialDelay:c["grpc.initial_reconnect_backoff_ms"],maxDelay:c["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)},n),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===f.ConnectivityState.IDLE&&this.updateState(f.ConnectivityState.CONNECTING,new h.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(a,b){q((0,n.uriToString)(this.target)+" "+f.ConnectivityState[this.currentState]+" -> "+f.ConnectivityState[a]),a===f.ConnectivityState.IDLE&&(b=new h.QueuePicker(this)),this.currentState=a,this.channelControlHelper.updateState(a,b)}handleResolutionFailure(a){this.latestChildState===f.ConnectivityState.IDLE&&(this.updateState(f.ConnectivityState.TRANSIENT_FAILURE,new h.UnavailablePicker(a)),this.onFailedResolution(a))}exitIdle(){(this.currentState===f.ConnectivityState.IDLE||this.currentState===f.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(a,b){throw Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=f.ConnectivityState.IDLE,this.latestChildPicker=new h.QueuePicker(this),this.currentState=f.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}c.ResolvingLoadBalancer=v},10146,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.channelOptionsEqual=c.recognizedOptions=void 0,c.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0},c.channelOptionsEqual=function(a,b){let c=Object.keys(a).sort(),d=Object.keys(b).sort();if(c.length!==d.length)return!1;for(let e=0;e<c.length;e+=1)if(c[e]!==d[e]||a[c[e]]!==b[d[e]])return!1;return!0}},25069,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.stringToSubchannelAddress=c.subchannelAddressToString=c.subchannelAddressEqual=c.isTcpSubchannelAddress=void 0;let d=a.r(4446);function e(a){return"port"in a}c.isTcpSubchannelAddress=e,c.subchannelAddressEqual=function(a,b){return!a&&!b||!!a&&!!b&&(e(a)?e(b)&&a.host===b.host&&a.port===b.port:!e(b)&&a.path===b.path)},c.subchannelAddressToString=function(a){return e(a)?a.host+":"+a.port:a.path};let f=443;c.stringToSubchannelAddress=function(a,b){return(0,d.isIP)(a)?{host:a,port:null!=b?b:f}:{path:a}}},4907,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.addAdminServicesToServer=c.registerAdminService=void 0;let d=[];c.registerAdminService=function(a,b){d.push({getServiceDefinition:a,getHandlers:b})},c.addAdminServicesToServer=function(a){for(let{getServiceDefinition:b,getHandlers:c}of d)a.addService(b(),c())}},42531,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ClientDuplexStreamImpl=c.ClientWritableStreamImpl=c.ClientReadableStreamImpl=c.ClientUnaryCallImpl=c.callErrorFromStatus=void 0;let d=a.r(27699),e=a.r(88947),f=a.r(41556);c.callErrorFromStatus=function(a,b){let c=`${a.code} ${f.Status[a.code]}: ${a.details}`,d=Error(c),e=`${d.stack}
for call at
${b}`;return Object.assign(Error(c),a,{stack:e})};class g extends d.EventEmitter{constructor(){super()}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}}c.ClientUnaryCallImpl=g;class h extends e.Readable{constructor(a){super({objectMode:!0}),this.deserialize=a}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}_read(a){var b;null==(b=this.call)||b.startRead()}}c.ClientReadableStreamImpl=h;class i extends e.Writable{constructor(a){super({objectMode:!0}),this.serialize=a}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}_write(a,b,c){var d;let e={callback:c},f=Number(b);Number.isNaN(f)||(e.flags=f),null==(d=this.call)||d.sendMessageWithContext(e,a)}_final(a){var b;null==(b=this.call)||b.halfClose(),a()}}c.ClientWritableStreamImpl=i;class j extends e.Duplex{constructor(a,b){super({objectMode:!0}),this.serialize=a,this.deserialize=b}cancel(){var a;null==(a=this.call)||a.cancelWithStatus(f.Status.CANCELLED,"Cancelled on client")}getPeer(){var a,b;return null!=(b=null==(a=this.call)?void 0:a.getPeer())?b:"unknown"}_read(a){var b;null==(b=this.call)||b.startRead()}_write(a,b,c){var d;let e={callback:c},f=Number(b);Number.isNaN(f)||(e.flags=f),null==(d=this.call)||d.sendMessageWithContext(e,a)}_final(a){var b;null==(b=this.call)||b.halfClose(),a()}}c.ClientDuplexStreamImpl=j},30901,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.InterceptingListenerImpl=c.isInterceptingListener=void 0,c.isInterceptingListener=function(a){return void 0!==a.onReceiveMetadata&&1===a.onReceiveMetadata.length};class d{constructor(a,b){this.listener=a,this.nextListener=b,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(a){this.processingMetadata=!0,this.listener.onReceiveMetadata(a,a=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(a),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(a){this.processingMessage=!0,this.listener.onReceiveMessage(a,a=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=a,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(a),this.processPendingStatus())})}onReceiveStatus(a){this.listener.onReceiveStatus(a,a=>{this.processingMetadata||this.processingMessage?this.pendingStatus=a:this.nextListener.onReceiveStatus(a)})}}c.InterceptingListenerImpl=d},49916,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getInterceptingCall=c.InterceptingCall=c.RequesterBuilder=c.ListenerBuilder=c.InterceptorConfigurationError=void 0;let d=a.r(80161),e=a.r(30901),f=a.r(41556),g=a.r(9932);class h extends Error{constructor(a){super(a),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,h)}}c.InterceptorConfigurationError=h;class i{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(a){return this.metadata=a,this}withOnReceiveMessage(a){return this.message=a,this}withOnReceiveStatus(a){return this.status=a,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}c.ListenerBuilder=i;class j{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(a){return this.start=a,this}withSendMessage(a){return this.message=a,this}withHalfClose(a){return this.halfClose=a,this}withCancel(a){return this.cancel=a,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}c.RequesterBuilder=j;let k=(a,b)=>{b(a)},l=(a,b)=>{b(a)},m=(a,b)=>{b(a)},n={start:(a,b,c)=>{c(a,b)},sendMessage:(a,b)=>{b(a)},halfClose:a=>{a()},cancel:a=>{a()}};class o{constructor(a,b){var c,d,e,f;this.nextCall=a,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,b?this.requester={start:null!=(c=b.start)?c:n.start,sendMessage:null!=(d=b.sendMessage)?d:n.sendMessage,halfClose:null!=(e=b.halfClose)?e:n.halfClose,cancel:null!=(f=b.cancel)?f:n.cancel}:this.requester=n}cancelWithStatus(a,b){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(a,b)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(a,b){var c,d,f,g,h,i;let j={onReceiveMetadata:null!=(d=null==(c=null==b?void 0:b.onReceiveMetadata)?void 0:c.bind(b))?d:a=>{},onReceiveMessage:null!=(g=null==(f=null==b?void 0:b.onReceiveMessage)?void 0:f.bind(b))?g:a=>{},onReceiveStatus:null!=(i=null==(h=null==b?void 0:b.onReceiveStatus)?void 0:h.bind(b))?i:a=>{}};this.processingMetadata=!0,this.requester.start(a,j,(a,b)=>{var c,d,f;let g;if(this.processingMetadata=!1,(0,e.isInterceptingListener)(b))g=b;else{let a={onReceiveMetadata:null!=(c=b.onReceiveMetadata)?c:k,onReceiveMessage:null!=(d=b.onReceiveMessage)?d:l,onReceiveStatus:null!=(f=b.onReceiveStatus)?f:m};g=new e.InterceptingListenerImpl(a,j)}this.nextCall.start(a,g),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(a,b){this.processingMessage=!0,this.requester.sendMessage(b,c=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=a,this.pendingMessage=b):(this.nextCall.sendMessageWithContext(a,c),this.processPendingHalfClose())})}sendMessage(a){this.sendMessageWithContext({},a)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}}function p(a,b,c){var d,e;let f=null!=(d=c.deadline)?d:1/0,g=c.host,h=null!=(e=c.parent)?e:null,i=c.propagate_flags,j=c.credentials,k=a.createCall(b,f,g,h,i);return j&&k.setCredentials(j),k}c.InterceptingCall=o;class q{constructor(a,b){this.call=a,this.methodDefinition=b}cancelWithStatus(a,b){this.call.cancelWithStatus(a,b)}getPeer(){return this.call.getPeer()}sendMessageWithContext(a,b){let c;try{c=this.methodDefinition.requestSerialize(b)}catch(a){this.call.cancelWithStatus(f.Status.INTERNAL,`Request message serialization failure: ${(0,g.getErrorMessage)(a)}`);return}this.call.sendMessageWithContext(a,c)}sendMessage(a){this.sendMessageWithContext({},a)}start(a,b){let c=null;this.call.start(a,{onReceiveMetadata:a=>{var c;null==(c=null==b?void 0:b.onReceiveMetadata)||c.call(b,a)},onReceiveMessage:a=>{var e;let h;try{h=this.methodDefinition.responseDeserialize(a)}catch(a){c={code:f.Status.INTERNAL,details:`Response message parsing error: ${(0,g.getErrorMessage)(a)}`,metadata:new d.Metadata},this.call.cancelWithStatus(c.code,c.details);return}null==(e=null==b?void 0:b.onReceiveMessage)||e.call(b,h)},onReceiveStatus:a=>{var d,e;c?null==(d=null==b?void 0:b.onReceiveStatus)||d.call(b,c):null==(e=null==b?void 0:b.onReceiveStatus)||e.call(b,a)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class r extends q{constructor(a,b){super(a,b)}start(a,b){var c,d;let e=!1,f={onReceiveMetadata:null!=(d=null==(c=null==b?void 0:b.onReceiveMetadata)?void 0:c.bind(b))?d:a=>{},onReceiveMessage:a=>{var c;e=!0,null==(c=null==b?void 0:b.onReceiveMessage)||c.call(b,a)},onReceiveStatus:a=>{var c,d;e||null==(c=null==b?void 0:b.onReceiveMessage)||c.call(b,null),null==(d=null==b?void 0:b.onReceiveStatus)||d.call(b,a)}};super.start(a,f),this.call.startRead()}}class s extends q{}function t(a,b,c){let d=p(a,c.path,b);return c.responseStream?new s(d,c):new r(d,c)}c.getInterceptingCall=function(a,b,c,d){if(a.clientInterceptors.length>0&&a.clientInterceptorProviders.length>0)throw new h("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(a.callInterceptors.length>0&&a.callInterceptorProviders.length>0)throw new h("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let e=[];e=a.callInterceptors.length>0||a.callInterceptorProviders.length>0?[].concat(a.callInterceptors,a.callInterceptorProviders.map(a=>a(b))).filter(a=>a):[].concat(a.clientInterceptors,a.clientInterceptorProviders.map(a=>a(b))).filter(a=>a);let f=Object.assign({},c,{method_definition:b});return e.reduceRight((a,b)=>c=>b(c,a),a=>t(d,a,b))(f)}},87935,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Client=void 0;let d=a.r(42531),e=a.r(21171),f=a.r(31536),g=a.r(41556),h=a.r(80161),i=a.r(49916),j=Symbol(),k=Symbol(),l=Symbol(),m=Symbol();function n(a){return"function"==typeof a}function o(a){return a.stack.split("\n").slice(1).join("\n")}class p{constructor(a,b,c={}){var d,f;if(c=Object.assign({},c),this[k]=null!=(d=c.interceptors)?d:[],delete c.interceptors,this[l]=null!=(f=c.interceptor_providers)?f:[],delete c.interceptor_providers,this[k].length>0&&this[l].length>0)throw Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[m]=c.callInvocationTransformer,delete c.callInvocationTransformer,c.channelOverride)this[j]=c.channelOverride;else if(c.channelFactoryOverride){const d=c.channelFactoryOverride;delete c.channelFactoryOverride,this[j]=d(a,b,c)}else this[j]=new e.ChannelImplementation(a,b,c)}close(){this[j].close()}getChannel(){return this[j]}waitForReady(a,b){let c=d=>{let e;if(d)return void b(Error("Failed to connect before the deadline"));try{e=this[j].getConnectivityState(!0)}catch(a){b(Error("The channel has been closed"));return}if(e===f.ConnectivityState.READY)b();else try{this[j].watchConnectivityState(e,a,c)}catch(a){b(Error("The channel has been closed"))}};setImmediate(c)}checkOptionalUnaryResponseArguments(a,b,c){if(n(a))return{metadata:new h.Metadata,options:{},callback:a};if(n(b))if(a instanceof h.Metadata)return{metadata:a,options:{},callback:b};else return{metadata:new h.Metadata,options:a,callback:b};if(!(a instanceof h.Metadata&&b instanceof Object&&n(c)))throw Error("Incorrect arguments passed");return{metadata:a,options:b,callback:c}}makeUnaryRequest(a,b,c,e,f,h,n){var p,q;let r=this.checkOptionalUnaryResponseArguments(f,h,n),s={path:a,requestStream:!1,responseStream:!1,requestSerialize:b,responseDeserialize:c},t={argument:e,metadata:r.metadata,call:new d.ClientUnaryCallImpl,channel:this[j],methodDefinition:s,callOptions:r.options,callback:r.callback};this[m]&&(t=this[m](t));let u=t.call,v={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(p=t.callOptions.interceptors)?p:[],callInterceptorProviders:null!=(q=t.callOptions.interceptor_providers)?q:[]},w=(0,i.getInterceptingCall)(v,t.methodDefinition,t.callOptions,t.channel);u.call=w;let x=null,y=!1,z=Error();return w.start(t.metadata,{onReceiveMetadata:a=>{u.emit("metadata",a)},onReceiveMessage(a){null!==x&&w.cancelWithStatus(g.Status.INTERNAL,"Too many responses received"),x=a},onReceiveStatus(a){if(!y){if(y=!0,a.code===g.Status.OK)if(null===x){let b=o(z);t.callback((0,d.callErrorFromStatus)({code:g.Status.INTERNAL,details:"No message received",metadata:a.metadata},b))}else t.callback(null,x);else{let b=o(z);t.callback((0,d.callErrorFromStatus)(a,b))}z=null,u.emit("status",a)}}}),w.sendMessage(e),w.halfClose(),u}makeClientStreamRequest(a,b,c,e,f,h){var n,p;let q=this.checkOptionalUnaryResponseArguments(e,f,h),r={path:a,requestStream:!0,responseStream:!1,requestSerialize:b,responseDeserialize:c},s={metadata:q.metadata,call:new d.ClientWritableStreamImpl(b),channel:this[j],methodDefinition:r,callOptions:q.options,callback:q.callback};this[m]&&(s=this[m](s));let t=s.call,u={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(n=s.callOptions.interceptors)?n:[],callInterceptorProviders:null!=(p=s.callOptions.interceptor_providers)?p:[]},v=(0,i.getInterceptingCall)(u,s.methodDefinition,s.callOptions,s.channel);t.call=v;let w=null,x=!1,y=Error();return v.start(s.metadata,{onReceiveMetadata:a=>{t.emit("metadata",a)},onReceiveMessage(a){null!==w&&v.cancelWithStatus(g.Status.INTERNAL,"Too many responses received"),w=a},onReceiveStatus(a){if(!x){if(x=!0,a.code===g.Status.OK)if(null===w){let b=o(y);s.callback((0,d.callErrorFromStatus)({code:g.Status.INTERNAL,details:"No message received",metadata:a.metadata},b))}else s.callback(null,w);else{let b=o(y);s.callback((0,d.callErrorFromStatus)(a,b))}y=null,t.emit("status",a)}}}),t}checkMetadataAndOptions(a,b){let c,d;return a instanceof h.Metadata?(c=a,d=b||{}):(d=a||{},c=new h.Metadata),{metadata:c,options:d}}makeServerStreamRequest(a,b,c,e,f,h){var n,p;let q=this.checkMetadataAndOptions(f,h),r={path:a,requestStream:!1,responseStream:!0,requestSerialize:b,responseDeserialize:c},s={argument:e,metadata:q.metadata,call:new d.ClientReadableStreamImpl(c),channel:this[j],methodDefinition:r,callOptions:q.options};this[m]&&(s=this[m](s));let t=s.call,u={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(n=s.callOptions.interceptors)?n:[],callInterceptorProviders:null!=(p=s.callOptions.interceptor_providers)?p:[]},v=(0,i.getInterceptingCall)(u,s.methodDefinition,s.callOptions,s.channel);t.call=v;let w=!1,x=Error();return v.start(s.metadata,{onReceiveMetadata(a){t.emit("metadata",a)},onReceiveMessage(a){t.push(a)},onReceiveStatus(a){if(!w){if(w=!0,t.push(null),a.code!==g.Status.OK){let b=o(x);t.emit("error",(0,d.callErrorFromStatus)(a,b))}x=null,t.emit("status",a)}}}),v.sendMessage(e),v.halfClose(),t}makeBidiStreamRequest(a,b,c,e,f){var h,n;let p=this.checkMetadataAndOptions(e,f),q={path:a,requestStream:!0,responseStream:!0,requestSerialize:b,responseDeserialize:c},r={metadata:p.metadata,call:new d.ClientDuplexStreamImpl(b,c),channel:this[j],methodDefinition:q,callOptions:p.options};this[m]&&(r=this[m](r));let s=r.call,t={clientInterceptors:this[k],clientInterceptorProviders:this[l],callInterceptors:null!=(h=r.callOptions.interceptors)?h:[],callInterceptorProviders:null!=(n=r.callOptions.interceptor_providers)?n:[]},u=(0,i.getInterceptingCall)(t,r.methodDefinition,r.callOptions,r.channel);s.call=u;let v=!1,w=Error();return u.start(r.metadata,{onReceiveMetadata(a){s.emit("metadata",a)},onReceiveMessage(a){s.push(a)},onReceiveStatus(a){if(!v){if(v=!0,s.push(null),a.code!==g.Status.OK){let b=o(w);s.emit("error",(0,d.callErrorFromStatus)(a,b))}w=null,s.emit("status",a)}}}),s}}c.Client=p},15616,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.loadPackageDefinition=c.makeClientConstructor=void 0;let d=a.r(87935),e={unary:d.Client.prototype.makeUnaryRequest,server_stream:d.Client.prototype.makeServerStreamRequest,client_stream:d.Client.prototype.makeClientStreamRequest,bidi:d.Client.prototype.makeBidiStreamRequest};function f(a){return["__proto__","prototype","constructor"].includes(a)}function g(a,b,c){c||(c={});class g extends d.Client{}return Object.keys(a).forEach(b=>{let c;if(f(b))return;let d=a[b];if("string"==typeof b&&"$"===b.charAt(0))throw Error("Method names cannot start with $");c=d.requestStream?d.responseStream?"bidi":"client_stream":d.responseStream?"server_stream":"unary";let i=d.requestSerialize,j=d.responseDeserialize,k=h(e[c],d.path,i,j);g.prototype[b]=k,Object.assign(g.prototype[b],d),d.originalName&&!f(d.originalName)&&(g.prototype[d.originalName]=g.prototype[b])}),g.service=a,g.serviceName=b,g}function h(a,b,c,d){return function(...e){return a.call(this,b,c,d,...e)}}function i(a){return"format"in a}c.makeClientConstructor=g,c.loadPackageDefinition=function(a){let b={};for(let c in a)if(Object.prototype.hasOwnProperty.call(a,c)){let d=a[c],e=c.split(".");if(e.some(a=>f(a)))continue;let h=e[e.length-1],j=b;for(let a of e.slice(0,-1))j[a]||(j[a]={}),j=j[a];i(d)?j[h]=d:j[h]=g(d,h,{})}return b}},58484,(a,b,c)=>{var d=1/0,e="[object Symbol]",f=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,g=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,h="\\ud800-\\udfff",i="\\u0300-\\u036f\\ufe20-\\ufe23",j="\\u20d0-\\u20f0",k="\\u2700-\\u27bf",l="a-z\\xdf-\\xf6\\xf8-\\xff",m="A-Z\\xc0-\\xd6\\xd8-\\xde",n="\\ufe0e\\ufe0f",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="['â€™]",q="["+h+"]",r="["+o+"]",s="["+i+j+"]",t="\\d+",u="["+k+"]",v="["+l+"]",w="[^"+h+o+t+k+l+m+"]",x="\\ud83c[\\udffb-\\udfff]",y="[^"+h+"]",z="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",B="["+m+"]",C="\\u200d",D="(?:"+v+"|"+w+")",E="(?:"+B+"|"+w+")",F="(?:"+p+"(?:d|ll|m|re|s|t|ve))?",G="(?:"+p+"(?:D|LL|M|RE|S|T|VE))?",H="(?:"+s+"|"+x+")?",I="["+n+"]?",J="(?:"+C+"(?:"+[y,z,A].join("|")+")"+I+H+")*",K=I+H+J,L="(?:"+[u,z,A].join("|")+")"+K,M="(?:"+[y+s+"?",s,z,A,q].join("|")+")",N=RegExp(p,"g"),O=RegExp(s,"g"),P=RegExp(x+"(?="+x+")|"+M+K,"g"),Q=RegExp([B+"?"+v+"+"+F+"(?="+[r,B,"$"].join("|")+")",E+"+"+G+"(?="+[r,B+D,"$"].join("|")+")",B+"?"+D+"+"+F,B+"+"+G,t,L].join("|"),"g"),R=RegExp("["+C+h+i+j+n+"]"),S=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,T={Ã€:"A",Ã:"A",Ã‚:"A",Ãƒ:"A",Ã„:"A",Ã…:"A",Ã :"a",Ã¡:"a",Ã¢:"a",Ã£:"a",Ã¤:"a",Ã¥:"a",Ã‡:"C",Ã§:"c",Ã:"D",Ã°:"d",Ãˆ:"E",Ã‰:"E",ÃŠ:"E",Ã‹:"E",Ã¨:"e",Ã©:"e",Ãª:"e",Ã«:"e",ÃŒ:"I",Ã:"I",ÃŽ:"I",Ã:"I",Ã¬:"i",Ã­:"i",Ã®:"i",Ã¯:"i",Ã‘:"N",Ã±:"n",Ã’:"O",Ã“:"O",Ã”:"O",Ã•:"O",Ã–:"O",Ã˜:"O",Ã²:"o",Ã³:"o",Ã´:"o",Ãµ:"o",Ã¶:"o",Ã¸:"o",Ã™:"U",Ãš:"U",Ã›:"U",Ãœ:"U",Ã¹:"u",Ãº:"u",Ã»:"u",Ã¼:"u",Ã:"Y",Ã½:"y",Ã¿:"y",Ã†:"Ae",Ã¦:"ae",Ãž:"Th",Ã¾:"th",ÃŸ:"ss",Ä€:"A",Ä‚:"A",Ä„:"A",Ä:"a",Äƒ:"a",Ä…:"a",Ä†:"C",Äˆ:"C",ÄŠ:"C",ÄŒ:"C",Ä‡:"c",Ä‰:"c",Ä‹:"c",Ä:"c",ÄŽ:"D",Ä:"D",Ä:"d",Ä‘:"d",Ä’:"E",Ä”:"E",Ä–:"E",Ä˜:"E",Äš:"E",Ä“:"e",Ä•:"e",Ä—:"e",Ä™:"e",Ä›:"e",Äœ:"G",Äž:"G",Ä :"G",Ä¢:"G",Ä:"g",ÄŸ:"g",Ä¡:"g",Ä£:"g",Ä¤:"H",Ä¦:"H",Ä¥:"h",Ä§:"h",Ä¨:"I",Äª:"I",Ä¬:"I",Ä®:"I",Ä°:"I",Ä©:"i",Ä«:"i",Ä­:"i",Ä¯:"i",Ä±:"i",Ä´:"J",Äµ:"j",Ä¶:"K",Ä·:"k",Ä¸:"k",Ä¹:"L",Ä»:"L",Ä½:"L",Ä¿:"L",Å:"L",Äº:"l",Ä¼:"l",Ä¾:"l",Å€:"l",Å‚:"l",Åƒ:"N",Å…:"N",Å‡:"N",ÅŠ:"N",Å„:"n",Å†:"n",Åˆ:"n",Å‹:"n",ÅŒ:"O",ÅŽ:"O",Å:"O",Å:"o",Å:"o",Å‘:"o",Å”:"R",Å–:"R",Å˜:"R",Å•:"r",Å—:"r",Å™:"r",Åš:"S",Åœ:"S",Åž:"S",Å :"S",Å›:"s",Å:"s",ÅŸ:"s",Å¡:"s",Å¢:"T",Å¤:"T",Å¦:"T",Å£:"t",Å¥:"t",Å§:"t",Å¨:"U",Åª:"U",Å¬:"U",Å®:"U",Å°:"U",Å²:"U",Å©:"u",Å«:"u",Å­:"u",Å¯:"u",Å±:"u",Å³:"u",Å´:"W",Åµ:"w",Å¶:"Y",Å·:"y",Å¸:"Y",Å¹:"Z",Å»:"Z",Å½:"Z",Åº:"z",Å¼:"z",Å¾:"z",Ä²:"IJ",Ä³:"ij",Å’:"Oe",Å“:"oe",Å‰:"'n",Å¿:"ss"},U=a.g&&a.g.Object===Object&&a.g,V="object"==typeof self&&self&&self.Object===Object&&self,W=U||V||Function("return this")();function X(a,b,c,d){var e=-1,f=a?a.length:0;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function Y(a){return a.split("")}function Z(a){return a.match(f)||[]}var $=function(a){return function(b){return null==a?void 0:a[b]}}(T);function _(a){return R.test(a)}function aa(a){return S.test(a)}function ab(a){return _(a)?ac(a):Y(a)}function ac(a){return a.match(P)||[]}function ad(a){return a.match(Q)||[]}var ae=Object.prototype.toString,af=W.Symbol,ag=af?af.prototype:void 0,ah=ag?ag.toString:void 0;function ai(a,b,c){var d=-1,e=a.length;b<0&&(b=-b>e?0:e+b),(c=c>e?e:c)<0&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}function aj(a){if("string"==typeof a)return a;if(an(a))return ah?ah.call(a):"";var b=a+"";return"0"==b&&1/a==-d?"-0":b}function ak(a,b,c){var d=a.length;return c=void 0===c?d:c,!b&&c>=d?a:ai(a,b,c)}function al(a){return function(b){var c=_(b=ao(b))?ab(b):void 0,d=c?c[0]:b.charAt(0),e=c?ak(c,1).join(""):b.slice(1);return d[a]()+e}}function am(a){return!!a&&"object"==typeof a}function an(a){return"symbol"==typeof a||am(a)&&ae.call(a)==e}function ao(a){return null==a?"":aj(a)}var ap=function(a){return function(b){return X(at(ar(b).replace(N,"")),a,"")}}(function(a,b,c){return b=b.toLowerCase(),a+(c?aq(b):b)});function aq(a){return as(ao(a).toLowerCase())}function ar(a){return(a=ao(a))&&a.replace(g,$).replace(O,"")}var as=al("toUpperCase");function at(a,b,c){return(a=ao(a),void 0===(b=c?void 0:b))?aa(a)?ad(a):Z(a):a.match(b)||[]}b.exports=ap},31431,(a,b,c)=>{"use strict";b.exports=function a(a,b){for(var c=Array(arguments.length-1),d=0,e=2,f=!0;e<arguments.length;)c[d++]=arguments[e++];return new Promise(function(e,g){c[d]=function(a){if(f)if(f=!1,a)g(a);else{for(var b=Array(arguments.length-1),c=0;c<b.length;)b[c++]=arguments[c];e.apply(null,b)}};try{a.apply(b||null,c)}catch(a){f&&(f=!1,g(a))}})}},17105,(a,b,c)=>{"use strict";var d=c;d.length=function(a){var b=a.length;if(!b)return 0;for(var c=0;--b%4>1&&"="===a.charAt(b);)++c;return Math.ceil(3*a.length)/4-c};for(var e=Array(64),f=Array(123),g=0;g<64;)f[e[g]=g<26?g+65:g<52?g+71:g<62?g-4:g-59|43]=g++;d.encode=function(a,b,c){for(var d,f=null,g=[],h=0,i=0;b<c;){var j=a[b++];switch(i){case 0:g[h++]=e[j>>2],d=(3&j)<<4,i=1;break;case 1:g[h++]=e[d|j>>4],d=(15&j)<<2,i=2;break;case 2:g[h++]=e[d|j>>6],g[h++]=e[63&j],i=0}h>8191&&((f||(f=[])).push(String.fromCharCode.apply(String,g)),h=0)}return(i&&(g[h++]=e[d],g[h++]=61,1===i&&(g[h++]=61)),f)?(h&&f.push(String.fromCharCode.apply(String,g.slice(0,h))),f.join("")):String.fromCharCode.apply(String,g.slice(0,h))};var h="invalid encoding";d.decode=function(a,b,c){for(var d,e=c,g=0,i=0;i<a.length;){var j=a.charCodeAt(i++);if(61===j&&g>1)break;if(void 0===(j=f[j]))throw Error(h);switch(g){case 0:d=j,g=1;break;case 1:b[c++]=d<<2|(48&j)>>4,d=j,g=2;break;case 2:b[c++]=(15&d)<<4|(60&j)>>2,d=j,g=3;break;case 3:b[c++]=(3&d)<<6|j,g=0}}if(1===g)throw Error(h);return c-e},d.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}},36972,(a,b,c)=>{"use strict";function d(){this._listeners={}}b.exports=d,d.prototype.on=function(a,b,c){return(this._listeners[a]||(this._listeners[a]=[])).push({fn:b,ctx:c||this}),this},d.prototype.off=function(a,b){if(void 0===a)this._listeners={};else if(void 0===b)this._listeners[a]=[];else for(var c=this._listeners[a],d=0;d<c.length;)c[d].fn===b?c.splice(d,1):++d;return this},d.prototype.emit=function(a){var b=this._listeners[a];if(b){for(var c=[],d=1;d<arguments.length;)c.push(arguments[d++]);for(d=0;d<b.length;)b[d].fn.apply(b[d++].ctx,c)}return this}},73197,(a,b,c)=>{"use strict";function d(a){return"u">typeof Float32Array?!function(){var b=new Float32Array([-0]),c=new Uint8Array(b.buffer),d=128===c[3];function e(a,d,e){b[0]=a,d[e]=c[0],d[e+1]=c[1],d[e+2]=c[2],d[e+3]=c[3]}function f(a,d,e){b[0]=a,d[e]=c[3],d[e+1]=c[2],d[e+2]=c[1],d[e+3]=c[0]}function g(a,d){return c[0]=a[d],c[1]=a[d+1],c[2]=a[d+2],c[3]=a[d+3],b[0]}function h(a,d){return c[3]=a[d],c[2]=a[d+1],c[1]=a[d+2],c[0]=a[d+3],b[0]}a.writeFloatLE=d?e:f,a.writeFloatBE=d?f:e,a.readFloatLE=d?g:h,a.readFloatBE=d?h:g}():!function(){function b(a,b,c,d){var e=+(b<0);if(e&&(b=-b),0===b)a(1/b>0?0:0x80000000,c,d);else if(isNaN(b))a(0x7fc00000,c,d);else if(b>34028234663852886e22)a((e<<31|0x7f800000)>>>0,c,d);else if(b<11754943508222875e-54)a((e<<31|Math.round(b/1401298464324817e-60))>>>0,c,d);else{var f=Math.floor(Math.log(b)/Math.LN2),g=8388607&Math.round(b*Math.pow(2,-f)*8388608);a((e<<31|f+127<<23|g)>>>0,c,d)}}function c(a,b,c){var d=a(b,c),e=(d>>31)*2+1,f=d>>>23&255,g=8388607&d;return 255===f?g?NaN:1/0*e:0===f?1401298464324817e-60*e*g:e*Math.pow(2,f-150)*(g+8388608)}a.writeFloatLE=b.bind(null,e),a.writeFloatBE=b.bind(null,f),a.readFloatLE=c.bind(null,g),a.readFloatBE=c.bind(null,h)}(),"u">typeof Float64Array?!function(){var b=new Float64Array([-0]),c=new Uint8Array(b.buffer),d=128===c[7];function e(a,d,e){b[0]=a,d[e]=c[0],d[e+1]=c[1],d[e+2]=c[2],d[e+3]=c[3],d[e+4]=c[4],d[e+5]=c[5],d[e+6]=c[6],d[e+7]=c[7]}function f(a,d,e){b[0]=a,d[e]=c[7],d[e+1]=c[6],d[e+2]=c[5],d[e+3]=c[4],d[e+4]=c[3],d[e+5]=c[2],d[e+6]=c[1],d[e+7]=c[0]}function g(a,d){return c[0]=a[d],c[1]=a[d+1],c[2]=a[d+2],c[3]=a[d+3],c[4]=a[d+4],c[5]=a[d+5],c[6]=a[d+6],c[7]=a[d+7],b[0]}function h(a,d){return c[7]=a[d],c[6]=a[d+1],c[5]=a[d+2],c[4]=a[d+3],c[3]=a[d+4],c[2]=a[d+5],c[1]=a[d+6],c[0]=a[d+7],b[0]}a.writeDoubleLE=d?e:f,a.writeDoubleBE=d?f:e,a.readDoubleLE=d?g:h,a.readDoubleBE=d?h:g}():!function(){function b(a,b,c,d,e,f){var g,h=+(d<0);if(h&&(d=-d),0===d)a(0,e,f+b),a(1/d>0?0:0x80000000,e,f+c);else if(isNaN(d))a(0,e,f+b),a(0x7ff80000,e,f+c);else if(d>17976931348623157e292)a(0,e,f+b),a((h<<31|0x7ff00000)>>>0,e,f+c);else if(d<22250738585072014e-324)a((g=d/5e-324)>>>0,e,f+b),a((h<<31|g/0x100000000)>>>0,e,f+c);else{var i=Math.floor(Math.log(d)/Math.LN2);1024===i&&(i=1023),a(0x10000000000000*(g=d*Math.pow(2,-i))>>>0,e,f+b),a((h<<31|i+1023<<20|1048576*g&1048575)>>>0,e,f+c)}}function c(a,b,c,d,e){var f=a(d,e+b),g=a(d,e+c),h=(g>>31)*2+1,i=g>>>20&2047,j=0x100000000*(1048575&g)+f;return 2047===i?j?NaN:1/0*h:0===i?5e-324*h*j:h*Math.pow(2,i-1075)*(j+0x10000000000000)}a.writeDoubleLE=b.bind(null,e,0,4),a.writeDoubleBE=b.bind(null,f,4,0),a.readDoubleLE=c.bind(null,g,0,4),a.readDoubleBE=c.bind(null,h,4,0)}(),a}function e(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}function f(a,b,c){b[c]=a>>>24,b[c+1]=a>>>16&255,b[c+2]=a>>>8&255,b[c+3]=255&a}function g(a,b){return(a[b]|a[b+1]<<8|a[b+2]<<16|a[b+3]<<24)>>>0}function h(a,b){return(a[b]<<24|a[b+1]<<16|a[b+2]<<8|a[b+3])>>>0}b.exports=d(d)},26876,(__turbopack_context__,module,exports)=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},61905,(a,b,c)=>{"use strict";var d=c;d.length=function(a){for(var b=0,c=0,d=0;d<a.length;++d)(c=a.charCodeAt(d))<128?b+=1:c<2048?b+=2:(64512&c)==55296&&(64512&a.charCodeAt(d+1))==56320?(++d,b+=4):b+=3;return b},d.read=function(a,b,c){if(c-b<1)return"";for(var d,e=null,f=[],g=0;b<c;)(d=a[b++])<128?f[g++]=d:d>191&&d<224?f[g++]=(31&d)<<6|63&a[b++]:d>239&&d<365?(d=((7&d)<<18|(63&a[b++])<<12|(63&a[b++])<<6|63&a[b++])-65536,f[g++]=55296+(d>>10),f[g++]=56320+(1023&d)):f[g++]=(15&d)<<12|(63&a[b++])<<6|63&a[b++],g>8191&&((e||(e=[])).push(String.fromCharCode.apply(String,f)),g=0);return e?(g&&e.push(String.fromCharCode.apply(String,f.slice(0,g))),e.join("")):String.fromCharCode.apply(String,f.slice(0,g))},d.write=function(a,b,c){for(var d,e,f=c,g=0;g<a.length;++g)(d=a.charCodeAt(g))<128?b[c++]=d:(d<2048?b[c++]=d>>6|192:((64512&d)==55296&&(64512&(e=a.charCodeAt(g+1)))==56320?(d=65536+((1023&d)<<10)+(1023&e),++g,b[c++]=d>>18|240,b[c++]=d>>12&63|128):b[c++]=d>>12|224,b[c++]=d>>6&63|128),b[c++]=63&d|128);return c-f}},88673,(a,b,c)=>{"use strict";b.exports=function a(a,b,c){var d=c||8192,e=d>>>1,f=null,g=d;return function(c){if(c<1||c>e)return a(c);g+c>d&&(f=a(d),g=0);var h=b.call(f,g,g+=c);return 7&g&&(g=(7|g)+1),h}}},9510,(a,b,c)=>{"use strict";b.exports=e;var d=a.r(60469);function e(a,b){this.lo=a>>>0,this.hi=b>>>0}var f=e.zero=new e(0,0);f.toNumber=function(){return 0},f.zzEncode=f.zzDecode=function(){return this},f.length=function(){return 1};var g=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(a){if(0===a)return f;var b=a<0;b&&(a=-a);var c=a>>>0,d=(a-c)/0x100000000>>>0;return b&&(d=~d>>>0,c=~c>>>0,++c>0xffffffff&&(c=0,++d>0xffffffff&&(d=0))),new e(c,d)},e.from=function(a){if("number"==typeof a)return e.fromNumber(a);if(d.isString(a))if(!d.Long)return e.fromNumber(parseInt(a,10));else a=d.Long.fromString(a);return a.low||a.high?new e(a.low>>>0,a.high>>>0):f},e.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var b=~this.lo+1>>>0,c=~this.hi>>>0;return b||(c=c+1>>>0),-(b+0x100000000*c)}return this.lo+0x100000000*this.hi},e.prototype.toLong=function(a){return d.Long?new d.Long(0|this.lo,0|this.hi,!!a):{low:0|this.lo,high:0|this.hi,unsigned:!!a}};var h=String.prototype.charCodeAt;e.fromHash=function(a){return a===g?f:new e((h.call(a,0)|h.call(a,1)<<8|h.call(a,2)<<16|h.call(a,3)<<24)>>>0,(h.call(a,4)|h.call(a,5)<<8|h.call(a,6)<<16|h.call(a,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},e.prototype.zzDecode=function(){var a=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},e.prototype.length=function(){var a=this.lo,b=(this.lo>>>28|this.hi<<4)>>>0,c=this.hi>>>24;return 0===c?0===b?a<16384?a<128?1:2:a<2097152?3:4:b<16384?b<128?5:6:b<2097152?7:8:c<128?9:10}},60469,(a,b,c)=>{"use strict";var d=c;function e(a,b,c){for(var d=Object.keys(b),e=0;e<d.length;++e)void 0!==a[d[e]]&&c||(a[d[e]]=b[d[e]]);return a}function f(a){function b(a,c){if(!(this instanceof b))return new b(a,c);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,b):Object.defineProperty(this,"stack",{value:Error().stack||""}),c&&e(this,c)}return b.prototype=Object.create(Error.prototype,{constructor:{value:b,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return a},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),b}d.asPromise=a.r(31431),d.base64=a.r(17105),d.EventEmitter=a.r(36972),d.float=a.r(73197),d.inquire=a.r(26876),d.utf8=a.r(61905),d.pool=a.r(88673),d.LongBits=a.r(9510),d.isNode=!!(a.g&&a.g.process&&a.g.process.versions&&a.g.process.versions.node),d.global=d.isNode&&a.g||"u">typeof self&&self||a.e,d.emptyArray=Object.freeze?Object.freeze([]):[],d.emptyObject=Object.freeze?Object.freeze({}):{},d.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},d.isString=function(a){return"string"==typeof a||a instanceof String},d.isObject=function(a){return a&&"object"==typeof a},d.isset=d.isSet=function(a,b){var c=a[b];return!!(null!=c&&a.hasOwnProperty(b))&&("object"!=typeof c||(Array.isArray(c)?c.length:Object.keys(c).length)>0)},d.Buffer=function(){try{var a=d.inquire("buffer").Buffer;return a.prototype.utf8Write?a:null}catch(a){return null}}(),d._Buffer_from=null,d._Buffer_allocUnsafe=null,d.newBuffer=function(a){return"number"==typeof a?d.Buffer?d._Buffer_allocUnsafe(a):new d.Array(a):d.Buffer?d._Buffer_from(a):"u"<typeof Uint8Array?a:new Uint8Array(a)},d.Array="u">typeof Uint8Array?Uint8Array:Array,d.Long=d.global.dcodeIO&&d.global.dcodeIO.Long||d.global.Long||d.inquire("long"),d.key2Re=/^true|false|0|1$/,d.key32Re=/^-?(?:0|[1-9][0-9]*)$/,d.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,d.longToHash=function(a){return a?d.LongBits.from(a).toHash():d.LongBits.zeroHash},d.longFromHash=function(a,b){var c=d.LongBits.fromHash(a);return d.Long?d.Long.fromBits(c.lo,c.hi,b):c.toNumber(!!b)},d.merge=e,d.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)},d.newError=f,d.ProtocolError=f("ProtocolError"),d.oneOfGetter=function(a){for(var b={},c=0;c<a.length;++c)b[a[c]]=1;return function(){for(var a=Object.keys(this),c=a.length-1;c>-1;--c)if(1===b[a[c]]&&void 0!==this[a[c]]&&null!==this[a[c]])return a[c]}},d.oneOfSetter=function(a){return function(b){for(var c=0;c<a.length;++c)a[c]!==b&&delete this[a[c]]}},d.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},d._configure=function(){var a=d.Buffer;if(!a){d._Buffer_from=d._Buffer_allocUnsafe=null;return}d._Buffer_from=a.from!==Uint8Array.from&&a.from||function(b,c){return new a(b,c)},d._Buffer_allocUnsafe=a.allocUnsafe||function(b){return new a(b)}}},7996,(a,b,c)=>{"use strict";b.exports={}},58391,(a,b,c)=>{"use strict";function d(a,b){"string"==typeof a&&(b=a,a=void 0);var c=[];function e(a){if("string"!=typeof a){var b=f();if(d.verbose&&console.log("codegen: "+b),b="return "+b,a){for(var g=Object.keys(a),h=Array(g.length+1),i=Array(g.length),j=0;j<g.length;)h[j]=g[j],i[j]=a[g[j++]];return h[j]=b,Function.apply(null,h).apply(null,i)}return Function(b)()}for(var k=Array(arguments.length-1),l=0;l<k.length;)k[l]=arguments[++l];if(l=0,a=a.replace(/%([%dfijs])/g,function(a,b){var c=k[l++];switch(b){case"d":case"f":return String(Number(c));case"i":return String(Math.floor(c));case"j":return JSON.stringify(c);case"s":return String(c)}return"%"}),l!==k.length)throw Error("parameter count mismatch");return c.push(a),e}function f(d){return"function "+(d||b||"")+"("+(a&&a.join(",")||"")+"){\n  "+c.join("\n  ")+"\n}"}return e.toString=f,e}b.exports=d,d.verbose=!1},89538,(a,b,c)=>{"use strict";b.exports=f;var d=a.r(31431),e=a.r(26876)("fs");function f(a,b,c){return("function"==typeof b?(c=b,b={}):b||(b={}),c)?!b.xhr&&e&&e.readFile?e.readFile(a,function(d,e){return d&&"u">typeof XMLHttpRequest?f.xhr(a,b,c):d?c(d):c(null,b.binary?e:e.toString("utf8"))}):f.xhr(a,b,c):d(f,this,a,b)}f.xhr=function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===d.readyState){if(0!==d.status&&200!==d.status)return c(Error("status "+d.status));if(b.binary){var a=d.response;if(!a){a=[];for(var e=0;e<d.responseText.length;++e)a.push(255&d.responseText.charCodeAt(e))}return c(null,"u">typeof Uint8Array?new Uint8Array(a):a)}return c(null,d.responseText)}},b.binary&&("overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),d.responseType="arraybuffer"),d.open("GET",a),d.send()}},69368,(a,b,c)=>{"use strict";var d=c,e=d.isAbsolute=function(a){return/^(?:\/|\w+:)/.test(a)},f=d.normalize=function(a){var b=(a=a.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),c=e(a),d="";c&&(d=b.shift()+"/");for(var f=0;f<b.length;)".."===b[f]?f>0&&".."!==b[f-1]?b.splice(--f,2):c?b.splice(f,1):++f:"."===b[f]?b.splice(f,1):++f;return d+b.join("/")};d.resolve=function(a,b,c){return(c||(b=f(b)),e(b))?b:(c||(a=f(a)),(a=a.replace(/(?:\/|^)[^/]+$/,"")).length?f(a+"/"+b):b)}},46142,(a,b,c)=>{"use strict";b.exports=l;var d,e,f,g=a.r(71832);((l.prototype=Object.create(g.prototype)).constructor=l).className="Namespace";var h=a.r(82792),i=a.r(25927),j=a.r(92262);function k(a,b){if(a&&a.length){for(var c={},d=0;d<a.length;++d)c[a[d].name]=a[d].toJSON(b);return c}}function l(a,b){g.call(this,a,b),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function m(a){a._nestedArray=null,a._lookupCache={};for(var b=a;b=b.parent;)b._lookupCache={};return a}l.fromJSON=function(a,b){return new l(a,b.options).addJSON(b.nested)},l.arrayToJSON=k,l.isReservedId=function(a,b){if(a){for(var c=0;c<a.length;++c)if("string"!=typeof a[c]&&a[c][0]<=b&&a[c][1]>b)return!0}return!1},l.isReservedName=function(a,b){if(a){for(var c=0;c<a.length;++c)if(a[c]===b)return!0}return!1},Object.defineProperty(l.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=i.toArray(this.nested))}}),l.prototype.toJSON=function(a){return i.toObject(["options",this.options,"nested",k(this.nestedArray,a)])},l.prototype.addJSON=function(a){var b=this;if(a)for(var c,g=Object.keys(a),i=0;i<g.length;++i)c=a[g[i]],b.add((void 0!==c.fields?d.fromJSON:void 0!==c.values?f.fromJSON:void 0!==c.methods?e.fromJSON:void 0!==c.id?h.fromJSON:l.fromJSON)(g[i],c));return this},l.prototype.get=function(a){return this.nested&&this.nested[a]||null},l.prototype.getEnum=function(a){if(this.nested&&this.nested[a]instanceof f)return this.nested[a].values;throw Error("no such enum: "+a)},l.prototype.add=function(a){if(!(a instanceof h&&void 0!==a.extend||a instanceof d||a instanceof j||a instanceof f||a instanceof e||a instanceof l))throw TypeError("object must be a valid nested object");if(this.nested){var b=this.get(a.name);if(b)if(b instanceof l&&a instanceof l&&!(b instanceof d||b instanceof e)){for(var c=b.nestedArray,g=0;g<c.length;++g)a.add(c[g]);this.remove(b),this.nested||(this.nested={}),a.setOptions(b.options,!0)}else throw Error("duplicate name '"+a.name+"' in "+this)}else this.nested={};this.nested[a.name]=a,this instanceof d||this instanceof e||this instanceof f||this instanceof h||a._edition||(a._edition=a._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var i=this;i=i.parent;)i._needsRecursiveFeatureResolution=!0,i._needsRecursiveResolve=!0;return a.onAdd(this),m(this)},l.prototype.remove=function(a){if(!(a instanceof g))throw TypeError("object must be a ReflectionObject");if(a.parent!==this)throw Error(a+" is not a member of "+this);return delete this.nested[a.name],Object.keys(this.nested).length||(this.nested=void 0),a.onRemove(this),m(this)},l.prototype.define=function(a,b){if(i.isString(a))a=a.split(".");else if(!Array.isArray(a))throw TypeError("illegal path");if(a&&a.length&&""===a[0])throw Error("path must be relative");for(var c=this;a.length>0;){var d=a.shift();if(c.nested&&c.nested[d]){if(!((c=c.nested[d])instanceof l))throw Error("path conflicts with non-namespace objects")}else c.add(c=new l(d))}return b&&c.addJSON(b),c},l.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var a=this.nestedArray,b=0;for(this.resolve();b<a.length;)a[b]instanceof l?a[b++].resolveAll():a[b++].resolve();return this._needsRecursiveResolve=!1,this},l.prototype._resolveFeaturesRecursive=function(a){return this._needsRecursiveFeatureResolution&&(this._needsRecursiveFeatureResolution=!1,a=this._edition||a,g.prototype._resolveFeaturesRecursive.call(this,a),this.nestedArray.forEach(b=>{b._resolveFeaturesRecursive(a)})),this},l.prototype.lookup=function(a,b,c){if("boolean"==typeof b?(c=b,b=void 0):b&&!Array.isArray(b)&&(b=[b]),i.isString(a)&&a.length){if("."===a)return this.root;a=a.split(".")}else if(!a.length)return this;var d=a.join(".");if(""===a[0])return this.root.lookup(a.slice(1),b);var e=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+d];if(e&&(!b||b.indexOf(e.constructor)>-1)||(e=this._lookupImpl(a,d))&&(!b||b.indexOf(e.constructor)>-1))return e;if(c)return null;for(var f=this;f.parent;){if((e=f.parent._lookupImpl(a,d))&&(!b||b.indexOf(e.constructor)>-1))return e;f=f.parent}return null},l.prototype._lookupImpl=function(a,b){if(Object.prototype.hasOwnProperty.call(this._lookupCache,b))return this._lookupCache[b];var c=this.get(a[0]),d=null;if(c)1===a.length?d=c:c instanceof l&&(a=a.slice(1),d=c._lookupImpl(a,a.join(".")));else for(var e=0;e<this.nestedArray.length;++e)this._nestedArray[e]instanceof l&&(c=this._nestedArray[e]._lookupImpl(a,b))&&(d=c);return this._lookupCache[b]=d,d},l.prototype.lookupType=function(a){var b=this.lookup(a,[d]);if(!b)throw Error("no such type: "+a);return b},l.prototype.lookupEnum=function(a){var b=this.lookup(a,[f]);if(!b)throw Error("no such Enum '"+a+"' in "+this);return b},l.prototype.lookupTypeOrEnum=function(a){var b=this.lookup(a,[d,f]);if(!b)throw Error("no such Type or Enum '"+a+"' in "+this);return b},l.prototype.lookupService=function(a){var b=this.lookup(a,[e]);if(!b)throw Error("no such Service '"+a+"' in "+this);return b},l._configure=function(a,b,c){d=a,e=b,f=c}},75121,(a,b,c)=>{"use strict";b.exports=g;var d=a.r(82792);((g.prototype=Object.create(d.prototype)).constructor=g).className="MapField";var e=a.r(1703),f=a.r(25927);function g(a,b,c,e,g,h){if(d.call(this,a,b,e,void 0,void 0,g,h),!f.isString(c))throw TypeError("keyType must be a string");this.keyType=c,this.resolvedKeyType=null,this.map=!0}g.fromJSON=function(a,b){return new g(a,b.id,b.keyType,b.type,b.options,b.comment)},g.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return f.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",b?this.comment:void 0])},g.prototype.resolve=function(){if(this.resolved)return this;if(void 0===e.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return d.prototype.resolve.call(this)},g.d=function(a,b,c){return"function"==typeof c?c=f.decorateType(c).name:c&&"object"==typeof c&&(c=f.decorateEnum(c).name),function(d,e){f.decorateType(d.constructor).add(new g(e,a,b,c))}}},1463,(a,b,c)=>{"use strict";b.exports=f;var d=a.r(71832);((f.prototype=Object.create(d.prototype)).constructor=f).className="Method";var e=a.r(25927);function f(a,b,c,f,g,h,i,j,k){if(e.isObject(g)?(i=g,g=h=void 0):e.isObject(h)&&(i=h,h=void 0),!(void 0===b||e.isString(b)))throw TypeError("type must be a string");if(!e.isString(c))throw TypeError("requestType must be a string");if(!e.isString(f))throw TypeError("responseType must be a string");d.call(this,a,i),this.type=b||"rpc",this.requestType=c,this.requestStream=!!g||void 0,this.responseType=f,this.responseStream=!!h||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=j,this.parsedOptions=k}f.fromJSON=function(a,b){return new f(a,b.type,b.requestType,b.responseType,b.requestStream,b.responseStream,b.options,b.comment,b.parsedOptions)},f.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return e.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",b?this.comment:void 0,"parsedOptions",this.parsedOptions])},f.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),d.prototype.resolve.call(this))}},58428,(a,b,c)=>{"use strict";b.exports=e;var d=a.r(60469);function e(a,b,c){if("function"!=typeof a)throw TypeError("rpcImpl must be a function");d.EventEmitter.call(this),this.rpcImpl=a,this.requestDelimited=!!b,this.responseDelimited=!!c}(e.prototype=Object.create(d.EventEmitter.prototype)).constructor=e,e.prototype.rpcCall=function a(b,c,e,f,g){if(!f)throw TypeError("request must be specified");var h=this;if(!g)return d.asPromise(a,h,b,c,e,f);if(!h.rpcImpl)return void setTimeout(function(){g(Error("already ended"))},0);try{return h.rpcImpl(b,c[h.requestDelimited?"encodeDelimited":"encode"](f).finish(),function(a,c){if(a)return h.emit("error",a,b),g(a);if(null===c)return void h.end(!0);if(!(c instanceof e))try{c=e[h.responseDelimited?"decodeDelimited":"decode"](c)}catch(a){return h.emit("error",a,b),g(a)}return h.emit("data",c,b),g(null,c)})}catch(a){h.emit("error",a,b),setTimeout(function(){g(a)},0);return}},e.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},84587,(a,b,c)=>{"use strict";c.Service=a.r(58428)},1472,(a,b,c)=>{"use strict";b.exports=h;var d=a.r(46142);((h.prototype=Object.create(d.prototype)).constructor=h).className="Service";var e=a.r(1463),f=a.r(25927),g=a.r(84587);function h(a,b){d.call(this,a,b),this.methods={},this._methodsArray=null}function i(a){return a._methodsArray=null,a}h.fromJSON=function(a,b){var c=new h(a,b.options);if(b.methods)for(var d=Object.keys(b.methods),f=0;f<d.length;++f)c.add(e.fromJSON(d[f],b.methods[d[f]]));return b.nested&&c.addJSON(b.nested),b.edition&&(c._edition=b.edition),c.comment=b.comment,c._defaultEdition="proto3",c},h.prototype.toJSON=function(a){var b=d.prototype.toJSON.call(this,a),c=!!a&&!!a.keepComments;return f.toObject(["edition",this._editionToJSON(),"options",b&&b.options||void 0,"methods",d.arrayToJSON(this.methodsArray,a)||{},"nested",b&&b.nested||void 0,"comment",c?this.comment:void 0])},Object.defineProperty(h.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=f.toArray(this.methods))}}),h.prototype.get=function(a){return this.methods[a]||d.prototype.get.call(this,a)},h.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;d.prototype.resolve.call(this);for(var a=this.methodsArray,b=0;b<a.length;++b)a[b].resolve();return this},h.prototype._resolveFeaturesRecursive=function(a){return this._needsRecursiveFeatureResolution&&(a=this._edition||a,d.prototype._resolveFeaturesRecursive.call(this,a),this.methodsArray.forEach(b=>{b._resolveFeaturesRecursive(a)})),this},h.prototype.add=function(a){if(this.get(a.name))throw Error("duplicate name '"+a.name+"' in "+this);return a instanceof e?(this.methods[a.name]=a,a.parent=this,i(this)):d.prototype.add.call(this,a)},h.prototype.remove=function(a){if(a instanceof e){if(this.methods[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.methods[a.name],a.parent=null,i(this)}return d.prototype.remove.call(this,a)},h.prototype.create=function(a,b,c){for(var d,e=new g.Service(a,b,c),h=0;h<this.methodsArray.length;++h){var i=f.lcFirst((d=this._methodsArray[h]).resolve().name).replace(/[^$\w_]/g,"");e[i]=f.codegen(["r","c"],f.isReserved(i)?i+"_":i)("return this.rpcCall(m,q,s,r,c)")({m:d,q:d.resolvedRequestType.ctor,s:d.resolvedResponseType.ctor})}return e}},43132,(a,b,c)=>{"use strict";b.exports=e;var d=a.r(60469);function e(a){if(a)for(var b=Object.keys(a),c=0;c<b.length;++c)this[b[c]]=a[b[c]]}e.create=function(a){return this.$type.create(a)},e.encode=function(a,b){return this.$type.encode(a,b)},e.encodeDelimited=function(a,b){return this.$type.encodeDelimited(a,b)},e.decode=function(a){return this.$type.decode(a)},e.decodeDelimited=function(a){return this.$type.decodeDelimited(a)},e.verify=function(a){return this.$type.verify(a)},e.fromObject=function(a){return this.$type.fromObject(a)},e.toObject=function(a,b){return this.$type.toObject(a,b)},e.prototype.toJSON=function(){return this.$type.toObject(this,d.toJSONOptions)}},60194,(a,b,c)=>{"use strict";b.exports=i;var d,e=a.r(60469),f=e.LongBits,g=e.utf8;function h(a,b){return RangeError("index out of range: "+a.pos+" + "+(b||1)+" > "+a.len)}function i(a){this.buf=a,this.pos=0,this.len=a.length}var j="u">typeof Uint8Array?function(a){if(a instanceof Uint8Array||Array.isArray(a))return new i(a);throw Error("illegal buffer")}:function(a){if(Array.isArray(a))return new i(a);throw Error("illegal buffer")},k=function(){return e.Buffer?function(a){return(i.create=function(a){return e.Buffer.isBuffer(a)?new d(a):j(a)})(a)}:j};function l(){var a=new f(0,0),b=0;if(this.len-this.pos>4){for(;b<4;++b)if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a;if(a.lo=(a.lo|(127&this.buf[this.pos])<<28)>>>0,a.hi=(a.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return a;b=0}else{for(;b<3;++b){if(this.pos>=this.len)throw h(this);if(a.lo=(a.lo|(127&this.buf[this.pos])<<7*b)>>>0,this.buf[this.pos++]<128)return a}return a.lo=(a.lo|(127&this.buf[this.pos++])<<7*b)>>>0,a}if(this.len-this.pos>4){for(;b<5;++b)if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}else for(;b<5;++b){if(this.pos>=this.len)throw h(this);if(a.hi=(a.hi|(127&this.buf[this.pos])<<7*b+3)>>>0,this.buf[this.pos++]<128)return a}throw Error("invalid varint encoding")}function m(a,b){return(a[b-4]|a[b-3]<<8|a[b-2]<<16|a[b-1]<<24)>>>0}function n(){if(this.pos+8>this.len)throw h(this,8);return new f(m(this.buf,this.pos+=4),m(this.buf,this.pos+=4))}i.create=k(),i.prototype._slice=e.Array.prototype.subarray||e.Array.prototype.slice,i.prototype.uint32=function(){var a=0xffffffff;return function(){if(a=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(a=(a|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(a=(a|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(a=(a|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return a;if((this.pos+=5)>this.len)throw this.pos=this.len,h(this,10);return a}}(),i.prototype.int32=function(){return 0|this.uint32()},i.prototype.sint32=function(){var a=this.uint32();return a>>>1^-(1&a)},i.prototype.bool=function(){return 0!==this.uint32()},i.prototype.fixed32=function(){if(this.pos+4>this.len)throw h(this,4);return m(this.buf,this.pos+=4)},i.prototype.sfixed32=function(){if(this.pos+4>this.len)throw h(this,4);return 0|m(this.buf,this.pos+=4)},i.prototype.float=function(){if(this.pos+4>this.len)throw h(this,4);var a=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,a},i.prototype.double=function(){if(this.pos+8>this.len)throw h(this,4);var a=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,a},i.prototype.bytes=function(){var a=this.uint32(),b=this.pos,c=this.pos+a;if(c>this.len)throw h(this,a);if(this.pos+=a,Array.isArray(this.buf))return this.buf.slice(b,c);if(b===c){var d=e.Buffer;return d?d.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,b,c)},i.prototype.string=function(){var a=this.bytes();return g.read(a,0,a.length)},i.prototype.skip=function(a){if("number"==typeof a){if(this.pos+a>this.len)throw h(this,a);this.pos+=a}else do if(this.pos>=this.len)throw h(this);while(128&this.buf[this.pos++])return this},i.prototype.skipType=function(a){switch(a){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(a=7&this.uint32());)this.skipType(a);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+a+" at offset "+this.pos)}return this},i._configure=function(a){d=a,i.create=k(),d._configure();var b=e.Long?"toLong":"toNumber";e.merge(i.prototype,{int64:function(){return l.call(this)[b](!1)},uint64:function(){return l.call(this)[b](!0)},sint64:function(){return l.call(this).zzDecode()[b](!1)},fixed64:function(){return n.call(this)[b](!0)},sfixed64:function(){return n.call(this)[b](!1)}})}},46358,(a,b,c)=>{"use strict";b.exports=l;var d,e=a.r(60469),f=e.LongBits,g=e.base64,h=e.utf8;function i(a,b,c){this.fn=a,this.len=b,this.next=void 0,this.val=c}function j(){}function k(a){this.head=a.head,this.tail=a.tail,this.len=a.len,this.next=a.states}function l(){this.len=0,this.head=new i(j,0,0),this.tail=this.head,this.states=null}var m=function(){return e.Buffer?function(){return(l.create=function(){return new d})()}:function(){return new l}};function n(a,b,c){b[c]=255&a}function o(a,b,c){for(;a>127;)b[c++]=127&a|128,a>>>=7;b[c]=a}function p(a,b){this.len=a,this.next=void 0,this.val=b}function q(a,b,c){for(;a.hi;)b[c++]=127&a.lo|128,a.lo=(a.lo>>>7|a.hi<<25)>>>0,a.hi>>>=7;for(;a.lo>127;)b[c++]=127&a.lo|128,a.lo=a.lo>>>7;b[c++]=a.lo}function r(a,b,c){b[c]=255&a,b[c+1]=a>>>8&255,b[c+2]=a>>>16&255,b[c+3]=a>>>24}l.create=m(),l.alloc=function(a){return new e.Array(a)},e.Array!==Array&&(l.alloc=e.pool(l.alloc,e.Array.prototype.subarray)),l.prototype._push=function(a,b,c){return this.tail=this.tail.next=new i(a,b,c),this.len+=b,this},p.prototype=Object.create(i.prototype),p.prototype.fn=o,l.prototype.uint32=function(a){return this.len+=(this.tail=this.tail.next=new p((a>>>=0)<128?1:a<16384?2:a<2097152?3:a<0x10000000?4:5,a)).len,this},l.prototype.int32=function(a){return a<0?this._push(q,10,f.fromNumber(a)):this.uint32(a)},l.prototype.sint32=function(a){return this.uint32((a<<1^a>>31)>>>0)},l.prototype.uint64=function(a){var b=f.from(a);return this._push(q,b.length(),b)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(a){var b=f.from(a).zzEncode();return this._push(q,b.length(),b)},l.prototype.bool=function(a){return this._push(n,1,+!!a)},l.prototype.fixed32=function(a){return this._push(r,4,a>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(a){var b=f.from(a);return this._push(r,4,b.lo)._push(r,4,b.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(a){return this._push(e.float.writeFloatLE,4,a)},l.prototype.double=function(a){return this._push(e.float.writeDoubleLE,8,a)};var s=e.Array.prototype.set?function(a,b,c){b.set(a,c)}:function(a,b,c){for(var d=0;d<a.length;++d)b[c+d]=a[d]};l.prototype.bytes=function(a){var b=a.length>>>0;if(!b)return this._push(n,1,0);if(e.isString(a)){var c=l.alloc(b=g.length(a));g.decode(a,c,0),a=c}return this.uint32(b)._push(s,b,a)},l.prototype.string=function(a){var b=h.length(a);return b?this.uint32(b)._push(h.write,b,a):this._push(n,1,0)},l.prototype.fork=function(){return this.states=new k(this),this.head=this.tail=new i(j,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new i(j,0,0),this.len=0),this},l.prototype.ldelim=function(){var a=this.head,b=this.tail,c=this.len;return this.reset().uint32(c),c&&(this.tail.next=a.next,this.tail=b,this.len+=c),this},l.prototype.finish=function(){for(var a=this.head.next,b=this.constructor.alloc(this.len),c=0;a;)a.fn(a.val,b,c),c+=a.len,a=a.next;return b},l._configure=function(a){d=a,l.create=m(),d._configure()}},71256,(a,b,c)=>{"use strict";b.exports=h;var d=a.r(38651),e=a.r(1703),f=a.r(25927);function g(a){return"missing required '"+a.name+"'"}function h(a){for(var b=f.codegen(["r","l","e"],a.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(a.fieldsArray.filter(function(a){return a.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),c=0;c<a.fieldsArray.length;++c){var h=a._fieldsArray[c].resolve(),i=h.resolvedType instanceof d?"int32":h.type,j="m"+f.safeProp(h.name);b("case %i: {",h.id),h.map?(b("if(%s===util.emptyObject)",j)("%s={}",j)("var c2 = r.uint32()+r.pos"),void 0!==e.defaults[h.keyType]?b("k=%j",e.defaults[h.keyType]):b("k=null"),void 0!==e.defaults[i]?b("value=%j",e.defaults[i]):b("value=null"),b("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",h.keyType)("case 2:"),void 0===e.basic[i]?b("value=types[%i].decode(r,r.uint32())",c):b("value=r.%s()",i),b("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==e.long[h.keyType]?b('%s[typeof k==="object"?util.longToHash(k):k]=value',j):b("%s[k]=value",j)):h.repeated?(b("if(!(%s&&%s.length))",j,j)("%s=[]",j),void 0!==e.packed[i]&&b("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",j,i)("}else"),void 0===e.basic[i]?b(h.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",j,c):b("%s.push(r.%s())",j,i)):void 0===e.basic[i]?b(h.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",j,c):b("%s=r.%s()",j,i),b("break")("}")}for(b("default:")("r.skipType(t&7)")("break")("}")("}"),c=0;c<a._fieldsArray.length;++c){var k=a._fieldsArray[c];k.required&&b("if(!m.hasOwnProperty(%j))",k.name)("throw util.ProtocolError(%j,{instance:m})",g(k))}return b("return m")}},14844,(a,b,c)=>{"use strict";b.exports=i;var d=a.r(38651),e=a.r(25927);function f(a,b){return a.name+": "+b+(a.repeated&&"array"!==b?"[]":a.map&&"object"!==b?"{k:"+a.keyType+"}":"")+" expected"}function g(a,b,c,e){if(b.resolvedType)if(b.resolvedType instanceof d){a("switch(%s){",e)("default:")("return%j",f(b,"enum value"));for(var g=Object.keys(b.resolvedType.values),h=0;h<g.length;++h)a("case %i:",b.resolvedType.values[g[h]]);a("break")("}")}else a("{")("var e=types[%i].verify(%s);",c,e)("if(e)")("return%j+e",b.name+".")("}");else switch(b.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":a("if(!util.isInteger(%s))",e)("return%j",f(b,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":a("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",e,e,e,e)("return%j",f(b,"integer|Long"));break;case"float":case"double":a('if(typeof %s!=="number")',e)("return%j",f(b,"number"));break;case"bool":a('if(typeof %s!=="boolean")',e)("return%j",f(b,"boolean"));break;case"string":a("if(!util.isString(%s))",e)("return%j",f(b,"string"));break;case"bytes":a('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',e,e,e)("return%j",f(b,"buffer"))}return a}function h(a,b,c){switch(b.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":a("if(!util.key32Re.test(%s))",c)("return%j",f(b,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":a("if(!util.key64Re.test(%s))",c)("return%j",f(b,"integer|Long key"));break;case"bool":a("if(!util.key2Re.test(%s))",c)("return%j",f(b,"boolean key"))}return a}function i(a){var b=e.codegen(["m"],a.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),c=a.oneofsArray,d={};c.length&&b("var p={}");for(var i=0;i<a.fieldsArray.length;++i){var j=a._fieldsArray[i].resolve(),k="m"+e.safeProp(j.name);if(j.optional&&b("if(%s!=null&&m.hasOwnProperty(%j)){",k,j.name),j.map)b("if(!util.isObject(%s))",k)("return%j",f(j,"object"))("var k=Object.keys(%s)",k)("for(var i=0;i<k.length;++i){"),h(b,j,"k[i]"),g(b,j,i,k+"[k[i]]")("}");else if(j.repeated)b("if(!Array.isArray(%s))",k)("return%j",f(j,"array"))("for(var i=0;i<%s.length;++i){",k),g(b,j,i,k+"[i]")("}");else{if(j.partOf){var l=e.safeProp(j.partOf.name);1===d[j.partOf.name]&&b("if(p%s===1)",l)("return%j",j.partOf.name+": multiple values"),d[j.partOf.name]=1,b("p%s=1",l)}g(b,j,i,k)}j.optional&&b("}")}return b("return null")}},16375,(a,b,c)=>{"use strict";var d=c,e=a.r(38651),f=a.r(25927);function g(a,b,c,d){var f=!1;if(b.resolvedType)if(b.resolvedType instanceof e){a("switch(d%s){",d);for(var g=b.resolvedType.values,h=Object.keys(g),i=0;i<h.length;++i)g[h[i]]!==b.typeDefault||f||(a("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',d,d,d),b.repeated||a("break"),f=!0),a("case%j:",h[i])("case %i:",g[h[i]])("m%s=%j",d,g[h[i]])("break");a("}")}else a('if(typeof d%s!=="object")',d)("throw TypeError(%j)",b.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",d,c,d);else{var j=!1;switch(b.type){case"double":case"float":a("m%s=Number(d%s)",d,d);break;case"uint32":case"fixed32":a("m%s=d%s>>>0",d,d);break;case"int32":case"sint32":case"sfixed32":a("m%s=d%s|0",d,d);break;case"uint64":j=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",d,d,j)('else if(typeof d%s==="string")',d)("m%s=parseInt(d%s,10)",d,d)('else if(typeof d%s==="number")',d)("m%s=d%s",d,d)('else if(typeof d%s==="object")',d)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",d,d,d,j?"true":"");break;case"bytes":a('if(typeof d%s==="string")',d)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",d,d,d)("else if(d%s.length >= 0)",d)("m%s=d%s",d,d);break;case"string":a("m%s=String(d%s)",d,d);break;case"bool":a("m%s=Boolean(d%s)",d,d)}}return a}function h(a,b,c,d){if(b.resolvedType)b.resolvedType instanceof e?a("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",d,c,d,d,c,d,d):a("d%s=types[%i].toObject(m%s,o)",d,c,d);else{var f=!1;switch(b.type){case"double":case"float":a("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",d,d,d,d);break;case"uint64":f=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a('if(typeof m%s==="number")',d)("d%s=o.longs===String?String(m%s):m%s",d,d,d)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",d,d,d,d,f?"true":"",d);break;case"bytes":a("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",d,d,d,d,d);break;default:a("d%s=m%s",d,d)}}return a}d.fromObject=function(a){var b=a.fieldsArray,c=f.codegen(["d"],a.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!b.length)return c("return new this.ctor");c("var m=new this.ctor");for(var d=0;d<b.length;++d){var h=b[d].resolve(),i=f.safeProp(h.name);h.map?(c("if(d%s){",i)('if(typeof d%s!=="object")',i)("throw TypeError(%j)",h.fullName+": object expected")("m%s={}",i)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",i),g(c,h,d,i+"[ks[i]]")("}")("}")):h.repeated?(c("if(d%s){",i)("if(!Array.isArray(d%s))",i)("throw TypeError(%j)",h.fullName+": array expected")("m%s=[]",i)("for(var i=0;i<d%s.length;++i){",i),g(c,h,d,i+"[i]")("}")("}")):(h.resolvedType instanceof e||c("if(d%s!=null){",i),g(c,h,d,i),h.resolvedType instanceof e||c("}"))}return c("return m")},d.toObject=function(a){var b=a.fieldsArray.slice().sort(f.compareFieldsById);if(!b.length)return f.codegen()("return {}");for(var c=f.codegen(["m","o"],a.name+"$toObject")("if(!o)")("o={}")("var d={}"),d=[],g=[],i=[],j=0;j<b.length;++j)b[j].partOf||(b[j].resolve().repeated?d:b[j].map?g:i).push(b[j]);if(d.length){for(c("if(o.arrays||o.defaults){"),j=0;j<d.length;++j)c("d%s=[]",f.safeProp(d[j].name));c("}")}if(g.length){for(c("if(o.objects||o.defaults){"),j=0;j<g.length;++j)c("d%s={}",f.safeProp(g[j].name));c("}")}if(i.length){for(c("if(o.defaults){"),j=0;j<i.length;++j){var k=i[j],l=f.safeProp(k.name);if(k.resolvedType instanceof e)c("d%s=o.enums===String?%j:%j",l,k.resolvedType.valuesById[k.typeDefault],k.typeDefault);else if(k.long)c("if(util.Long){")("var n=new util.Long(%i,%i,%j)",k.typeDefault.low,k.typeDefault.high,k.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",l)("}else")("d%s=o.longs===String?%j:%i",l,k.typeDefault.toString(),k.typeDefault.toNumber());else if(k.bytes){var m="["+Array.prototype.slice.call(k.typeDefault).join(",")+"]";c("if(o.bytes===String)d%s=%j",l,String.fromCharCode.apply(String,k.typeDefault))("else{")("d%s=%s",l,m)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",l,l)("}")}else c("d%s=%j",l,k.typeDefault)}c("}")}var n=!1;for(j=0;j<b.length;++j){var k=b[j],o=a._fieldsArray.indexOf(k),l=f.safeProp(k.name);k.map?(n||(n=!0,c("var ks2")),c("if(m%s&&(ks2=Object.keys(m%s)).length){",l,l)("d%s={}",l)("for(var j=0;j<ks2.length;++j){"),h(c,k,o,l+"[ks2[j]]")("}")):k.repeated?(c("if(m%s&&m%s.length){",l,l)("d%s=[]",l)("for(var j=0;j<m%s.length;++j){",l),h(c,k,o,l+"[j]")("}")):(c("if(m%s!=null&&m.hasOwnProperty(%j)){",l,k.name),h(c,k,o,l),k.partOf&&c("if(o.oneofs)")("d%s=%j",f.safeProp(k.partOf.name),k.name)),c("}")}return c("return d")}},19542,(a,b,c)=>{"use strict";var d=c,e=a.r(43132);d[".google.protobuf.Any"]={fromObject:function(a){if(a&&a["@type"]){var b=a["@type"].substring(a["@type"].lastIndexOf("/")+1),c=this.lookup(b);if(c){var d="."===a["@type"].charAt(0)?a["@type"].slice(1):a["@type"];return -1===d.indexOf("/")&&(d="/"+d),this.create({type_url:d,value:c.encode(c.fromObject(a)).finish()})}}return this.fromObject(a)},toObject:function(a,b){var c="type.googleapis.com/",d="",f="";if(b&&b.json&&a.type_url&&a.value){f=a.type_url.substring(a.type_url.lastIndexOf("/")+1),d=a.type_url.substring(0,a.type_url.lastIndexOf("/")+1);var g=this.lookup(f);g&&(a=g.decode(a.value))}if(!(a instanceof this.ctor)&&a instanceof e){var h=a.$type.toObject(a,b),i="."===a.$type.fullName[0]?a.$type.fullName.slice(1):a.$type.fullName;return""===d&&(d=c),f=d+i,h["@type"]=f,h}return this.toObject(a,b)}}},59773,(a,b,c)=>{"use strict";b.exports=s;var d=a.r(46142);((s.prototype=Object.create(d.prototype)).constructor=s).className="Type";var e=a.r(38651),f=a.r(92262),g=a.r(82792),h=a.r(75121),i=a.r(1472),j=a.r(43132),k=a.r(60194),l=a.r(46358),m=a.r(25927),n=a.r(41453),o=a.r(71256),p=a.r(14844),q=a.r(16375),r=a.r(19542);function s(a,b){d.call(this,a,b),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function t(a){return a._fieldsById=a._fieldsArray=a._oneofsArray=null,delete a.encode,delete a.decode,delete a.verify,a}Object.defineProperties(s.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var a=Object.keys(this.fields),b=0;b<a.length;++b){var c=this.fields[a[b]],d=c.id;if(this._fieldsById[d])throw Error("duplicate id "+d+" in "+this);this._fieldsById[d]=c}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=m.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=m.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=s.generateConstructor(this)())},set:function(a){var b=a.prototype;b instanceof j||((a.prototype=new j).constructor=a,m.merge(a.prototype,b)),a.$type=a.prototype.$type=this,m.merge(a,j,!0),this._ctor=a;for(var c=0;c<this.fieldsArray.length;++c)this._fieldsArray[c].resolve();var d={};for(c=0;c<this.oneofsArray.length;++c)d[this._oneofsArray[c].resolve().name]={get:m.oneOfGetter(this._oneofsArray[c].oneof),set:m.oneOfSetter(this._oneofsArray[c].oneof)};c&&Object.defineProperties(a.prototype,d)}}}),s.generateConstructor=function(a){for(var b,c=m.codegen(["p"],a.name),d=0;d<a.fieldsArray.length;++d)(b=a._fieldsArray[d]).map?c("this%s={}",m.safeProp(b.name)):b.repeated&&c("this%s=[]",m.safeProp(b.name));return c("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},s.fromJSON=function(a,b){var c=new s(a,b.options);c.extensions=b.extensions,c.reserved=b.reserved;for(var j=Object.keys(b.fields),k=0;k<j.length;++k)c.add((void 0!==b.fields[j[k]].keyType?h.fromJSON:g.fromJSON)(j[k],b.fields[j[k]]));if(b.oneofs)for(j=Object.keys(b.oneofs),k=0;k<j.length;++k)c.add(f.fromJSON(j[k],b.oneofs[j[k]]));if(b.nested)for(j=Object.keys(b.nested),k=0;k<j.length;++k){var l=b.nested[j[k]];c.add((void 0!==l.id?g.fromJSON:void 0!==l.fields?s.fromJSON:void 0!==l.values?e.fromJSON:void 0!==l.methods?i.fromJSON:d.fromJSON)(j[k],l))}return b.extensions&&b.extensions.length&&(c.extensions=b.extensions),b.reserved&&b.reserved.length&&(c.reserved=b.reserved),b.group&&(c.group=!0),b.comment&&(c.comment=b.comment),b.edition&&(c._edition=b.edition),c._defaultEdition="proto3",c},s.prototype.toJSON=function(a){var b=d.prototype.toJSON.call(this,a),c=!!a&&!!a.keepComments;return m.toObject(["edition",this._editionToJSON(),"options",b&&b.options||void 0,"oneofs",d.arrayToJSON(this.oneofsArray,a),"fields",d.arrayToJSON(this.fieldsArray.filter(function(a){return!a.declaringField}),a)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",b&&b.nested||void 0,"comment",c?this.comment:void 0])},s.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;d.prototype.resolveAll.call(this);var a=this.oneofsArray;for(c=0;c<a.length;)a[c++].resolve();for(var b=this.fieldsArray,c=0;c<b.length;)b[c++].resolve();return this},s.prototype._resolveFeaturesRecursive=function(a){return this._needsRecursiveFeatureResolution&&(a=this._edition||a,d.prototype._resolveFeaturesRecursive.call(this,a),this.oneofsArray.forEach(b=>{b._resolveFeatures(a)}),this.fieldsArray.forEach(b=>{b._resolveFeatures(a)})),this},s.prototype.get=function(a){return this.fields[a]||this.oneofs&&this.oneofs[a]||this.nested&&this.nested[a]||null},s.prototype.add=function(a){if(this.get(a.name))throw Error("duplicate name '"+a.name+"' in "+this);if(a instanceof g&&void 0===a.extend){if(this._fieldsById?this._fieldsById[a.id]:this.fieldsById[a.id])throw Error("duplicate id "+a.id+" in "+this);if(this.isReservedId(a.id))throw Error("id "+a.id+" is reserved in "+this);if(this.isReservedName(a.name))throw Error("name '"+a.name+"' is reserved in "+this);return a.parent&&a.parent.remove(a),this.fields[a.name]=a,a.message=this,a.onAdd(this),t(this)}return a instanceof f?(this.oneofs||(this.oneofs={}),this.oneofs[a.name]=a,a.onAdd(this),t(this)):d.prototype.add.call(this,a)},s.prototype.remove=function(a){if(a instanceof g&&void 0===a.extend){if(!this.fields||this.fields[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.fields[a.name],a.parent=null,a.onRemove(this),t(this)}if(a instanceof f){if(!this.oneofs||this.oneofs[a.name]!==a)throw Error(a+" is not a member of "+this);return delete this.oneofs[a.name],a.parent=null,a.onRemove(this),t(this)}return d.prototype.remove.call(this,a)},s.prototype.isReservedId=function(a){return d.isReservedId(this.reserved,a)},s.prototype.isReservedName=function(a){return d.isReservedName(this.reserved,a)},s.prototype.create=function(a){return new this.ctor(a)},s.prototype.setup=function(){for(var a=this.fullName,b=[],c=0;c<this.fieldsArray.length;++c)b.push(this._fieldsArray[c].resolve().resolvedType);this.encode=n(this)({Writer:l,types:b,util:m}),this.decode=o(this)({Reader:k,types:b,util:m}),this.verify=p(this)({types:b,util:m}),this.fromObject=q.fromObject(this)({types:b,util:m}),this.toObject=q.toObject(this)({types:b,util:m});var d=r[a];if(d){var e=Object.create(this);e.fromObject=this.fromObject,this.fromObject=d.fromObject.bind(e),e.toObject=this.toObject,this.toObject=d.toObject.bind(e)}return this},s.prototype.encode=function(a,b){return this.setup().encode(a,b)},s.prototype.encodeDelimited=function(a,b){return this.encode(a,b&&b.len?b.fork():b).ldelim()},s.prototype.decode=function(a,b){return this.setup().decode(a,b)},s.prototype.decodeDelimited=function(a){return a instanceof k||(a=k.create(a)),this.decode(a,a.uint32())},s.prototype.verify=function(a){return this.setup().verify(a)},s.prototype.fromObject=function(a){return this.setup().fromObject(a)},s.prototype.toObject=function(a,b){return this.setup().toObject(a,b)},s.d=function(a){return function(b){m.decorateType(b,a)}}},16092,(a,b,c)=>{"use strict";b.exports=l;var d,e,f,g=a.r(46142);((l.prototype=Object.create(g.prototype)).constructor=l).className="Root";var h=a.r(82792),i=a.r(38651),j=a.r(92262),k=a.r(25927);function l(a){g.call(this,"",a),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}function m(){}l.fromJSON=function(a,b){return b||(b=new l),a.options&&b.setOptions(a.options),b.addJSON(a.nested).resolveAll()},l.prototype.resolvePath=k.path.resolve,l.prototype.fetch=k.fetch,l.prototype.load=function a(b,c,d){"function"==typeof c&&(d=c,c=void 0);var g=this;if(!d)return k.asPromise(a,g,b,c);var h=d===m;function i(a,b){if(d){if(h)throw a;b&&b.resolveAll();var c=d;d=null,c(a,b)}}function j(a){var b=a.lastIndexOf("google/protobuf/");if(b>-1){var c=a.substring(b);if(c in f)return c}return null}function l(a,b){try{if(k.isString(b)&&"{"===b.charAt(0)&&(b=JSON.parse(b)),k.isString(b)){e.filename=a;var d,f=e(b,g,c),l=0;if(f.imports)for(;l<f.imports.length;++l)(d=j(f.imports[l])||g.resolvePath(a,f.imports[l]))&&n(d);if(f.weakImports)for(l=0;l<f.weakImports.length;++l)(d=j(f.weakImports[l])||g.resolvePath(a,f.weakImports[l]))&&n(d,!0)}else g.setOptions(b.options).addJSON(b.nested)}catch(a){i(a)}h||o||i(null,g)}function n(a,b){if(a=j(a)||a,!(g.files.indexOf(a)>-1)){if(g.files.push(a),a in f)return void(h?l(a,f[a]):(++o,setTimeout(function(){--o,l(a,f[a])})));if(h){var c;try{c=k.fs.readFileSync(a).toString("utf8")}catch(a){b||i(a);return}l(a,c)}else++o,g.fetch(a,function(c,e){if(--o,d){if(c)return void(b?o||i(null,g):i(c));l(a,e)}})}}var o=0;k.isString(b)&&(b=[b]);for(var p,q=0;q<b.length;++q)(p=g.resolvePath("",b[q]))&&n(p);return h?g.resolveAll():o||i(null,g),g},l.prototype.loadSync=function(a,b){if(!k.isNode)throw Error("not supported");return this.load(a,b,m)},l.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(a){return"'extend "+a.extend+"' in "+a.parent.fullName}).join(", "));return g.prototype.resolveAll.call(this)};var n=/^[A-Z]/;function o(a,b){var c=b.parent.lookup(b.extend);if(c){var d=new h(b.fullName,b.id,b.type,b.rule,void 0,b.options);return!!c.get(d.name)||(d.declaringField=b,b.extensionField=d,c.add(d),!0)}return!1}l.prototype._handleAdd=function(a){if(a instanceof h)void 0===a.extend||a.extensionField||o(this,a)||this.deferred.push(a);else if(a instanceof i)n.test(a.name)&&(a.parent[a.name]=a.values);else if(!(a instanceof j)){if(a instanceof d)for(var b=0;b<this.deferred.length;)o(this,this.deferred[b])?this.deferred.splice(b,1):++b;for(var c=0;c<a.nestedArray.length;++c)this._handleAdd(a._nestedArray[c]);n.test(a.name)&&(a.parent[a.name]=a)}(a instanceof d||a instanceof i||a instanceof h)&&(this._fullyQualifiedObjects[a.fullName]=a)},l.prototype._handleRemove=function(a){if(a instanceof h){if(void 0!==a.extend)if(a.extensionField)a.extensionField.parent.remove(a.extensionField),a.extensionField=null;else{var b=this.deferred.indexOf(a);b>-1&&this.deferred.splice(b,1)}}else if(a instanceof i)n.test(a.name)&&delete a.parent[a.name];else if(a instanceof g){for(var c=0;c<a.nestedArray.length;++c)this._handleRemove(a._nestedArray[c]);n.test(a.name)&&delete a.parent[a.name]}delete this._fullyQualifiedObjects[a.fullName]},l._configure=function(a,b,c){d=a,e=b,f=c}},25927,(a,b,c)=>{"use strict";var d,e,f=b.exports=a.r(60469),g=a.r(7996);f.codegen=a.r(58391),f.fetch=a.r(89538),f.path=a.r(69368),f.fs=f.inquire("fs"),f.toArray=function(a){if(a){for(var b=Object.keys(a),c=Array(b.length),d=0;d<b.length;)c[d]=a[b[d++]];return c}return[]},f.toObject=function(a){for(var b={},c=0;c<a.length;){var d=a[c++],e=a[c++];void 0!==e&&(b[d]=e)}return b};var h=/\\/g,i=/"/g;f.isReserved=function(a){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(a)},f.safeProp=function(a){return!/^[$\w_]+$/.test(a)||f.isReserved(a)?'["'+a.replace(h,"\\\\").replace(i,'\\"')+'"]':"."+a},f.ucFirst=function(a){return a.charAt(0).toUpperCase()+a.substring(1)};var j=/_([a-z])/g;f.camelCase=function(a){return a.substring(0,1)+a.substring(1).replace(j,function(a,b){return b.toUpperCase()})},f.compareFieldsById=function(a,b){return a.id-b.id},f.decorateType=function(b,c){if(b.$type)return c&&b.$type.name!==c&&(f.decorateRoot.remove(b.$type),b.$type.name=c,f.decorateRoot.add(b.$type)),b.$type;d||(d=a.r(59773));var e=new d(c||b.name);return f.decorateRoot.add(e),e.ctor=b,Object.defineProperty(b,"$type",{value:e,enumerable:!1}),Object.defineProperty(b.prototype,"$type",{value:e,enumerable:!1}),e};var k=0;f.decorateEnum=function(b){if(b.$type)return b.$type;e||(e=a.r(38651));var c=new e("Enum"+k++,b);return f.decorateRoot.add(c),Object.defineProperty(b,"$type",{value:c,enumerable:!1}),c},f.setProperty=function(a,b,c,d){function e(a,b,c){var f=b.shift();if("__proto__"===f||"prototype"===f)return a;if(b.length>0)a[f]=e(a[f]||{},b,c);else{var g=a[f];if(g&&d)return a;g&&(c=[].concat(g).concat(c)),a[f]=c}return a}if("object"!=typeof a)throw TypeError("dst must be an object");if(!b)throw TypeError("path must be specified");return e(a,b=b.split("."),c)},Object.defineProperty(f,"decorateRoot",{get:function(){return g.decorated||(g.decorated=new(a.r(16092)))}})},1703,(a,b,c)=>{"use strict";var d=c,e=a.r(25927),f=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function g(a,b){var c=0,d={};for(b|=0;c<a.length;)d[f[c+b]]=a[c++];return d}d.basic=g([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),d.defaults=g([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",e.emptyArray,null]),d.long=g([0,0,0,1,1],7),d.mapKey=g([0,0,0,5,5,0,0,0,1,1,0,2],2),d.packed=g([1,5,0,0,0,5,5,0,0,0,1,1,0])},82792,(a,b,c)=>{"use strict";b.exports=j;var d,e=a.r(71832);((j.prototype=Object.create(e.prototype)).constructor=j).className="Field";var f=a.r(38651),g=a.r(1703),h=a.r(25927),i=/^required|optional|repeated$/;function j(a,b,c,d,f,j,k){if(h.isObject(d)?(k=f,j=d,d=f=void 0):h.isObject(f)&&(k=j,j=f,f=void 0),e.call(this,a,j),!h.isInteger(b)||b<0)throw TypeError("id must be a non-negative integer");if(!h.isString(c))throw TypeError("type must be a string");if(void 0!==d&&!i.test(d=d.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==f&&!h.isString(f))throw TypeError("extend must be a string");"proto3_optional"===d&&(d="optional"),this.rule=d&&"optional"!==d?d:void 0,this.type=c,this.id=b,this.extend=f||void 0,this.repeated="repeated"===d,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!h.Long&&void 0!==g.long[c],this.bytes="bytes"===c,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=k}j.fromJSON=function(a,b){var c=new j(a,b.id,b.type,b.rule,b.extend,b.options,b.comment);return b.edition&&(c._edition=b.edition),c._defaultEdition="proto3",c},Object.defineProperty(j.prototype,"required",{get:function(){return"LEGACY_REQUIRED"===this._features.field_presence}}),Object.defineProperty(j.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(j.prototype,"delimited",{get:function(){return this.resolvedType instanceof d&&"DELIMITED"===this._features.message_encoding}}),Object.defineProperty(j.prototype,"packed",{get:function(){return"PACKED"===this._features.repeated_field_encoding}}),Object.defineProperty(j.prototype,"hasPresence",{get:function(){return!this.repeated&&!this.map&&(this.partOf||this.declaringField||this.extensionField||"IMPLICIT"!==this._features.field_presence)}}),j.prototype.setOption=function(a,b,c){return e.prototype.setOption.call(this,a,b,c)},j.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return h.toObject(["edition",this._editionToJSON(),"rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",b?this.comment:void 0])},j.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=g.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof d?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof f&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof f||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=h.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var a;h.base64.test(this.typeDefault)?h.base64.decode(this.typeDefault,a=h.newBuffer(h.base64.length(this.typeDefault)),0):h.utf8.write(this.typeDefault,a=h.newBuffer(h.utf8.length(this.typeDefault)),0),this.typeDefault=a}return this.map?this.defaultValue=h.emptyObject:this.repeated?this.defaultValue=h.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof d&&(this.parent.ctor.prototype[this.name]=this.defaultValue),e.prototype.resolve.call(this)},j.prototype._inferLegacyProtoFeatures=function(a){if("proto2"!==a&&"proto3"!==a)return{};var b={};if("required"===this.rule&&(b.field_presence="LEGACY_REQUIRED"),this.parent&&void 0===g.defaults[this.type]){var c=this.parent.get(this.type.split(".").pop());c&&c instanceof d&&c.group&&(b.message_encoding="DELIMITED")}return!0===this.getOption("packed")?b.repeated_field_encoding="PACKED":!1===this.getOption("packed")&&(b.repeated_field_encoding="EXPANDED"),b},j.prototype._resolveFeatures=function(a){return e.prototype._resolveFeatures.call(this,this._edition||a)},j.d=function(a,b,c,d){return"function"==typeof b?b=h.decorateType(b).name:b&&"object"==typeof b&&(b=h.decorateEnum(b).name),function(e,f){h.decorateType(e.constructor).add(new j(f,a,b,c,{default:d}))}},j._configure=function(a){d=a}},92262,(a,b,c)=>{"use strict";b.exports=g;var d=a.r(71832);((g.prototype=Object.create(d.prototype)).constructor=g).className="OneOf";var e=a.r(82792),f=a.r(25927);function g(a,b,c,e){if(Array.isArray(b)||(c=b,b=void 0),d.call(this,a,c),!(void 0===b||Array.isArray(b)))throw TypeError("fieldNames must be an Array");this.oneof=b||[],this.fieldsArray=[],this.comment=e}function h(a){if(a.parent)for(var b=0;b<a.fieldsArray.length;++b)a.fieldsArray[b].parent||a.parent.add(a.fieldsArray[b])}g.fromJSON=function(a,b){return new g(a,b.oneof,b.options,b.comment)},g.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return f.toObject(["options",this.options,"oneof",this.oneof,"comment",b?this.comment:void 0])},g.prototype.add=function(a){if(!(a instanceof e))throw TypeError("field must be a Field");return a.parent&&a.parent!==this.parent&&a.parent.remove(a),this.oneof.push(a.name),this.fieldsArray.push(a),a.partOf=this,h(this),this},g.prototype.remove=function(a){if(!(a instanceof e))throw TypeError("field must be a Field");var b=this.fieldsArray.indexOf(a);if(b<0)throw Error(a+" is not a member of "+this);return this.fieldsArray.splice(b,1),(b=this.oneof.indexOf(a.name))>-1&&this.oneof.splice(b,1),a.partOf=null,this},g.prototype.onAdd=function(a){d.prototype.onAdd.call(this,a);for(var b=this,c=0;c<this.oneof.length;++c){var e=a.get(this.oneof[c]);e&&!e.partOf&&(e.partOf=b,b.fieldsArray.push(e))}h(this)},g.prototype.onRemove=function(a){for(var b,c=0;c<this.fieldsArray.length;++c)(b=this.fieldsArray[c]).parent&&b.parent.remove(b);d.prototype.onRemove.call(this,a)},Object.defineProperty(g.prototype,"isProto3Optional",{get:function(){if(null==this.fieldsArray||1!==this.fieldsArray.length)return!1;var a=this.fieldsArray[0];return null!=a.options&&!0===a.options.proto3_optional}}),g.d=function(){for(var a=Array(arguments.length),b=0;b<arguments.length;)a[b]=arguments[b++];return function(b,c){f.decorateType(b.constructor).add(new g(c,a)),Object.defineProperty(b,c,{get:f.oneOfGetter(a),set:f.oneOfSetter(a)})}}},71832,(a,b,c)=>{"use strict";b.exports=j,j.className="ReflectionObject";let d=a.r(92262);var e,f=a.r(25927),g={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},h={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},i={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function j(a,b){if(!f.isString(a))throw TypeError("name must be a string");if(b&&!f.isObject(b))throw TypeError("options must be an object");this.options=b,this.parsedOptions=null,this.name=a,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(j.prototype,{root:{get:function(){for(var a=this;null!==a.parent;)a=a.parent;return a}},fullName:{get:function(){for(var a=[this.name],b=this.parent;b;)a.unshift(b.name),b=b.parent;return a.join(".")}}}),j.prototype.toJSON=function(){throw Error()},j.prototype.onAdd=function(a){this.parent&&this.parent!==a&&this.parent.remove(this),this.parent=a,this.resolved=!1;var b=a.root;b instanceof e&&b._handleAdd(this)},j.prototype.onRemove=function(a){var b=a.root;b instanceof e&&b._handleRemove(this),this.parent=null,this.resolved=!1},j.prototype.resolve=function(){return this.resolved||this.root instanceof e&&(this.resolved=!0),this},j.prototype._resolveFeaturesRecursive=function(a){return this._resolveFeatures(this._edition||a)},j.prototype._resolveFeatures=function(a){if(!this._featuresResolved){var b={};if(!a)throw Error("Unknown edition for "+this.fullName);var c=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(a));if(this._edition){if("proto2"===a)b=Object.assign({},h);else if("proto3"===a)b=Object.assign({},i);else if("2023"===a)b=Object.assign({},g);else throw Error("Unknown edition: "+a);this._features=Object.assign(b,c||{}),this._featuresResolved=!0;return}if(this.partOf instanceof d){var e=Object.assign({},this.partOf._features);this._features=Object.assign(e,c||{})}else if(this.declaringField);else if(this.parent){var f=Object.assign({},this.parent._features);this._features=Object.assign(f,c||{})}else throw Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},j.prototype._inferLegacyProtoFeatures=function(){return{}},j.prototype.getOption=function(a){if(this.options)return this.options[a]},j.prototype.setOption=function(a,b,c){return this.options||(this.options={}),/^features\./.test(a)?f.setProperty(this.options,a,b,c):c&&void 0!==this.options[a]||(this.getOption(a)!==b&&(this.resolved=!1),this.options[a]=b),this},j.prototype.setParsedOption=function(a,b,c){this.parsedOptions||(this.parsedOptions=[]);var d=this.parsedOptions;if(c){var e=d.find(function(b){return Object.prototype.hasOwnProperty.call(b,a)});if(e){var g=e[a];f.setProperty(g,c,b)}else(e={})[a]=f.setProperty({},c,b),d.push(e)}else{var h={};h[a]=b,d.push(h)}return this},j.prototype.setOptions=function(a,b){if(a)for(var c=Object.keys(a),d=0;d<c.length;++d)this.setOption(c[d],a[c[d]],b);return this},j.prototype.toString=function(){var a=this.constructor.className,b=this.fullName;return b.length?a+" "+b:a},j.prototype._editionToJSON=function(){if(this._edition&&"proto3"!==this._edition)return this._edition},j._configure=function(a){e=a}},38651,(a,b,c)=>{"use strict";b.exports=g;var d=a.r(71832);((g.prototype=Object.create(d.prototype)).constructor=g).className="Enum";var e=a.r(46142),f=a.r(25927);function g(a,b,c,e,f,g){if(d.call(this,a,c),b&&"object"!=typeof b)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=e,this.comments=f||{},this.valuesOptions=g,this._valuesFeatures={},this.reserved=void 0,b)for(var h=Object.keys(b),i=0;i<h.length;++i)"number"==typeof b[h[i]]&&(this.valuesById[this.values[h[i]]=b[h[i]]]=h[i])}g.prototype._resolveFeatures=function(a){return a=this._edition||a,d.prototype._resolveFeatures.call(this,a),Object.keys(this.values).forEach(a=>{var b=Object.assign({},this._features);this._valuesFeatures[a]=Object.assign(b,this.valuesOptions&&this.valuesOptions[a]&&this.valuesOptions[a].features)}),this},g.fromJSON=function(a,b){var c=new g(a,b.values,b.options,b.comment,b.comments);return c.reserved=b.reserved,b.edition&&(c._edition=b.edition),c._defaultEdition="proto3",c},g.prototype.toJSON=function(a){var b=!!a&&!!a.keepComments;return f.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",b?this.comment:void 0,"comments",b?this.comments:void 0])},g.prototype.add=function(a,b,c,d){if(!f.isString(a))throw TypeError("name must be a string");if(!f.isInteger(b))throw TypeError("id must be an integer");if(void 0!==this.values[a])throw Error("duplicate name '"+a+"' in "+this);if(this.isReservedId(b))throw Error("id "+b+" is reserved in "+this);if(this.isReservedName(a))throw Error("name '"+a+"' is reserved in "+this);if(void 0!==this.valuesById[b]){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+b+" in "+this);this.values[a]=b}else this.valuesById[this.values[a]=b]=a;return d&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[a]=d||null),this.comments[a]=c||null,this},g.prototype.remove=function(a){if(!f.isString(a))throw TypeError("name must be a string");var b=this.values[a];if(null==b)throw Error("name '"+a+"' does not exist in "+this);return delete this.valuesById[b],delete this.values[a],delete this.comments[a],this.valuesOptions&&delete this.valuesOptions[a],this},g.prototype.isReservedId=function(a){return e.isReservedId(this.reserved,a)},g.prototype.isReservedName=function(a){return e.isReservedName(this.reserved,a)}},41453,(a,b,c)=>{"use strict";b.exports=h;var d=a.r(38651),e=a.r(1703),f=a.r(25927);function g(a,b,c,d){return b.delimited?a("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",c,d,(b.id<<3|3)>>>0,(b.id<<3|4)>>>0):a("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",c,d,(b.id<<3|2)>>>0)}function h(a){for(var b,c,h=f.codegen(["m","w"],a.name+"$encode")("if(!w)")("w=Writer.create()"),i=a.fieldsArray.slice().sort(f.compareFieldsById),b=0;b<i.length;++b){var j=i[b].resolve(),k=a._fieldsArray.indexOf(j),l=j.resolvedType instanceof d?"int32":j.type,m=e.basic[l];c="m"+f.safeProp(j.name),j.map?(h("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",c,j.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",c)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(j.id<<3|2)>>>0,8|e.mapKey[j.keyType],j.keyType),void 0===m?h("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",k,c):h(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|m,l,c),h("}")("}")):j.repeated?(h("if(%s!=null&&%s.length){",c,c),j.packed&&void 0!==e.packed[l]?h("w.uint32(%i).fork()",(j.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",c)("w.%s(%s[i])",l,c)("w.ldelim()"):(h("for(var i=0;i<%s.length;++i)",c),void 0===m?g(h,j,k,c+"[i]"):h("w.uint32(%i).%s(%s[i])",(j.id<<3|m)>>>0,l,c)),h("}")):(j.optional&&h("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",c,j.name),void 0===m?g(h,j,k,c):h("w.uint32(%i).%s(%s)",(j.id<<3|m)>>>0,l,c))}return h("return w")}},41861,(a,b,c)=>{"use strict";b.exports=f;var d=a.r(46358);(f.prototype=Object.create(d.prototype)).constructor=f;var e=a.r(60469);function f(){d.call(this)}function g(a,b,c){a.length<40?e.utf8.write(a,b,c):b.utf8Write?b.utf8Write(a,c):b.write(a,c)}f._configure=function(){f.alloc=e._Buffer_allocUnsafe,f.writeBytesBuffer=e.Buffer&&e.Buffer.prototype instanceof Uint8Array&&"set"===e.Buffer.prototype.set.name?function(a,b,c){b.set(a,c)}:function(a,b,c){if(a.copy)a.copy(b,c,0,a.length);else for(var d=0;d<a.length;)b[c++]=a[d++]}},f.prototype.bytes=function(a){e.isString(a)&&(a=e._Buffer_from(a,"base64"));var b=a.length>>>0;return this.uint32(b),b&&this._push(f.writeBytesBuffer,b,a),this},f.prototype.string=function(a){var b=e.Buffer.byteLength(a);return this.uint32(b),b&&this._push(g,b,a),this},f._configure()},88940,(a,b,c)=>{"use strict";b.exports=f;var d=a.r(60194);(f.prototype=Object.create(d.prototype)).constructor=f;var e=a.r(60469);function f(a){d.call(this,a)}f._configure=function(){e.Buffer&&(f.prototype._slice=e.Buffer.prototype.slice)},f.prototype.string=function(){var a=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+a,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+a,this.len))},f._configure()},7223,(a,b,c)=>{"use strict";var d=c;function e(){d.util._configure(),d.Writer._configure(d.BufferWriter),d.Reader._configure(d.BufferReader)}d.build="minimal",d.Writer=a.r(46358),d.BufferWriter=a.r(41861),d.Reader=a.r(60194),d.BufferReader=a.r(88940),d.util=a.r(60469),d.rpc=a.r(84587),d.roots=a.r(7996),d.configure=e,e()},48172,(a,b,c)=>{"use strict";var d=b.exports=a.r(7223);function e(a,b,c){return"function"==typeof b?(c=b,b=new d.Root):b||(b=new d.Root),b.load(a,c)}function f(a,b){return b||(b=new d.Root),b.loadSync(a)}d.build="light",d.load=e,d.loadSync=f,d.encoder=a.r(41453),d.decoder=a.r(71256),d.verifier=a.r(14844),d.converter=a.r(16375),d.ReflectionObject=a.r(71832),d.Namespace=a.r(46142),d.Root=a.r(16092),d.Enum=a.r(38651),d.Type=a.r(59773),d.Field=a.r(82792),d.OneOf=a.r(92262),d.MapField=a.r(75121),d.Service=a.r(1472),d.Method=a.r(1463),d.Message=a.r(43132),d.wrappers=a.r(19542),d.types=a.r(1703),d.util=a.r(25927),d.ReflectionObject._configure(d.Root),d.Namespace._configure(d.Type,d.Service,d.Enum),d.Root._configure(d.Type),d.Field._configure(d.Type)},24812,(a,b,c)=>{"use strict";b.exports=n;var d=/[\s{}=;:[\],'"()<>]/g,e=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,f=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,g=/^ *[*/]+ */,h=/^\s*\*?\/*/,i=/\n/g,j=/\s/,k=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"	"};function m(a){return a.replace(k,function(a,b){switch(b){case"\\":case"":return b;default:return l[b]||""}})}function n(a,b){a=a.toString();var c=0,k=a.length,l=1,n=0,o={},p=[],q=null;function r(a){return Error("illegal "+a+" (line "+l+")")}function s(){var b="'"===q?f:e;b.lastIndex=c-1;var d=b.exec(a);if(!d)throw r("string");return c=b.lastIndex,y(q),q=null,m(d[1])}function t(b){return a.charAt(b)}function u(c,d,e){var f,j={type:a.charAt(c++),lineEmpty:!1,leading:e},k=c-(b?2:3);do if(--k<0||"\n"===(f=a.charAt(k))){j.lineEmpty=!0;break}while(" "===f||"	"===f)for(var m=a.substring(c,d).split(i),p=0;p<m.length;++p)m[p]=m[p].replace(b?h:g,"").trim();j.text=m.join("\n").trim(),o[l]=j,n=l}function v(b){var c=w(b),d=a.substring(b,c);return/^\s*\/\//.test(d)}function w(a){for(var b=a;b<k&&"\n"!==t(b);)b++;return b}function x(){if(p.length>0)return p.shift();if(q)return s();var e,f,g,h,i,m=0===c;do{if(c===k)return null;for(e=!1;j.test(g=t(c));)if("\n"===g&&(m=!0,++l),++c===k)return null;if("/"===t(c)){if(++c===k)throw r("comment");if("/"===t(c))if(b){if(h=c,i=!1,v(c-1)){i=!0;do if((c=w(c))===k||(c++,!m))break;while(v(c))}else c=Math.min(k,w(c)+1);i&&(u(h,c,m),m=!0),l++,e=!0}else{for(i="/"===t(h=c+1);"\n"!==t(++c);)if(c===k)return null;++c,i&&(u(h,c-1,m),m=!0),++l,e=!0}else{if("*"!==(g=t(c)))return"/";h=c+1,i=b||"*"===t(h);do{if("\n"===g&&++l,++c===k)throw r("comment");f=g,g=t(c)}while("*"!==f||"/"!==g)++c,i&&(u(h,c-2,m),m=!0),e=!0}}}while(e)var n=c;if(d.lastIndex=0,!d.test(t(n++)))for(;n<k&&!d.test(t(n));)++n;var o=a.substring(c,c=n);return('"'===o||"'"===o)&&(q=o),o}function y(a){p.push(a)}function z(){if(!p.length){var a=x();if(null===a)return null;y(a)}return p[0]}function A(a,b){var c=z();if(c===a)return x(),!0;if(!b)throw r("token '"+c+"', '"+a+"' expected");return!1}function B(a){var c,d=null;return void 0===a?(c=o[l-1],delete o[l-1],c&&(b||"*"===c.type||c.lineEmpty)&&(d=c.leading?c.text:null)):(n<a&&z(),c=o[a],delete o[a],c&&!c.lineEmpty&&(b||"/"===c.type)&&(d=c.leading?null:c.text)),d}return Object.defineProperty({next:x,peek:z,push:y,skip:A,cmnt:B},"line",{get:function(){return l}})}n.unescape=m},75847,(a,b,c)=>{"use strict";b.exports=y,y.filename=null,y.defaults={keepCase:!1};var d=a.r(24812),e=a.r(16092),f=a.r(59773),g=a.r(82792),h=a.r(75121),i=a.r(92262),j=a.r(38651),k=a.r(1472),l=a.r(1463),m=a.r(71832),n=a.r(1703),o=a.r(25927),p=/^[1-9][0-9]*$/,q=/^-?[1-9][0-9]*$/,r=/^0[x][0-9a-fA-F]+$/,s=/^-?0[x][0-9a-fA-F]+$/,t=/^0[0-7]+$/,u=/^-?0[0-7]+$/,v=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,x=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function y(a,b,c){b instanceof e||(c=b,b=new e),c||(c=y.defaults);var z,A,B,C,D=c.preferTrailingComment||!1,E=d(a,c.alternateCommentMode||!1),F=E.next,G=E.push,H=E.peek,I=E.skip,J=E.cmnt,K=!0,L="proto2",M=b,N=[],O={},P=c.keepCase?function(a){return a}:o.camelCase;function Q(){N.forEach(a=>{a._edition=L,Object.keys(O).forEach(b=>{void 0===a.getOption(b)&&a.setOption(b,O[b],!0)})})}function R(a,b,c){var d=y.filename;return c||(y.filename=null),Error("illegal "+(b||"token")+" '"+a+"' ("+(d?d+", ":"")+"line "+E.line+")")}function S(){var a,b=[];do{if('"'!==(a=F())&&"'"!==a)throw R(a);b.push(F()),I(a),a=H()}while('"'===a||"'"===a)return b.join("")}function T(a){var b=F();switch(b){case"'":case'"':return G(b),S();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return V(b,!0)}catch(c){if(a&&x.test(b))return b;throw R(b,"value")}}function U(a,b){do if(b&&('"'===(c=H())||"'"===c)){var c,d,e=S();if(a.push(e),L>=2023)throw R(e,"id")}else try{a.push([d=W(F()),I("to",!0)?W(F()):d])}catch(d){if(b&&x.test(c)&&L>=2023)a.push(c);else throw d}while(I(",",!0))var f={options:void 0};f.setOption=function(a,b){void 0===this.options&&(this.options={}),this.options[a]=b},aa(f,function(a){if("option"===a)ai(f,a),I(";");else throw R(a)},function(){am(f)})}function V(a,b){var c=1;switch("-"===a.charAt(0)&&(c=-1,a=a.substring(1)),a){case"inf":case"INF":case"Inf":return 1/0*c;case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(a))return c*parseInt(a,10);if(r.test(a))return c*parseInt(a,16);if(t.test(a))return c*parseInt(a,8);if(v.test(a))return c*parseFloat(a);throw R(a,"number",b)}function W(a,b){switch(a){case"max":case"MAX":case"Max":return 0x1fffffff;case"0":return 0}if(!b&&"-"===a.charAt(0))throw R(a,"id");if(q.test(a))return parseInt(a,10);if(s.test(a))return parseInt(a,16);if(u.test(a))return parseInt(a,8);throw R(a,"id")}function X(){if(void 0!==A)throw R("package");if(A=F(),!x.test(A))throw R(A,"name");M=M.define(A),I(";")}function Y(){var a,b=H();switch(b){case"weak":a=C||(C=[]),F();break;case"public":F();default:a=B||(B=[])}b=S(),I(";"),a.push(b)}function Z(){if(I("="),(L=S())<2023)throw R(L,"syntax");I(";")}function $(){if(I("="),!["2023"].includes(L=S()))throw R(L,"edition");I(";")}function _(a,b){switch(b){case"option":return ai(a,b),I(";"),!0;case"message":return ab(a,b),!0;case"enum":return ag(a,b),!0;case"service":return an(a,b),!0;case"extend":return ap(a,b),!0}return!1}function aa(a,b,c){var d,e=E.line;if(a&&("string"!=typeof a.comment&&(a.comment=J()),a.filename=y.filename),I("{",!0)){for(;"}"!==(d=F());)b(d);I(";",!0)}else c&&c(),I(";"),a&&("string"!=typeof a.comment||D)&&(a.comment=J(e)||a.comment)}function ab(a,b){if(!w.test(b=F()))throw R(b,"type name");var c=new f(b);aa(c,function(a){if(!_(c,a))switch(a){case"map":ae(c,a);break;case"required":if("proto2"!==L)throw R(a);case"repeated":ac(c,a);break;case"optional":if("proto3"===L)ac(c,"proto3_optional");else if("proto2"!==L)throw R(a);else ac(c,"optional");break;case"oneof":af(c,a);break;case"extensions":U(c.extensions||(c.extensions=[]));break;case"reserved":U(c.reserved||(c.reserved=[]),!0);break;default:if("proto2"===L||!x.test(a))throw R(a);G(a),ac(c,"optional")}}),a.add(c),a===M&&N.push(c)}function ac(a,b,c){var d=F();if("group"===d)return void ad(a,b);for(;d.endsWith(".")||H().startsWith(".");)d+=F();if(!x.test(d))throw R(d,"type");var e=F();if(!w.test(e))throw R(e,"name");e=P(e),I("=");var f=new g(e,W(F()),d,b,c);if(aa(f,function(a){if("option"===a)ai(f,a),I(";");else throw R(a)},function(){am(f)}),"proto3_optional"===b){var h=new i("_"+e);f.setOption("proto3_optional",!0),h.add(f),a.add(h)}else a.add(f);a===M&&N.push(f)}function ad(a,b){if(L>=2023)throw R("group");var c=F();if(!w.test(c))throw R(c,"name");var d=o.lcFirst(c);c===d&&(c=o.ucFirst(c)),I("=");var e=W(F()),h=new f(c);h.group=!0;var i=new g(d,e,c,b);i.filename=y.filename,aa(h,function(a){switch(a){case"option":ai(h,a),I(";");break;case"required":case"repeated":ac(h,a);break;case"optional":"proto3"===L?ac(h,"proto3_optional"):ac(h,"optional");break;case"message":ab(h,a);break;case"enum":ag(h,a);break;case"reserved":U(h.reserved||(h.reserved=[]),!0);break;default:throw R(a)}}),a.add(h).add(i)}function ae(a){I("<");var b=F();if(void 0===n.mapKey[b])throw R(b,"type");I(",");var c=F();if(!x.test(c))throw R(c,"type");I(">");var d=F();if(!w.test(d))throw R(d,"name");I("=");var e=new h(P(d),W(F()),b,c);aa(e,function(a){if("option"===a)ai(e,a),I(";");else throw R(a)},function(){am(e)}),a.add(e)}function af(a,b){if(!w.test(b=F()))throw R(b,"name");var c=new i(P(b));aa(c,function(a){"option"===a?(ai(c,a),I(";")):(G(a),ac(c,"optional"))}),a.add(c)}function ag(a,b){if(!w.test(b=F()))throw R(b,"name");var c=new j(b);aa(c,function(a){switch(a){case"option":ai(c,a),I(";");break;case"reserved":U(c.reserved||(c.reserved=[]),!0),void 0===c.reserved&&(c.reserved=[]);break;default:ah(c,a)}}),a.add(c),a===M&&N.push(c)}function ah(a,b){if(!w.test(b))throw R(b,"name");I("=");var c=W(F(),!0),d={options:void 0};d.getOption=function(a){return this.options[a]},d.setOption=function(a,b){m.prototype.setOption.call(d,a,b)},d.setParsedOption=function(){},aa(d,function(a){if("option"===a)ai(d,a),I(";");else throw R(a)},function(){am(d)}),a.add(b,c,d.comment,d.parsedOptions||d.options)}function ai(a,b){var c,d,e=!0;for("option"===b&&(b=F());"="!==b;){if("("===b){var f=F();I(")"),b="("+f+")"}if(e){if(e=!1,b.includes(".")&&!b.includes("(")){var g=b.split(".");c=g[0]+".",b=g[1];continue}c=b}else d=d?d+=b:b;b=F()}var h=aj(a,d?c.concat(d):c);d=d&&"."===d[0]?d.slice(1):d,al(a,c=c&&"."===c[c.length-1]?c.slice(0,-1):c,h,d)}function aj(a,b){if(I("{",!0)){for(var c={};!I("}",!0);){if(!w.test(z=F()))throw R(z,"name");if(null===z)throw R(z,"end of input");var d,e,f=z;if(I(":",!0),"{"===H())d=aj(a,b+"."+z);else if("["===H()){if(d=[],I("[",!0)){do e=T(!0),d.push(e);while(I(",",!0))I("]"),void 0!==e&&ak(a,b+"."+z,e)}}else d=T(!0),ak(a,b+"."+z,d);var g=c[f];g&&(d=[].concat(g).concat(d)),c[f]=d,I(",",!0),I(";",!0)}return c}var h=T(!0);return ak(a,b,h),h}function ak(a,b,c){if(M===a&&/^features\./.test(b)){O[b]=c;return}a.setOption&&a.setOption(b,c)}function al(a,b,c,d){a.setParsedOption&&a.setParsedOption(b,c,d)}function am(a){if(I("[",!0)){do ai(a,"option");while(I(",",!0))I("]")}return a}function an(a,b){if(!w.test(b=F()))throw R(b,"service name");var c=new k(b);aa(c,function(a){if(!_(c,a))if("rpc"===a)ao(c,a);else throw R(a)}),a.add(c),a===M&&N.push(c)}function ao(a,b){var c=J(),d=b;if(!w.test(b=F()))throw R(b,"name");var e,f,g,h,i=b;if(I("("),I("stream",!0)&&(f=!0),!x.test(b=F())||(e=b,I(")"),I("returns"),I("("),I("stream",!0)&&(h=!0),!x.test(b=F())))throw R(b);g=b,I(")");var j=new l(i,d,e,g,f,h);j.comment=c,aa(j,function(a){if("option"===a)ai(j,a),I(";");else throw R(a)}),a.add(j)}function ap(a,b){if(!x.test(b=F()))throw R(b,"reference");var c=b;aa(null,function(b){switch(b){case"required":case"repeated":ac(a,b,c);break;case"optional":"proto3"===L?ac(a,"proto3_optional",c):ac(a,"optional",c);break;default:if("proto2"===L||!x.test(b))throw R(b);G(b),ac(a,"optional",c)}})}for(;null!==(z=F());)switch(z){case"package":if(!K)throw R(z);X();break;case"import":if(!K)throw R(z);Y();break;case"syntax":if(!K)throw R(z);Z();break;case"edition":if(!K)throw R(z);$();break;case"option":ai(M,z),I(";",!0);break;default:if(_(M,z)){K=!1;continue}throw R(z)}return Q(),y.filename=null,{package:A,imports:B,weakImports:C,root:b}}},71767,(a,b,c)=>{"use strict";b.exports=f;var d,e=/\/|\./;function f(a,b){e.test(a)||(a="google/protobuf/"+a+".proto",b={nested:{google:{nested:{protobuf:{nested:b}}}}}),f[a]=b}f("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),f("duration",{Duration:d={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),f("timestamp",{Timestamp:d}),f("empty",{Empty:{fields:{}}}),f("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),f("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),f("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),f.get=function(a){return f[a]||null}},16018,(a,b,c)=>{"use strict";var d=b.exports=a.r(48172);d.build="full",d.tokenize=a.r(24812),d.parse=a.r(75847),d.common=a.r(71767),d.Root._configure(d.Type,d.parse,d.common)},12767,(a,b,c)=>{"use strict";b.exports=a.r(16018)},58912,(a,b,c)=>{"use strict";var d=a.r(12767);b.exports=c=d.descriptor=d.Root.fromJSON(a.r(85565)).lookup(".google.protobuf");var e=d.Namespace,f=d.Root,g=d.Enum,h=d.Type,i=d.Field,j=d.MapField,k=d.OneOf,l=d.Service,m=d.Method;function n(a,b,d){var j=c.FileDescriptorProto.create({name:a.filename||(a.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});E(d,j),a instanceof f||(j.package=a.fullName.substring(1));for(var k,m=0;m<a.nestedArray.length;++m)(k=a._nestedArray[m])instanceof h?j.messageType.push(k.toDescriptor(d)):k instanceof g?j.enumType.push(k.toDescriptor()):k instanceof i?j.extension.push(k.toDescriptor(d)):k instanceof l?j.service.push(k.toDescriptor()):k instanceof e&&n(k,b,d);j.options=A(a.options,c.FileOptions),j.messageType.length+j.enumType.length+j.extension.length+j.service.length&&b.push(j)}f.fromDescriptor=function(a){"number"==typeof a.length&&(a=c.FileDescriptorSet.decode(a));var b=new f;if(a.file)for(var d,e,j,k=0;k<a.file.length;++k){e=b,(d=a.file[k]).package&&d.package.length&&(e=b.define(d.package));var m=D(d);if(d.name&&d.name.length&&b.files.push(e.filename=d.name),d.messageType)for(j=0;j<d.messageType.length;++j)e.add(h.fromDescriptor(d.messageType[j],m));if(d.enumType)for(j=0;j<d.enumType.length;++j)e.add(g.fromDescriptor(d.enumType[j],m));if(d.extension)for(j=0;j<d.extension.length;++j)e.add(i.fromDescriptor(d.extension[j],m));if(d.service)for(j=0;j<d.service.length;++j)e.add(l.fromDescriptor(d.service[j],m));var n=y(d.options,c.FileOptions);if(n){var o=Object.keys(n);for(j=0;j<o.length;++j)e.setOption(o[j],n[o[j]])}}return b.resolveAll()},f.prototype.toDescriptor=function(a){var b=c.FileDescriptorSet.create();return n(this,b.file,a),b};var o=0;h.fromDescriptor=function(a,b,d){"number"==typeof a.length&&(a=c.DescriptorProto.decode(a));var e,f=new h(a.name.length?a.name:"Type"+o++,y(a.options,c.MessageOptions));if(d||(f._edition=b),a.oneofDecl)for(e=0;e<a.oneofDecl.length;++e)f.add(k.fromDescriptor(a.oneofDecl[e]));if(a.field)for(e=0;e<a.field.length;++e){var j=i.fromDescriptor(a.field[e],b,!0);f.add(j),a.field[e].hasOwnProperty("oneofIndex")&&f.oneofsArray[a.field[e].oneofIndex].add(j)}if(a.extension)for(e=0;e<a.extension.length;++e)f.add(i.fromDescriptor(a.extension[e],b,!0));if(a.nestedType)for(e=0;e<a.nestedType.length;++e)f.add(h.fromDescriptor(a.nestedType[e],b,!0)),a.nestedType[e].options&&a.nestedType[e].options.mapEntry&&f.setOption("map_entry",!0);if(a.enumType)for(e=0;e<a.enumType.length;++e)f.add(g.fromDescriptor(a.enumType[e],b,!0));if(a.extensionRange&&a.extensionRange.length)for(e=0,f.extensions=[];e<a.extensionRange.length;++e)f.extensions.push([a.extensionRange[e].start,a.extensionRange[e].end]);if(a.reservedRange&&a.reservedRange.length||a.reservedName&&a.reservedName.length){if(f.reserved=[],a.reservedRange)for(e=0;e<a.reservedRange.length;++e)f.reserved.push([a.reservedRange[e].start,a.reservedRange[e].end]);if(a.reservedName)for(e=0;e<a.reservedName.length;++e)f.reserved.push(a.reservedName[e])}return f},h.prototype.toDescriptor=function(a){var b,d,e=c.DescriptorProto.create({name:this.name});for(d=0;d<this.fieldsArray.length;++d)if(e.field.push(b=this._fieldsArray[d].toDescriptor(a)),this._fieldsArray[d]instanceof j){var f=w(this._fieldsArray[d].keyType,this._fieldsArray[d].resolvedKeyType,!1),k=w(this._fieldsArray[d].type,this._fieldsArray[d].resolvedType,!1),l=11===k||14===k?this._fieldsArray[d].resolvedType&&B(this.parent,this._fieldsArray[d].resolvedType)||this._fieldsArray[d].type:void 0;e.nestedType.push(c.DescriptorProto.create({name:b.typeName,field:[c.FieldDescriptorProto.create({name:"key",number:1,label:1,type:f}),c.FieldDescriptorProto.create({name:"value",number:2,label:1,type:k,typeName:l})],options:c.MessageOptions.create({mapEntry:!0})}))}for(d=0;d<this.oneofsArray.length;++d)e.oneofDecl.push(this._oneofsArray[d].toDescriptor());for(d=0;d<this.nestedArray.length;++d)this._nestedArray[d]instanceof i?e.field.push(this._nestedArray[d].toDescriptor(a)):this._nestedArray[d]instanceof h?e.nestedType.push(this._nestedArray[d].toDescriptor(a)):this._nestedArray[d]instanceof g&&e.enumType.push(this._nestedArray[d].toDescriptor());if(this.extensions)for(d=0;d<this.extensions.length;++d)e.extensionRange.push(c.DescriptorProto.ExtensionRange.create({start:this.extensions[d][0],end:this.extensions[d][1]}));if(this.reserved)for(d=0;d<this.reserved.length;++d)"string"==typeof this.reserved[d]?e.reservedName.push(this.reserved[d]):e.reservedRange.push(c.DescriptorProto.ReservedRange.create({start:this.reserved[d][0],end:this.reserved[d][1]}));return e.options=A(this.options,c.MessageOptions),e};var p=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;i.fromDescriptor=function(a,b,d){if("number"==typeof a.length&&(a=c.DescriptorProto.decode(a)),"number"!=typeof a.number)throw Error("missing field id");switch(e=a.typeName&&a.typeName.length?a.typeName:u(a.type),a.label){case 1:f=void 0;break;case 2:f="required";break;case 3:f="repeated";break;default:throw Error("illegal label: "+a.label)}var e,f,g=a.extendee;void 0!==a.extendee&&(g=g.length?g:void 0);var h=new i(a.name.length?a.name:"field"+a.number,a.number,e,f,g);if(d||(h._edition=b),h.options=y(a.options,c.FieldOptions),a.proto3_optional&&(h.options.proto3_optional=!0),a.defaultValue&&a.defaultValue.length){var j=a.defaultValue;switch(j){case"true":case"TRUE":j=!0;break;case"false":case"FALSE":j=!1;break;default:p.exec(j)&&(j=parseInt(j))}h.setOption("default",j)}return v(a.type)&&("proto3"===b?a.options&&!a.options.packed&&h.setOption("packed",!1):(!b||"proto2"===b)&&a.options&&a.options.packed&&h.setOption("packed",!0)),h},i.prototype.toDescriptor=function(a){var b=c.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)b.type=11,b.typeName=d.util.ucFirst(this.name),b.label=3;else{switch(b.type=w(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:b.typeName=this.resolvedType?B(this.parent,this.resolvedType):this.type}"repeated"===this.rule?b.label=3:this.required&&"proto2"===a?b.label=2:b.label=1}if(b.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(b.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(b.options=A(this.options,c.FieldOptions),null!=this.options.default&&(b.defaultValue=String(this.options.default)),this.options.proto3_optional&&(b.proto3_optional=!0)),"proto3"===a?this.packed||((b.options||(b.options=c.FieldOptions.create())).packed=!1):(!a||"proto2"===a)&&this.packed&&((b.options||(b.options=c.FieldOptions.create())).packed=!0),b};var q=0;g.fromDescriptor=function(a,b,d){"number"==typeof a.length&&(a=c.EnumDescriptorProto.decode(a));var e={};if(a.value)for(var f=0;f<a.value.length;++f){var h=a.value[f].name,i=a.value[f].number||0;e[h&&h.length?h:"NAME"+i]=i}var j=new g(a.name&&a.name.length?a.name:"Enum"+q++,e,y(a.options,c.EnumOptions));return d||(j._edition=b),j},g.prototype.toDescriptor=function(){for(var a=[],b=0,d=Object.keys(this.values);b<d.length;++b)a.push(c.EnumValueDescriptorProto.create({name:d[b],number:this.values[d[b]]}));return c.EnumDescriptorProto.create({name:this.name,value:a,options:A(this.options,c.EnumOptions)})};var r=0;k.fromDescriptor=function(a){return"number"==typeof a.length&&(a=c.OneofDescriptorProto.decode(a)),new k(a.name&&a.name.length?a.name:"oneof"+r++)},k.prototype.toDescriptor=function(){return c.OneofDescriptorProto.create({name:this.name})};var s=0;l.fromDescriptor=function(a,b,d){"number"==typeof a.length&&(a=c.ServiceDescriptorProto.decode(a));var e=new l(a.name&&a.name.length?a.name:"Service"+s++,y(a.options,c.ServiceOptions));if(d||(e._edition=b),a.method)for(var f=0;f<a.method.length;++f)e.add(m.fromDescriptor(a.method[f]));return e},l.prototype.toDescriptor=function(){for(var a=[],b=0;b<this.methodsArray.length;++b)a.push(this._methodsArray[b].toDescriptor());return c.ServiceDescriptorProto.create({name:this.name,method:a,options:A(this.options,c.ServiceOptions)})};var t=0;function u(a){switch(a){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+a)}function v(a){switch(a){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function w(a,b,c){switch(a){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(b instanceof g)return 14;if(b instanceof h)return c?10:11;throw Error("illegal type: "+a)}function x(a,b){for(var c,d,e={},f=0;f<b.fieldsArray.length;++f)if("uninterpretedOption"!==(d=(c=b._fieldsArray[f]).name)&&Object.prototype.hasOwnProperty.call(a,d)){var i=C(d);c.resolvedType instanceof h?e[i]=x(a[d],c.resolvedType):c.resolvedType instanceof g?e[i]=c.resolvedType.valuesById[a[d]]:e[i]=a[d]}return e}function y(a,b){if(a)return x(b.toObject(a),b)}function z(a,b){for(var c={},e=Object.keys(a),f=0;f<e.length;++f){var g=e[f],i=d.util.camelCase(g);if(Object.prototype.hasOwnProperty.call(b.fields,i)){var j=b.fields[i];j.resolvedType instanceof h?c[i]=z(a[g],j.resolvedType):c[i]=a[g],j.repeated&&!Array.isArray(c[i])&&(c[i]=[c[i]])}}return c}function A(a,b){if(a)return b.fromObject(z(a,b))}function B(a,b){var c=a.fullName.split("."),d=b.fullName.split("."),g=0,h=0,i=d.length-1;if(!(a instanceof f)&&b instanceof e)for(;g<c.length&&h<i&&c[g]===d[h];){var j=b.lookup(c[g++],!0);if(null!==j&&j!==b)break;++h}else for(;g<c.length&&h<i&&c[g]===d[h];++g,++h);return d.slice(h).join(".")}function C(a){return a.substring(0,1)+a.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(a,b){return"_"+b.toLowerCase()})}function D(a){if("editions"===a.syntax)if(a.edition===c.Edition.EDITION_2023)return"2023";else throw Error("Unsupported edition "+a.edition);return"proto3"===a.syntax?"proto3":"proto2"}function E(a,b){if(a)if("proto2"===a||"proto3"===a)b.syntax=a;else if(b.syntax="editions","2023"===a)b.edition=c.Edition.EDITION_2023;else throw Error("Unsupported edition "+a)}m.fromDescriptor=function(a){return"number"==typeof a.length&&(a=c.MethodDescriptorProto.decode(a)),new m(a.name&&a.name.length?a.name:"Method"+t++,"rpc",a.inputType,a.outputType,!!a.clientStreaming,!!a.serverStreaming,y(a.options,c.MethodOptions))},m.prototype.toDescriptor=function(){return c.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:A(this.options,c.MethodOptions)})}},10609,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.addCommonProtos=c.loadProtosWithOptionsSync=c.loadProtosWithOptions=void 0;let d=a.r(22734),e=a.r(14747),f=a.r(12767);function g(a,b){let c=a.resolvePath;a.resolvePath=(a,f)=>{if(e.isAbsolute(f))return f;for(let a of b){let b=e.join(a,f);try{return d.accessSync(b,d.constants.R_OK),b}catch(a){continue}}return process.emitWarning(`${f} not found in any of the include paths ${b}`),c(a,f)}}c.loadProtosWithOptions=async function(a,b){let c=new f.Root;if((b=b||{}).includeDirs){if(!Array.isArray(b.includeDirs))return Promise.reject(Error("The includeDirs option must be an array"));g(c,b.includeDirs)}let d=await c.load(a,b);return d.resolveAll(),d},c.loadProtosWithOptionsSync=function(a,b){let c=new f.Root;if((b=b||{}).includeDirs){if(!Array.isArray(b.includeDirs))throw Error("The includeDirs option must be an array");g(c,b.includeDirs)}let d=c.loadSync(a,b);return d.resolveAll(),d},c.addCommonProtos=function(){let b=a.r(58950),c=a.r(85565),d=a.r(48109),e=a.r(95685);f.common("api",b.nested.google.nested.protobuf.nested),f.common("descriptor",c.nested.google.nested.protobuf.nested),f.common("source_context",d.nested.google.nested.protobuf.nested),f.common("type",e.nested.google.nested.protobuf.nested)}},56009,(a,b,c)=>{!function(d,e){function f(a){return a.default||a}if("function"==typeof define&&define.amd){let b;void 0!==(b=function(){var a={};return e(a),f(a)}())&&a.v(b)}else e(c),b.exports=f(c)}("u">typeof globalThis?globalThis:"u">typeof self?self:a.e,function(a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var b=null;try{b=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function c(a,b,c){this.low=0|a,this.high=0|b,this.unsigned=!!c}function d(a){return!0===(a&&a.__isLong__)}function e(a){var b=Math.clz32(a&-a);return a?31-b:b}c.prototype.__isLong__,Object.defineProperty(c.prototype,"__isLong__",{value:!0}),c.isLong=d;var f={},g={};function h(a,b){var c,d,e;if(b)return(a>>>=0,(e=0<=a&&a<256)&&(d=g[a]))?d:(c=j(a,0,!0),e&&(g[a]=c),c);return(a|=0,(e=-128<=a&&a<128)&&(d=f[a]))?d:(c=j(a,a<0?-1:0,!1),e&&(f[a]=c),c)}function i(a,b){if(isNaN(a))return b?s:r;if(b){if(a<0)return s;if(a>=o)return x}else{if(a<=-p)return y;if(a+1>=p)return w}return a<0?i(-a,b).neg():j(a%n|0,a/n|0,b)}function j(a,b,d){return new c(a,b,d)}c.fromInt=h,c.fromNumber=i,c.fromBits=j;var k=Math.pow;function l(a,b,c){if(0===a.length)throw Error("empty string");if("number"==typeof b?(c=b,b=!1):b=!!b,"NaN"===a||"Infinity"===a||"+Infinity"===a||"-Infinity"===a)return b?s:r;if((c=c||10)<2||36<c)throw RangeError("radix");if((d=a.indexOf("-"))>0)throw Error("interior hyphen");if(0===d)return l(a.substring(1),b,c).neg();for(var d,e=i(k(c,8)),f=r,g=0;g<a.length;g+=8){var h=Math.min(8,a.length-g),j=parseInt(a.substring(g,g+h),c);if(h<8){var m=i(k(c,h));f=f.mul(m).add(i(j))}else f=(f=f.mul(e)).add(i(j))}return f.unsigned=b,f}function m(a,b){return"number"==typeof a?i(a,b):"string"==typeof a?l(a,b):j(a.low,a.high,"boolean"==typeof b?b:a.unsigned)}c.fromString=l,c.fromValue=m;var n=0x100000000,o=0xffffffffffffffff,p=0x8000000000000000,q=h(0x1000000),r=h(0);c.ZERO=r;var s=h(0,!0);c.UZERO=s;var t=h(1);c.ONE=t;var u=h(1,!0);c.UONE=u;var v=h(-1);c.NEG_ONE=v;var w=j(-1,0x7fffffff,!1);c.MAX_VALUE=w;var x=j(-1,-1,!0);c.MAX_UNSIGNED_VALUE=x;var y=j(0,-0x80000000,!1);c.MIN_VALUE=y;var z=c.prototype;z.toInt=function(){return this.unsigned?this.low>>>0:this.low},z.toNumber=function(){return this.unsigned?(this.high>>>0)*n+(this.low>>>0):this.high*n+(this.low>>>0)},z.toString=function(a){if((a=a||10)<2||36<a)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(!this.eq(y))return"-"+this.neg().toString(a);else{var b=i(a),c=this.div(b),d=c.mul(b).sub(this);return c.toString(a)+d.toInt().toString(a)}for(var e=i(k(a,6),this.unsigned),f=this,g="";;){var h=f.div(e),j=(f.sub(h.mul(e)).toInt()>>>0).toString(a);if((f=h).isZero())return j+g;for(;j.length<6;)j="0"+j;g=""+j+g}},z.getHighBits=function(){return this.high},z.getHighBitsUnsigned=function(){return this.high>>>0},z.getLowBits=function(){return this.low},z.getLowBitsUnsigned=function(){return this.low>>>0},z.getNumBitsAbs=function(){if(this.isNegative())return this.eq(y)?64:this.neg().getNumBitsAbs();for(var a=0!=this.high?this.high:this.low,b=31;b>0&&(a&1<<b)==0;b--);return 0!=this.high?b+33:b+1},z.isSafeInteger=function(){var a=this.high>>21;return!a||!this.unsigned&&-1===a&&(0!==this.low||-2097152!==this.high)},z.isZero=function(){return 0===this.high&&0===this.low},z.eqz=z.isZero,z.isNegative=function(){return!this.unsigned&&this.high<0},z.isPositive=function(){return this.unsigned||this.high>=0},z.isOdd=function(){return(1&this.low)==1},z.isEven=function(){return(1&this.low)==0},z.equals=function(a){return d(a)||(a=m(a)),(this.unsigned===a.unsigned||this.high>>>31!=1||a.high>>>31!=1)&&this.high===a.high&&this.low===a.low},z.eq=z.equals,z.notEquals=function(a){return!this.eq(a)},z.neq=z.notEquals,z.ne=z.notEquals,z.lessThan=function(a){return 0>this.comp(a)},z.lt=z.lessThan,z.lessThanOrEqual=function(a){return 0>=this.comp(a)},z.lte=z.lessThanOrEqual,z.le=z.lessThanOrEqual,z.greaterThan=function(a){return this.comp(a)>0},z.gt=z.greaterThan,z.greaterThanOrEqual=function(a){return this.comp(a)>=0},z.gte=z.greaterThanOrEqual,z.ge=z.greaterThanOrEqual,z.compare=function(a){if(d(a)||(a=m(a)),this.eq(a))return 0;var b=this.isNegative(),c=a.isNegative();return b&&!c?-1:!b&&c?1:this.unsigned?a.high>>>0>this.high>>>0||a.high===this.high&&a.low>>>0>this.low>>>0?-1:1:this.sub(a).isNegative()?-1:1},z.comp=z.compare,z.negate=function(){return!this.unsigned&&this.eq(y)?y:this.not().add(t)},z.neg=z.negate,z.add=function(a){d(a)||(a=m(a));var b,c,e=this.high>>>16,f=65535&this.high,g=this.low>>>16,h=65535&this.low,i=a.high>>>16,k=65535&a.high,l=a.low>>>16,n=65535&a.low,o=0,p=0;return b=0+((c=0+(h+n))>>>16),c&=65535,b+=g+l,p+=b>>>16,b&=65535,p+=f+k,o+=p>>>16,p&=65535,o+=e+i,j(b<<16|c,(o&=65535)<<16|p,this.unsigned)},z.subtract=function(a){return d(a)||(a=m(a)),this.add(a.neg())},z.sub=z.subtract,z.multiply=function(a){if(this.isZero())return this;if(d(a)||(a=m(a)),b)return j(b.mul(this.low,this.high,a.low,a.high),b.get_high(),this.unsigned);if(a.isZero())return this.unsigned?s:r;if(this.eq(y))return a.isOdd()?y:r;if(a.eq(y))return this.isOdd()?y:r;if(this.isNegative())if(a.isNegative())return this.neg().mul(a.neg());else return this.neg().mul(a).neg();if(a.isNegative())return this.mul(a.neg()).neg();if(this.lt(q)&&a.lt(q))return i(this.toNumber()*a.toNumber(),this.unsigned);var c,e,f=this.high>>>16,g=65535&this.high,h=this.low>>>16,k=65535&this.low,l=a.high>>>16,n=65535&a.high,o=a.low>>>16,p=65535&a.low,t=0,u=0;return c=0+((e=0+k*p)>>>16),e&=65535,c+=h*p,u+=c>>>16,c&=65535,c+=k*o,u+=c>>>16,c&=65535,u+=g*p,t+=u>>>16,u&=65535,u+=h*o,t+=u>>>16,u&=65535,u+=k*n,t+=u>>>16,u&=65535,t+=f*p+g*o+h*n+k*l,j(c<<16|e,(t&=65535)<<16|u,this.unsigned)},z.mul=z.multiply,z.divide=function(a){if(d(a)||(a=m(a)),a.isZero())throw Error("division by zero");if(b){var c,e,f;return this.unsigned||-0x80000000!==this.high||-1!==a.low||-1!==a.high?j((this.unsigned?b.div_u:b.div_s)(this.low,this.high,a.low,a.high),b.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?s:r;if(this.unsigned){if(a.unsigned||(a=a.toUnsigned()),a.gt(this))return s;if(a.gt(this.shru(1)))return u;f=s}else{if(this.eq(y))if(a.eq(t)||a.eq(v))return y;else return a.eq(y)?t:(c=this.shr(1).div(a).shl(1)).eq(r)?a.isNegative()?t:v:(e=this.sub(a.mul(c)),f=c.add(e.div(a)));if(a.eq(y))return this.unsigned?s:r;if(this.isNegative())return a.isNegative()?this.neg().div(a.neg()):this.neg().div(a).neg();if(a.isNegative())return this.div(a.neg()).neg();f=r}for(e=this;e.gte(a);){for(var g=Math.ceil(Math.log(c=Math.max(1,Math.floor(e.toNumber()/a.toNumber())))/Math.LN2),h=g<=48?1:k(2,g-48),l=i(c),n=l.mul(a);n.isNegative()||n.gt(e);)c-=h,n=(l=i(c,this.unsigned)).mul(a);l.isZero()&&(l=t),f=f.add(l),e=e.sub(n)}return f},z.div=z.divide,z.modulo=function(a){return(d(a)||(a=m(a)),b)?j((this.unsigned?b.rem_u:b.rem_s)(this.low,this.high,a.low,a.high),b.get_high(),this.unsigned):this.sub(this.div(a).mul(a))},z.mod=z.modulo,z.rem=z.modulo,z.not=function(){return j(~this.low,~this.high,this.unsigned)},z.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},z.clz=z.countLeadingZeros,z.countTrailingZeros=function(){return this.low?e(this.low):e(this.high)+32},z.ctz=z.countTrailingZeros,z.and=function(a){return d(a)||(a=m(a)),j(this.low&a.low,this.high&a.high,this.unsigned)},z.or=function(a){return d(a)||(a=m(a)),j(this.low|a.low,this.high|a.high,this.unsigned)},z.xor=function(a){return d(a)||(a=m(a)),j(this.low^a.low,this.high^a.high,this.unsigned)},z.shiftLeft=function(a){return(d(a)&&(a=a.toInt()),0==(a&=63))?this:a<32?j(this.low<<a,this.high<<a|this.low>>>32-a,this.unsigned):j(0,this.low<<a-32,this.unsigned)},z.shl=z.shiftLeft,z.shiftRight=function(a){return(d(a)&&(a=a.toInt()),0==(a&=63))?this:a<32?j(this.low>>>a|this.high<<32-a,this.high>>a,this.unsigned):j(this.high>>a-32,this.high>=0?0:-1,this.unsigned)},z.shr=z.shiftRight,z.shiftRightUnsigned=function(a){return(d(a)&&(a=a.toInt()),0==(a&=63))?this:a<32?j(this.low>>>a|this.high<<32-a,this.high>>>a,this.unsigned):32===a?j(this.high,0,this.unsigned):j(this.high>>>a-32,0,this.unsigned)},z.shru=z.shiftRightUnsigned,z.shr_u=z.shiftRightUnsigned,z.rotateLeft=function(a){var b;return(d(a)&&(a=a.toInt()),0==(a&=63))?this:32===a?j(this.high,this.low,this.unsigned):a<32?(b=32-a,j(this.low<<a|this.high>>>b,this.high<<a|this.low>>>b,this.unsigned)):(a-=32,b=32-a,j(this.high<<a|this.low>>>b,this.low<<a|this.high>>>b,this.unsigned))},z.rotl=z.rotateLeft,z.rotateRight=function(a){var b;return(d(a)&&(a=a.toInt()),0==(a&=63))?this:32===a?j(this.high,this.low,this.unsigned):a<32?(b=32-a,j(this.high<<b|this.low>>>a,this.low<<b|this.high>>>a,this.unsigned)):(a-=32,b=32-a,j(this.low<<b|this.high>>>a,this.high<<b|this.low>>>a,this.unsigned))},z.rotr=z.rotateRight,z.toSigned=function(){return this.unsigned?j(this.low,this.high,!1):this},z.toUnsigned=function(){return this.unsigned?this:j(this.low,this.high,!0)},z.toBytes=function(a){return a?this.toBytesLE():this.toBytesBE()},z.toBytesLE=function(){var a=this.high,b=this.low;return[255&b,b>>>8&255,b>>>16&255,b>>>24,255&a,a>>>8&255,a>>>16&255,a>>>24]},z.toBytesBE=function(){var a=this.high,b=this.low;return[a>>>24,a>>>16&255,a>>>8&255,255&a,b>>>24,b>>>16&255,b>>>8&255,255&b]},c.fromBytes=function(a,b,d){return d?c.fromBytesLE(a,b):c.fromBytesBE(a,b)},c.fromBytesLE=function(a,b){return new c(a[0]|a[1]<<8|a[2]<<16|a[3]<<24,a[4]|a[5]<<8|a[6]<<16|a[7]<<24,b)},c.fromBytesBE=function(a,b){return new c(a[4]<<24|a[5]<<16|a[6]<<8|a[7],a[0]<<24|a[1]<<16|a[2]<<8|a[3],b)},"function"==typeof BigInt&&(c.fromBigInt=function(a,b){return j(Number(BigInt.asIntN(32,a)),Number(BigInt.asIntN(32,a>>BigInt(32))),b)},c.fromValue=function(a,b){return"bigint"==typeof a?c.fromBigInt(a,b):m(a,b)},z.toBigInt=function(){var a=BigInt(this.low>>>0);return BigInt(this.unsigned?this.high>>>0:this.high)<<BigInt(32)|a}),a.default=c})},44886,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.loadFileDescriptorSetFromObject=c.loadFileDescriptorSetFromBuffer=c.fromJSON=c.loadSync=c.load=c.IdempotencyLevel=c.isAnyExtension=c.Long=void 0;let e=a.r(58484),f=a.r(12767),g=a.r(58912),h=a.r(10609);c.Long=a.r(56009),c.isAnyExtension=function(a){return"@type"in a&&"string"==typeof a["@type"]},function(a){a.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",a.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",a.IDEMPOTENT="IDEMPOTENT"}(d=c.IdempotencyLevel||(c.IdempotencyLevel={}));let i={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function j(a,b){return""===a?b:a+"."+b}function k(a){return a instanceof f.Service||a instanceof f.Type||a instanceof f.Enum}function l(a){return a instanceof f.Namespace||a instanceof f.Root}function m(a,b){let c=j(b,a.name);return k(a)?[[c,a]]:l(a)&&void 0!==a.nested?Object.keys(a.nested).map(b=>m(a.nested[b],c)).reduce((a,b)=>a.concat(b),[]):[]}function n(a,b){return function(c){return a.toObject(a.decode(c),b)}}function o(a){return function(b){if(Array.isArray(b))throw Error(`Failed to serialize message: expected object with ${a.name} structure, got array instead`);let c=a.fromObject(b);return a.encode(c).finish()}}function p(a){return(a||[]).reduce((a,b)=>{for(let[c,d]of Object.entries(b))"uninterpreted_option"===c?a.uninterpreted_option.push(b.uninterpreted_option):a[c]=d;return a},{deprecated:!1,idempotency_level:d.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function q(a,b,c,d){let f=a.resolvedRequestType,g=a.resolvedResponseType;return{path:"/"+b+"/"+a.name,requestStream:!!a.requestStream,responseStream:!!a.responseStream,requestSerialize:o(f),requestDeserialize:n(f,c),responseSerialize:o(g),responseDeserialize:n(g,c),originalName:e(a.name),requestType:s(f,d),responseType:s(g,d),options:p(a.parsedOptions)}}function r(a,b,c,d){let e={};for(let f of a.methodsArray)e[f.name]=q(f,b,c,d);return e}function s(a,b){let c=a.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:c.$type.toObject(c,i),fileDescriptorProtos:b}}function t(a,b){let c=a.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:c.$type.toObject(c,i),fileDescriptorProtos:b}}function u(a,b,c,d){if(a instanceof f.Service)return r(a,b,c,d);if(a instanceof f.Type)return s(a,d);if(a instanceof f.Enum)return t(a,d);throw Error("Type mismatch in reflection object handling")}function v(a,b){let c={};a.resolveAll();let d=a.toDescriptor("proto3").file.map(a=>Buffer.from(g.FileDescriptorProto.encode(a).finish()));for(let[e,f]of m(a,""))c[e]=u(f,e,b,d);return c}function w(a,b){b=b||{};let c=f.Root.fromDescriptor(a);return c.resolveAll(),v(c,b)}c.load=function(a,b){return(0,h.loadProtosWithOptions)(a,b).then(a=>v(a,b))},c.loadSync=function(a,b){return v((0,h.loadProtosWithOptionsSync)(a,b),b)},c.fromJSON=function(a,b){b=b||{};let c=f.Root.fromJSON(a);return c.resolveAll(),v(c,b)},c.loadFileDescriptorSetFromBuffer=function(a,b){return w(g.FileDescriptorSet.decode(a),b)},c.loadFileDescriptorSetFromObject=function(a,b){return w(g.FileDescriptorSet.fromObject(a),b)},(0,h.addCommonProtos)()},71290,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setup=c.getChannelzServiceDefinition=c.getChannelzHandlers=c.unregisterChannelzRef=c.registerChannelzSocket=c.registerChannelzServer=c.registerChannelzSubchannel=c.registerChannelzChannel=c.ChannelzCallTracker=c.ChannelzChildrenTracker=c.ChannelzTrace=void 0;let d=a.r(4446),e=a.r(31536),f=a.r(41556),g=a.r(25069),h=a.r(4907),i=a.r(15616);function j(a){return{channel_id:a.id,name:a.name}}function k(a){return{subchannel_id:a.id,name:a.name}}function l(a){return{server_id:a.id}}function m(a){return{socket_id:a.id,name:a.name}}let n=32;class o{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(a,b,c){let d=new Date;this.events.push({description:b,severity:a,timestamp:d,childChannel:(null==c?void 0:c.kind)==="channel"?c:void 0,childSubchannel:(null==c?void 0:c.kind)==="subchannel"?c:void 0}),this.events.length>=2*n&&(this.events=this.events.slice(n)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:B(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(a=>({description:a.description,severity:a.severity,timestamp:B(a.timestamp),channel_ref:a.childChannel?j(a.childChannel):null,subchannel_ref:a.childSubchannel?k(a.childSubchannel):null}))}}}c.ChannelzTrace=o;class p{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(a){var b,c,d;switch(a.kind){case"channel":{let c=null!=(b=this.channelChildren.get(a.id))?b:{ref:a,count:0};c.count+=1,this.channelChildren.set(a.id,c);break}case"subchannel":{let b=null!=(c=this.subchannelChildren.get(a.id))?c:{ref:a,count:0};b.count+=1,this.subchannelChildren.set(a.id,b);break}case"socket":{let b=null!=(d=this.socketChildren.get(a.id))?d:{ref:a,count:0};b.count+=1,this.socketChildren.set(a.id,b)}}}unrefChild(a){switch(a.kind){case"channel":{let b=this.channelChildren.get(a.id);void 0!==b&&(b.count-=1,0===b.count?this.channelChildren.delete(a.id):this.channelChildren.set(a.id,b));break}case"subchannel":{let b=this.subchannelChildren.get(a.id);void 0!==b&&(b.count-=1,0===b.count?this.subchannelChildren.delete(a.id):this.subchannelChildren.set(a.id,b));break}case"socket":{let b=this.socketChildren.get(a.id);void 0!==b&&(b.count-=1,0===b.count?this.socketChildren.delete(a.id):this.socketChildren.set(a.id,b))}}}getChildLists(){let a=[];for(let{ref:b}of this.channelChildren.values())a.push(b);let b=[];for(let{ref:a}of this.subchannelChildren.values())b.push(a);let c=[];for(let{ref:a}of this.socketChildren.values())c.push(a);return{channels:a,subchannels:b,sockets:c}}}c.ChannelzChildrenTracker=p;class q{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}c.ChannelzCallTracker=q;let r=1;function s(){return r++}let t=[],u=[],v=[],w=[];function x(a){let b=Number.parseInt(a,16);return[b/256|0,b%256]}function y(a){return""===a?[]:[].concat(...a.split(":").map(a=>x(a)))}function z(a){if((0,d.isIPv4)(a))return Buffer.from(Uint8Array.from(a.split(".").map(a=>Number.parseInt(a))));if(!(0,d.isIPv6)(a))return null;{let b,c,d=a.indexOf("::");-1===d?(b=a,c=""):(b=a.substring(0,d),c=a.substring(d+2));let e=Buffer.from(y(b)),f=Buffer.from(y(c)),g=Buffer.alloc(16-e.length-f.length,0);return Buffer.concat([e,g,f])}}function A(a){switch(a){case e.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case e.ConnectivityState.IDLE:return{state:"IDLE"};case e.ConnectivityState.READY:return{state:"READY"};case e.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case e.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function B(a){if(!a)return null;let b=a.getTime();return{seconds:b/1e3|0,nanos:b%1e3*1e6}}function C(a){let b=a.getInfo();return{ref:j(a.ref),data:{target:b.target,state:A(b.state),calls_started:b.callTracker.callsStarted,calls_succeeded:b.callTracker.callsSucceeded,calls_failed:b.callTracker.callsFailed,last_call_started_timestamp:B(b.callTracker.lastCallStartedTimestamp),trace:b.trace.getTraceMessage()},channel_ref:b.children.channels.map(a=>j(a)),subchannel_ref:b.children.subchannels.map(a=>k(a))}}function D(a,b){let c=Number.parseInt(a.request.channel_id),d=t[c];void 0===d?b({code:f.Status.NOT_FOUND,details:"No channel data found for id "+c}):b(null,{channel:C(d)})}function E(a,b){let c=Number.parseInt(a.request.max_results),d=[],e=Number.parseInt(a.request.start_channel_id);for(;e<t.length;e++){let a=t[e];if(void 0!==a&&(d.push(C(a)),d.length>=c))break}b(null,{channel:d,end:e>=v.length})}function F(a){let b=a.getInfo();return{ref:l(a.ref),data:{calls_started:b.callTracker.callsStarted,calls_succeeded:b.callTracker.callsSucceeded,calls_failed:b.callTracker.callsFailed,last_call_started_timestamp:B(b.callTracker.lastCallStartedTimestamp),trace:b.trace.getTraceMessage()},listen_socket:b.listenerChildren.sockets.map(a=>m(a))}}function G(a,b){let c=Number.parseInt(a.request.server_id),d=v[c];void 0===d?b({code:f.Status.NOT_FOUND,details:"No server data found for id "+c}):b(null,{server:F(d)})}function H(a,b){let c=Number.parseInt(a.request.max_results),d=[],e=Number.parseInt(a.request.start_server_id);for(;e<v.length;e++){let a=v[e];if(void 0!==a&&(d.push(F(a)),d.length>=c))break}b(null,{server:d,end:e>=v.length})}function I(a,b){let c=Number.parseInt(a.request.subchannel_id),d=u[c];if(void 0===d)return void b({code:f.Status.NOT_FOUND,details:"No subchannel data found for id "+c});let e=d.getInfo();b(null,{subchannel:{ref:k(d.ref),data:{target:e.target,state:A(e.state),calls_started:e.callTracker.callsStarted,calls_succeeded:e.callTracker.callsSucceeded,calls_failed:e.callTracker.callsFailed,last_call_started_timestamp:B(e.callTracker.lastCallStartedTimestamp),trace:e.trace.getTraceMessage()},socket_ref:e.children.sockets.map(a=>m(a))}})}function J(a){var b;return(0,g.isTcpSubchannelAddress)(a)?{address:"tcpip_address",tcpip_address:{ip_address:null!=(b=z(a.host))?b:void 0,port:a.port}}:{address:"uds_address",uds_address:{filename:a.path}}}function K(a,b){var c,d,e,g,h;let i=Number.parseInt(a.request.socket_id),j=w[i];if(void 0===j)return void b({code:f.Status.NOT_FOUND,details:"No socket data found for id "+i});let k=j.getInfo(),l=k.security?{model:"tls",tls:{cipher_suite:k.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!=(c=k.security.cipherSuiteStandardName)?c:void 0,other_name:null!=(d=k.security.cipherSuiteOtherName)?d:void 0,local_certificate:null!=(e=k.security.localCertificate)?e:void 0,remote_certificate:null!=(g=k.security.remoteCertificate)?g:void 0}}:null;b(null,{socket:{ref:m(j.ref),local:k.localAddress?J(k.localAddress):null,remote:k.remoteAddress?J(k.remoteAddress):null,remote_name:null!=(h=k.remoteName)?h:void 0,security:l,data:{keep_alives_sent:k.keepAlivesSent,streams_started:k.streamsStarted,streams_succeeded:k.streamsSucceeded,streams_failed:k.streamsFailed,last_local_stream_created_timestamp:B(k.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:B(k.lastRemoteStreamCreatedTimestamp),messages_received:k.messagesReceived,messages_sent:k.messagesSent,last_message_received_timestamp:B(k.lastMessageReceivedTimestamp),last_message_sent_timestamp:B(k.lastMessageSentTimestamp),local_flow_control_window:k.localFlowControlWindow?{value:k.localFlowControlWindow}:null,remote_flow_control_window:k.remoteFlowControlWindow?{value:k.remoteFlowControlWindow}:null}}})}function L(a,b){let c=Number.parseInt(a.request.server_id),d=v[c];if(void 0===d)return void b({code:f.Status.NOT_FOUND,details:"No server data found for id "+c});let e=Number.parseInt(a.request.start_socket_id),g=Number.parseInt(a.request.max_results),h=d.getInfo().sessionChildren.sockets.sort((a,b)=>a.id-b.id),i=[],j=0;for(;j<h.length&&(!(h[j].id>=e)||(i.push(m(h[j])),!(i.length>=g)));j++);b(null,{socket_ref:i,end:j>=h.length})}function M(){return{GetChannel:D,GetTopChannels:E,GetServer:G,GetServers:H,GetSubchannel:I,GetSocket:K,GetServerSockets:L}}c.registerChannelzChannel=function(a,b,c){let d=s(),e={id:d,name:a,kind:"channel"};return c&&(t[d]={ref:e,getInfo:b}),e},c.registerChannelzSubchannel=function(a,b,c){let d=s(),e={id:d,name:a,kind:"subchannel"};return c&&(u[d]={ref:e,getInfo:b}),e},c.registerChannelzServer=function(a,b){let c=s(),d={id:c,kind:"server"};return b&&(v[c]={ref:d,getInfo:a}),d},c.registerChannelzSocket=function(a,b,c){let d=s(),e={id:d,name:a,kind:"socket"};return c&&(w[d]={ref:e,getInfo:b}),e},c.unregisterChannelzRef=function(a){switch(a.kind){case"channel":delete t[a.id];return;case"subchannel":delete u[a.id];return;case"server":delete v[a.id];return;case"socket":delete w[a.id];return}},c.getChannelzHandlers=M;let N=null;function O(){if(N)return N;let b=(0,a.r(44886).loadSync)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:["/ROOT/node_modules/@grpc/grpc-js/build/src/../../proto"]});return N=(0,i.loadPackageDefinition)(b).grpc.channelz.v1.Channelz.service}c.getChannelzServiceDefinition=O,c.setup=function(){(0,h.registerAdminService)(O,M)}},59144,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Subchannel=void 0;let d=a.r(31536),e=a.r(21313),f=a.r(67034),g=a.r(41556),h=a.r(16713),i=a.r(25069),j=a.r(71290),k="subchannel",l=0x7fffffff;class m{constructor(a,b,c,f,g){var h;this.channelTarget=a,this.subchannelAddress=b,this.options=c,this.credentials=f,this.connector=g,this.connectivityState=d.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new j.ChannelzCallTracker,this.childrenTracker=new j.ChannelzChildrenTracker,this.streamTracker=new j.ChannelzCallTracker;const k={initialDelay:c["grpc.initial_reconnect_backoff_ms"],maxDelay:c["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new e.BackoffTimeout(()=>{this.handleBackoffTimer()},k),this.backoffTimeout.unref(),this.subchannelAddressString=(0,i.subchannelAddressToString)(b),this.keepaliveTime=null!=(h=c["grpc.keepalive_time_ms"])?h:-1,0===c["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new j.ChannelzTrace,this.channelzRef=(0,j.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(c,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(a){f.trace(g.LogVerbosity.DEBUG,k,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}refTrace(a){f.trace(g.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([d.ConnectivityState.TRANSIENT_FAILURE],d.ConnectivityState.CONNECTING):this.transitionToState([d.ConnectivityState.TRANSIENT_FAILURE],d.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let a=this.options;if(a["grpc.keepalive_time_ms"]){let b=Math.min(this.keepaliveTime,l);a=Object.assign(Object.assign({},a),{"grpc.keepalive_time_ms":b})}this.connector.connect(this.subchannelAddress,this.credentials,a).then(a=>{this.transitionToState([d.ConnectivityState.CONNECTING],d.ConnectivityState.READY)?(this.transport=a,this.channelzEnabled&&this.childrenTracker.refChild(a.getChannelzRef()),a.addDisconnectListener(a=>{this.transitionToState([d.ConnectivityState.READY],d.ConnectivityState.IDLE),a&&this.keepaliveTime>0&&(this.keepaliveTime*=2,f.log(g.LogVerbosity.ERROR,`Connection to ${(0,h.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):a.shutdown()},a=>{this.transitionToState([d.ConnectivityState.CONNECTING],d.ConnectivityState.TRANSIENT_FAILURE,`${a}`)})}transitionToState(a,b,c){var e,f;if(-1===a.indexOf(this.connectivityState))return!1;this.trace(d.ConnectivityState[this.connectivityState]+" -> "+d.ConnectivityState[b]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+d.ConnectivityState[b]);let g=this.connectivityState;switch(this.connectivityState=b,b){case d.ConnectivityState.READY:this.stopBackoff();break;case d.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case d.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null==(e=this.transport)||e.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case d.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null==(f=this.transport)||f.shutdown(),this.transport=null;break;default:throw Error(`Invalid state: unknown ConnectivityState ${b}`)}for(let a of this.stateListeners)a(this,g,b,this.keepaliveTime,c);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,j.unregisterChannelzRef)(this.channelzRef),process.nextTick(()=>{this.transitionToState([d.ConnectivityState.CONNECTING,d.ConnectivityState.READY],d.ConnectivityState.IDLE)}))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(a,b,c,d){let e;if(!this.transport)throw Error("Cannot create call, subchannel not READY");return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),e={onCallEnd:a=>{a.code===g.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):e={},this.transport.createCall(a,b,c,d,e)}startConnecting(){process.nextTick(()=>{this.transitionToState([d.ConnectivityState.IDLE],d.ConnectivityState.CONNECTING)||this.connectivityState!==d.ConnectivityState.TRANSIENT_FAILURE||(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(a){this.stateListeners.add(a)}removeConnectivityStateListener(a){this.stateListeners.delete(a)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([d.ConnectivityState.TRANSIENT_FAILURE],d.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}realSubchannelEquals(a){return a.getRealSubchannel()===this}throttleKeepalive(a){a>this.keepaliveTime&&(this.keepaliveTime=a)}}c.Subchannel=m},23233,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setup=c.DEFAULT_PORT=void 0;let d=a.r(37030),e=a.r(79594),f=a.r(24361),g=a.r(26009),h=a.r(41556),i=a.r(80161),j=a.r(67034),k=a.r(41556),l=a.r(16713),m=a.r(4446),n=a.r(21313),o="dns_resolver";function p(a){j.trace(k.LogVerbosity.DEBUG,o,a)}c.DEFAULT_PORT=443;let q=3e4,r=f.promisify(e.resolveTxt),s=f.promisify(e.lookup);function t(...a){let b=[];for(let c=0;c<Math.max.apply(null,a.map(a=>a.length));c++)for(let d of a)c<d.length&&b.push(d[c]);return b}class u{constructor(a,b,d){var e,f,g;this.target=a,this.listener=b,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,p("Resolver constructed for target "+(0,l.uriToString)(a));const j=(0,l.splitHostPort)(a.path);null===j?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,m.isIPv4)(j.host)||(0,m.isIPv6)(j.host)?(this.ipResult=[{host:j.host,port:null!=(e=j.port)?e:c.DEFAULT_PORT}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=j.host,this.port=null!=(f=j.port)?f:c.DEFAULT_PORT),this.percentage=100*Math.random(),1===d["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:h.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,l.uriToString)(this.target)}`,metadata:new i.Metadata};const k={initialDelay:d["grpc.initial_reconnect_backoff_ms"],maxDelay:d["grpc.max_reconnect_backoff_ms"]};this.backoff=new n.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},k),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!=(g=d["grpc.dns_min_time_between_resolutions_ms"])?g:q,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult){this.returnedIpResult||(p("Returning IP address for target "+(0,l.uriToString)(this.target)),setImmediate(()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(null===this.dnsHostname)p("Failed to parse DNS address "+(0,l.uriToString)(this.target)),setImmediate(()=>{this.listener.onError({code:h.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,l.uriToString)(this.target)}`,metadata:new i.Metadata})}),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;p("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;let a=this.dnsHostname;this.pendingLookupPromise=s(a,{all:!0}),this.pendingLookupPromise.then(a=>{if(null===this.pendingLookupPromise)return;this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();let b=a.filter(a=>4===a.family),c=a.filter(a=>6===a.family);this.latestLookupResult=t(c,b).map(a=>({host:a.address,port:+this.port}));let d="["+this.latestLookupResult.map(a=>a.host+":"+a.port).join(",")+"]";(p("Resolved addresses for target "+(0,l.uriToString)(this.target)+": "+d),0===this.latestLookupResult.length)?this.listener.onError(this.defaultResolutionError):this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})},a=>{null!==this.pendingLookupPromise&&(p("Resolution error for target "+(0,l.uriToString)(this.target)+": "+a.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError))}),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=r(a),this.pendingTxtPromise.then(a=>{if(null!==this.pendingTxtPromise){this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,g.extractAndSelectServiceConfig)(a,this.percentage)}catch(a){this.latestServiceConfigError={code:h.Status.UNAVAILABLE,details:`Parsing service config failed with error ${a.message}`,metadata:new i.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}},a=>{}))}}startNextResolutionTimer(){var a,b;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=null==(b=(a=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs)).unref)?void 0:b.call(a),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?p('resolution update delayed by "min time between resolutions" rate limit'):p("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.returnedIpResult=!1}static getDefaultAuthority(a){return a.path}}c.setup=function(){(0,d.registerResolver)("dns",u),(0,d.registerDefaultScheme)("dns")}},64976,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getProxiedConnection=c.mapProxyName=void 0;let d=a.r(67034),e=a.r(41556),f=a.r(37030),g=a.r(21517),h=a.r(55004),i=a.r(67034),j=a.r(25069),k=a.r(16713),l=a.r(92509),m=a.r(23233),n="proxy";function o(a){i.trace(e.LogVerbosity.DEBUG,n,a)}function p(){let a,b="",c="";if(process.env.grpc_proxy)c="grpc_proxy",b=process.env.grpc_proxy;else if(process.env.https_proxy)c="https_proxy",b=process.env.https_proxy;else{if(!process.env.http_proxy)return{};c="http_proxy",b=process.env.http_proxy}try{a=new l.URL(b)}catch(a){return(0,d.log)(e.LogVerbosity.ERROR,`cannot parse value of "${c}" env var`),{}}if("http:"!==a.protocol)return(0,d.log)(e.LogVerbosity.ERROR,`"${a.protocol}" scheme not supported in proxy URI`),{};let f=null;a.username&&(a.password?((0,d.log)(e.LogVerbosity.INFO,"userinfo found in proxy URI"),f=`${a.username}:${a.password}`):f=a.username);let g=a.hostname,h=a.port;""===h&&(h="80");let i={address:`${g}:${h}`};return f&&(i.creds=f),o("Proxy server "+i.address+" set by environment variable "+c),i}function q(){let a=process.env.no_grpc_proxy,b="no_grpc_proxy";return(a||(a=process.env.no_proxy,b="no_proxy"),a)?(o("No proxy server list set by environment variable "+b),a.split(",")):[]}c.mapProxyName=function(a,b){var c;let d={target:a,extraOptions:{}};if((null!=(c=b["grpc.enable_http_proxy"])?c:1)===0||"unix"===a.scheme)return d;let e=p();if(!e.address)return d;let f=(0,k.splitHostPort)(a.path);if(!f)return d;let g=f.host;for(let b of q())if(b===g)return o("Not using proxy for target in no_proxy list: "+(0,k.uriToString)(a)),d;let h={"grpc.http_connect_target":(0,k.uriToString)(a)};return e.creds&&(h["grpc.http_connect_creds"]=e.creds),{target:{scheme:"dns",path:e.address},extraOptions:h}},c.getProxiedConnection=function(a,b,c){var i;if(!("grpc.http_connect_target"in b))return Promise.resolve({});let l=b["grpc.http_connect_target"],n=(0,k.parseUri)(l);if(null===n)return Promise.resolve({});let p=(0,k.splitHostPort)(n.path);if(null===p)return Promise.resolve({});let q=`${p.host}:${null!=(i=p.port)?i:m.DEFAULT_PORT}`,r={method:"CONNECT",path:q},s={Host:q};(0,j.isTcpSubchannelAddress)(a)?(r.host=a.host,r.port=a.port):r.socketPath=a.path,"grpc.http_connect_creds"in b&&(s["Proxy-Authorization"]="Basic "+Buffer.from(b["grpc.http_connect_creds"]).toString("base64")),r.headers=s;let t=(0,j.subchannelAddressToString)(a);return o("Using proxy "+t+" to connect to "+r.path),new Promise((a,b)=>{let i=g.request(r);i.once("connect",(g,j,l)=>{var m;if(i.removeAllListeners(),j.removeAllListeners(),200===g.statusCode)if(o("Successfully connected to "+r.path+" through proxy "+t),"secureContext"in c){let d=(0,f.getDefaultAuthority)(n),e=(0,k.splitHostPort)(d),g=null!=(m=null==e?void 0:e.host)?m:d,i=h.connect(Object.assign({host:g,servername:g,socket:j},c),()=>{o("Successfully established a TLS connection to "+r.path+" through proxy "+t),a({socket:i,realTarget:n})});i.on("error",a=>{o("Failed to establish a TLS connection to "+r.path+" through proxy "+t+" with error "+a.message),b()})}else o("Successfully established a plaintext connection to "+r.path+" through proxy "+t),a({socket:j,realTarget:n});else(0,d.log)(e.LogVerbosity.ERROR,"Failed to connect to "+r.path+" through proxy "+t+" with status "+g.statusCode),b()}),i.once("error",a=>{i.removeAllListeners(),(0,d.log)(e.LogVerbosity.ERROR,"Failed to connect to proxy "+t+" with error "+a.message),b()}),i.end()})}},48331,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.StreamDecoder=void 0,function(a){a[a.NO_DATA=0]="NO_DATA",a[a.READING_SIZE=1]="READING_SIZE",a[a.READING_MESSAGE=2]="READING_MESSAGE"}(d||(d={}));class e{constructor(a){this.maxReadMessageLength=a,this.readState=d.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(a){let b,c=0,e=[];for(;c<a.length;)switch(this.readState){case d.NO_DATA:this.readCompressFlag=a.slice(c,c+1),c+=1,this.readState=d.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case d.READING_SIZE:if(b=Math.min(a.length-c,this.readSizeRemaining),a.copy(this.readPartialSize,4-this.readSizeRemaining,c,c+b),this.readSizeRemaining-=b,c+=b,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=d.READING_MESSAGE;else{let a=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=d.NO_DATA,e.push(a)}}break;case d.READING_MESSAGE:if(b=Math.min(a.length-c,this.readMessageRemaining),this.readPartialMessage.push(a.slice(c,c+b)),this.readMessageRemaining-=b,c+=b,0===this.readMessageRemaining){let a=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),b=Buffer.concat(a,this.readMessageSize+5);this.readState=d.NO_DATA,e.push(b)}break;default:throw Error("Unexpected read state")}return e}}c.StreamDecoder=e},73276,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Http2SubchannelCall=void 0;let d=a.r(25328),e=a.r(46786),f=a.r(41556),g=a.r(80161),h=a.r(48331),i=a.r(67034),j=a.r(41556),k="subchannel_call";function l(a){for(let[b,c]of Object.entries(e.constants.errno))if(c===a)return b;return"Unknown system error "+a}class m{constructor(a,b,c,e,i){var j;this.http2Stream=a,this.callEventTracker=b,this.listener=c,this.transport=e,this.callId=i,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=f.Status.UNKNOWN,this.finalStatus=null,this.internalError=null;const k=null!=(j=e.getOptions()["grpc.max_receive_message_length"])?j:f.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new h.StreamDecoder(k),a.on("response",(a,b)=>{let c="";for(let b of Object.keys(a))c+="		"+b+": "+a[b]+"\n";switch(this.trace("Received server headers:\n"+c),a[":status"]){case 400:this.mappedStatusCode=f.Status.INTERNAL;break;case 401:this.mappedStatusCode=f.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=f.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=f.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=f.Status.UNAVAILABLE;break;default:this.mappedStatusCode=f.Status.UNKNOWN}if(b&d.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(a);else{let b;try{b=g.Metadata.fromHttp2Headers(a)}catch(a){this.endCall({code:f.Status.UNKNOWN,details:a.message,metadata:new g.Metadata});return}this.listener.onReceiveMetadata(b)}}),a.on("trailers",a=>{this.handleTrailers(a)}),a.on("data",a=>{let b;if(!this.statusOutput){this.trace("receive HTTP/2 data frame of length "+a.length);try{b=this.decoder.write(a)}catch(a){this.cancelWithStatus(f.Status.RESOURCE_EXHAUSTED,a.message);return}for(let a of b)this.trace("parsed message of length "+a.length),this.callEventTracker.addMessageReceived(),this.tryPush(a)}}),a.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),a.on("close",()=>{process.nextTick(()=>{var b;let c;if(this.trace("HTTP/2 stream closed with code "+a.rstCode),(null==(b=this.finalStatus)?void 0:b.code)===f.Status.OK)return;let e="";switch(a.rstCode){case d.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;c=f.Status.INTERNAL,e=`Received RST_STREAM with code ${a.rstCode}`;break;case d.constants.NGHTTP2_REFUSED_STREAM:c=f.Status.UNAVAILABLE,e="Stream refused by server";break;case d.constants.NGHTTP2_CANCEL:c=f.Status.CANCELLED,e="Call cancelled";break;case d.constants.NGHTTP2_ENHANCE_YOUR_CALM:c=f.Status.RESOURCE_EXHAUSTED,e="Bandwidth exhausted or memory limit exceeded";break;case d.constants.NGHTTP2_INADEQUATE_SECURITY:c=f.Status.PERMISSION_DENIED,e="Protocol not secure enough";break;case d.constants.NGHTTP2_INTERNAL_ERROR:c=f.Status.INTERNAL,null===this.internalError?e=`Received RST_STREAM with code ${a.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(c=f.Status.UNAVAILABLE,e=this.internalError.message):e=`Received RST_STREAM with code ${a.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:c=f.Status.INTERNAL,e=`Received RST_STREAM with code ${a.rstCode}`}this.endCall({code:c,details:e,metadata:new g.Metadata,rstCode:a.rstCode})})}),a.on("error",a=>{"ERR_HTTP2_STREAM_ERROR"!==a.code&&(this.trace("Node error event: message="+a.message+" code="+a.code+" errno="+l(a.errno)+" syscall="+a.syscall),this.internalError=a),this.callEventTracker.onStreamEnd(!1)})}onDisconnect(){this.endCall({code:f.Status.UNAVAILABLE,details:"Connection dropped",metadata:new g.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(a){i.trace(j.LogVerbosity.DEBUG,k,"["+this.callId+"] "+a)}endCall(a){(null===this.finalStatus||this.finalStatus.code===f.Status.OK)&&(this.finalStatus=a,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null===this.finalStatus||this.finalStatus.code===f.Status.OK&&(!this.readsClosed||0!==this.unpushedReadMessages.length||this.isReadFilterPending||this.isPushPending)||this.outputStatus()}push(a){this.trace("pushing to reader message of length "+(a instanceof Buffer?a.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(a),this.maybeOutputStatus())})}tryPush(a){this.canPush?(this.http2Stream.pause(),this.push(a)):(this.trace("unpushedReadMessages.push message of length "+a.length),this.unpushedReadMessages.push(a))}handleTrailers(a){let b;this.callEventTracker.onStreamEnd(!0);let c="";for(let b of Object.keys(a))c+="		"+b+": "+a[b]+"\n";this.trace("Received server trailers:\n"+c);try{b=g.Metadata.fromHttp2Headers(a)}catch(a){b=new g.Metadata}let d=b.getMap(),e=this.mappedStatusCode;if(e===f.Status.UNKNOWN&&"string"==typeof d["grpc-status"]){let a=Number(d["grpc-status"]);a in f.Status&&(e=a,this.trace("received status code "+a+" from server")),b.remove("grpc-status")}let h="";if("string"==typeof d["grpc-message"]){try{h=decodeURI(d["grpc-message"])}catch(a){h=d["grpc-message"]}b.remove("grpc-message"),this.trace('received status details string "'+h+'" from server')}let i={code:e,details:h,metadata:b};this.endCall(i)}destroyHttp2Stream(){var a;if(!this.http2Stream.destroyed){let b;b=(null==(a=this.finalStatus)?void 0:a.code)===f.Status.OK?d.constants.NGHTTP2_NO_ERROR:d.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+b),this.http2Stream.close(b)}}cancelWithStatus(a,b){this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),this.endCall({code:a,details:b,metadata:new g.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==f.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){let a=this.unpushedReadMessages.shift();this.push(a);return}this.http2Stream.resume()}sendMessageWithContext(a,b){this.trace("write() called with message of length "+b.length);let c=b=>{process.nextTick(()=>{var c;let d=f.Status.UNAVAILABLE;(null==b?void 0:b.code)==="ERR_STREAM_WRITE_AFTER_END"&&(d=f.Status.INTERNAL),b&&this.cancelWithStatus(d,`Write error: ${b.message}`),null==(c=a.callback)||c.call(a)})};this.trace("sending data chunk of length "+b.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(b,c)}catch(a){this.endCall({code:f.Status.UNAVAILABLE,details:`Write failed with error ${a.message}`,metadata:new g.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}c.Http2SubchannelCall=m},21424,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getNextCallNumber=void 0;let d=0;c.getNextCallNumber=function(){return d++}},91864,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Http2SubchannelConnector=void 0;let d=a.r(25328),e=a.r(55004),f=a.r(71290),g=a.r(41556),h=a.r(64976),i=a.r(67034),j=a.r(37030),k=a.r(25069),l=a.r(16713),m=a.r(4446),n=a.r(73276),o=a.r(21424),p="transport",q="transport_flowctrl",r=a.r(17887).version,{HTTP2_HEADER_AUTHORITY:s,HTTP2_HEADER_CONTENT_TYPE:t,HTTP2_HEADER_METHOD:u,HTTP2_HEADER_PATH:v,HTTP2_HEADER_TE:w,HTTP2_HEADER_USER_AGENT:x}=d.constants,y=2e4,z=Buffer.from("too_many_pings","ascii");class A{constructor(a,b,c,e){this.session=a,this.options=c,this.remoteName=e,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=y,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new f.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,k.subchannelAddressToString)(b),0===c["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,f.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[c["grpc.primary_user_agent"],`grpc-node-js/${r}`,c["grpc.secondary_user_agent"]].filter(a=>a).join(" "),"grpc.keepalive_time_ms"in c&&(this.keepaliveTimeMs=c["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in c&&(this.keepaliveTimeoutMs=c["grpc.keepalive_timeout_ms"]),"grpc.keepalive_permit_without_calls"in c?this.keepaliveWithoutCalls=1===c["grpc.keepalive_permit_without_calls"]:this.keepaliveWithoutCalls=!1,a.once("close",()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()}),a.once("goaway",(a,b,c)=>{let e=!1;a===d.constants.NGHTTP2_ENHANCE_YOUR_CALM&&c&&c.equals(z)&&(e=!0),this.trace("connection closed by GOAWAY with code "+a+" and data "+(null==c?void 0:c.toString())),this.reportDisconnectToOwner(e)}),a.once("error",a=>{this.trace("connection closed with error "+a.message)}),i.isTracerEnabled(p)&&(a.on("remoteSettings",b=>{this.trace("new settings received"+(this.session!==a?" on the old connection":"")+": "+JSON.stringify(b))}),a.on("localSettings",b=>{this.trace("local settings acknowledged by remote"+(this.session!==a?" on the old connection":"")+": "+JSON.stringify(b))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var a,b,c;let d,e=this.session.socket,f=e.remoteAddress?(0,k.stringToSubchannelAddress)(e.remoteAddress,e.remotePort):null,g=e.localAddress?(0,k.stringToSubchannelAddress)(e.localAddress,e.localPort):null;if(this.session.encrypted){let b=e,c=b.getCipher(),f=b.getCertificate(),g=b.getPeerCertificate();d={cipherSuiteStandardName:null!=(a=c.standardName)?a:null,cipherSuiteOtherName:c.standardName?null:c.name,localCertificate:f&&"raw"in f?f.raw:null,remoteCertificate:g&&"raw"in g?g.raw:null}}else d=null;return{remoteAddress:f,localAddress:g,security:d,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!=(b=this.session.state.localWindowSize)?b:null,remoteFlowControlWindow:null!=(c=this.session.state.remoteWindowSize)?c:null}}trace(a){i.trace(g.LogVerbosity.DEBUG,p,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}keepaliveTrace(a){i.trace(g.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}flowControlTrace(a){i.trace(g.LogVerbosity.DEBUG,q,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}internalsTrace(a){i.trace(g.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+a)}reportDisconnectToOwner(a){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(b=>b(a)))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate(()=>{for(let a of this.activeCalls)a.onDisconnect()})}addDisconnectListener(a){this.disconnectListeners.push(a)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var a,b;if(this.clearKeepaliveTimer(),!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout(()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),null==(b=(a=this.keepaliveTimeoutId).unref)||b.call(a));try{this.session.ping((a,b,c)=>{a&&(this.keepaliveTrace("Ping failed with error "+a.message),this.handleDisconnect()),this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()})}catch(a){this.handleDisconnect()}}maybeStartKeepalivePingTimer(){var a,b;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimerId||this.keepaliveTimeoutId||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=null==(b=(a=setTimeout(()=>{this.maybeSendPing()},this.keepaliveTimeMs)).unref)?void 0:b.call(a)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(a){this.activeCalls.delete(a),0===this.activeCalls.size&&this.session.unref()}addActiveCall(a){this.activeCalls.add(a),1===this.activeCalls.size&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(a,b,c,d,e){let f,g,h,i=a.toHttp2Headers();i[s]=b,i[x]=this.userAgent,i[t]="application/grpc",i[u]="POST",i[v]=c,i[w]="trailers";try{f=this.session.request(i)}catch(a){throw this.handleDisconnect(),a}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),g={addMessageSent:()=>{var a;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null==(a=e.addMessageSent)||a.call(e)},addMessageReceived:()=>{var a;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null==(a=e.addMessageReceived)||a.call(e)},onCallEnd:a=>{var b;null==(b=e.onCallEnd)||b.call(e,a),this.removeActiveCall(h)},onStreamEnd:a=>{var b;a?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null==(b=e.onStreamEnd)||b.call(e,a)}}):g={addMessageSent:()=>{var a;null==(a=e.addMessageSent)||a.call(e)},addMessageReceived:()=>{var a;null==(a=e.addMessageReceived)||a.call(e)},onCallEnd:a=>{var b;null==(b=e.onCallEnd)||b.call(e,a),this.removeActiveCall(h)},onStreamEnd:a=>{var b;null==(b=e.onStreamEnd)||b.call(e,a)}},h=new n.Http2SubchannelCall(f,g,d,this,(0,o.getNextCallNumber)()),this.addActiveCall(h),h}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,f.unregisterChannelzRef)(this.channelzRef)}}class B{constructor(a){this.channelTarget=a,this.session=null,this.isShutdown=!1}trace(a){i.trace(g.LogVerbosity.DEBUG,p,(0,l.uriToString)(this.channelTarget)+" "+a)}createSession(a,b,c,f){return this.isShutdown?Promise.reject():new Promise((g,h)=>{var i,n,o;let p;f.realTarget?(p=(0,l.uriToString)(f.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,l.uriToString)(f.realTarget))):(p=null,this.trace("creating HTTP/2 session to "+(0,k.subchannelAddressToString)(a)));let q=(0,j.getDefaultAuthority)(null!=(i=f.realTarget)?i:this.channelTarget),r=b._getConnectionOptions()||{};r.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,"grpc-node.max_session_memory"in c?r.maxSessionMemory=c["grpc-node.max_session_memory"]:r.maxSessionMemory=Number.MAX_SAFE_INTEGER;let s="http://";if("secureContext"in r){if(s="https://",c["grpc.ssl_target_name_override"]){let a=c["grpc.ssl_target_name_override"];r.checkServerIdentity=(b,c)=>(0,e.checkServerIdentity)(a,c),r.servername=a}else{let a=null!=(o=null==(n=(0,l.splitHostPort)(q))?void 0:n.host)?o:"localhost";r.servername=a}f.socket&&(r.createConnection=(a,b)=>f.socket)}else r.createConnection=(b,c)=>f.socket?f.socket:m.connect(a);r=Object.assign(Object.assign(Object.assign({},r),a),{enableTrace:1===c["grpc-node.tls_enable_trace"]});let t=d.connect(s+q,r);this.session=t;let u="Failed to connect";t.unref(),t.once("connect",()=>{t.removeAllListeners(),g(new A(t,a,c,p)),this.session=null}),t.once("close",()=>{this.session=null,setImmediate(()=>{h(`${u} (${new Date().toISOString()})`)})}),t.once("error",a=>{u=a.message,this.trace("connection failed with error "+u)})})}connect(a,b,c){var d,f;if(this.isShutdown)return Promise.reject();let g=b._getConnectionOptions()||{};if("secureContext"in g){if(g.ALPNProtocols=["h2"],c["grpc.ssl_target_name_override"]){let a=c["grpc.ssl_target_name_override"];g.checkServerIdentity=(b,c)=>(0,e.checkServerIdentity)(a,c),g.servername=a}else if("grpc.http_connect_target"in c){let a=(0,j.getDefaultAuthority)(null!=(d=(0,l.parseUri)(c["grpc.http_connect_target"]))?d:{path:"localhost"}),b=(0,l.splitHostPort)(a);g.servername=null!=(f=null==b?void 0:b.host)?f:a}c["grpc-node.tls_enable_trace"]&&(g.enableTrace=!0)}return(0,h.getProxiedConnection)(a,c,g).then(d=>this.createSession(a,b,c,d))}shutdown(){var a;this.isShutdown=!0,null==(a=this.session)||a.close(),this.session=null}}c.Http2SubchannelConnector=B},89666,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.getSubchannelPool=c.SubchannelPool=void 0;let d=a.r(10146),e=a.r(59144),f=a.r(25069),g=a.r(16713),h=a.r(91864),i=1e4;class j{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let a=!0;for(let b in this.pool){let c=this.pool[b].filter(a=>!a.subchannel.unrefIfOneRef());c.length>0&&(a=!1),this.pool[b]=c}a&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var a,b;null===this.cleanupTimer&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},i),null==(b=(a=this.cleanupTimer).unref)||b.call(a))}getOrCreateSubchannel(a,b,c,i){this.ensureCleanupTask();let j=(0,g.uriToString)(a);if(j in this.pool){for(let a of this.pool[j])if((0,f.subchannelAddressEqual)(b,a.subchannelAddress)&&(0,d.channelOptionsEqual)(c,a.channelArguments)&&i._equals(a.channelCredentials))return a.subchannel}let k=new e.Subchannel(a,b,c,i,new h.Http2SubchannelConnector(a));return j in this.pool||(this.pool[j]=[]),this.pool[j].push({subchannelAddress:b,channelArguments:c,channelCredentials:i,subchannel:k}),k.ref(),k}}c.SubchannelPool=j;let k=new j;c.getSubchannelPool=function(a){return a?k:new j}},6605,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.FilterStackFactory=c.FilterStack=void 0;class d{constructor(a){this.filters=a}sendMetadata(a){let b=a;for(let a=0;a<this.filters.length;a++)b=this.filters[a].sendMetadata(b);return b}receiveMetadata(a){let b=a;for(let a=this.filters.length-1;a>=0;a--)b=this.filters[a].receiveMetadata(b);return b}sendMessage(a){let b=a;for(let a=0;a<this.filters.length;a++)b=this.filters[a].sendMessage(b);return b}receiveMessage(a){let b=a;for(let a=this.filters.length-1;a>=0;a--)b=this.filters[a].receiveMessage(b);return b}receiveTrailers(a){let b=a;for(let a=this.filters.length-1;a>=0;a--)b=this.filters[a].receiveTrailers(b);return b}push(a){this.filters.unshift(...a)}getFilters(){return this.filters}}c.FilterStack=d;class e{constructor(a){this.factories=a}push(a){this.factories.unshift(...a)}clone(){return new e([...this.factories])}createFilter(){return new d(this.factories.map(a=>a.createFilter()))}}c.FilterStackFactory=e},55498,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.CompressionAlgorithms=void 0,function(a){a[a.identity=0]="identity",a[a.deflate=1]="deflate",a[a.gzip=2]="gzip"}(d||(c.CompressionAlgorithms=d={}))},24113,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BaseFilter=void 0;class d{async sendMetadata(a){return a}receiveMetadata(a){return a}async sendMessage(a){return a}async receiveMessage(a){return a}receiveTrailers(a){return a}}c.BaseFilter=d},60099,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.CompressionFilterFactory=c.CompressionFilter=void 0;let d=a.r(6461),e=a.r(55498),f=a.r(41556),g=a.r(24113),h=a.r(67034),i=a=>"number"==typeof a&&"string"==typeof e.CompressionAlgorithms[a];class j{async writeMessage(a,b){let c=a;b&&(c=await this.compressMessage(c));let d=Buffer.allocUnsafe(c.length+5);return d.writeUInt8(+!!b,0),d.writeUInt32BE(c.length,1),c.copy(d,5),d}async readMessage(a){let b=1===a.readUInt8(0),c=a.slice(5);return b&&(c=await this.decompressMessage(c)),c}}class k extends j{async compressMessage(a){return a}async writeMessage(a,b){let c=Buffer.allocUnsafe(a.length+5);return c.writeUInt8(0,0),c.writeUInt32BE(a.length,1),a.copy(c,5),c}decompressMessage(a){return Promise.reject(Error('Received compressed message but "grpc-encoding" header was identity'))}}class l extends j{constructor(a){super(),this.maxRecvMessageLength=a}compressMessage(a){return new Promise((b,c)=>{d.deflate(a,(a,d)=>{a?c(a):b(d)})})}decompressMessage(a){return new Promise((b,c)=>{let e=0,g=[],h=d.createInflate();h.on("data",a=>{g.push(a),e+=a.byteLength,-1!==this.maxRecvMessageLength&&e>this.maxRecvMessageLength&&(h.destroy(),c({code:f.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),h.on("end",()=>{b(Buffer.concat(g))}),h.write(a),h.end()})}}class m extends j{constructor(a){super(),this.maxRecvMessageLength=a}compressMessage(a){return new Promise((b,c)=>{d.gzip(a,(a,d)=>{a?c(a):b(d)})})}decompressMessage(a){return new Promise((b,c)=>{let e=0,g=[],h=d.createGunzip();h.on("data",a=>{g.push(a),e+=a.byteLength,-1!==this.maxRecvMessageLength&&e>this.maxRecvMessageLength&&(h.destroy(),c({code:f.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),h.on("end",()=>{b(Buffer.concat(g))}),h.write(a),h.end()})}}class n extends j{constructor(a){super(),this.compressionName=a}compressMessage(a){return Promise.reject(Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(a){return Promise.reject(Error(`Compression method not supported: ${this.compressionName}`))}}function o(a,b){switch(a){case"identity":return new k;case"deflate":return new l(b);case"gzip":return new m(b);default:return new n(a)}}class p extends g.BaseFilter{constructor(a,b){var c,d;super(),this.sharedFilterConfig=b,this.sendCompression=new k,this.receiveCompression=new k,this.currentCompressionAlgorithm="identity";const g=a["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!=(c=a["grpc.max_receive_message_length"])?c:f.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,void 0!==g)if(i(g)){const a=e.CompressionAlgorithms[g],c=null==(d=b.serverSupportedEncodingHeader)?void 0:d.split(",");(!c||c.includes(a))&&(this.currentCompressionAlgorithm=a,this.sendCompression=o(this.currentCompressionAlgorithm,-1))}else h.log(f.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${g}`)}async sendMetadata(a){let b=await a;return b.set("grpc-accept-encoding","identity,deflate,gzip"),b.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?b.remove("grpc-encoding"):b.set("grpc-encoding",this.currentCompressionAlgorithm),b}receiveMetadata(a){let b=a.get("grpc-encoding");if(b.length>0){let a=b[0];"string"==typeof a&&(this.receiveCompression=o(a,this.maxReceiveMessageLength))}a.remove("grpc-encoding");let c=a.get("grpc-accept-encoding")[0];return c&&(this.sharedFilterConfig.serverSupportedEncodingHeader=c,c.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new k,this.currentCompressionAlgorithm="identity")),a.remove("grpc-accept-encoding"),a}async sendMessage(a){var b;let c,d=await a;return c=!(this.sendCompression instanceof k)&&((null!=(b=d.flags)?b:0)&2)==0,{message:await this.sendCompression.writeMessage(d.message,c),flags:d.flags}}async receiveMessage(a){return this.receiveCompression.readMessage(await a)}}c.CompressionFilter=p;class q{constructor(a,b){this.options=b,this.sharedFilterConfig={}}createFilter(){return new p(this.options,this.sharedFilterConfig)}}c.CompressionFilterFactory=q},61904,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.deadlineToString=c.getRelativeTimeout=c.getDeadlineTimeoutString=c.minDeadline=void 0,c.minDeadline=function(...a){let b=1/0;for(let c of a){let a=c instanceof Date?c.getTime():c;a<b&&(b=a)}return b};let d=[["m",1],["S",1e3],["M",6e4],["H",36e5]];c.getDeadlineTimeoutString=function(a){let b=new Date().getTime();a instanceof Date&&(a=a.getTime());let c=Math.max(a-b,0);for(let[a,b]of d){let d=c/b;if(d<1e8)return String(Math.ceil(d))+a}throw Error("Deadline is too far in the future")};let e=0x7fffffff;c.getRelativeTimeout=function(a){let b=(a instanceof Date?a.getTime():a)-new Date().getTime();return b<0?0:b>e?1/0:b},c.deadlineToString=function(a){if(a instanceof Date)return a.toISOString();{let b=new Date(a);return Number.isNaN(b.getTime())?""+a:b.toISOString()}}},47914,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.restrictControlPlaneStatusCode=void 0;let d=a.r(41556),e=[d.Status.OK,d.Status.INVALID_ARGUMENT,d.Status.NOT_FOUND,d.Status.ALREADY_EXISTS,d.Status.FAILED_PRECONDITION,d.Status.ABORTED,d.Status.OUT_OF_RANGE,d.Status.DATA_LOSS];c.restrictControlPlaneStatusCode=function(a,b){return e.includes(a)?{code:d.Status.INTERNAL,details:`Invalid status from control plane: ${a} ${d.Status[a]} ${b}`}:{code:a,details:b}}},24461,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.LoadBalancingCall=void 0;let d=a.r(31536),e=a.r(41556),f=a.r(61904),g=a.r(80161),h=a.r(40064),i=a.r(16713),j=a.r(67034),k=a.r(47914),l=a.r(25328),m="load_balancing_call";class n{constructor(a,b,c,d,e,f,g){var h,j;this.channel=a,this.callConfig=b,this.methodName=c,this.host=d,this.credentials=e,this.deadline=f,this.callNumber=g,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;const k=this.methodName.split("/");let l="";k.length>=2&&(l=k[1]);const m=null!=(j=null==(h=(0,i.splitHostPort)(this.host))?void 0:h.host)?j:"localhost";this.serviceUrl=`https://${m}/${l}`}trace(a){j.trace(e.LogVerbosity.DEBUG,m,"["+this.callNumber+"] "+a)}outputStatus(a,b){var c,d;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+a.code+' details="'+a.details+'"');let e=Object.assign(Object.assign({},a),{progress:b});null==(c=this.listener)||c.onReceiveStatus(e),null==(d=this.onCallEnded)||d.call(this,e.code)}}doPick(){var a,b;if(this.ended)return;if(!this.metadata)throw Error("doPick called before start");this.trace("Pick called");let c=this.channel.doPick(this.metadata,this.callConfig.pickInformation),i=c.subchannel?"("+c.subchannel.getChannelzRef().id+") "+c.subchannel.getAddress():""+c.subchannel;switch(this.trace("Pick result: "+h.PickResultType[c.pickResultType]+" subchannel: "+i+" status: "+(null==(a=c.status)?void 0:a.code)+" "+(null==(b=c.status)?void 0:b.details)),c.pickResultType){case h.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then(a=>{var b,h,j;if(this.ended)return void this.trace("Credentials metadata generation finished after call ended");let k=this.metadata.clone();if(k.merge(a),k.get("authorization").length>1&&this.outputStatus({code:e.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new g.Metadata},"PROCESSED"),c.subchannel.getConnectivityState()!==d.ConnectivityState.READY){this.trace("Picked subchannel "+i+" has state "+d.ConnectivityState[c.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&k.set("grpc-timeout",(0,f.getDeadlineTimeoutString)(this.deadline));try{this.child=c.subchannel.getRealSubchannel().createCall(k,this.host,this.methodName,{onReceiveMetadata:a=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(a)},onReceiveMessage:a=>{this.trace("Received message"),this.listener.onReceiveMessage(a)},onReceiveStatus:a=>{this.trace("Received status"),a.rstCode===l.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(a,"REFUSED"):this.outputStatus(a,"PROCESSED")}})}catch(a){this.trace("Failed to start call on picked subchannel "+i+" with error "+a.message),this.outputStatus({code:e.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+a.message,metadata:new g.Metadata},"NOT_STARTED");return}null==(h=(b=this.callConfig).onCommitted)||h.call(b),null==(j=c.onCallStarted)||j.call(c),this.onCallEnded=c.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},a=>{let{code:b,details:c}=(0,k.restrictControlPlaneStatusCode)("number"==typeof a.code?a.code:e.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${a.message}`);this.outputStatus({code:b,details:c,metadata:new g.Metadata},"PROCESSED")});break;case h.PickResultType.DROP:let{code:j,details:m}=(0,k.restrictControlPlaneStatusCode)(c.status.code,c.status.details);setImmediate(()=>{this.outputStatus({code:j,details:m,metadata:c.status.metadata},"DROP")});break;case h.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{let{code:a,details:b}=(0,k.restrictControlPlaneStatusCode)(c.status.code,c.status.details);setImmediate(()=>{this.outputStatus({code:a,details:b,metadata:c.status.metadata},"PROCESSED")})}break;case h.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(a,b){var c;this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),null==(c=this.child)||c.cancelWithStatus(a,b),this.outputStatus({code:a,details:b,metadata:new g.Metadata},"PROCESSED")}getPeer(){var a,b;return null!=(b=null==(a=this.child)?void 0:a.getPeer())?b:this.channel.getTarget()}start(a,b){this.trace("start called"),this.listener=b,this.metadata=a,this.doPick()}sendMessageWithContext(a,b){this.trace("write() called with message of length "+b.length),this.child?this.child.sendMessageWithContext(a,b):this.pendingMessage={context:a,message:b}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(a){throw Error("Method not implemented.")}getCallNumber(){return this.callNumber}}c.LoadBalancingCall=n},54986,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ResolvingCall=void 0;let d=a.r(41556),e=a.r(61904),f=a.r(80161),g=a.r(67034),h=a.r(47914),i="resolving_call";class j{constructor(a,b,c,f,g,h){this.channel=a,this.method=b,this.filterStackFactory=f,this.credentials=g,this.callNumber=h,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadline=c.deadline,this.host=c.host,c.parentCall&&(c.flags&d.Propagate.CANCELLATION&&c.parentCall.on("cancelled",()=>{this.cancelWithStatus(d.Status.CANCELLED,"Cancelled by parent call")}),c.flags&d.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+c.parentCall.getDeadline()),this.deadline=(0,e.minDeadline)(this.deadline,c.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(a){g.trace(d.LogVerbosity.DEBUG,i,"["+this.callNumber+"] "+a)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,e.deadlineToString)(this.deadline));let a=(0,e.getRelativeTimeout)(this.deadline);if(a!==1/0){this.trace("Deadline will be reached in "+a+"ms");let b=()=>{this.cancelWithStatus(d.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};a<=0?process.nextTick(b):this.deadlineTimer=setTimeout(b,a)}}outputStatus(a){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);let b=this.filterStack.receiveTrailers(a);this.trace("ended with status: code="+b.code+' details="'+b.details+'"'),this.statusWatchers.forEach(a=>a(b)),process.nextTick(()=>{var a;null==(a=this.listener)||a.onReceiveStatus(b)})}}sendMessageOnChild(a,b){if(!this.child)throw Error("sendMessageonChild called with child not populated");let c=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:b,flags:a.flags})).then(b=>{this.writeFilterPending=!1,c.sendMessageWithContext(a,b.message),this.pendingHalfClose&&c.halfClose()},a=>{this.cancelWithStatus(a.code,a.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw Error("getConfig called before start");let a=this.channel.getConfig(this.method,this.metadata);if("NONE"===a.type)return void this.channel.queueCallForConfig(this);if("ERROR"===a.type)return void(this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(a.error));let b=a.config;if(b.status!==d.Status.OK){let{code:a,details:c}=(0,h.restrictControlPlaneStatusCode)(b.status,"Failed to route call to method "+this.method);this.outputStatus({code:a,details:c,metadata:new f.Metadata});return}if(b.methodConfig.timeout){let a=new Date;a.setSeconds(a.getSeconds()+b.methodConfig.timeout.seconds),a.setMilliseconds(a.getMilliseconds()+b.methodConfig.timeout.nanos/1e6),this.deadline=(0,e.minDeadline)(this.deadline,a),this.runDeadlineTimer()}this.filterStackFactory.push(b.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(a=>{this.child=this.channel.createInnerCall(b,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(a,{onReceiveMetadata:a=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(a))},onReceiveMessage:a=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(a).then(a=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(a),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},a=>{this.cancelWithStatus(a.code,a.details)})},onReceiveStatus:a=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=a:this.outputStatus(a)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},a=>{this.outputStatus(a)})}reportResolverError(a){var b;(null==(b=this.metadata)?void 0:b.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(a)}cancelWithStatus(a,b){var c;this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),null==(c=this.child)||c.cancelWithStatus(a,b),this.outputStatus({code:a,details:b,metadata:new f.Metadata})}getPeer(){var a,b;return null!=(b=null==(a=this.child)?void 0:a.getPeer())?b:this.channel.getTarget()}start(a,b){this.trace("start called"),this.metadata=a.clone(),this.listener=b,this.getConfig()}sendMessageWithContext(a,b){this.trace("write() called with message of length "+b.length),this.child?this.sendMessageOnChild(a,b):this.pendingMessage={context:a,message:b}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(a){this.credentials=this.credentials.compose(a)}addStatusWatcher(a){this.statusWatchers.push(a)}getCallNumber(){return this.callNumber}}c.ResolvingCall=j},89726,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.RetryingCall=c.MessageBufferTracker=c.RetryThrottler=void 0;let d=a.r(41556),e=a.r(80161),f=a.r(67034),g="retrying_call";class h{constructor(a,b,c){this.maxTokens=a,this.tokenRatio=b,c?this.tokens=c.tokens*(a/c.maxTokens):this.tokens=a}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}c.RetryThrottler=h;class i{constructor(a,b){this.totalLimit=a,this.limitPerCall=b,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(a,b){var c;let d=null!=(c=this.allocatedPerCall.get(b))?c:0;return!(this.limitPerCall-d<a)&&!(this.totalLimit-this.totalAllocated<a)&&(this.allocatedPerCall.set(b,d+a),this.totalAllocated+=a,!0)}free(a,b){var c;if(this.totalAllocated<a)throw Error(`Invalid buffer allocation state: call ${b} freed ${a} > total allocated ${this.totalAllocated}`);this.totalAllocated-=a;let d=null!=(c=this.allocatedPerCall.get(b))?c:0;if(d<a)throw Error(`Invalid buffer allocation state: call ${b} freed ${a} > allocated for call ${d}`);this.allocatedPerCall.set(b,d-a)}freeAll(a){var b;let c=null!=(b=this.allocatedPerCall.get(a))?b:0;if(this.totalAllocated<c)throw Error(`Invalid buffer allocation state: call ${a} allocated ${c} > total allocated ${this.totalAllocated}`);this.totalAllocated-=c,this.allocatedPerCall.delete(a)}}c.MessageBufferTracker=i;let j="grpc-previous-rpc-attempts";class k{constructor(a,b,c,d,e,f,g,h,i){if(this.channel=a,this.callConfig=b,this.methodName=c,this.host=d,this.credentials=e,this.deadline=f,this.callNumber=g,this.bufferTracker=h,this.retryThrottler=i,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,b.methodConfig.retryPolicy){this.state="RETRY";const a=b.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(a.initialBackoff.substring(0,a.initialBackoff.length-1))}else b.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(a){f.trace(d.LogVerbosity.DEBUG,g,"["+this.callNumber+"] "+a)}reportStatus(a){this.trace("ended with status: code="+a.code+' details="'+a.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var b;null==(b=this.listener)||b.onReceiveStatus({code:a.code,details:a.details,metadata:a.metadata})})}cancelWithStatus(a,b){for(let{call:c}of(this.trace("cancelWithStatus code: "+a+' details: "'+b+'"'),this.reportStatus({code:a,details:b,metadata:new e.Metadata}),this.underlyingCalls))c.cancelWithStatus(a,b)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(a){var b;return null!=(b=this.writeBuffer[a-this.writeBufferOffset])?b:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;let a=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let b=this.writeBufferOffset;b<a;b++){let a=this.getBufferEntry(b);a.allocated&&this.bufferTracker.free(a.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(a-this.writeBufferOffset),this.writeBufferOffset=a}commitCall(a){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[a].state){this.trace("Committing call ["+this.underlyingCalls[a].call.getCallNumber()+"] at index "+a),this.state="COMMITTED",this.committedCallIndex=a;for(let b=0;b<this.underlyingCalls.length;b++)b!==a&&"COMPLETED"!==this.underlyingCalls[b].state&&(this.underlyingCalls[b].state="COMPLETED",this.underlyingCalls[b].call.cancelWithStatus(d.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let a=-1,b=-1;for(let[c,d]of this.underlyingCalls.entries())"ACTIVE"===d.state&&d.nextMessageToSend>a&&(a=d.nextMessageToSend,b=c);-1===b?this.state="TRANSPARENT_ONLY":this.commitCall(b)}isStatusCodeInList(a,b){return a.some(a=>a===b||a.toString().toLowerCase()===d.Status[b].toLowerCase())}getNextRetryBackoffMs(){var a;let b=null==(a=this.callConfig)?void 0:a.methodConfig.retryPolicy;if(!b)return 0;let c=Math.random()*this.nextRetryBackoffSec*1e3,d=Number(b.maxBackoff.substring(0,b.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*b.backoffMultiplier,d),c}maybeRetryCall(a,b){let c;if("RETRY"!==this.state)return void b(!1);let d=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(d.maxAttempts,5))return void b(!1);if(null===a)c=this.getNextRetryBackoffMs();else if(a<0){this.state="TRANSPARENT_ONLY",b(!1);return}else c=a,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var a,c;"RETRY"!==this.state?b(!1):(null==(c=null==(a=this.retryThrottler)?void 0:a.canRetryCall())||c)&&(b(!0),this.attempts+=1,this.startNewAttempt())},c)}countActiveCalls(){let a=0;for(let b of this.underlyingCalls)(null==b?void 0:b.state)==="ACTIVE"&&(a+=1);return a}handleProcessedStatus(a,b,c){var d,e,f;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(b),this.reportStatus(a);break;case"HEDGING":if(this.isStatusCodeInList(null!=(d=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)?d:[],a.code)){let d;if(null==(e=this.retryThrottler)||e.addCallFailed(),null===c)d=0;else if(c<0){this.state="TRANSPARENT_ONLY",this.commitCall(b),this.reportStatus(a);return}else d=c;setTimeout(()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(b),this.reportStatus(a))},d)}else this.commitCall(b),this.reportStatus(a);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,a.code)?(null==(f=this.retryThrottler)||f.addCallFailed(),this.maybeRetryCall(c,c=>{c||(this.commitCall(b),this.reportStatus(a))})):(this.commitCall(b),this.reportStatus(a))}}getPushback(a){let b=a.get("grpc-retry-pushback-ms");if(0===b.length)return null;try{return parseInt(b[0])}catch(a){return -1}}handleChildStatus(a,b){var c;if("COMPLETED"===this.underlyingCalls[b].state)return;if(this.trace("state="+this.state+" handling status with progress "+a.progress+" from child ["+this.underlyingCalls[b].call.getCallNumber()+"] in state "+this.underlyingCalls[b].state),this.underlyingCalls[b].state="COMPLETED",a.code===d.Status.OK){null==(c=this.retryThrottler)||c.addCallSucceeded(),this.commitCall(b),this.reportStatus(a);return}if("COMMITTED"===this.state)return void this.reportStatus(a);let e=this.getPushback(a.metadata);switch(a.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(a,b,e):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(b),this.reportStatus(a);break;case"PROCESSED":this.handleProcessedStatus(a,b,e)}}maybeStartHedgingAttempt(){if("HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let a=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(a.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var a,b,c;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state||!this.callConfig.methodConfig.hedgingPolicy)return;let d=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(d.maxAttempts,5))return;let e=null!=(a=d.hedgingDelay)?a:"0s",f=Number(e.substring(0,e.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},1e3*f),null==(c=(b=this.hedgingTimer).unref)||c.call(b)}startNewAttempt(){let a=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+a.getCallNumber()+"] for attempt "+this.attempts);let b=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:a,nextMessageToSend:0});let c=this.attempts-1,d=this.initialMetadata.clone();c>0&&d.set(j,`${c}`);let e=!1;a.start(d,{onReceiveMetadata:d=>{this.trace("Received metadata from child ["+a.getCallNumber()+"]"),this.commitCall(b),e=!0,c>0&&d.set(j,`${c}`),"ACTIVE"===this.underlyingCalls[b].state&&this.listener.onReceiveMetadata(d)},onReceiveMessage:c=>{this.trace("Received message from child ["+a.getCallNumber()+"]"),this.commitCall(b),"ACTIVE"===this.underlyingCalls[b].state&&this.listener.onReceiveMessage(c)},onReceiveStatus:d=>{this.trace("Received status from child ["+a.getCallNumber()+"]"),!e&&c>0&&d.metadata.set(j,`${c}`),this.handleChildStatus(d,b)}}),this.sendNextChildMessage(b),this.readStarted&&a.startRead()}start(a,b){this.trace("start called"),this.listener=b,this.initialMetadata=a,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(a){var b,c;let d=this.underlyingCalls[a],e=d.nextMessageToSend;null==(c=(b=this.getBufferEntry(e)).callback)||c.call(b),this.clearSentMessages(),d.nextMessageToSend+=1,this.sendNextChildMessage(a)}sendNextChildMessage(a){let b=this.underlyingCalls[a];if("COMPLETED"!==b.state&&this.getBufferEntry(b.nextMessageToSend)){let c=this.getBufferEntry(b.nextMessageToSend);switch(c.entryType){case"MESSAGE":b.call.sendMessageWithContext({callback:b=>{this.handleChildWriteCompleted(a)}},c.message.message);break;case"HALF_CLOSE":b.nextMessageToSend+=1,b.call.halfClose()}}}sendMessageWithContext(a,b){var c;this.trace("write() called with message of length "+b.length);let d={message:b,flags:a.flags},e=this.getNextBufferIndex(),f={entryType:"MESSAGE",message:d,allocated:this.bufferTracker.allocate(b.length,this.callNumber)};if(this.writeBuffer.push(f),f.allocated)for(let[d,f]of(null==(c=a.callback)||c.call(a),this.underlyingCalls.entries()))"ACTIVE"===f.state&&f.nextMessageToSend===e&&f.call.sendMessageWithContext({callback:a=>{this.handleChildWriteCompleted(d)}},b);else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;let c=this.underlyingCalls[this.committedCallIndex];f.callback=a.callback,"ACTIVE"===c.state&&c.nextMessageToSend===e&&c.call.sendMessageWithContext({callback:a=>{this.handleChildWriteCompleted(this.committedCallIndex)}},b)}}startRead(){for(let a of(this.trace("startRead called"),this.readStarted=!0,this.underlyingCalls))(null==a?void 0:a.state)==="ACTIVE"&&a.call.startRead()}halfClose(){this.trace("halfClose called");let a=this.getNextBufferIndex();for(let b of(this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1}),this.underlyingCalls))(null==b?void 0:b.state)==="ACTIVE"&&b.nextMessageToSend===a&&(b.nextMessageToSend+=1,b.call.halfClose())}setCredentials(a){throw Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}c.RetryingCall=k},71234,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.BaseSubchannelWrapper=void 0;class d{constructor(a){this.child=a}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(a){this.child.addConnectivityStateListener(a)}removeConnectivityStateListener(a){this.child.removeConnectivityStateListener(a)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(a){this.child.throttleKeepalive(a)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(a){return this.getRealSubchannel()===a.getRealSubchannel()}}c.BaseSubchannelWrapper=d},26286,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.InternalChannel=void 0;let d=a.r(29205),e=a.r(32888),f=a.r(89666),g=a.r(40064),h=a.r(41556),i=a.r(6605),j=a.r(60099),k=a.r(37030),l=a.r(67034),m=a.r(64976),n=a.r(16713),o=a.r(31536),p=a.r(71290),q=a.r(24461),r=a.r(61904),s=a.r(54986),t=a.r(21424),u=a.r(47914),v=a.r(89726),w=a.r(71234),x=0x7fffffff,y=1e3,z=18e5,A=new Map,B=0x1000000,C=1048576;class D extends w.BaseSubchannelWrapper{constructor(a,b){super(a),this.channel=b,this.refCount=0,this.subchannelStateListener=(a,c,d,e)=>{b.throttleKeepalive(e)},a.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class E{constructor(a,b,c){var q,r,s,t,w,E,F,G;if(this.credentials=b,this.options=c,this.connectivityState=o.ConnectivityState.IDLE,this.currentPicker=new g.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.callTracker=new p.ChannelzCallTracker,this.childrenTracker=new p.ChannelzChildrenTracker,"string"!=typeof a)throw TypeError("Channel target must be a string");if(!(b instanceof d.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(c&&"object"!=typeof c)throw TypeError("Channel options must be an object");this.originalTarget=a;const H=(0,n.parseUri)(a);if(null===H)throw Error(`Could not parse target name "${a}"`);const I=(0,k.mapUriDefaultScheme)(H);if(null===I)throw Error(`Could not find a default scheme for target name "${a}"`);this.callRefTimer=setInterval(()=>{},x),null==(r=(q=this.callRefTimer).unref)||r.call(q),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new p.ChannelzTrace,this.channelzRef=(0,p.registerChannelzChannel)(a,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,k.getDefaultAuthority)(I);const J=(0,m.mapProxyName)(I,c);this.target=J.target,this.options=Object.assign({},this.options,J.extraOptions),this.subchannelPool=(0,f.getSubchannelPool)((null!=(s=c["grpc.use_local_subchannel_pool"])?s:0)===0),this.retryBufferTracker=new v.MessageBufferTracker(null!=(t=c["grpc.retry_buffer_size"])?t:B,null!=(w=c["grpc.per_rpc_retry_buffer_size"])?w:C),this.keepaliveTime=null!=(E=c["grpc.keepalive_time_ms"])?E:-1,this.idleTimeoutMs=Math.max(null!=(F=c["grpc.client_idle_timeout_ms"])?F:z,y);const K={createSubchannel:(a,b)=>{let c=this.subchannelPool.getOrCreateSubchannel(this.target,a,Object.assign({},this.options,b),this.credentials);c.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",c.getChannelzRef());let d=new D(c,this);return this.wrappedSubchannels.add(d),d},updateState:(a,b)=>{this.currentPicker=b;let c=this.pickQueue.slice();for(let a of(this.pickQueue=[],c.length>0&&this.callRefTimerUnref(),c))a.doPick();this.updateState(a)},requestReresolution:()=>{throw Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:a=>{this.channelzEnabled&&this.childrenTracker.refChild(a)},removeChannelzChild:a=>{this.channelzEnabled&&this.childrenTracker.unrefChild(a)}};this.resolvingLoadBalancer=new e.ResolvingLoadBalancer(this.target,K,c,(a,b)=>{a.retryThrottling?A.set(this.getTarget(),new v.RetryThrottler(a.retryThrottling.maxTokens,a.retryThrottling.tokenRatio,A.get(this.getTarget()))):A.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=b,this.currentResolutionError=null,process.nextTick(()=>{let a=this.configSelectionQueue;for(let b of(this.configSelectionQueue=[],a.length>0&&this.callRefTimerUnref(),a))b.getConfig()})},a=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+a.code+' and details "'+a.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,u.restrictControlPlaneStatusCode)(a.code,a.details)),{metadata:a.metadata}));let b=this.configSelectionQueue;for(let c of(this.configSelectionQueue=[],b.length>0&&this.callRefTimerUnref(),b))c.reportResolverError(a)}),this.filterStackFactory=new i.FilterStackFactory([new j.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(c,void 0,2));const L=Error();(0,l.trace)(h.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null==(G=L.stack)?void 0:G.substring(L.stack.indexOf("\n")+1))),this.lastActivityTimestamp=new Date}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(a,b){(0,l.trace)(null!=b?b:h.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,n.uriToString)(this.target)+" "+a)}callRefTimerRef(){var a,b,c,d;(null==(b=(a=this.callRefTimer).hasRef)?void 0:b.call(a))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null==(d=(c=this.callRefTimer).ref)||d.call(c))}callRefTimerUnref(){var a,b;(!this.callRefTimer.hasRef||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null==(b=(a=this.callRefTimer).unref)||b.call(a))}removeConnectivityStateWatcher(a){let b=this.connectivityStateWatchers.findIndex(b=>b===a);b>=0&&this.connectivityStateWatchers.splice(b,1)}updateState(a){for(let b of((0,l.trace)(h.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,n.uriToString)(this.target)+" "+o.ConnectivityState[this.connectivityState]+" -> "+o.ConnectivityState[a]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+o.ConnectivityState[a]),this.connectivityState=a,this.connectivityStateWatchers.slice()))a!==b.currentState&&(b.timer&&clearTimeout(b.timer),this.removeConnectivityStateWatcher(b),b.callback());a!==o.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(a){if(a>this.keepaliveTime)for(let b of(this.keepaliveTime=a,this.wrappedSubchannels))b.throttleKeepalive(a)}removeWrappedSubchannel(a){this.wrappedSubchannels.delete(a)}doPick(a,b){return this.currentPicker.pick({metadata:a,extraPickInfo:b})}queueCallForPick(a){this.pickQueue.push(a),this.callRefTimerRef()}getConfig(a,b){return(this.resolvingLoadBalancer.exitIdle(),this.configSelector)?{type:"SUCCESS",config:this.configSelector(a,b)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(a){this.configSelectionQueue.push(a),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(o.ConnectivityState.IDLE),this.currentPicker=new g.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null)}startIdleTimeout(a){var b,c;this.idleTimer=setTimeout(()=>{if(this.callCount>0)return void this.startIdleTimeout(this.idleTimeoutMs);let a=new Date().valueOf()-this.lastActivityTimestamp.valueOf();a>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-a)},a),null==(c=(b=this.idleTimer).unref)||c.call(b)}maybeStartIdleTimer(){this.connectivityState===o.ConnectivityState.SHUTDOWN||this.idleTimer||this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(a){this.channelzEnabled&&(a.code===h.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(a,b,c,d,e){let f=(0,t.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+f+'] method="'+b+'"'),new q.LoadBalancingCall(this,a,b,c,d,e,f)}createRetryingCall(a,b,c,d,e){let f=(0,t.getNextCallNumber)();return this.trace("createRetryingCall ["+f+'] method="'+b+'"'),new v.RetryingCall(this,a,b,c,d,e,f,this.retryBufferTracker,A.get(this.getTarget()))}createInnerCall(a,b,c,d,e){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(a,b,c,d,e):this.createRetryingCall(a,b,c,d,e)}createResolvingCall(a,b,c,d,e){let f=(0,t.getNextCallNumber)();this.trace("createResolvingCall ["+f+'] method="'+a+'", deadline='+(0,r.deadlineToString)(b));let g={deadline:b,flags:null!=e?e:h.Propagate.DEFAULTS,host:null!=c?c:this.defaultAuthority,parentCall:d},i=new s.ResolvingCall(this,a,g,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),f);return this.onCallStart(),i.addStatusWatcher(a=>{this.onCallEnd(a)}),i}close(){this.resolvingLoadBalancer.destroy(),this.updateState(o.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,p.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,n.uriToString)(this.target)}getConnectivityState(a){let b=this.connectivityState;return a&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),b}watchConnectivityState(a,b,c){if(this.connectivityState===o.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");let d=null;if(b!==1/0){let a=b instanceof Date?b:new Date(b),f=new Date;if(b===-1/0||a<=f)return void process.nextTick(c,Error("Deadline passed without connectivity state change"));d=setTimeout(()=>{this.removeConnectivityStateWatcher(e),c(Error("Deadline passed without connectivity state change"))},a.getTime()-f.getTime())}let e={currentState:a,callback:c,timer:d};this.connectivityStateWatchers.push(e)}getChannelzRef(){return this.channelzRef}createCall(a,b,c,d,e){if("string"!=typeof a)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof b||b instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===o.ConnectivityState.SHUTDOWN)throw Error("Channel has been shut down");return this.createResolvingCall(a,b,c,d,e)}}c.InternalChannel=E},21171,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ChannelImplementation=void 0;let d=a.r(29205),e=a.r(26286);class f{constructor(a,b,c){if("string"!=typeof a)throw TypeError("Channel target must be a string");if(!(b instanceof d.ChannelCredentials))throw TypeError("Channel credentials must be a ChannelCredentials object");if(c&&"object"!=typeof c)throw TypeError("Channel options must be an object");this.internalChannel=new e.InternalChannel(a,b,c)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(a){return this.internalChannel.getConnectivityState(a)}watchConnectivityState(a,b,c){this.internalChannel.watchConnectivityState(a,b,c)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(a,b,c,d,e){if("string"!=typeof a)throw TypeError("Channel#createCall: method must be a string");if(!("number"==typeof b||b instanceof Date))throw TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(a,b,c,d,e)}}c.ChannelImplementation=f},86890,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Http2ServerCallStream=c.ServerDuplexStreamImpl=c.ServerWritableStreamImpl=c.ServerReadableStreamImpl=c.ServerUnaryCallImpl=void 0;let d=a.r(27699),e=a.r(25328),f=a.r(88947),g=a.r(6461),h=a.r(41556),i=a.r(80161),j=a.r(48331),k=a.r(67034),l=a.r(9932),m="server_call";function n(a){k.trace(h.LogVerbosity.DEBUG,m,a)}let o="grpc-message",p="grpc-status",q="grpc-timeout",r=/(\d{1,8})\s*([HMSmun])/,s={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},t={"grpc-accept-encoding":"identity,deflate,gzip","grpc-encoding":"identity"},u={[e.constants.HTTP2_HEADER_STATUS]:e.constants.HTTP_STATUS_OK,[e.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},v={waitForTrailers:!0};class w extends d.EventEmitter{constructor(a,b,c){super(),this.call=a,this.metadata=b,this.request=c,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}c.ServerUnaryCallImpl=w;class x extends f.Readable{constructor(a,b,c,d){super({objectMode:!0}),this.call=a,this.metadata=b,this.deserialize=c,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,d)}_read(a){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}c.ServerReadableStreamImpl=x;class y extends f.Writable{constructor(a,b,c,d){super({objectMode:!0}),this.call=a,this.metadata=b,this.serialize=c,this.request=d,this.cancelled=!1,this.trailingMetadata=new i.Metadata,this.call.setupSurfaceCall(this),this.on("error",a=>{this.call.sendError(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(a,b,c){try{let b=this.call.serializeMessage(a);if(!this.call.write(b))return void this.call.once("drain",c)}catch(a){this.emit("error",{details:(0,l.getErrorMessage)(a),code:h.Status.INTERNAL})}c()}_final(a){this.call.sendStatus({code:h.Status.OK,details:"OK",metadata:this.trailingMetadata}),a(null)}end(a){return a&&(this.trailingMetadata=a),super.end()}}c.ServerWritableStreamImpl=y;class z extends f.Duplex{constructor(a,b,c,d,e){super({objectMode:!0}),this.call=a,this.metadata=b,this.serialize=c,this.deserialize=d,this.cancelled=!1,this.trailingMetadata=new i.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,e),this.on("error",a=>{this.call.sendError(a),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(a){this.call.sendMetadata(a)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(a){return a&&(this.trailingMetadata=a),super.end()}}c.ServerDuplexStreamImpl=z,z.prototype._read=x.prototype._read,z.prototype._write=y.prototype._write,z.prototype._final=y.prototype._final;class A extends d.EventEmitter{constructor(a,b,c){super(),this.stream=a,this.handler=b,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=h.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=h.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",a=>{}),this.stream.once("close",()=>{var a;n("Request to method "+(null==(a=this.handler)?void 0:a.path)+" stream closed with rstCode "+this.stream.rstCode),!this.statusSent&&(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:h.Status.CANCELLED,details:"Cancelled by client",metadata:null}),this.deadlineTimer&&clearTimeout(this.deadlineTimer))}),this.stream.on("drain",()=>{this.emit("drain")}),"grpc.max_send_message_length"in c&&(this.maxSendMessageSize=c["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in c&&(this.maxReceiveMessageSize=c["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(a,b){let c=a.subarray(5);if("identity"===b)return c;if("deflate"!==b&&"gzip"!==b)return Promise.reject({code:h.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${b}"`});{let a;return a="deflate"===b?g.createInflate():g.createGunzip(),new Promise((b,d)=>{let e=0,f=[];a.on("data",b=>{f.push(b),e+=b.byteLength,-1!==this.maxReceiveMessageSize&&e>this.maxReceiveMessageSize&&(a.destroy(),d({code:h.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),a.on("end",()=>{b(Buffer.concat(f))}),a.write(c),a.end()})}}sendMetadata(a){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;let b=a?a.toHttp2Headers():null,c=Object.assign(Object.assign(Object.assign({},u),t),b);this.stream.respond(c,v)}receiveMetadata(a){let b=i.Metadata.fromHttp2Headers(a);k.isTracerEnabled(m)&&n("Request to "+this.handler.path+" received headers "+JSON.stringify(b.toJSON()));let c=b.get(q);if(c.length>0){let a=c[0].toString().match(r);if(null===a){let a=Error("Invalid deadline");return a.code=h.Status.OUT_OF_RANGE,this.sendError(a),b}let d=a[1]*s[a[2]]|0,e=new Date;this.deadline=e.setMilliseconds(e.getMilliseconds()+d),this.deadlineTimer=setTimeout(B,d,this),b.remove(q)}return b.remove(e.constants.HTTP2_HEADER_ACCEPT_ENCODING),b.remove(e.constants.HTTP2_HEADER_TE),b.remove(e.constants.HTTP2_HEADER_CONTENT_TYPE),b.remove("grpc-accept-encoding"),b}receiveUnaryMessage(a){return new Promise((b,c)=>{let{stream:d}=this,e=0,f=this,g=[],i=this.maxReceiveMessageSize;function j(a){if(e+=a.byteLength,-1!==i&&e>i){d.removeListener("data",j),d.removeListener("end",k),d.removeListener("error",k),c({code:h.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${e} vs. ${i})`});return}g.push(a)}function k(i){if(d.removeListener("data",j),d.removeListener("end",k),d.removeListener("error",k),void 0!==i)return void c({code:h.Status.INTERNAL,details:i.message});if(0===e)return void c({code:h.Status.INTERNAL,details:"received empty unary message"});f.emit("receiveMessage");let l=Buffer.concat(g,e),m=1===l.readUInt8(0)?a:"identity",n=f.getDecompressedMessage(l,m);Buffer.isBuffer(n)?b(f.deserializeMessageWithInternalError(n)):n.then(a=>b(f.deserializeMessageWithInternalError(a)),b=>c(b.code?b:{code:h.Status.INTERNAL,details:`Received "grpc-encoding" header "${a}" but ${a} decompression failed`}))}this.stream.on("data",j),this.stream.on("end",k),this.stream.on("error",k)})}async deserializeMessageWithInternalError(a){try{return this.deserializeMessage(a)}catch(a){throw{details:(0,l.getErrorMessage)(a),code:h.Status.INTERNAL}}}serializeMessage(a){let b=this.handler.serialize(a),c=b.byteLength,d=Buffer.allocUnsafe(c+5);return d.writeUInt8(0,0),d.writeUInt32BE(c,1),b.copy(d,5),d}deserializeMessage(a){return this.handler.deserialize(a)}async sendUnaryMessage(a,b,c,d){if(!this.checkCancelled()){if(void 0===c&&(c=null),a){!Object.prototype.hasOwnProperty.call(a,"metadata")&&c&&(a.metadata=c),this.sendError(a);return}try{let a=this.serializeMessage(b);this.write(a),this.sendStatus({code:h.Status.OK,details:"OK",metadata:c})}catch(a){this.sendError({details:(0,l.getErrorMessage)(a),code:h.Status.INTERNAL})}}}sendStatus(a){var b,c;if(this.emit("callEnd",a.code),this.emit("streamEnd",a.code===h.Status.OK),!this.checkCancelled())if(n("Request to method "+(null==(b=this.handler)?void 0:b.path)+" ended with status code: "+h.Status[a.code]+" details: "+a.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{var b;let c=Object.assign({[p]:a.code,[o]:encodeURI(a.details)},null==(b=a.metadata)?void 0:b.toHttp2Headers());this.stream.sendTrailers(c),this.statusSent=!0}),this.stream.end());else{let b=Object.assign(Object.assign({[p]:a.code,[o]:encodeURI(a.details)},u),null==(c=a.metadata)?void 0:c.toHttp2Headers());this.stream.respond(b,{endStream:!0}),this.statusSent=!0}}sendError(a){let b={code:h.Status.UNKNOWN,details:"message"in a?a.message:"Unknown Error",metadata:"metadata"in a&&void 0!==a.metadata?a.metadata:null};"code"in a&&"number"==typeof a.code&&Number.isInteger(a.code)&&(b.code=a.code,"details"in a&&"string"==typeof a.details&&(b.details=a.details)),this.sendStatus(b)}write(a){if(!this.checkCancelled())return -1!==this.maxSendMessageSize&&a.length>this.maxSendMessageSize?void this.sendError({code:h.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${a.length} vs. ${this.maxSendMessageSize})`}):(this.sendMetadata(),this.emit("sendMessage"),this.stream.write(a))}resume(){this.stream.resume()}setupSurfaceCall(a){this.once("cancelled",b=>{a.cancelled=!0,a.emit("cancelled",b)}),this.once("callEnd",b=>a.emit("callEnd",b))}setupReadable(a,b){let c=new j.StreamDecoder(this.maxReceiveMessageSize),d=!1,e=!1,f=!1,g=async()=>{f||!d||e||(f=!0,await this.pushOrBufferMessage(a,null))};this.stream.on("data",async d=>{let f;try{f=c.write(d)}catch(a){this.sendError({code:h.Status.RESOURCE_EXHAUSTED,details:a.message});return}for(let c of(e=!0,this.stream.pause(),f)){let d;this.emit("receiveMessage");let e=1===c.readUInt8(0)?b:"identity";try{d=await this.getDecompressedMessage(c,e)}catch(a){this.sendError(a);return}if(!d)return;await this.pushOrBufferMessage(a,d)}e=!1,this.stream.resume(),await g()}),this.stream.once("end",async()=>{d=!0,await g()})}consumeUnpushedMessages(a){for(this.canPush=!0;this.messagesToPush.length>0;){let b=this.messagesToPush.shift(),c=a.push(b);if(null===b||!1===c){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage(a,b){this.isPushPending?this.bufferedMessages.push(b):await this.pushMessage(a,b)}async pushMessage(a,b){if(null===b){n("Received end of stream"),this.canPush?a.push(null):this.messagesToPush.push(null);return}n("Received message of length "+b.length),this.isPushPending=!0;try{let c=await this.deserializeMessage(b);this.canPush?a.push(c)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(c)}catch(c){this.bufferedMessages.length=0;let b=(0,l.getErrorCode)(c);(null===b||b<h.Status.OK||b>h.Status.UNAUTHENTICATED)&&(b=h.Status.INTERNAL),a.emit("error",{details:(0,l.getErrorMessage)(c),code:b})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage(a,this.bufferedMessages.shift())}getPeer(){var a;let b=null==(a=this.stream.session)?void 0:a.socket;return null!=b&&b.remoteAddress?b.remotePort?`${b.remoteAddress}:${b.remotePort}`:b.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}}function B(a){let b=Error("Deadline exceeded");b.code=h.Status.DEADLINE_EXCEEDED,a.sendError(b),a.cancelled=!0,a.emit("cancelled","deadline")}c.Http2ServerCallStream=A},63858,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ServerCredentials=void 0;let d=a.r(27258);class e{static createInsecure(){return new f}static createSsl(a,b,c=!1){if(null!==a&&!Buffer.isBuffer(a))throw TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(b))throw TypeError("keyCertPairs must be an array");if("boolean"!=typeof c)throw TypeError("checkClientCertificate must be a boolean");let e=[],f=[];for(let a=0;a<b.length;a++){let c=b[a];if(null===c||"object"!=typeof c)throw TypeError(`keyCertPair[${a}] must be an object`);if(!Buffer.isBuffer(c.private_key))throw TypeError(`keyCertPair[${a}].private_key must be a Buffer`);if(!Buffer.isBuffer(c.cert_chain))throw TypeError(`keyCertPair[${a}].cert_chain must be a Buffer`);e.push(c.cert_chain),f.push(c.private_key)}return new g({ca:a||(0,d.getDefaultRootsData)()||void 0,cert:e,key:f,requestCert:c,ciphers:d.CIPHER_SUITES})}}c.ServerCredentials=e;class f extends e{_isSecure(){return!1}_getSettings(){return null}}class g extends e{constructor(a){super(),this.options=a}_isSecure(){return!0}_getSettings(){return this.options}}},95483,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.Server=void 0;let d=a.r(25328),e=a.r(41556),f=a.r(86890),g=a.r(63858),h=a.r(37030),i=a.r(67034),j=a.r(25069),k=a.r(16713),l=a.r(71290),m=0x7fffffff,n=0x7fffffff,o=2e4,{HTTP2_HEADER_PATH:p}=d.constants,q="server";function r(){}function s(a){return{code:e.Status.UNIMPLEMENTED,details:`The server does not implement the method ${a}`}}function t(a,b){let c=s(b);switch(a){case"unary":return(a,b)=>{b(c,null)};case"clientStream":return(a,b)=>{b(c,null)};case"serverStream":return a=>{a.emit("error",c)};case"bidi":return a=>{a.emit("error",c)};default:throw Error(`Invalid handlerType ${a}`)}}class u{constructor(a){var b,c,d,e;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new l.ChannelzTrace,this.callTracker=new l.ChannelzCallTracker,this.listenerChildrenTracker=new l.ChannelzChildrenTracker,this.sessionChildrenTracker=new l.ChannelzChildrenTracker,this.options=null!=a?a:{},0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,l.registerChannelzServer)(()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!=(b=this.options["grpc.max_connection_age_ms"])?b:m,this.maxConnectionAgeGraceMs=null!=(c=this.options["grpc.max_connection_age_grace_ms"])?c:m,this.keepaliveTimeMs=null!=(d=this.options["grpc.keepalive_time_ms"])?d:n,this.keepaliveTimeoutMs=null!=(e=this.options["grpc.keepalive_timeout_ms"])?e:o,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(a){return()=>{var b,c,d;let e,f=this.sessions.get(a),g=a.socket,h=g.remoteAddress?(0,j.stringToSubchannelAddress)(g.remoteAddress,g.remotePort):null,i=g.localAddress?(0,j.stringToSubchannelAddress)(g.localAddress,g.localPort):null;if(a.encrypted){let a=g,c=a.getCipher(),d=a.getCertificate(),f=a.getPeerCertificate();e={cipherSuiteStandardName:null!=(b=c.standardName)?b:null,cipherSuiteOtherName:c.standardName?null:c.name,localCertificate:d&&"raw"in d?d.raw:null,remoteCertificate:f&&"raw"in f?f.raw:null}}else e=null;return{remoteAddress:h,localAddress:i,security:e,remoteName:null,streamsStarted:f.streamTracker.callsStarted,streamsSucceeded:f.streamTracker.callsSucceeded,streamsFailed:f.streamTracker.callsFailed,messagesSent:f.messagesSent,messagesReceived:f.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:f.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:f.lastMessageSentTimestamp,lastMessageReceivedTimestamp:f.lastMessageReceivedTimestamp,localFlowControlWindow:null!=(c=a.state.localWindowSize)?c:null,remoteFlowControlWindow:null!=(d=a.state.remoteWindowSize)?d:null}}}trace(a){i.trace(e.LogVerbosity.DEBUG,q,"("+this.channelzRef.id+") "+a)}addProtoService(){throw Error("Not implemented. Use addService() instead")}addService(a,b){if(null===a||"object"!=typeof a||null===b||"object"!=typeof b)throw Error("addService() requires two objects as arguments");let c=Object.keys(a);if(0===c.length)throw Error("Cannot add an empty service to a server");c.forEach(c=>{let d,e,f=a[c];d=f.requestStream?f.responseStream?"bidi":"clientStream":f.responseStream?"serverStream":"unary";let g=b[c];if(void 0===g&&"string"==typeof f.originalName&&(g=b[f.originalName]),e=void 0!==g?g.bind(b):t(d,c),!1===this.register(f.path,e,f.responseSerialize,f.requestDeserialize,d))throw Error(`Method handler for ${f.path} already provided.`)})}removeService(a){if(null===a||"object"!=typeof a)throw Error("removeService() requires object as argument");Object.keys(a).forEach(b=>{let c=a[b];this.unregister(c.path)})}bind(a,b){throw Error("Not implemented. Use bindAsync() instead")}bindAsync(a,b,c){if(!0===this.started)throw Error("server is already started");if(this.shutdown)throw Error("bindAsync called after shutdown");if("string"!=typeof a)throw TypeError("port must be a string");if(null===b||!(b instanceof g.ServerCredentials))throw TypeError("creds must be a ServerCredentials object");if("function"!=typeof c)throw TypeError("callback must be a function");let f=(0,k.parseUri)(a);if(null===f)throw Error(`Could not parse port "${a}"`);let m=(0,h.mapUriDefaultScheme)(f);if(null===m)throw Error(`Could not get a default scheme for port "${a}"`);let n={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?n.maxSessionMemory=this.options["grpc-node.max_session_memory"]:n.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(n.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});let o=(a,b)=>{process.nextTick(()=>c(a,b))},p=()=>{let a;if(b._isSecure()){let c=Object.assign(n,b._getSettings());c.enableTrace=1===this.options["grpc-node.tls_enable_trace"],(a=d.createSecureServer(c)).on("secureConnection",a=>{a.on("error",a=>{this.trace("An incoming TLS connection closed with error: "+a.message)})})}else a=d.createServer(n);return a.setTimeout(0,r),this._setupHandlers(a),a},q=(a,b,c)=>0===a.length?Promise.resolve({port:b,count:c}):Promise.all(a.map(a=>{let c;this.trace("Attempting to bind "+(0,j.subchannelAddressToString)(a)),c=(0,j.isTcpSubchannelAddress)(a)?{host:a.host,port:b}:a;let d=p();return new Promise((e,f)=>{let g=b=>{this.trace("Failed to bind "+(0,j.subchannelAddressToString)(a)+" with error "+b.message),e(b)};d.once("error",g),d.listen(c,()=>{let a;if(this.shutdown){d.close(),e(Error("bindAsync failed because server is shutdown"));return}let c=d.address();a="string"==typeof c?{path:c}:{host:c.address,port:c.port};let f=(0,l.registerChannelzSocket)((0,j.subchannelAddressToString)(a),()=>({localAddress:a,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(f),this.http2ServerList.push({server:d,channelzRef:f}),this.trace("Successfully bound "+(0,j.subchannelAddressToString)(a)),e("port"in a?a.port:b),d.removeListener("error",g)})})})).then(a=>{let d=0;for(let c of a)if("number"==typeof c&&(d+=1,c!==b))throw Error("Invalid state: multiple port numbers added from single address");return{port:b,count:d+c}}),s=a=>{if(0===a.length)return Promise.resolve({port:0,count:0});let b=a[0],c=p();return new Promise((d,e)=>{let f=c=>{this.trace("Failed to bind "+(0,j.subchannelAddressToString)(b)+" with error "+c.message),d(s(a.slice(1)))};c.once("error",f),c.listen(b,()=>{if(this.shutdown){c.close(),d({port:0,count:0});return}let b=c.address(),e={host:b.address,port:b.port},g=(0,l.registerChannelzSocket)((0,j.subchannelAddressToString)(e),()=>({localAddress:e,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled);this.channelzEnabled&&this.listenerChildrenTracker.refChild(g),this.http2ServerList.push({server:c,channelzRef:g}),this.trace("Successfully bound "+(0,j.subchannelAddressToString)(e)),d(q(a.slice(1),b.port,1)),c.removeListener("error",f)})})},t={onSuccessfulResolution:(b,c,d)=>{let f;(t.onSuccessfulResolution=()=>{},this.shutdown&&o(Error("bindAsync failed because server is shutdown"),0),0===b.length)?o(Error(`No addresses resolved for port ${a}`),0):(f=(0,j.isTcpSubchannelAddress)(b[0])?0===b[0].port?s(b):q(b,b[0].port,0):q(b,1,0)).then(a=>{if(0===a.count){let a=`No address added out of total ${b.length} resolved`;i.log(e.LogVerbosity.ERROR,a),o(Error(a),0)}else a.count<b.length&&i.log(e.LogVerbosity.INFO,`WARNING Only ${a.count} addresses added out of total ${b.length} resolved`),o(null,a.port)},a=>{let c=`No address added out of total ${b.length} resolved`;i.log(e.LogVerbosity.ERROR,c),o(Error(c),0)})},onError:a=>{o(Error(a.details),0)}};(0,h.createResolver)(m,t,this.options).updateResolution()}forceShutdown(){for(let{server:a,channelzRef:b}of this.http2ServerList)a.listening&&a.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(b),(0,l.unregisterChannelzRef)(b))});this.started=!1,this.shutdown=!0,this.sessions.forEach((a,b)=>{b.destroy(d.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),this.channelzEnabled&&(0,l.unregisterChannelzRef)(this.channelzRef)}register(a,b,c,d,e){return!this.handlers.has(a)&&(this.handlers.set(a,{func:b,serialize:c,deserialize:d,type:e,path:a}),!0)}unregister(a){return this.handlers.delete(a)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every(({server:a})=>!0!==a.listening))throw Error("server must be bound in order to start");if(!0===this.started)throw Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(a){let b=b=>{this.channelzEnabled&&(0,l.unregisterChannelzRef)(this.channelzRef),a(b)},c=0;function d(){0==--c&&b()}for(let{server:a,channelzRef:b}of(this.started=!1,this.shutdown=!0,this.http2ServerList))a.listening&&(c++,a.close(()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(b),(0,l.unregisterChannelzRef)(b)),d()}));this.sessions.forEach((a,b)=>{b.closed||(c+=1,b.close(d))}),0===c&&b()}addHttp2Port(){throw Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(a,b){let c=b[d.constants.HTTP2_HEADER_CONTENT_TYPE];return"string"==typeof c&&!!c.startsWith("application/grpc")||(a.respond({[d.constants.HTTP2_HEADER_STATUS]:d.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(a){this.trace("Received call to method "+a+" at address "+this.serverAddressString);let b=this.handlers.get(a);return void 0===b?(this.trace("No handler registered for method "+a+". Sending UNIMPLEMENTED status."),null):b}_respondWithError(a,b,c=null){let d=new f.Http2ServerCallStream(b,null,this.options);void 0===a.code&&(a.code=e.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),null==c||c.streamTracker.addCallFailed()),d.sendError(a)}_channelzHandler(a,b){let c=this.sessions.get(a.session);if(this.callTracker.addCallStarted(),null==c||c.streamTracker.addCallStarted(),!this._verifyContentType(a,b)){this.callTracker.addCallFailed(),null==c||c.streamTracker.addCallFailed();return}let d=b[p],g=this._retrieveHandler(d);if(!g)return void this._respondWithError(s(d),a,c);let h=new f.Http2ServerCallStream(a,g,this.options);h.once("callEnd",a=>{a===e.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}),c&&(h.once("streamEnd",a=>{a?c.streamTracker.addCallSucceeded():c.streamTracker.addCallFailed()}),h.on("sendMessage",()=>{c.messagesSent+=1,c.lastMessageSentTimestamp=new Date}),h.on("receiveMessage",()=>{c.messagesReceived+=1,c.lastMessageReceivedTimestamp=new Date})),this._runHandlerForCall(h,g,b)||(this.callTracker.addCallFailed(),null==c||c.streamTracker.addCallFailed(),h.sendError({code:e.Status.INTERNAL,details:`Unknown handler type: ${g.type}`}))}_streamHandler(a,b){if(!0!==this._verifyContentType(a,b))return;let c=b[p],d=this._retrieveHandler(c);if(!d)return void this._respondWithError(s(c),a,null);let g=new f.Http2ServerCallStream(a,d,this.options);this._runHandlerForCall(g,d,b)||g.sendError({code:e.Status.INTERNAL,details:`Unknown handler type: ${d.type}`})}_runHandlerForCall(a,b,c){var d;let e=a.receiveMetadata(c),f=null!=(d=e.get("grpc-encoding")[0])?d:"identity";e.remove("grpc-encoding");let{type:g}=b;if("unary"===g)v(a,b,e,f);else if("clientStream"===g)w(a,b,e,f);else if("serverStream"===g)x(a,b,e,f);else{if("bidi"!==g)return!1;y(a,b,e,f)}return!0}_setupHandlers(a){if(null===a)return;let b=a.address(),c="null";b&&(c="string"==typeof b?b:b.address+":"+b.port),this.serverAddressString=c;let e=this.channelzEnabled?this._channelzHandler:this._streamHandler;a.on("stream",e.bind(this)),a.on("session",a=>{var b,c,e,f,g;if(!this.started)return void a.destroy();let h=(0,l.registerChannelzSocket)(null!=(b=a.socket.remoteAddress)?b:"unknown",this.getChannelzSessionInfoGetter(a),this.channelzEnabled),i={ref:h,streamTracker:new l.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(a,i);let j=a.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+j),this.sessionChildrenTracker.refChild(h));let k=null,n=null,o=!1;if(this.maxConnectionAgeMs!==m){let b=this.maxConnectionAgeMs/10,f=Math.random()*b*2-b;k=null==(e=(c=setTimeout(()=>{var b,c;o=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+j);try{a.goaway(d.constants.NGHTTP2_NO_ERROR,0x7fffffff,Buffer.from("max_age"))}catch(b){a.destroy();return}a.close(),this.maxConnectionAgeGraceMs!==m&&(n=null==(c=(b=setTimeout(()=>{a.destroy()},this.maxConnectionAgeGraceMs)).unref)?void 0:c.call(b))},this.maxConnectionAgeMs+f)).unref)?void 0:e.call(c)}let p=null==(g=(f=setInterval(()=>{var b,c;let d=null==(c=(b=setTimeout(()=>{o=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+j),a.close()},this.keepaliveTimeoutMs)).unref)?void 0:c.call(b);try{a.ping((a,b,c)=>{clearTimeout(d)})}catch(b){a.destroy()}},this.keepaliveTimeMs)).unref)?void 0:g.call(f);a.on("close",()=>{this.channelzEnabled&&(o||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+j),this.sessionChildrenTracker.unrefChild(h),(0,l.unregisterChannelzRef)(h)),k&&clearTimeout(k),n&&clearTimeout(n),p&&clearTimeout(p),this.sessions.delete(a)})})}}async function v(a,b,c,d){try{let e=await a.receiveUnaryMessage(d);if(void 0===e||a.cancelled)return;let g=new f.ServerUnaryCallImpl(a,c,e);b.func(g,(b,c,d,e)=>{a.sendUnaryMessage(b,c,d,e)})}catch(b){a.sendError(b)}}function w(a,b,c,d){let e=new f.ServerReadableStreamImpl(a,c,b.deserialize,d);function g(b,c,d,f){e.destroy(),a.sendUnaryMessage(b,c,d,f)}a.cancelled||(e.on("error",g),b.func(e,g))}async function x(a,b,c,d){try{let e=await a.receiveUnaryMessage(d);if(void 0===e||a.cancelled)return;let g=new f.ServerWritableStreamImpl(a,c,b.serialize,e);b.func(g)}catch(b){a.sendError(b)}}function y(a,b,c,d){let e=new f.ServerDuplexStreamImpl(a,c,b.serialize,b.deserialize,d);a.cancelled||b.func(e)}c.Server=u},545,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.StatusBuilder=void 0;class d{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(a){return this.code=a,this}withDetails(a){return this.details=a,this}withMetadata(a){return this.metadata=a,this}build(){let a={};return null!==this.code&&(a.code=this.code),null!==this.details&&(a.details=this.details),null!==this.metadata&&(a.metadata=this.metadata),a}}c.StatusBuilder=d},55122,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isDuration=c.durationToMs=c.msToDuration=void 0,c.msToDuration=function(a){return{seconds:a/1e3|0,nanos:a%1e3*1e6|0}},c.durationToMs=function(a){return 1e3*a.seconds+a.nanos/1e6|0},c.isDuration=function(a){return"number"==typeof a.seconds&&"number"==typeof a.nanos}},8812,(a,b,c)=>{"use strict";var d;Object.defineProperty(c,"__esModule",{value:!0}),c.setup=c.OutlierDetectionLoadBalancer=c.OutlierDetectionLoadBalancingConfig=void 0;let e=a.r(31536),f=a.r(41556),g=a.r(55122),h=a.r(11199),i=a.r(26005),j=a.r(85918),k=a.r(40064),l=a.r(25069),m=a.r(71234),n=a.r(67034),o="outlier_detection";function p(a){n.trace(f.LogVerbosity.DEBUG,o,a)}let q="outlier_detection",r=(null!=(d=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)?d:"true")==="true",s={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},t={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function u(a,b,c,d){if(b in a&&typeof a[b]!==c){let e=d?`${d}.${b}`:b;throw Error(`outlier detection config ${e} parse error: expected ${c}, got ${typeof a[b]}`)}}function v(a,b,c){let d=c?`${c}.${b}`:b;if(b in a){if(!(0,g.isDuration)(a[b]))throw Error(`outlier detection config ${d} parse error: expected Duration, got ${typeof a[b]}`);if(!(a[b].seconds>=0&&a[b].seconds<=315576e6&&a[b].nanos>=0&&a[b].nanos<=0x3b9ac9ff))throw Error(`outlier detection config ${d} parse error: values out of range for non-negative Duaration`)}}function w(a,b,c){let d=c?`${c}.${b}`:b;if(u(a,b,"number",c),b in a&&!(a[b]>=0&&a[b]<=100))throw Error(`outlier detection config ${d} parse error: value out of range for percentage (0-100)`)}class x{constructor(a,b,c,d,e,f,g){if(this.childPolicy=g,g.length>0&&"pick_first"===g[0].getLoadBalancerName())throw Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=a?a:1e4,this.baseEjectionTimeMs=null!=b?b:3e4,this.maxEjectionTimeMs=null!=c?c:3e5,this.maxEjectionPercent=null!=d?d:10,this.successRateEjection=e?Object.assign(Object.assign({},s),e):null,this.failurePercentageEjection=f?Object.assign(Object.assign({},t),f):null}getLoadBalancerName(){return q}toJsonObject(){return{interval:(0,g.msToDuration)(this.intervalMs),base_ejection_time:(0,g.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,g.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map(a=>a.toJsonObject())}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(a){return new x(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,a)}static createFromJson(a){var b;if(v(a,"interval"),v(a,"base_ejection_time"),v(a,"max_ejection_time"),w(a,"max_ejection_percent"),"success_rate_ejection"in a){if("object"!=typeof a.success_rate_ejection)throw Error("outlier detection config success_rate_ejection must be an object");u(a.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),w(a.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),u(a.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),u(a.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in a){if("object"!=typeof a.failure_percentage_ejection)throw Error("outlier detection config failure_percentage_ejection must be an object");w(a.failure_percentage_ejection,"threshold","failure_percentage_ejection"),w(a.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),u(a.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),u(a.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new x(a.interval?(0,g.durationToMs)(a.interval):null,a.base_ejection_time?(0,g.durationToMs)(a.base_ejection_time):null,a.max_ejection_time?(0,g.durationToMs)(a.max_ejection_time):null,null!=(b=a.max_ejection_percent)?b:null,a.success_rate_ejection,a.failure_percentage_ejection,a.child_policy.map(i.validateLoadBalancingConfig))}}c.OutlierDetectionLoadBalancingConfig=x;class y extends m.BaseSubchannelWrapper{constructor(a,b){super(a),this.mapEntry=b,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=a.getConnectivityState(),a.addConnectivityStateListener((a,b,c,d)=>{if(this.childSubchannelState=c,!this.ejected)for(let a of this.stateListeners)a(this,b,c,d)})}getConnectivityState(){return this.ejected?e.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(a){this.stateListeners.push(a)}removeConnectivityStateListener(a){let b=this.stateListeners.indexOf(a);b>-1&&this.stateListeners.splice(b,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){let a=this.mapEntry.subchannelWrappers.indexOf(this);a>=0&&this.mapEntry.subchannelWrappers.splice(a,1)}}eject(){for(let a of(this.ejected=!0,this.stateListeners))a(this,this.childSubchannelState,e.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){for(let a of(this.ejected=!1,this.stateListeners))a(this,e.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function z(){return{success:0,failure:0}}class A{constructor(){this.activeBucket=z(),this.inactiveBucket=z()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=z()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class B{constructor(a,b){this.wrappedPicker=a,this.countCalls=b}pick(a){let b=this.wrappedPicker.pick(a);if(b.pickResultType!==k.PickResultType.COMPLETE)return b;{let a=b.subchannel,c=a.getMapEntry();if(!c)return Object.assign(Object.assign({},b),{subchannel:a.getWrappedSubchannel()});{let d=b.onCallEnded;return this.countCalls&&(d=a=>{var d;a===f.Status.OK?c.counter.addSuccess():c.counter.addFailure(),null==(d=b.onCallEnded)||d.call(b,a)}),Object.assign(Object.assign({},b),{subchannel:a.getWrappedSubchannel(),onCallEnded:d})}}}}class C{constructor(a){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new j.ChildLoadBalancerHandler((0,h.createChildChannelControlHelper)(a,{createSubchannel:(b,c)=>{let d=a.createSubchannel(b,c),e=this.addressMap.get((0,l.subchannelAddressToString)(b)),f=new y(d,e);return(null==e?void 0:e.currentEjectionTimestamp)!==null&&f.eject(),null==e||e.subchannelWrappers.push(f),f},updateState:(b,c)=>{b===e.ConnectivityState.READY?a.updateState(b,new B(c,this.isCountingEnabled())):a.updateState(b,c)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let a=0;for(let b of this.addressMap.values())null!==b.currentEjectionTimestamp&&(a+=1);return 100*a/this.addressMap.size}runSuccessRateCheck(a){if(!this.latestConfig)return;let b=this.latestConfig.getSuccessRateEjectionConfig();if(!b)return;p("Running success rate check");let c=b.request_volume,d=0,e=[];for(let[a,b]of this.addressMap){let f=b.counter.getLastSuccesses(),g=b.counter.getLastFailures();p("Stats for "+a+": successes="+f+" failures="+g+" targetRequestVolume="+c),f+g>=c&&(d+=1,e.push(f/(f+g)))}if(p("Found "+d+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+e+"]"),d<b.minimum_hosts)return;let f=e.reduce((a,b)=>a+b)/e.length,g=0;for(let a of e){let b=a-f;g+=b*b}let h=Math.sqrt(g/e.length),i=f-h*(b.stdev_factor/1e3);for(let[d,e]of(p("stdev="+h+" ejectionThreshold="+i),this.addressMap.entries())){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let f=e.counter.getLastSuccesses(),g=e.counter.getLastFailures();if(f+g<c)continue;let h=f/(f+g);if(p("Checking candidate "+d+" successRate="+h),h<i){let c=100*Math.random();p("Candidate "+d+" randomNumber="+c+" enforcement_percentage="+b.enforcement_percentage),c<b.enforcement_percentage&&(p("Ejecting candidate "+d),this.eject(e,a))}}}runFailurePercentageCheck(a){if(!this.latestConfig)return;let b=this.latestConfig.getFailurePercentageEjectionConfig();if(!b)return;p("Running failure percentage check. threshold="+b.threshold+" request volume threshold="+b.request_volume);let c=0;for(let a of this.addressMap.values())a.counter.getLastSuccesses()+a.counter.getLastFailures()>=b.request_volume&&(c+=1);if(!(c<b.minimum_hosts))for(let[c,d]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;let e=d.counter.getLastSuccesses(),f=d.counter.getLastFailures();if((p("Candidate successes="+e+" failures="+f),!(e+f<b.request_volume))&&100*f/(f+e)>b.threshold){let e=100*Math.random();p("Candidate "+c+" randomNumber="+e+" enforcement_percentage="+b.enforcement_percentage),e<b.enforcement_percentage&&(p("Ejecting candidate "+c),this.eject(d,a))}}}eject(a,b){for(let b of(a.currentEjectionTimestamp=new Date,a.ejectionTimeMultiplier+=1,a.subchannelWrappers))b.eject()}uneject(a){for(let b of(a.currentEjectionTimestamp=null,a.subchannelWrappers))b.uneject()}switchAllBuckets(){for(let a of this.addressMap.values())a.counter.switchBuckets()}startTimer(a){var b,c;this.ejectionTimer=setTimeout(()=>this.runChecks(),a),null==(c=(b=this.ejectionTimer).unref)||c.call(b)}runChecks(){let a=new Date;if(p("Ejection timer running"),this.switchAllBuckets(),this.latestConfig)for(let[b,c]of(this.timerStartTime=a,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(a),this.runFailurePercentageCheck(a),this.addressMap.entries()))if(null===c.currentEjectionTimestamp)c.ejectionTimeMultiplier>0&&(c.ejectionTimeMultiplier-=1);else{let a=this.latestConfig.getBaseEjectionTimeMs(),d=this.latestConfig.getMaxEjectionTimeMs(),e=new Date(c.currentEjectionTimestamp.getTime());e.setMilliseconds(e.getMilliseconds()+Math.min(a*c.ejectionTimeMultiplier,Math.max(a,d))),e<new Date&&(p("Unejecting "+b),this.uneject(c))}}updateAddressList(a,b,c){if(!(b instanceof x))return;let d=new Set;for(let b of a)d.add((0,l.subchannelAddressToString)(b));for(let a of d)this.addressMap.has(a)||(p("Adding map entry for "+a),this.addressMap.set(a,{counter:new A,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(let a of this.addressMap.keys())d.has(a)||(p("Removing map entry for "+a),this.addressMap.delete(a));let e=(0,i.getFirstUsableConfig)(b.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(a,e,c),b.getSuccessRateEjectionConfig()||b.getFailurePercentageEjectionConfig())if(this.timerStartTime){p("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);let a=b.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(a)}else p("Starting new timer"),this.timerStartTime=new Date,this.startTimer(b.getIntervalMs()),this.switchAllBuckets();else for(let a of(p("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer),this.addressMap.values()))this.uneject(a),a.ejectionTimeMultiplier=0;this.latestConfig=b}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return q}}c.OutlierDetectionLoadBalancer=C,c.setup=function(){r&&(0,h.registerLoadBalancerType)(q,C,x)}},11199,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.OutlierDetectionLoadBalancingConfig=c.BaseSubchannelWrapper=c.registerAdminService=c.FilterStackFactory=c.BaseFilter=c.PickResultType=c.QueuePicker=c.UnavailablePicker=c.ChildLoadBalancerHandler=c.subchannelAddressToString=c.validateLoadBalancingConfig=c.getFirstUsableConfig=c.registerLoadBalancerType=c.createChildChannelControlHelper=c.BackoffTimeout=c.durationToMs=c.uriToString=c.createResolver=c.registerResolver=c.log=c.trace=void 0;var d=a.r(67034);Object.defineProperty(c,"trace",{enumerable:!0,get:function(){return d.trace}}),Object.defineProperty(c,"log",{enumerable:!0,get:function(){return d.log}});var e=a.r(37030);Object.defineProperty(c,"registerResolver",{enumerable:!0,get:function(){return e.registerResolver}}),Object.defineProperty(c,"createResolver",{enumerable:!0,get:function(){return e.createResolver}});var f=a.r(16713);Object.defineProperty(c,"uriToString",{enumerable:!0,get:function(){return f.uriToString}});var g=a.r(55122);Object.defineProperty(c,"durationToMs",{enumerable:!0,get:function(){return g.durationToMs}});var h=a.r(21313);Object.defineProperty(c,"BackoffTimeout",{enumerable:!0,get:function(){return h.BackoffTimeout}});var i=a.r(26005);Object.defineProperty(c,"createChildChannelControlHelper",{enumerable:!0,get:function(){return i.createChildChannelControlHelper}}),Object.defineProperty(c,"registerLoadBalancerType",{enumerable:!0,get:function(){return i.registerLoadBalancerType}}),Object.defineProperty(c,"getFirstUsableConfig",{enumerable:!0,get:function(){return i.getFirstUsableConfig}}),Object.defineProperty(c,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return i.validateLoadBalancingConfig}});var j=a.r(25069);Object.defineProperty(c,"subchannelAddressToString",{enumerable:!0,get:function(){return j.subchannelAddressToString}});var k=a.r(85918);Object.defineProperty(c,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return k.ChildLoadBalancerHandler}});var l=a.r(40064);Object.defineProperty(c,"UnavailablePicker",{enumerable:!0,get:function(){return l.UnavailablePicker}}),Object.defineProperty(c,"QueuePicker",{enumerable:!0,get:function(){return l.QueuePicker}}),Object.defineProperty(c,"PickResultType",{enumerable:!0,get:function(){return l.PickResultType}});var m=a.r(24113);Object.defineProperty(c,"BaseFilter",{enumerable:!0,get:function(){return m.BaseFilter}});var n=a.r(6605);Object.defineProperty(c,"FilterStackFactory",{enumerable:!0,get:function(){return n.FilterStackFactory}});var o=a.r(4907);Object.defineProperty(c,"registerAdminService",{enumerable:!0,get:function(){return o.registerAdminService}});var p=a.r(71234);Object.defineProperty(c,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return p.BaseSubchannelWrapper}});var q=a.r(8812);Object.defineProperty(c,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return q.OutlierDetectionLoadBalancingConfig}})},37430,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setup=void 0;let d=a.r(37030);class e{constructor(a,b,c){let d;this.listener=b,this.addresses=[],this.hasReturnedResult=!1,d=""===a.authority?"/"+a.path:a.path,this.addresses=[{path:d}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{}))}destroy(){}static getDefaultAuthority(a){return"localhost"}}c.setup=function(){(0,d.registerResolver)("unix",e)}},97441,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setup=void 0;let d=a.r(4446),e=a.r(41556),f=a.r(80161),g=a.r(37030),h=a.r(16713),i=a.r(67034),j="ip_resolver";function k(a){i.trace(e.LogVerbosity.DEBUG,j,a)}let l="ipv4",m="ipv6",n=443;class o{constructor(a,b,c){var g;this.listener=b,this.addresses=[],this.error=null,this.hasReturnedResult=!1,k("Resolver constructed for target "+(0,h.uriToString)(a));const i=[];if(a.scheme!==l&&a.scheme!==m){this.error={code:e.Status.UNAVAILABLE,details:`Unrecognized scheme ${a.scheme} in IP resolver`,metadata:new f.Metadata};return}for(const b of a.path.split(",")){const c=(0,h.splitHostPort)(b);if(null===c||a.scheme===l&&!(0,d.isIPv4)(c.host)||a.scheme===m&&!(0,d.isIPv6)(c.host)){this.error={code:e.Status.UNAVAILABLE,details:`Failed to parse ${a.scheme} address ${b}`,metadata:new f.Metadata};return}i.push({host:c.host,port:null!=(g=c.port)?g:n})}this.addresses=i,k("Parsed "+a.scheme+" address list "+this.addresses)}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(a){return a.path.split(",")[0]}}c.setup=function(){(0,g.registerResolver)(l,o),(0,g.registerResolver)(m,o)}},57499,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setup=c.PickFirstLoadBalancer=c.shuffled=c.PickFirstLoadBalancingConfig=void 0;let d=a.r(26005),e=a.r(31536),f=a.r(40064),g=a.r(67034),h=a.r(41556),i="pick_first";function j(a){g.trace(h.LogVerbosity.DEBUG,i,a)}let k="pick_first",l=250;class m{constructor(a){this.shuffleAddressList=a}getLoadBalancerName(){return k}toJsonObject(){return{[k]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(a){if("shuffleAddressList"in a&&"boolean"!=typeof a.shuffleAddressList)throw Error("pick_first config field shuffleAddressList must be a boolean if provided");return new m(!0===a.shuffleAddressList)}}c.PickFirstLoadBalancingConfig=m;class n{constructor(a){this.subchannel=a}pick(a){return{pickResultType:f.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function o(a){let b=a.slice();for(let a=b.length-1;a>1;a--){let c=Math.floor(Math.random()*(a+1)),d=b[a];b[a]=b[c],b[c]=d}return b}c.shuffled=o;class p{constructor(a){this.channelControlHelper=a,this.children=[],this.currentState=e.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(a,b,c,d,e)=>{this.onSubchannelStateUpdate(a,b,c,e)},this.triedAllSubchannels=!1,this.stickyTransientFailureMode=!1,this.requestedResolutionSinceLastUpdate=!1,this.lastError=null,this.latestAddressList=null,this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(a=>a.hasReportedTransientFailure)}calculateAndReportNewState(){this.currentPick?this.updateState(e.ConnectivityState.READY,new n(this.currentPick)):0===this.children.length?this.updateState(e.ConnectivityState.IDLE,new f.QueuePicker(this)):this.stickyTransientFailureMode?this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(e.ConnectivityState.CONNECTING,new f.QueuePicker(this))}requestReresolution(){this.requestedResolutionSinceLastUpdate=!0,this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()&&(this.requestedResolutionSinceLastUpdate||this.requestReresolution(),!this.stickyTransientFailureMode)){for(let{subchannel:a}of(this.stickyTransientFailureMode=!0,this.children))a.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){if(null!==this.currentPick){let a=this.currentPick;this.currentPick=null,a.unref(),a.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(a.getChannelzRef())}}onSubchannelStateUpdate(a,b,c,d){var f;if(null==(f=this.currentPick)?void 0:f.realSubchannelEquals(a)){c!==e.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState(),this.requestReresolution());return}for(let[b,f]of this.children.entries())if(a.realSubchannelEquals(f.subchannel)){c===e.ConnectivityState.READY&&this.pickSubchannel(f.subchannel),c===e.ConnectivityState.TRANSIENT_FAILURE&&(f.hasReportedTransientFailure=!0,d&&(this.lastError=d),this.maybeEnterStickyTransientFailureMode(),b===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(b+1)),f.subchannel.startConnecting();return}}startNextSubchannelConnecting(a){if(clearTimeout(this.connectionDelayTimeout),!this.triedAllSubchannels){for(let[b,c]of this.children.entries())if(b>=a){let a=c.subchannel.getConnectivityState();if(a===e.ConnectivityState.IDLE||a===e.ConnectivityState.CONNECTING)return void this.startConnecting(b)}this.triedAllSubchannels=!0,this.maybeEnterStickyTransientFailureMode()}}startConnecting(a){var b,c;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=a,this.children[a].subchannel.getConnectivityState()===e.ConnectivityState.IDLE&&(j("Start connecting to subchannel with address "+this.children[a].subchannel.getAddress()),process.nextTick(()=>{var b;null==(b=this.children[a])||b.subchannel.startConnecting()})),this.connectionDelayTimeout=null==(c=(b=setTimeout(()=>{this.startNextSubchannelConnecting(a+1)},l)).unref)?void 0:c.call(b)}pickSubchannel(a){this.currentPick&&a.realSubchannelEquals(this.currentPick)||(j("Pick subchannel with address "+a.getAddress()),this.stickyTransientFailureMode=!1,null!==this.currentPick&&(this.currentPick.unref(),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeConnectivityStateListener(this.subchannelStateListener)),this.currentPick=a,a.ref(),this.channelControlHelper.addChannelzChild(a.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState())}updateState(a,b){j(e.ConnectivityState[this.currentState]+" -> "+e.ConnectivityState[a]),this.currentState=a,this.channelControlHelper.updateState(a,b)}resetSubchannelList(){for(let a of this.children)this.currentPick&&a.subchannel.realSubchannelEquals(this.currentPick)||a.subchannel.removeConnectivityStateListener(this.subchannelStateListener),a.subchannel.unref(),this.channelControlHelper.removeChannelzChild(a.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[],this.triedAllSubchannels=!1,this.requestedResolutionSinceLastUpdate=!1}connectToAddressList(a){let b=a.map(a=>({subchannel:this.channelControlHelper.createSubchannel(a,{}),hasReportedTransientFailure:!1}));for(let{subchannel:a}of b)a.ref(),this.channelControlHelper.addChannelzChild(a.getChannelzRef());for(let{subchannel:a}of(this.resetSubchannelList(),this.children=b,this.children))if(a.addConnectivityStateListener(this.subchannelStateListener),a.getConnectivityState()===e.ConnectivityState.READY)return void this.pickSubchannel(a);for(let a of this.children)a.subchannel.getConnectivityState()===e.ConnectivityState.TRANSIENT_FAILURE&&(a.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(a,b){b instanceof m&&(b.getShuffleAddressList()&&(a=o(a)),this.latestAddressList=a,this.connectToAddressList(a))}exitIdle(){this.currentState===e.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return k}}c.PickFirstLoadBalancer=p,c.setup=function(){(0,d.registerLoadBalancerType)(k,p,m),(0,d.registerDefaultLoadBalancerType)(k)}},3169,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.setup=c.RoundRobinLoadBalancer=void 0;let d=a.r(26005),e=a.r(31536),f=a.r(40064),g=a.r(25069),h=a.r(67034),i=a.r(41556),j="round_robin";function k(a){h.trace(i.LogVerbosity.DEBUG,j,a)}let l="round_robin";class m{getLoadBalancerName(){return l}toJsonObject(){return{[l]:{}}}static createFromJson(a){return new m}}class n{constructor(a,b=0){this.subchannelList=a,this.nextIndex=b}pick(a){let b=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:f.PickResultType.COMPLETE,subchannel:b,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class o{constructor(a){this.channelControlHelper=a,this.subchannels=[],this.currentState=e.ConnectivityState.IDLE,this.currentReadyPicker=null,this.lastError=null,this.subchannelStateListener=(a,b,c,d,f)=>{this.calculateAndUpdateState(),(c===e.ConnectivityState.TRANSIENT_FAILURE||c===e.ConnectivityState.IDLE)&&(f&&(this.lastError=f),this.channelControlHelper.requestReresolution(),a.startConnecting())}}countSubchannelsWithState(a){return this.subchannels.filter(b=>b.getConnectivityState()===a).length}calculateAndUpdateState(){if(this.countSubchannelsWithState(e.ConnectivityState.READY)>0){let a=this.subchannels.filter(a=>a.getConnectivityState()===e.ConnectivityState.READY),b=0;null!==this.currentReadyPicker&&(b=a.indexOf(this.currentReadyPicker.peekNextSubchannel()))<0&&(b=0),this.updateState(e.ConnectivityState.READY,new n(a,b))}else this.countSubchannelsWithState(e.ConnectivityState.CONNECTING)>0?this.updateState(e.ConnectivityState.CONNECTING,new f.QueuePicker(this)):this.countSubchannelsWithState(e.ConnectivityState.TRANSIENT_FAILURE)>0?this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new f.UnavailablePicker({details:`No connection established. Last error: ${this.lastError}`})):this.updateState(e.ConnectivityState.IDLE,new f.QueuePicker(this))}updateState(a,b){k(e.ConnectivityState[this.currentState]+" -> "+e.ConnectivityState[a]),a===e.ConnectivityState.READY?this.currentReadyPicker=b:this.currentReadyPicker=null,this.currentState=a,this.channelControlHelper.updateState(a,b)}resetSubchannelList(){for(let a of this.subchannels)a.removeConnectivityStateListener(this.subchannelStateListener),a.unref(),this.channelControlHelper.removeChannelzChild(a.getChannelzRef());this.subchannels=[]}updateAddressList(a,b){for(let b of(this.resetSubchannelList(),k("Connect to address list "+a.map(a=>(0,g.subchannelAddressToString)(a))),this.subchannels=a.map(a=>this.channelControlHelper.createSubchannel(a,{})),this.subchannels)){b.ref(),b.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(b.getChannelzRef());let a=b.getConnectivityState();(a===e.ConnectivityState.IDLE||a===e.ConnectivityState.TRANSIENT_FAILURE)&&b.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(let a of this.subchannels)a.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return l}}c.RoundRobinLoadBalancer=o,c.setup=function(){(0,d.registerLoadBalancerType)(l,o,m)}},49007,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.experimental=c.addAdminServicesToServer=c.getChannelzHandlers=c.getChannelzServiceDefinition=c.InterceptorConfigurationError=c.InterceptingCall=c.RequesterBuilder=c.ListenerBuilder=c.StatusBuilder=c.getClientChannel=c.ServerCredentials=c.Server=c.setLogVerbosity=c.setLogger=c.load=c.loadObject=c.CallCredentials=c.ChannelCredentials=c.waitForClientReady=c.closeClient=c.Channel=c.makeGenericClientConstructor=c.makeClientConstructor=c.loadPackageDefinition=c.Client=c.compressionAlgorithms=c.propagate=c.connectivityState=c.status=c.logVerbosity=c.Metadata=c.credentials=void 0;let d=a.r(54518);Object.defineProperty(c,"CallCredentials",{enumerable:!0,get:function(){return d.CallCredentials}});let e=a.r(21171);Object.defineProperty(c,"Channel",{enumerable:!0,get:function(){return e.ChannelImplementation}});let f=a.r(55498);Object.defineProperty(c,"compressionAlgorithms",{enumerable:!0,get:function(){return f.CompressionAlgorithms}});let g=a.r(31536);Object.defineProperty(c,"connectivityState",{enumerable:!0,get:function(){return g.ConnectivityState}});let h=a.r(29205);Object.defineProperty(c,"ChannelCredentials",{enumerable:!0,get:function(){return h.ChannelCredentials}});let i=a.r(87935);Object.defineProperty(c,"Client",{enumerable:!0,get:function(){return i.Client}});let j=a.r(41556);Object.defineProperty(c,"logVerbosity",{enumerable:!0,get:function(){return j.LogVerbosity}}),Object.defineProperty(c,"status",{enumerable:!0,get:function(){return j.Status}}),Object.defineProperty(c,"propagate",{enumerable:!0,get:function(){return j.Propagate}});let k=a.r(67034),l=a.r(15616);Object.defineProperty(c,"loadPackageDefinition",{enumerable:!0,get:function(){return l.loadPackageDefinition}}),Object.defineProperty(c,"makeClientConstructor",{enumerable:!0,get:function(){return l.makeClientConstructor}}),Object.defineProperty(c,"makeGenericClientConstructor",{enumerable:!0,get:function(){return l.makeClientConstructor}});let m=a.r(80161);Object.defineProperty(c,"Metadata",{enumerable:!0,get:function(){return m.Metadata}});let n=a.r(95483);Object.defineProperty(c,"Server",{enumerable:!0,get:function(){return n.Server}});let o=a.r(63858);Object.defineProperty(c,"ServerCredentials",{enumerable:!0,get:function(){return o.ServerCredentials}});let p=a.r(545);Object.defineProperty(c,"StatusBuilder",{enumerable:!0,get:function(){return p.StatusBuilder}}),c.credentials={combineChannelCredentials:(a,...b)=>b.reduce((a,b)=>a.compose(b),a),combineCallCredentials:(a,...b)=>b.reduce((a,b)=>a.compose(b),a),createInsecure:h.ChannelCredentials.createInsecure,createSsl:h.ChannelCredentials.createSsl,createFromSecureContext:h.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:d.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:d.CallCredentials.createFromGoogleCredential,createEmpty:d.CallCredentials.createEmpty},c.closeClient=a=>a.close(),c.waitForClientReady=(a,b,c)=>a.waitForReady(b,c),c.loadObject=(a,b)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},c.load=(a,b,c)=>{throw Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},c.setLogger=a=>{k.setLogger(a)},c.setLogVerbosity=a=>{k.setLoggerVerbosity(a)},c.getClientChannel=a=>i.Client.prototype.getChannel.call(a);var q=a.r(49916);Object.defineProperty(c,"ListenerBuilder",{enumerable:!0,get:function(){return q.ListenerBuilder}}),Object.defineProperty(c,"RequesterBuilder",{enumerable:!0,get:function(){return q.RequesterBuilder}}),Object.defineProperty(c,"InterceptingCall",{enumerable:!0,get:function(){return q.InterceptingCall}}),Object.defineProperty(c,"InterceptorConfigurationError",{enumerable:!0,get:function(){return q.InterceptorConfigurationError}});var r=a.r(71290);Object.defineProperty(c,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return r.getChannelzServiceDefinition}}),Object.defineProperty(c,"getChannelzHandlers",{enumerable:!0,get:function(){return r.getChannelzHandlers}});var s=a.r(4907);Object.defineProperty(c,"addAdminServicesToServer",{enumerable:!0,get:function(){return s.addAdminServicesToServer}}),c.experimental=a.r(11199);let t=a.r(23233),u=a.r(37430),v=a.r(97441),w=a.r(57499),x=a.r(3169),y=a.r(8812),z=a.r(71290);(()=>{t.setup(),u.setup(),v.setup(),w.setup(),x.setup(),y.setup(),z.setup()})()},48600,16575,97863,83897,96877,a=>{"use strict";let b,c,d=()=>void 0,e={NODE_CLIENT:!1},f=function(a){let b=[],c=0;for(let d=0;d<a.length;d++){let e=a.charCodeAt(d);e<128?b[c++]=e:(e<2048?b[c++]=e>>6|192:((64512&e)==55296&&d+1<a.length&&(64512&a.charCodeAt(d+1))==56320?(e=65536+((1023&e)<<10)+(1023&a.charCodeAt(++d)),b[c++]=e>>18|240,b[c++]=e>>12&63|128):b[c++]=e>>12|224,b[c++]=e>>6&63|128),b[c++]=63&e|128)}return b},g=function(a){let b=[],c=0,d=0;for(;c<a.length;){let e=a[c++];if(e<128)b[d++]=String.fromCharCode(e);else if(e>191&&e<224){let f=a[c++];b[d++]=String.fromCharCode((31&e)<<6|63&f)}else if(e>239&&e<365){let f=((7&e)<<18|(63&a[c++])<<12|(63&a[c++])<<6|63&a[c++])-65536;b[d++]=String.fromCharCode(55296+(f>>10)),b[d++]=String.fromCharCode(56320+(1023&f))}else{let f=a[c++],g=a[c++];b[d++]=String.fromCharCode((15&e)<<12|(63&f)<<6|63&g)}}return b.join("")},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(a,b){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();let c=b?this.byteToCharMapWebSafe_:this.byteToCharMap_,d=[];for(let b=0;b<a.length;b+=3){let e=a[b],f=b+1<a.length,g=f?a[b+1]:0,h=b+2<a.length,i=h?a[b+2]:0,j=e>>2,k=(3&e)<<4|g>>4,l=(15&g)<<2|i>>6,m=63&i;!h&&(m=64,f||(l=64)),d.push(c[j],c[k],c[l],c[m])}return d.join("")},encodeString(a,b){return this.HAS_NATIVE_SUPPORT&&!b?btoa(a):this.encodeByteArray(f(a),b)},decodeString(a,b){return this.HAS_NATIVE_SUPPORT&&!b?atob(a):g(this.decodeStringToByteArray(a,b))},decodeStringToByteArray(a,b){this.init_();let c=b?this.charToByteMapWebSafe_:this.charToByteMap_,d=[];for(let b=0;b<a.length;){let e=c[a.charAt(b++)],f=b<a.length?c[a.charAt(b)]:0,g=++b<a.length?c[a.charAt(b)]:64,h=++b<a.length?c[a.charAt(b)]:64;if(++b,null==e||null==f||null==g||null==h)throw new i;let j=e<<2|f>>4;if(d.push(j),64!==g){let a=f<<4&240|g>>2;if(d.push(a),64!==h){let a=g<<6&192|h;d.push(a)}}}return d},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let j=function(a){let b=f(a);return h.encodeByteArray(b,!0)},k=function(a){return j(a).replace(/\./g,"")},l=function(a){try{return h.decodeString(a,!0)}catch(a){console.error("base64Decode failed: ",a)}return null};function m(){return"u">typeof self?self:a.g}let n=()=>m().__FIREBASE_DEFAULTS__,o=()=>{if("u"<typeof process||void 0===process.env)return;let a=process.env.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},p=()=>{let a;if("u"<typeof document)return;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(a){return}let b=a&&l(a[1]);return b&&JSON.parse(b)},q=()=>{try{return d()||n()||o()||p()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},r=a=>q()?.emulatorHosts?.[a],s=a=>{let b=r(a);if(!b)return;let c=b.lastIndexOf(":");if(c<=0||c+1===b.length)throw Error(`Invalid host ${b} with no separate hostname and port!`);let d=parseInt(b.substring(c+1),10);return"["===b[0]?[b.substring(1,c-1),d]:[b.substring(0,c),d]},t=()=>q()?.config;class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((a,b)=>{this.resolve=a,this.reject=b})}wrapCallback(a){return(b,c)=>{b?this.reject(b):this.resolve(c),"function"==typeof a&&(this.promise.catch(()=>{}),1===a.length?a(b):a(b,c))}}}function v(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w(a){return(await fetch(a,{credentials:"include"})).ok}function x(a,b){if(a.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let c={alg:"none",type:"JWT"},d=b||"demo-project",e=a.iat||0,f=a.sub||a.user_id;if(!f)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let g={iss:`https://securetoken.google.com/${d}`,aud:d,iat:e,exp:e+3600,auth_time:e,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...a},h="";return[k(JSON.stringify(c)),k(JSON.stringify(g)),h].join(".")}function y(a,b){}function z(){return"u">typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function A(){return!1}function B(){let b=q()?.forceEnvironment;if("node"===b)return!0;if("browser"===b)return!1;try{return"[object process]"===Object.prototype.toString.call(a.g.process)}catch(a){return!1}}function C(){return D()}function D(){return"u">typeof WorkerGlobalScope&&"u">typeof self&&self instanceof WorkerGlobalScope}function E(){return"u">typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function F(){let a="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof a&&void 0!==a.id}function G(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function H(){return!B()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){return!B()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function J(){try{return"object"==typeof indexedDB}catch(a){return!1}}function K(){return new Promise((a,b)=>{try{let c=!0,d="validate-browser-context-for-indexeddb-analytics-module",e=self.indexedDB.open(d);e.onsuccess=()=>{e.result.close(),c||self.indexedDB.deleteDatabase(d),a(!0)},e.onupgradeneeded=()=>{c=!1},e.onerror=()=>{b(e.error?.message||"")}}catch(a){b(a)}})}let L="FirebaseError";class M extends Error{constructor(a,b,c){super(b),this.code=a,this.customData=c,this.name=L,Object.setPrototypeOf(this,M.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(a,b,c){this.service=a,this.serviceName=b,this.errors=c}create(a,...b){let c=b[0]||{},d=`${this.service}/${a}`,e=this.errors[a],f=e?O(e,c):"Error",g=`${this.serviceName}: ${f} (${d}).`;return new M(d,g,c)}}function O(a,b){return a.replace(P,(a,c)=>{let d=b[c];return null!=d?String(d):`<${c}?>`})}let P=/\{\$([^}]+)}/g;function Q(a,b){if(a===b)return!0;let c=Object.keys(a),d=Object.keys(b);for(let e of c){if(!d.includes(e))return!1;let c=a[e],f=b[e];if(R(c)&&R(f)){if(!Q(c,f))return!1}else if(c!==f)return!1}for(let a of d)if(!c.includes(a))return!1;return!0}function R(a){return null!==a&&"object"==typeof a}function S(a){let b=[];for(let[c,d]of Object.entries(a))Array.isArray(d)?d.forEach(a=>{b.push(encodeURIComponent(c)+"="+encodeURIComponent(a))}):b.push(encodeURIComponent(c)+"="+encodeURIComponent(d));return b.length?"&"+b.join("&"):""}function T(a){let b={};return a.replace(/^\?/,"").split("&").forEach(a=>{if(a){let[c,d]=a.split("=");b[decodeURIComponent(c)]=decodeURIComponent(d)}}),b}function U(a){let b=a.indexOf("?");if(!b)return"";let c=a.indexOf("#",b);return a.substring(b,c>0?c:void 0)}function V(a,b){let c=new W(a,b);return c.subscribe.bind(c)}class W{constructor(a,b){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=b,this.task.then(()=>{a(this)}).catch(a=>{this.error(a)})}next(a){this.forEachObserver(b=>{b.next(a)})}error(a){this.forEachObserver(b=>{b.error(a)}),this.close(a)}complete(){this.forEachObserver(a=>{a.complete()}),this.close()}subscribe(a,b,c){let d;if(void 0===a&&void 0===b&&void 0===c)throw Error("Missing Observer.");void 0===(d=X(a,["next","error","complete"])?a:{next:a,error:b,complete:c}).next&&(d.next=Y),void 0===d.error&&(d.error=Y),void 0===d.complete&&(d.complete=Y);let e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?d.error(this.finalError):d.complete()}catch(a){}}),this.observers.push(d),e}unsubscribeOne(a){void 0!==this.observers&&void 0!==this.observers[a]&&(delete this.observers[a],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(a){if(!this.finalized)for(let b=0;b<this.observers.length;b++)this.sendOne(b,a)}sendOne(a,b){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[a])try{b(this.observers[a])}catch(a){"u">typeof console&&console.error&&console.error(a)}})}close(a){this.finalized||(this.finalized=!0,void 0!==a&&(this.finalError=a),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X(a,b){if("object"!=typeof a||null===a)return!1;for(let c of b)if(c in a&&"function"==typeof a[c])return!0;return!1}function Y(){}function Z(a){return a&&a._delegate?a._delegate:a}e.NODE_CLIENT=!0;class ${constructor(a,b,c){this.name=a,this.instanceFactory=b,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(a){return this.instantiationMode=a,this}setMultipleInstances(a){return this.multipleInstances=a,this}setServiceProps(a){return this.serviceProps=a,this}setInstanceCreatedCallback(a){return this.onInstanceCreated=a,this}}let _="[DEFAULT]";class aa{constructor(a,b){this.name=a,this.container=b,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(a){let b=this.normalizeInstanceIdentifier(a);if(!this.instancesDeferred.has(b)){let a=new u;if(this.instancesDeferred.set(b,a),this.isInitialized(b)||this.shouldAutoInitialize())try{let c=this.getOrInitializeService({instanceIdentifier:b});c&&a.resolve(c)}catch(a){}}return this.instancesDeferred.get(b).promise}getImmediate(a){let b=this.normalizeInstanceIdentifier(a?.identifier),c=a?.optional??!1;if(this.isInitialized(b)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:b})}catch(a){if(c)return null;throw a}if(c)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(a){if(a.name!==this.name)throw Error(`Mismatching Component ${a.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=a,this.shouldAutoInitialize()){if(ac(a))try{this.getOrInitializeService({instanceIdentifier:_})}catch(a){}for(let[a,b]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(a);try{let a=this.getOrInitializeService({instanceIdentifier:c});b.resolve(a)}catch(a){}}}}clearInstance(a=_){this.instancesDeferred.delete(a),this.instancesOptions.delete(a),this.instances.delete(a)}async delete(){let a=Array.from(this.instances.values());await Promise.all([...a.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...a.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return null!=this.component}isInitialized(a=_){return this.instances.has(a)}getOptions(a=_){return this.instancesOptions.get(a)||{}}initialize(a={}){let{options:b={}}=a,c=this.normalizeInstanceIdentifier(a.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let d=this.getOrInitializeService({instanceIdentifier:c,options:b});for(let[a,b]of this.instancesDeferred.entries())c===this.normalizeInstanceIdentifier(a)&&b.resolve(d);return d}onInit(a,b){let c=this.normalizeInstanceIdentifier(b),d=this.onInitCallbacks.get(c)??new Set;d.add(a),this.onInitCallbacks.set(c,d);let e=this.instances.get(c);return e&&a(e,c),()=>{d.delete(a)}}invokeOnInitCallbacks(a,b){let c=this.onInitCallbacks.get(b);if(c)for(let d of c)try{d(a,b)}catch{}}getOrInitializeService({instanceIdentifier:a,options:b={}}){let c=this.instances.get(a);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:ab(a),options:b}),this.instances.set(a,c),this.instancesOptions.set(a,b),this.invokeOnInitCallbacks(c,a),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,a,c)}catch{}return c||null}normalizeInstanceIdentifier(a=_){return this.component?this.component.multipleInstances?a:_:a}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function ab(a){return a===_?void 0:a}function ac(a){return"EAGER"===a.instantiationMode}class ad{constructor(a){this.name=a,this.providers=new Map}addComponent(a){let b=this.getProvider(a.name);if(b.isComponentSet())throw Error(`Component ${a.name} has already been registered with ${this.name}`);b.setComponent(a)}addOrOverwriteComponent(a){this.getProvider(a.name).isComponentSet()&&this.providers.delete(a.name),this.addComponent(a)}getProvider(a){if(this.providers.has(a))return this.providers.get(a);let b=new aa(a,this);return this.providers.set(a,b),b}getProviders(){return Array.from(this.providers.values())}}let ae=[];!function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"}(bs||(bs={}));let af={debug:bs.DEBUG,verbose:bs.VERBOSE,info:bs.INFO,warn:bs.WARN,error:bs.ERROR,silent:bs.SILENT},ag=bs.INFO,ah={[bs.DEBUG]:"log",[bs.VERBOSE]:"log",[bs.INFO]:"info",[bs.WARN]:"warn",[bs.ERROR]:"error"},ai=(a,b,...c)=>{if(b<a.logLevel)return;let d=new Date().toISOString(),e=ah[b];if(e)console[e](`[${d}]  ${a.name}:`,...c);else throw Error(`Attempted to log a message with an invalid logType (value: ${b})`)};class aj{constructor(a){this.name=a,this._logLevel=ag,this._logHandler=ai,this._userLogHandler=null,ae.push(this)}get logLevel(){return this._logLevel}set logLevel(a){if(!(a in bs))throw TypeError(`Invalid value "${a}" assigned to \`logLevel\``);this._logLevel=a}setLogLevel(a){this._logLevel="string"==typeof a?af[a]:a}get logHandler(){return this._logHandler}set logHandler(a){if("function"!=typeof a)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a}get userLogHandler(){return this._userLogHandler}set userLogHandler(a){this._userLogHandler=a}debug(...a){this._userLogHandler&&this._userLogHandler(this,bs.DEBUG,...a),this._logHandler(this,bs.DEBUG,...a)}log(...a){this._userLogHandler&&this._userLogHandler(this,bs.VERBOSE,...a),this._logHandler(this,bs.VERBOSE,...a)}info(...a){this._userLogHandler&&this._userLogHandler(this,bs.INFO,...a),this._logHandler(this,bs.INFO,...a)}warn(...a){this._userLogHandler&&this._userLogHandler(this,bs.WARN,...a),this._logHandler(this,bs.WARN,...a)}error(...a){this._userLogHandler&&this._userLogHandler(this,bs.ERROR,...a),this._logHandler(this,bs.ERROR,...a)}}function ak(a){ae.forEach(b=>{b.setLogLevel(a)})}function al(a,b){for(let c of ae){let d=null;b&&b.level&&(d=af[b.level]),null===a?c.userLogHandler=null:c.userLogHandler=(b,c,...e)=>{let f=e.map(a=>{if(null==a)return null;if("string"==typeof a)return a;if("number"==typeof a||"boolean"==typeof a)return a.toString();if(a instanceof Error)return a.message;try{return JSON.stringify(a)}catch(a){return null}}).filter(a=>a).join(" ");c>=(d??b.logLevel)&&a({level:bs[c].toLowerCase(),message:f,args:e,type:b.name})}}}let am=(a,b)=>b.some(b=>a instanceof b);function an(){return b||(b=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ao(){return c||(c=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}let ap=new WeakMap,aq=new WeakMap,ar=new WeakMap,as=new WeakMap,at=new WeakMap;function au(a){let b=new Promise((b,c)=>{let d=()=>{a.removeEventListener("success",e),a.removeEventListener("error",f)},e=()=>{b(aA(a.result)),d()},f=()=>{c(a.error),d()};a.addEventListener("success",e),a.addEventListener("error",f)});return b.then(b=>{b instanceof IDBCursor&&ap.set(b,a)}).catch(()=>{}),at.set(b,a),b}function av(a){if(aq.has(a))return;let b=new Promise((b,c)=>{let d=()=>{a.removeEventListener("complete",e),a.removeEventListener("error",f),a.removeEventListener("abort",f)},e=()=>{b(),d()},f=()=>{c(a.error||new DOMException("AbortError","AbortError")),d()};a.addEventListener("complete",e),a.addEventListener("error",f),a.addEventListener("abort",f)});aq.set(a,b)}let aw={get(a,b,c){if(a instanceof IDBTransaction){if("done"===b)return aq.get(a);if("objectStoreNames"===b)return a.objectStoreNames||ar.get(a);if("store"===b)return c.objectStoreNames[1]?void 0:c.objectStore(c.objectStoreNames[0])}return aA(a[b])},set:(a,b,c)=>(a[b]=c,!0),has:(a,b)=>a instanceof IDBTransaction&&("done"===b||"store"===b)||b in a};function ax(a){aw=a(aw)}function ay(a){return a!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?ao().includes(a)?function(...b){return a.apply(aB(this),b),aA(ap.get(this))}:function(...b){return aA(a.apply(aB(this),b))}:function(b,...c){let d=a.call(aB(this),b,...c);return ar.set(d,b.sort?b.sort():[b]),aA(d)}}function az(a){return"function"==typeof a?ay(a):(a instanceof IDBTransaction&&av(a),am(a,an()))?new Proxy(a,aw):a}function aA(a){if(a instanceof IDBRequest)return au(a);if(as.has(a))return as.get(a);let b=az(a);return b!==a&&(as.set(a,b),at.set(b,a)),b}let aB=a=>at.get(a);function aC(a,b,{blocked:c,upgrade:d,blocking:e,terminated:f}={}){let g=indexedDB.open(a,b),h=aA(g);return d&&g.addEventListener("upgradeneeded",a=>{d(aA(g.result),a.oldVersion,a.newVersion,aA(g.transaction),a)}),c&&g.addEventListener("blocked",a=>c(a.oldVersion,a.newVersion,a)),h.then(a=>{f&&a.addEventListener("close",()=>f()),e&&a.addEventListener("versionchange",a=>e(a.oldVersion,a.newVersion,a))}).catch(()=>{}),h}let aD=["get","getKey","getAll","getAllKeys","count"],aE=["put","add","delete","clear"],aF=new Map;function aG(a,b){if(!(a instanceof IDBDatabase&&!(b in a)&&"string"==typeof b))return;if(aF.get(b))return aF.get(b);let c=b.replace(/FromIndex$/,""),d=b!==c,e=aE.includes(c);if(!(c in(d?IDBIndex:IDBObjectStore).prototype)||!(e||aD.includes(c)))return;let f=async function(a,...b){let f=this.transaction(a,e?"readwrite":"readonly"),g=f.store;return d&&(g=g.index(b.shift())),(await Promise.all([g[c](...b),e&&f.done]))[0]};return aF.set(b,f),f}ax(a=>({...a,get:(b,c,d)=>aG(b,c)||a.get(b,c,d),has:(b,c)=>!!aG(b,c)||a.has(b,c)}));class aH{constructor(a){this.container=a}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(!aI(a))return null;{let b=a.getImmediate();return`${b.library}/${b.version}`}}).filter(a=>a).join(" ")}}function aI(a){let b=a.getComponent();return b?.type==="VERSION"}let aJ="@firebase/app",aK="0.14.7",aL=new aj("@firebase/app"),aM="12.8.0",aN="[DEFAULT]",aO={[aJ]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},aP=new Map,aQ=new Map,aR=new Map;function aS(a,b){try{a.container.addComponent(b)}catch(c){aL.debug(`Component ${b.name} failed to register with FirebaseApp ${a.name}`,c)}}function aT(a,b){a.container.addOrOverwriteComponent(b)}function aU(a){let b=a.name;if(aR.has(b))return aL.debug(`There were multiple attempts to register component ${b}.`),!1;for(let c of(aR.set(b,a),aP.values()))aS(c,a);for(let b of aQ.values())aS(b,a);return!0}function aV(a,b){let c=a.container.getProvider("heartbeat").getImmediate({optional:!0});return c&&c.triggerHeartbeat(),a.container.getProvider(b)}function aW(a,b,c=aN){aV(a,b).clearInstance(c)}function aX(a){return void 0!==a.options}function aY(a){return!aX(a)&&("authIdToken"in a||"appCheckToken"in a||"releaseOnDeref"in a||"automaticDataCollectionEnabled"in a)}function aZ(a){return null!=a&&void 0!==a.settings}function a$(){aR.clear()}let a_=new N("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class a0{constructor(a,b,c){this._isDeleted=!1,this._options={...a},this._config={...b},this._name=b.name,this._automaticDataCollectionEnabled=b.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new $("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(a){this.checkDestroyed(),this._automaticDataCollectionEnabled=a}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(a){this._isDeleted=a}checkDestroyed(){if(this.isDeleted)throw a_.create("app-deleted",{appName:this._name})}}function a1(a,b){let c=l(a.split(".")[1]);null===c?console.error(`FirebaseServerApp ${b} is invalid: second part could not be parsed.`):void 0===JSON.parse(c).exp?console.error(`FirebaseServerApp ${b} is invalid: expiration claim could not be parsed`):1e3*JSON.parse(c).exp-new Date().getTime()<=0&&console.error(`FirebaseServerApp ${b} is invalid: the token has expired.`)}class a2 extends a0{constructor(a,b,c,d){const e=void 0===b.automaticDataCollectionEnabled||b.automaticDataCollectionEnabled,f={name:c,automaticDataCollectionEnabled:e};void 0!==a.apiKey?super(a,f,d):super(a.options,f,d),this._serverConfig={automaticDataCollectionEnabled:e,...b},this._serverConfig.authIdToken&&a1(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&a1(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"u">typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,b.releaseOnDeref=void 0,a9(aJ,aK,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(a){this.isDeleted||(this._refCount++,void 0!==a&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(a,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){a8(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw a_.create("server-app-deleted")}}let a3=aM;function a4(a,b={}){let c=a;"object"!=typeof b&&(b={name:b});let d={name:aN,automaticDataCollectionEnabled:!0,...b},e=d.name;if("string"!=typeof e||!e)throw a_.create("bad-app-name",{appName:String(e)});if(c||(c=t()),!c)throw a_.create("no-options");let f=aP.get(e);if(f)if(Q(c,f.options)&&Q(d,f.config))return f;else throw a_.create("duplicate-app",{appName:e});let g=new ad(e);for(let a of aR.values())g.addComponent(a);let h=new a0(c,d,g);return aP.set(e,h),h}function a5(a,b={}){let c;if(C()&&!D())throw a_.create("invalid-server-app-environment");let d=b||{};if(a&&(aX(a)?c=a.options:aY(a)?d=a:c=a),void 0===d.automaticDataCollectionEnabled&&(d.automaticDataCollectionEnabled=!0),c||(c=t()),!c)throw a_.create("no-options");let e={...d,...c};void 0!==e.releaseOnDeref&&delete e.releaseOnDeref;let f=a=>[...a].reduce((a,b)=>Math.imul(31,a)+b.charCodeAt(0)|0,0);if(void 0!==d.releaseOnDeref&&"u"<typeof FinalizationRegistry)throw a_.create("finalization-registry-not-supported",{});let g=""+f(JSON.stringify(e)),h=aQ.get(g);if(h)return h.incRefCount(d.releaseOnDeref),h;let i=new ad(g);for(let a of aR.values())i.addComponent(a);let j=new a2(c,d,g,i);return aQ.set(g,j),j}function a6(a=aN){let b=aP.get(a);if(!b&&a===aN&&t())return a4();if(!b)throw a_.create("no-app",{appName:a});return b}function a7(){return Array.from(aP.values())}async function a8(a){let b=!1,c=a.name;aP.has(c)?(b=!0,aP.delete(c)):aQ.has(c)&&0>=a.decRefCount()&&(aQ.delete(c),b=!0),b&&(await Promise.all(a.container.getProviders().map(a=>a.delete())),a.isDeleted=!0)}function a9(a,b,c){let d=aO[a]??a;c&&(d+=`-${c}`);let e=d.match(/\s|\//),f=b.match(/\s|\//);if(e||f){let a=[`Unable to register library "${d}" with version "${b}":`];e&&a.push(`library name "${d}" contains illegal characters (whitespace or "/")`),e&&f&&a.push("and"),f&&a.push(`version name "${b}" contains illegal characters (whitespace or "/")`),aL.warn(a.join(" "));return}aU(new $(`${d}-version`,()=>({library:d,version:b}),"VERSION"))}function ba(a,b){if(null!==a&&"function"!=typeof a)throw a_.create("invalid-log-argument");al(a,b)}function bb(a){ak(a)}let bc="firebase-heartbeat-database",bd=1,be="firebase-heartbeat-store",bf=null;function bg(){return bf||(bf=aC(bc,bd,{upgrade:(a,b)=>{if(0===b)try{a.createObjectStore(be)}catch(a){console.warn(a)}}}).catch(a=>{throw a_.create("idb-open",{originalErrorMessage:a.message})})),bf}async function bh(a){try{let b=(await bg()).transaction(be),c=await b.objectStore(be).get(bj(a));return await b.done,c}catch(a){if(a instanceof M)aL.warn(a.message);else{let b=a_.create("idb-get",{originalErrorMessage:a?.message});aL.warn(b.message)}}}async function bi(a,b){try{let c=(await bg()).transaction(be,"readwrite"),d=c.objectStore(be);await d.put(b,bj(a)),await c.done}catch(a){if(a instanceof M)aL.warn(a.message);else{let b=a_.create("idb-set",{originalErrorMessage:a?.message});aL.warn(b.message)}}}function bj(a){return`${a.name}!${a.options.appId}`}let bk=1024,bl=30;class bm{constructor(a){this.container=a,this._heartbeatsCache=null;const b=this.container.getProvider("app").getImmediate();this._storage=new bp(b),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{let a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),b=bn();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===b||this._heartbeatsCache.heartbeats.some(a=>a.date===b))return;if(this._heartbeatsCache.heartbeats.push({date:b,agent:a}),this._heartbeatsCache.heartbeats.length>bl){let a=br(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){aL.warn(a)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let a=bn(),{heartbeatsToSend:b,unsentEntries:c}=bo(this._heartbeatsCache.heartbeats),d=k(JSON.stringify({version:2,heartbeats:b}));return this._heartbeatsCache.lastSentHeartbeatDate=a,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),d}catch(a){return aL.warn(a),""}}}function bn(){return new Date().toISOString().substring(0,10)}function bo(a,b=bk){let c=[],d=a.slice();for(let e of a){let a=c.find(a=>a.agent===e.agent);if(a){if(a.dates.push(e.date),bq(c)>b){a.dates.pop();break}}else if(c.push({agent:e.agent,dates:[e.date]}),bq(c)>b){c.pop();break}d=d.slice(1)}return{heartbeatsToSend:c,unsentEntries:d}}class bp{constructor(a){this.app=a,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!J()&&K().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let a=await bh(this.app);return a?.heartbeats?a:{heartbeats:[]}}}async overwrite(a){if(await this._canUseIndexedDBPromise){let b=await this.read();return bi(this.app,{lastSentHeartbeatDate:a.lastSentHeartbeatDate??b.lastSentHeartbeatDate,heartbeats:a.heartbeats})}}async add(a){if(await this._canUseIndexedDBPromise){let b=await this.read();return bi(this.app,{lastSentHeartbeatDate:a.lastSentHeartbeatDate??b.lastSentHeartbeatDate,heartbeats:[...b.heartbeats,...a.heartbeats]})}}}function bq(a){return k(JSON.stringify({version:2,heartbeats:a})).length}function br(a){if(0===a.length)return -1;let b=0,c=a[0].date;for(let d=1;d<a.length;d++)a[d].date<c&&(c=a[d].date,b=d);return b}(function(a){aU(new $("platform-logger",a=>new aH(a),"PRIVATE")),aU(new $("heartbeat",a=>new bm(a),"PRIVATE")),a9(aJ,aK,""),a9(aJ,aK,"esm2020"),a9("fire-js","")})(""),a.s(["SDK_VERSION",()=>a3,"_DEFAULT_ENTRY_NAME",()=>aN,"_addComponent",()=>aS,"_addOrOverwriteComponent",()=>aT,"_apps",()=>aP,"_clearComponents",()=>a$,"_components",()=>aR,"_getProvider",()=>aV,"_isFirebaseApp",()=>aX,"_isFirebaseServerApp",()=>aZ,"_isFirebaseServerAppSettings",()=>aY,"_registerComponent",()=>aU,"_removeServiceInstance",()=>aW,"_serverApps",()=>aQ,"deleteApp",()=>a8,"getApp",()=>a6,"getApps",()=>a7,"initializeApp",()=>a4,"initializeServerApp",()=>a5,"onLog",()=>ba,"registerVersion",()=>a9,"setLogLevel",()=>bb],11481),a9("firebase","12.8.0","app"),a.i(11481);var bs,bt,bu,bv,bw,bx,by,bz,bA,bB="u">typeof globalThis?globalThis:a.g,bC={};(function(){function a(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function b(a,b,c){c||(c=0);let d=Array(16);if("string"==typeof b)for(var e=0;e<16;++e)d[e]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(e=0;e<16;++e)d[e]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.g[0],c=a.g[1],e=a.g[2];let f=a.g[3],g;g=b+(f^c&(e^f))+d[0]+0xd76aa478|0,g=f+(e^(b=c+(g<<7|g>>>25))&(c^e))+d[1]+0xe8c7b756|0,g=e+(c^(f=b+(g<<12|g>>>20))&(b^c))+d[2]+0x242070db|0,g=c+(b^(e=f+(g<<17|g>>>15))&(f^b))+d[3]+0xc1bdceee|0,g=b+(f^(c=e+(g<<22|g>>>10))&(e^f))+d[4]+0xf57c0faf|0,g=f+(e^(b=c+(g<<7|g>>>25))&(c^e))+d[5]+0x4787c62a|0,g=e+(c^(f=b+(g<<12|g>>>20))&(b^c))+d[6]+0xa8304613|0,g=c+(b^(e=f+(g<<17|g>>>15))&(f^b))+d[7]+0xfd469501|0,g=b+(f^(c=e+(g<<22|g>>>10))&(e^f))+d[8]+0x698098d8|0,g=f+(e^(b=c+(g<<7|g>>>25))&(c^e))+d[9]+0x8b44f7af|0,g=e+(c^(f=b+(g<<12|g>>>20))&(b^c))+d[10]+0xffff5bb1|0,g=c+(b^(e=f+(g<<17|g>>>15))&(f^b))+d[11]+0x895cd7be|0,g=b+(f^(c=e+(g<<22|g>>>10))&(e^f))+d[12]+0x6b901122|0,g=f+(e^(b=c+(g<<7|g>>>25))&(c^e))+d[13]+0xfd987193|0,g=e+(c^(f=b+(g<<12|g>>>20))&(b^c))+d[14]+0xa679438e|0,g=c+(b^(e=f+(g<<17|g>>>15))&(f^b))+d[15]+0x49b40821|0,c=e+(g<<22|g>>>10),g=b+(e^f&(c^e))+d[1]+0xf61e2562|0,b=c+(g<<5|g>>>27),g=f+(c^e&(b^c))+d[6]+0xc040b340|0,f=b+(g<<9|g>>>23),g=e+(b^c&(f^b))+d[11]+0x265e5a51|0,e=f+(g<<14|g>>>18),g=c+(f^b&(e^f))+d[0]+0xe9b6c7aa|0,c=e+(g<<20|g>>>12),g=b+(e^f&(c^e))+d[5]+0xd62f105d|0,b=c+(g<<5|g>>>27),g=f+(c^e&(b^c))+d[10]+0x2441453|0,f=b+(g<<9|g>>>23),g=e+(b^c&(f^b))+d[15]+0xd8a1e681|0,e=f+(g<<14|g>>>18),g=c+(f^b&(e^f))+d[4]+0xe7d3fbc8|0,c=e+(g<<20|g>>>12),g=b+(e^f&(c^e))+d[9]+0x21e1cde6|0,b=c+(g<<5|g>>>27),g=f+(c^e&(b^c))+d[14]+0xc33707d6|0,f=b+(g<<9|g>>>23),g=e+(b^c&(f^b))+d[3]+0xf4d50d87|0,e=f+(g<<14|g>>>18),g=c+(f^b&(e^f))+d[8]+0x455a14ed|0,c=e+(g<<20|g>>>12),g=b+(e^f&(c^e))+d[13]+0xa9e3e905|0,b=c+(g<<5|g>>>27),g=f+(c^e&(b^c))+d[2]+0xfcefa3f8|0,f=b+(g<<9|g>>>23),g=e+(b^c&(f^b))+d[7]+0x676f02d9|0,e=f+(g<<14|g>>>18),g=c+(f^b&(e^f))+d[12]+0x8d2a4c8a|0,g=b+((c=e+(g<<20|g>>>12))^e^f)+d[5]+0xfffa3942|0,g=f+((b=c+(g<<4|g>>>28))^c^e)+d[8]+0x8771f681|0,g=e+((f=b+(g<<11|g>>>21))^b^c)+d[11]+0x6d9d6122|0,g=c+((e=f+(g<<16|g>>>16))^f^b)+d[14]+0xfde5380c|0,g=b+((c=e+(g<<23|g>>>9))^e^f)+d[1]+0xa4beea44|0,g=f+((b=c+(g<<4|g>>>28))^c^e)+d[4]+0x4bdecfa9|0,g=e+((f=b+(g<<11|g>>>21))^b^c)+d[7]+0xf6bb4b60|0,g=c+((e=f+(g<<16|g>>>16))^f^b)+d[10]+0xbebfbc70|0,g=b+((c=e+(g<<23|g>>>9))^e^f)+d[13]+0x289b7ec6|0,g=f+((b=c+(g<<4|g>>>28))^c^e)+d[0]+0xeaa127fa|0,g=e+((f=b+(g<<11|g>>>21))^b^c)+d[3]+0xd4ef3085|0,g=c+((e=f+(g<<16|g>>>16))^f^b)+d[6]+0x4881d05|0,g=b+((c=e+(g<<23|g>>>9))^e^f)+d[9]+0xd9d4d039|0,g=f+((b=c+(g<<4|g>>>28))^c^e)+d[12]+0xe6db99e5|0,g=e+((f=b+(g<<11|g>>>21))^b^c)+d[15]+0x1fa27cf8|0,g=c+((e=f+(g<<16|g>>>16))^f^b)+d[2]+0xc4ac5665|0,c=e+(g<<23|g>>>9),g=b+(e^(c|~f))+d[0]+0xf4292244|0,b=c+(g<<6|g>>>26),g=f+(c^(b|~e))+d[7]+0x432aff97|0,f=b+(g<<10|g>>>22),g=e+(b^(f|~c))+d[14]+0xab9423a7|0,e=f+(g<<15|g>>>17),g=c+(f^(e|~b))+d[5]+0xfc93a039|0,c=e+(g<<21|g>>>11),g=b+(e^(c|~f))+d[12]+0x655b59c3|0,b=c+(g<<6|g>>>26),g=f+(c^(b|~e))+d[3]+0x8f0ccc92|0,f=b+(g<<10|g>>>22),g=e+(b^(f|~c))+d[10]+0xffeff47d|0,e=f+(g<<15|g>>>17),g=c+(f^(e|~b))+d[1]+0x85845dd1|0,c=e+(g<<21|g>>>11),g=b+(e^(c|~f))+d[8]+0x6fa87e4f|0,b=c+(g<<6|g>>>26),g=f+(c^(b|~e))+d[15]+0xfe2ce6e0|0,f=b+(g<<10|g>>>22),g=e+(b^(f|~c))+d[6]+0xa3014314|0,e=f+(g<<15|g>>>17),g=c+(f^(e|~b))+d[13]+0x4e0811a1|0,c=e+(g<<21|g>>>11),g=b+(e^(c|~f))+d[4]+0xf7537e82|0,b=c+(g<<6|g>>>26),g=f+(c^(b|~e))+d[11]+0xbd3af235|0,f=b+(g<<10|g>>>22),g=e+(b^(f|~c))+d[2]+0x2ad7d2bb|0,e=f+(g<<15|g>>>17),g=c+(f^(e|~b))+d[9]+0xeb86d391|0,a.g[0]=a.g[0]+b|0,a.g[1]=a.g[1]+(e+(g<<21|g>>>11))|0,a.g[2]=a.g[2]+e|0,a.g[3]=a.g[3]+f|0}function c(a,b){var c=f;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)}function d(a,b){this.h=b;let c=[],d=!0;for(let e=a.length-1;e>=0;e--){let f=0|a[e];d&&f==b||(c[e]=f,d=!1)}this.g=c}(function(a,b){function c(){}c.prototype=b.prototype,a.F=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.D=function(a,c,d){for(var e=Array(arguments.length-2),f=2;f<arguments.length;f++)e[f-2]=arguments[f];return b.prototype[c].apply(a,e)}})(a,function(){this.blockSize=-1}),a.prototype.u=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},a.prototype.v=function(a,c){void 0===c&&(c=a.length);let d=c-this.blockSize,e=this.C,f=this.h,g=0;for(;g<c;){if(0==f)for(;g<=d;)b(this,a,g),g+=this.blockSize;if("string"==typeof a){for(;g<c;)if(e[f++]=a.charCodeAt(g++),f==this.blockSize){b(this,e),f=0;break}}else for(;g<c;)if(e[f++]=a[g++],f==this.blockSize){b(this,e),f=0;break}}this.h=f,this.o+=c},a.prototype.A=function(){var a=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);a[0]=128;for(var b=1;b<a.length-8;++b)a[b]=0;b=8*this.o;for(var c=a.length-8;c<a.length;++c)a[c]=255&b,b/=256;for(this.v(a),a=Array(16),b=0,c=0;c<4;++c)for(let d=0;d<32;d+=8)a[b++]=this.g[c]>>>d&255;return a};var e,f={};function g(a){return -128<=a&&a<128?c(a,function(a){return new d([0|a],a<0?-1:0)}):new d([0|a],a<0?-1:0)}function h(a){if(isNaN(a)||!isFinite(a))return j;if(a<0)return o(h(-a));let b=[],c=1;for(let d=0;a>=c;d++)b[d]=a/c|0,c*=0x100000000;return new d(b,0)}function i(a,b){if(0==a.length)throw Error("number format error: empty string");if((b=b||10)<2||36<b)throw Error("radix out of range: "+b);if("-"==a.charAt(0))return o(i(a.substring(1),b));if(a.indexOf("-")>=0)throw Error('number format error: interior "-" character');let c=h(Math.pow(b,8)),d=j;for(let f=0;f<a.length;f+=8){var e=Math.min(8,a.length-f);let g=parseInt(a.substring(f,f+e),b);e<8?(e=h(Math.pow(b,e)),d=d.j(e).add(h(g))):d=(d=d.j(c)).add(h(g))}return d}var j=g(0),k=g(1),l=g(0x1000000);function m(a){if(0!=a.h)return!1;for(let b=0;b<a.g.length;b++)if(0!=a.g[b])return!1;return!0}function n(a){return -1==a.h}function o(a){let b=a.g.length,c=[];for(let d=0;d<b;d++)c[d]=~a.g[d];return new d(c,~a.h).add(k)}function p(a,b){return a.add(o(b))}function q(a,b){for(;(65535&a[b])!=a[b];)a[b+1]+=a[b]>>>16,a[b]&=65535,b++}function r(a,b){this.g=a,this.h=b}function s(a,b){if(m(b))throw Error("division by zero");if(m(a))return new r(j,j);if(n(a))return b=s(o(a),b),new r(o(b.g),o(b.h));if(n(b))return b=s(a,o(b)),new r(o(b.g),b.h);if(a.g.length>30){if(n(a)||n(b))throw Error("slowDivide_ only works with positive integers.");for(var c=k,d=b;0>=d.l(a);)c=t(c),d=t(d);var e=u(c,1),f=u(d,1);for(d=u(d,2),c=u(c,2);!m(d);){var g=f.add(d);0>=g.l(a)&&(e=e.add(c),f=g),d=u(d,1),c=u(c,1)}return b=p(a,e.j(b)),new r(e,b)}for(e=j;a.l(b)>=0;){for(d=(d=Math.ceil(Math.log(c=Math.max(1,Math.floor(a.m()/b.m())))/Math.LN2))<=48?1:Math.pow(2,d-48),g=(f=h(c)).j(b);n(g)||g.l(a)>0;)c-=d,g=(f=h(c)).j(b);m(f)&&(f=k),e=e.add(f),a=p(a,g)}return new r(e,a)}function t(a){let b=a.g.length+1,c=[];for(let d=0;d<b;d++)c[d]=a.i(d)<<1|a.i(d-1)>>>31;return new d(c,a.h)}function u(a,b){let c=b>>5;b%=32;let e=a.g.length-c,f=[];for(let d=0;d<e;d++)f[d]=b>0?a.i(d+c)>>>b|a.i(d+c+1)<<32-b:a.i(d+c);return new d(f,a.h)}(e=d.prototype).m=function(){if(n(this))return-o(this).m();let a=0,b=1;for(let c=0;c<this.g.length;c++){let d=this.i(c);a+=(d>=0?d:0x100000000+d)*b,b*=0x100000000}return a},e.toString=function(a){if((a=a||10)<2||36<a)throw Error("radix out of range: "+a);if(m(this))return"0";if(n(this))return"-"+o(this).toString(a);let b=h(Math.pow(a,6));var c=this;let d="";for(;;){let e=s(c,b).g,f=(((c=p(c,e.j(b))).g.length>0?c.g[0]:c.h)>>>0).toString(a);if(m(c=e))return f+d;for(;f.length<6;)f="0"+f;d=f+d}},e.i=function(a){return a<0?0:a<this.g.length?this.g[a]:this.h},e.l=function(a){return n(a=p(this,a))?-1:+!m(a)},e.abs=function(){return n(this)?o(this):this},e.add=function(a){let b=Math.max(this.g.length,a.g.length),c=[],e=0;for(let d=0;d<=b;d++){let b=e+(65535&this.i(d))+(65535&a.i(d)),f=(b>>>16)+(this.i(d)>>>16)+(a.i(d)>>>16);e=f>>>16,b&=65535,f&=65535,c[d]=f<<16|b}return new d(c,-0x80000000&c[c.length-1]?-1:0)},e.j=function(a){if(m(this)||m(a))return j;if(n(this))return n(a)?o(this).j(o(a)):o(o(this).j(a));if(n(a))return o(this.j(o(a)));if(0>this.l(l)&&0>a.l(l))return h(this.m()*a.m());let b=this.g.length+a.g.length,c=[];for(var e=0;e<2*b;e++)c[e]=0;for(e=0;e<this.g.length;e++)for(let b=0;b<a.g.length;b++){let d=this.i(e)>>>16,f=65535&this.i(e),g=a.i(b)>>>16,h=65535&a.i(b);c[2*e+2*b]+=f*h,q(c,2*e+2*b),c[2*e+2*b+1]+=d*h,q(c,2*e+2*b+1),c[2*e+2*b+1]+=f*g,q(c,2*e+2*b+1),c[2*e+2*b+2]+=d*g,q(c,2*e+2*b+2)}for(a=0;a<b;a++)c[a]=c[2*a+1]<<16|c[2*a];for(a=b;a<2*b;a++)c[a]=0;return new d(c,0)},e.B=function(a){return s(this,a).h},e.and=function(a){let b=Math.max(this.g.length,a.g.length),c=[];for(let d=0;d<b;d++)c[d]=this.i(d)&a.i(d);return new d(c,this.h&a.h)},e.or=function(a){let b=Math.max(this.g.length,a.g.length),c=[];for(let d=0;d<b;d++)c[d]=this.i(d)|a.i(d);return new d(c,this.h|a.h)},e.xor=function(a){let b=Math.max(this.g.length,a.g.length),c=[];for(let d=0;d<b;d++)c[d]=this.i(d)^a.i(d);return new d(c,this.h^a.h)},a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bu=bC.Md5=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=h,d.fromString=i,bt=bC.Integer=d}).apply(void 0!==bB?bB:"u">typeof self?self:{});var bD=a.i(24361),bE=a.i(54799),bF=a.i(49007),bG=a.i(44886);class bH{constructor(a){this.uid=a}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(a){return a.uid===this.uid}}bH.UNAUTHENTICATED=new bH(null),bH.GOOGLE_CREDENTIALS=new bH("google-credentials-uid"),bH.FIRST_PARTY=new bH("first-party-uid"),bH.MOCK_USER=new bH("mock-user");let bI="12.8.0";function bJ(a){bI=a}function bK(a){return(0,bD.inspect)(a,{depth:100})}let bL=new aj("@firebase/firestore");function bM(){return bL.logLevel}function bN(a,...b){if(bL.logLevel<=bs.DEBUG){let c=b.map(bQ);bL.debug(`Firestore (${bI}): ${a}`,...c)}}function bO(a,...b){if(bL.logLevel<=bs.ERROR){let c=b.map(bQ);bL.error(`Firestore (${bI}): ${a}`,...c)}}function bP(a,...b){if(bL.logLevel<=bs.WARN){let c=b.map(bQ);bL.warn(`Firestore (${bI}): ${a}`,...c)}}function bQ(a){if("string"==typeof a)return a;try{return bK(a)}catch(b){return a}}function bR(a,b,c){let d="Unexpected state";"string"==typeof b?d=b:c=b,bS(a,d,c)}function bS(a,b,c){let d=`FIRESTORE (${bI}) INTERNAL ASSERTION FAILED: ${b} (ID: ${a.toString(16)})`;if(void 0!==c)try{let a=JSON.stringify(c);d+=" CONTEXT: "+a}catch(a){d+=" CONTEXT: "+c}throw bO(d),Error(d)}function bT(a,b,c,d){let e="Unexpected state";"string"==typeof c?e=c:d=c,a||bS(b,e,d)}function bU(a,b){return a}let bV="ok",bW="cancelled",bX="unknown",bY="invalid-argument",bZ="deadline-exceeded",b$="not-found",b_="already-exists",b0="permission-denied",b1="unauthenticated",b2="resource-exhausted",b3="failed-precondition",b4="aborted",b5="out-of-range",b6="unimplemented",b7="internal",b8="unavailable",b9="data-loss";class ca extends M{constructor(a,b){super(a,b),this.code=a,this.message=b,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cb{constructor(){this.promise=new Promise((a,b)=>{this.resolve=a,this.reject=b})}}class cc{constructor(a,b){this.user=b,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${a}`)}}class cd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(a,b){a.enqueueRetryable(()=>b(bH.UNAUTHENTICATED))}shutdown(){}}class ce{constructor(a){this.token=a,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(a,b){this.changeListener=b,a.enqueueRetryable(()=>b(this.token.user))}shutdown(){this.changeListener=null}}class cf{constructor(a){this.authProvider=a,this.currentUser=bH.UNAUTHENTICATED,this.tokenCounter=0,this.forceRefresh=!1,this.auth=null}start(a,b){bT(void 0===this.tokenListener,42304);let c=this.tokenCounter,d=a=>this.tokenCounter!==c?(c=this.tokenCounter,b(a)):Promise.resolve(),e=new cb;this.tokenListener=()=>{this.tokenCounter++,this.currentUser=this.getUser(),e.resolve(),e=new cb,a.enqueueRetryable(()=>d(this.currentUser))};let f=()=>{let b=e;a.enqueueRetryable(async()=>{await b.promise,await d(this.currentUser)})},g=a=>{bN("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.tokenListener&&(this.auth.addAuthTokenListener(this.tokenListener),f())};this.authProvider.onInit(a=>g(a)),setTimeout(()=>{if(!this.auth){let a=this.authProvider.getImmediate({optional:!0});a?g(a):(bN("FirebaseAuthCredentialsProvider","Auth not yet detected"),e.resolve(),e=new cb)}},0),f()}getToken(){let a=this.tokenCounter,b=this.forceRefresh;return(this.forceRefresh=!1,this.auth)?this.auth.getToken(b).then(b=>this.tokenCounter!==a?(bN("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):b?(bT("string"==typeof b.accessToken,31837,{tokenData:b}),new cc(b.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.tokenListener&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=void 0}getUser(){let a=this.auth&&this.auth.getUid();return bT(null===a||"string"==typeof a,2055,{currentUid:a}),new bH(a)}}class cg{constructor(a,b,c){this.sessionIndex=a,this.iamToken=b,this.authTokenFactory=c,this.type="FirstParty",this.user=bH.FIRST_PARTY,this._headers=new Map}getAuthToken(){return this.authTokenFactory?this.authTokenFactory():null}get headers(){this._headers.set("X-Goog-AuthUser",this.sessionIndex);let a=this.getAuthToken();return a&&this._headers.set("Authorization",a),this.iamToken&&this._headers.set("X-Goog-Iam-Authorization-Token",this.iamToken),this._headers}}class ch{constructor(a,b,c){this.sessionIndex=a,this.iamToken=b,this.authTokenFactory=c}getToken(){return Promise.resolve(new cg(this.sessionIndex,this.iamToken,this.authTokenFactory))}start(a,b){a.enqueueRetryable(()=>b(bH.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ci{constructor(a){this.value=a,this.type="AppCheck",this.headers=new Map,a&&a.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cj{constructor(a,b){this.appCheckProvider=b,this.forceRefresh=!1,this.appCheck=null,this.latestAppCheckToken=null,this.serverAppAppCheckToken=null,aZ(a)&&a.settings.appCheckToken&&(this.serverAppAppCheckToken=a.settings.appCheckToken)}start(a,b){bT(void 0===this.tokenListener,3512);let c=a=>{null!=a.error&&bN("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);let c=a.token!==this.latestAppCheckToken;return this.latestAppCheckToken=a.token,bN("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?b(a.token):Promise.resolve()};this.tokenListener=b=>{a.enqueueRetryable(()=>c(b))};let d=a=>{bN("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.tokenListener&&this.appCheck.addTokenListener(this.tokenListener)};this.appCheckProvider.onInit(a=>d(a)),setTimeout(()=>{if(!this.appCheck){let a=this.appCheckProvider.getImmediate({optional:!0});a?d(a):bN("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.serverAppAppCheckToken)return Promise.resolve(new ci(this.serverAppAppCheckToken));let a=this.forceRefresh;return(this.forceRefresh=!1,this.appCheck)?this.appCheck.getToken(a).then(a=>a?(bT("string"==typeof a.token,44558,{tokenResult:a}),this.latestAppCheckToken=a.token,new ci(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.tokenListener&&this.appCheck.removeTokenListener(this.tokenListener),this.tokenListener=void 0}}function ck(a){if(!a)return new cd;switch(a.type){case"firstParty":return new ch(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ca(bY,"makeAuthCredentialsProvider failed due to invalid credential type")}}function cl(a){return(0,bE.randomBytes)(a)}class cm{static newId(){let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",b=Math.floor(256/a.length)*a.length,c="",d=20;for(;c.length<d;){let e=cl(40);for(let f=0;f<e.length;++f)c.length<d&&e[f]<b&&(c+=a.charAt(e[f]%a.length))}return c}}function cn(a,b){return a<b?-1:+(a>b)}function co(a,b){let c=Math.min(a.length,b.length);for(let d=0;d<c;d++){let c=a.charAt(d),e=b.charAt(d);if(c!==e)return cr(c)===cr(e)?cn(c,e):cr(c)?1:-1}return cn(a.length,b.length)}let cp=55296,cq=57343;function cr(a){let b=a.charCodeAt(0);return b>=cp&&b<=cq}function cs(a,b,c){return a.length===b.length&&a.every((a,d)=>c(a,b[d]))}function ct(a){return a+"\0"}let cu="__name__";class cv{constructor(a,b,c){void 0===b?b=0:b>a.length&&bR(637,{offset:b,range:a.length}),void 0===c?c=a.length-b:c>a.length-b&&bR(1746,{length:c,range:a.length-b}),this.segments=a,this.offset=b,this.len=c}get length(){return this.len}isEqual(a){return 0===cv.comparator(this,a)}child(a){let b=this.segments.slice(this.offset,this.limit());return a instanceof cv?a.forEach(a=>{b.push(a)}):b.push(a),this.construct(b)}limit(){return this.offset+this.length}popFirst(a){return a=void 0===a?1:a,this.construct(this.segments,this.offset+a,this.length-a)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(a){return this.segments[this.offset+a]}isEmpty(){return 0===this.length}isPrefixOf(a){if(a.length<this.length)return!1;for(let b=0;b<this.length;b++)if(this.get(b)!==a.get(b))return!1;return!0}isImmediateParentOf(a){if(this.length+1!==a.length)return!1;for(let b=0;b<this.length;b++)if(this.get(b)!==a.get(b))return!1;return!0}forEach(a){for(let b=this.offset,c=this.limit();b<c;b++)a(this.segments[b])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(a,b){let c=Math.min(a.length,b.length);for(let d=0;d<c;d++){let c=cv.compareSegments(a.get(d),b.get(d));if(0!==c)return c}return cn(a.length,b.length)}static compareSegments(a,b){let c=cv.isNumericId(a),d=cv.isNumericId(b);return c&&!d?-1:!c&&d?1:c&&d?cv.extractNumericId(a).compare(cv.extractNumericId(b)):co(a,b)}static isNumericId(a){return a.startsWith("__id")&&a.endsWith("__")}static extractNumericId(a){return bt.fromString(a.substring(4,a.length-2))}}class cw extends cv{construct(a,b,c){return new cw(a,b,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...a){let b=[];for(let c of a){if(c.indexOf("//")>=0)throw new ca(bY,`Invalid segment (${c}). Paths must not contain // in them.`);b.push(...c.split("/").filter(a=>a.length>0))}return new cw(b)}static emptyPath(){return new cw([])}}let cx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cy extends cv{construct(a,b,c){return new cy(a,b,c)}static isValidIdentifier(a){return cx.test(a)}canonicalString(){return this.toArray().map(a=>(a=a.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cy.isValidIdentifier(a)||(a="`"+a+"`"),a)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===cu}static keyField(){return new cy([cu])}static fromServerFormat(a){let b=[],c="",d=0,e=()=>{if(0===c.length)throw new ca(bY,`Invalid field path (${a}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);b.push(c),c=""},f=!1;for(;d<a.length;){let b=a[d];if("\\"===b){if(d+1===a.length)throw new ca(bY,"Path has trailing escape character: "+a);let b=a[d+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new ca(bY,"Path has invalid escape sequence: "+a);c+=b,d+=2}else"`"===b?f=!f:"."!==b||f?c+=b:e(),d++}if(e(),f)throw new ca(bY,"Unterminated ` in path: "+a);return new cy(b)}static emptyPath(){return new cy([])}}class cz{constructor(a){this.path=a}static fromPath(a){return new cz(cw.fromString(a))}static fromName(a){return new cz(cw.fromString(a).popFirst(5))}static empty(){return new cz(cw.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(a){return this.path.length>=2&&this.path.get(this.path.length-2)===a}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(a){return null!==a&&0===cw.comparator(this.path,a.path)}toString(){return this.path.toString()}static comparator(a,b){return cw.comparator(a.path,b.path)}static isDocumentKey(a){return a.length%2==0}static fromSegments(a){return new cz(new cw(a.slice()))}}function cA(a,b,c){if(!c)throw new ca(bY,`Function ${a}() cannot be called with an empty ${b}.`)}function cB(a,b,c,d){if(!0===b&&!0===d)throw new ca(bY,`${a} and ${c} cannot be used together.`)}function cC(a){if(!cz.isDocumentKey(a))throw new ca(bY,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function cD(a){if(cz.isDocumentKey(a))throw new ca(bY,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function cE(a){return"object"==typeof a&&null!==a&&(Object.getPrototypeOf(a)===Object.prototype||null===Object.getPrototypeOf(a))}function cF(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a)if(a instanceof Array)return"an array";else{let b=cG(a);return b?`a custom ${b} object`:"an object"}else if("function"==typeof a)return"a function";else return bR(12329,{type:typeof a})}function cG(a){return a.constructor?a.constructor.name:null}function cH(a,b){if("_delegate"in a&&(a=a._delegate),!(a instanceof b))if(b.name===a.constructor.name)throw new ca(bY,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");else{let c=cF(a);throw new ca(bY,`Expected type '${b.name}', but it was: ${c}`)}return a}function cI(a,b){if(b<=0)throw new ca(bY,`Function ${a}() requires a positive number, but it was: ${b}.`)}function cJ(a,b){let c={typeString:a};return b&&(c.value=b),c}function cK(a,b){let c;if(!cE(a))throw new ca(bY,"JSON must be an object");for(let d in b)if(b[d]){let e=b[d].typeString,f="value"in b[d]?{value:b[d].value}:void 0;if(!(d in a)){c=`JSON missing required field: '${d}'`;break}let g=a[d];if(e&&typeof g!==e){c=`JSON field '${d}' must be a ${e}.`;break}if(void 0!==f&&g!==f.value){c=`Expected '${d}' field to equal '${f.value}'`;break}}if(c)throw new ca(bY,c);return!0}let cL=-0xe7791f700,cM=1e6;class cN{static now(){return cN.fromMillis(Date.now())}static fromDate(a){return cN.fromMillis(a.getTime())}static fromMillis(a){let b=Math.floor(a/1e3),c=Math.floor((a-1e3*b)*cM);return new cN(b,c)}constructor(a,b){if(this.seconds=a,this.nanoseconds=b,b<0||b>=1e9)throw new ca(bY,"Timestamp nanoseconds out of range: "+b);if(a<cL||a>=0x3afff44180)throw new ca(bY,"Timestamp seconds out of range: "+a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cM}_compareTo(a){return this.seconds===a.seconds?cn(this.nanoseconds,a.nanoseconds):cn(this.seconds,a.seconds)}isEqual(a){return a.seconds===this.seconds&&a.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:cN._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(a){if(cK(a,cN._jsonSchema))return new cN(a.seconds,a.nanoseconds)}valueOf(){return String(this.seconds-cL).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}cN._jsonSchemaVersion="firestore/timestamp/1.0",cN._jsonSchema={type:cJ("string",cN._jsonSchemaVersion),seconds:cJ("number"),nanoseconds:cJ("number")};class cO{static fromTimestamp(a){return new cO(a)}static min(){return new cO(new cN(0,0))}static max(){return new cO(new cN(0x3afff4417f,1e9-1))}constructor(a){this.timestamp=a}compareTo(a){return this.timestamp._compareTo(a.timestamp)}isEqual(a){return this.timestamp.isEqual(a.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}let cP=-1,cQ=0;class cR{constructor(a,b,c,d){this.indexId=a,this.collectionGroup=b,this.fields=c,this.indexState=d}}function cS(a){return a.fields.find(a=>2===a.kind)}function cT(a){return a.fields.filter(a=>2!==a.kind)}function cU(a){let b=cT(a);return 0===b.length?0:b[b.length-1].kind}function cV(a,b){let c=cn(a.collectionGroup,b.collectionGroup);if(0!==c)return c;for(let d=0;d<Math.min(a.fields.length,b.fields.length);++d)if(0!==(c=cY(a.fields[d],b.fields[d])))return c;return cn(a.fields.length,b.fields.length)}function cW(a){return`id=${a.indexId}|cg=${a.collectionGroup}|f=${a.fields.map(a=>`${a.fieldPath}:${a.kind}`).join(",")}`}cR.UNKNOWN_ID=-1;class cX{constructor(a,b){this.fieldPath=a,this.kind=b}}function cY(a,b){let c=cy.comparator(a.fieldPath,b.fieldPath);return 0!==c?c:cn(a.kind,b.kind)}class cZ{constructor(a,b){this.sequenceNumber=a,this.offset=b}static empty(){return new cZ(cQ,c0.min())}}function c$(a,b){let c=a.toTimestamp().seconds,d=a.toTimestamp().nanoseconds+1;return new c0(cO.fromTimestamp(1e9===d?new cN(c+1,0):new cN(c,d)),cz.empty(),b)}function c_(a){return new c0(a.readTime,a.key,cP)}class c0{constructor(a,b,c){this.readTime=a,this.documentKey=b,this.largestBatchId=c}static min(){return new c0(cO.min(),cz.empty(),cP)}static max(){return new c0(cO.max(),cz.empty(),cP)}}function c1(a,b){let c=a.readTime.compareTo(b.readTime);return 0!==c||0!==(c=cz.comparator(a.documentKey,b.documentKey))?c:cn(a.largestBatchId,b.largestBatchId)}let c2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class c3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(a){this.onCommittedListeners.push(a)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(a=>a())}}async function c4(a){if(a.code===b3&&a.message===c2)bN("LocalStore","Unexpectedly lost primary lease");else throw a}class c5{constructor(a){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,a(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(a){return this.next(void 0,a)}next(a,b){return(this.callbackAttached&&bR(59440),this.callbackAttached=!0,this.isDone)?this.error?this.wrapFailure(b,this.error):this.wrapSuccess(a,this.result):new c5((c,d)=>{this.nextCallback=b=>{this.wrapSuccess(a,b).next(c,d)},this.catchCallback=a=>{this.wrapFailure(b,a).next(c,d)}})}toPromise(){return new Promise((a,b)=>{this.next(a,b)})}wrapUserFunction(a){try{let b=a();if(b instanceof c5)return b;return c5.resolve(b)}catch(a){return c5.reject(a)}}wrapSuccess(a,b){return a?this.wrapUserFunction(()=>a(b)):c5.resolve(b)}wrapFailure(a,b){return a?this.wrapUserFunction(()=>a(b)):c5.reject(b)}static resolve(a){return new c5((b,c)=>{b(a)})}static reject(a){return new c5((b,c)=>{c(a)})}static waitFor(a){return new c5((b,c)=>{let d=0,e=0,f=!1;a.forEach(a=>{++d,a.next(()=>{++e,f&&e===d&&b()},a=>c(a))}),f=!0,e===d&&b()})}static or(a){let b=c5.resolve(!1);for(let c of a)b=b.next(a=>a?c5.resolve(a):c());return b}static forEach(a,b){let c=[];return a.forEach((a,d)=>{c.push(b.call(this,a,d))}),this.waitFor(c)}static mapArray(a,b){return new c5((c,d)=>{let e=a.length,f=Array(e),g=0;for(let h=0;h<e;h++){let i=h;b(a[i]).next(a=>{f[i]=a,++g===e&&c(f)},a=>d(a))}})}static doWhile(a,b){return new c5((c,d)=>{let e=()=>{!0===a()?b().next(()=>{e()},d):c()};e()})}}let c6="SimpleDb",c7=3;class c8{static open(a,b,c,d){try{return new c8(b,a.transaction(d,c))}catch(a){throw new dc(b,a)}}constructor(a,b){this.action=a,this.transaction=b,this.aborted=!1,this.completionDeferred=new cb,this.transaction.oncomplete=()=>{this.completionDeferred.resolve()},this.transaction.onabort=()=>{b.error?this.completionDeferred.reject(new dc(a,b.error)):this.completionDeferred.resolve()},this.transaction.onerror=b=>{let c=dh(b.target.error);this.completionDeferred.reject(new dc(a,c))}}get completionPromise(){return this.completionDeferred.promise}abort(a){a&&this.completionDeferred.reject(a),this.aborted||(bN(c6,"Aborting transaction:",a?a.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}maybeCommit(){let a=this.transaction;this.aborted||"function"!=typeof a.commit||a.commit()}store(a){return new de(this.transaction.objectStore(a))}}class c9{static delete(a){return bN(c6,"Removing database:",a),df(m().indexedDB.deleteDatabase(a)).toPromise()}static isAvailable(){if(!J())return!1;if(c9.isMockPersistence())return!0;let a=z(),b=c9.getIOSVersion(a),c=0<b&&b<10,d=da(a),e=0<d&&d<4.5;return!(a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0||a.indexOf("Edge/")>0)&&!c&&!e}static isMockPersistence(){return"u">typeof process&&process.env?.USE_MOCK_PERSISTENCE==="YES"}static getStore(a,b){return a.store(b)}static getIOSVersion(a){let b=a.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(b?b[1].split("_").slice(0,2).join("."):"-1")}constructor(a,b,c){this.name=a,this.version=b,this.schemaConverter=c,this.lastClosedDbVersion=null,12.2===c9.getIOSVersion(z())&&bO("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async ensureDb(a){return this.db||(bN(c6,"Opening database:",this.name),this.db=await new Promise((b,c)=>{let d=indexedDB.open(this.name,this.version);d.onsuccess=a=>{b(a.target.result)},d.onblocked=()=>{c(new dc(a,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=b=>{let d=b.target.error;"VersionError"===d.name?c(new ca(b3,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===d.name?c(new ca(b3,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d)):c(new dc(a,d))},d.onupgradeneeded=a=>{bN(c6,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);let b=a.target.result;this.schemaConverter.createOrUpgrade(b,d.transaction,a.oldVersion,this.version).next(()=>{bN(c6,"Database upgrade to version "+this.version+" complete")})}})),this.versionchangelistener&&(this.db.onversionchange=a=>this.versionchangelistener(a)),this.db}setVersionChangeListener(a){this.versionchangelistener=a,this.db&&(this.db.onversionchange=b=>a(b))}async runTransaction(a,b,c,d){let e="readonly"===b,f=0;for(;;){++f;try{this.db=await this.ensureDb(a);let b=c8.open(this.db,a,e?"readonly":"readwrite",c),f=d(b).next(a=>(b.maybeCommit(),a)).catch(a=>(b.abort(a),c5.reject(a))).toPromise();return f.catch(()=>{}),await b.completionPromise,f}catch(c){let a=c,b="FirebaseError"!==a.name&&f<c7;if(bN(c6,"Transaction failed with error:",a.message,"Retrying:",b),this.close(),!b)return Promise.reject(a)}}}close(){this.db&&this.db.close(),this.db=void 0}}function da(a){let b=a.match(/Android ([\d.]+)/i);return Number(b?b[1].split(".").slice(0,2).join("."):"-1")}class db{constructor(a){this.dbCursor=a,this.shouldStop=!1,this.nextKey=null}get isDone(){return this.shouldStop}get skipToKey(){return this.nextKey}set cursor(a){this.dbCursor=a}done(){this.shouldStop=!0}skip(a){this.nextKey=a}delete(){return df(this.dbCursor.delete())}}class dc extends ca{constructor(a,b){super(b8,`IndexedDB transaction '${a}' failed: ${b}`),this.name="IndexedDbTransactionError"}}function dd(a){return"IndexedDbTransactionError"===a.name}class de{constructor(a){this.store=a}put(a,b){let c;return void 0!==b?(bN(c6,"PUT",this.store.name,a,b),c=this.store.put(b,a)):(bN(c6,"PUT",this.store.name,"<auto-key>",a),c=this.store.put(a)),df(c)}add(a){return bN(c6,"ADD",this.store.name,a,a),df(this.store.add(a))}get(a){return df(this.store.get(a)).next(b=>(void 0===b&&(b=null),bN(c6,"GET",this.store.name,a,b),b))}delete(a){return bN(c6,"DELETE",this.store.name,a),df(this.store.delete(a))}count(){return bN(c6,"COUNT",this.store.name),df(this.store.count())}loadAll(a,b){let c=this.options(a,b),d=c.index?this.store.index(c.index):this.store;if("function"==typeof d.getAll){let a=d.getAll(c.range);return new c5((b,c)=>{a.onerror=a=>{c(a.target.error)},a.onsuccess=a=>{b(a.target.result)}})}{let a=this.cursor(c),b=[];return this.iterateCursor(a,(a,c)=>{b.push(c)}).next(()=>b)}}loadFirst(a,b){let c=this.store.getAll(a,null===b?void 0:b);return new c5((a,b)=>{c.onerror=a=>{b(a.target.error)},c.onsuccess=b=>{a(b.target.result)}})}deleteAll(a,b){bN(c6,"DELETE ALL",this.store.name);let c=this.options(a,b);c.keysOnly=!1;let d=this.cursor(c);return this.iterateCursor(d,(a,b,c)=>c.delete())}iterate(a,b){let c;b?c=a:(c={},b=a);let d=this.cursor(c);return this.iterateCursor(d,b)}iterateSerial(a){let b=this.cursor({});return new c5((c,d)=>{b.onerror=a=>{d(dh(a.target.error))},b.onsuccess=b=>{let d=b.target.result;d?a(d.primaryKey,d.value).next(a=>{a?d.continue():c()}):c()}})}iterateCursor(a,b){let c=[];return new c5((d,e)=>{a.onerror=a=>{e(a.target.error)},a.onsuccess=a=>{let e=a.target.result;if(!e)return void d();let f=new db(e),g=b(e.primaryKey,e.value,f);if(g instanceof c5){let a=g.catch(a=>(f.done(),c5.reject(a)));c.push(a)}f.isDone?d():null===f.skipToKey?e.continue():e.continue(f.skipToKey)}}).next(()=>c5.waitFor(c))}options(a,b){let c;return void 0!==a&&("string"==typeof a?c=a:b=a),{index:c,range:b}}cursor(a){let b="next";if(a.reverse&&(b="prev"),!a.index)return this.store.openCursor(a.range,b);{let c=this.store.index(a.index);return a.keysOnly?c.openKeyCursor(a.range,b):c.openCursor(a.range,b)}}}function df(a){return new c5((b,c)=>{a.onsuccess=a=>{b(a.target.result)},a.onerror=a=>{c(dh(a.target.error))}})}let dg=!1;function dh(a){let b=c9.getIOSVersion(z());if(b>=12.2&&b<13){let b="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(b)>=0){let a=new ca("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${b}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dg||(dg=!0,setTimeout(()=>{throw a},0)),a}}return a}let di="IndexBackfiller",dj=15e3,dk=6e4,dl=50;class dm{constructor(a,b){this.asyncQueue=a,this.backfiller=b,this.task=null}start(){this.schedule(dj)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}schedule(a){bN(di,`Scheduled in ${a}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",a,async()=>{this.task=null;try{let a=await this.backfiller.backfill();bN(di,`Documents written: ${a}`)}catch(a){dd(a)?bN(di,"Ignoring IndexedDB error during index backfill: ",a):await c4(a)}await this.schedule(dk)})}}class dn{constructor(a,b){this.localStore=a,this.persistence=b}async backfill(a=dl){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",b=>this.writeIndexEntries(b,a))}writeIndexEntries(a,b){let c=new Set,d=b,e=!0;return c5.doWhile(()=>!0===e&&d>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(a).next(b=>{if(!(null===b||c.has(b)))return bN(di,`Processing collection: ${b}`),this.writeEntriesForCollectionGroup(a,b,d).next(a=>{d-=a,c.add(b)});e=!1})).next(()=>b-d)}writeEntriesForCollectionGroup(a,b,c){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(a,b).next(d=>this.localStore.localDocuments.getNextDocuments(a,b,d,c).next(c=>{let e=c.changes;return this.localStore.indexManager.updateIndexEntries(a,e).next(()=>this.getNewOffset(d,c)).next(c=>(bN(di,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(a,b,c))).next(()=>e.size)}))}getNewOffset(a,b){let c=a;return b.changes.forEach((a,b)=>{let d=c_(b);c1(d,c)>0&&(c=d)}),new c0(c.readTime,c.documentKey,Math.max(b.batchId,a.largestBatchId))}}class dp{constructor(a,b){this.previousValue=a,b&&(b.sequenceNumberHandler=a=>this.setPreviousValue(a),this.writeNewSequenceNumber=a=>b.writeSequenceNumber(a))}setPreviousValue(a){return this.previousValue=Math.max(a,this.previousValue),this.previousValue}next(){let a=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(a),a}}dp.INVALID=-1;let dq="\x01",dr="\x01",ds="\x10",dt="\x11";function du(a){let b="";for(let c=0;c<a.length;c++)b.length>0&&(b=dw(b)),b=dv(a.get(c),b);return dw(b)}function dv(a,b){let c=b,d=a.length;for(let b=0;b<d;b++){let d=a.charAt(b);switch(d){case"\0":c+=dq+ds;break;case dq:c+=dq+dt;break;default:c+=d}}return c}function dw(a){return a+dq+dr}function dx(a){let b=a.length;if(bT(b>=2,64408,{path:a}),2===b)return bT(a.charAt(0)===dq&&a.charAt(1)===dr,56145,{path:a}),cw.emptyPath();let c=b-2,d=[],e="";for(let f=0;f<b;){let b=a.indexOf(dq,f);switch((b<0||b>c)&&bR(50515,{path:a}),a.charAt(b+1)){case dr:let g,h=a.substring(f,b);0===e.length?g=h:(e+=h,g=e,e=""),d.push(g);break;case ds:e+=a.substring(f,b),e+="\0";break;case dt:e+=a.substring(f,b+1);break;default:bR(61167,{path:a})}f=b+2}return new cw(d)}let dy="remoteDocuments",dz="owner",dA="owner",dB="mutationQueues",dC="userId",dD="mutations",dE="batchId",dF="userMutationsIndex",dG=["userId","batchId"];function dH(a){return[a]}function dI(a,b){return[a,du(b)]}function dJ(a,b,c){return[a,du(b),c]}let dK={},dL="documentMutations",dM="remoteDocumentsV14",dN=["prefixPath","collectionGroup","readTime","documentId"],dO="documentKeyIndex",dP=["prefixPath","collectionGroup","documentId"],dQ="collectionGroupIndex",dR=["collectionGroup","readTime","prefixPath","documentId"],dS="remoteDocumentGlobal",dT="remoteDocumentGlobalKey",dU="targets",dV="targetId",dW="queryTargetsIndex",dX=["canonicalId","targetId"],dY="targetDocuments",dZ=["targetId","path"],d$="documentTargetsIndex",d_=["path","targetId"],d0="targetGlobalKey",d1="targetGlobal",d2="collectionParents",d3=["collectionId","parent"],d4="clientMetadata",d5="clientId",d6="bundles",d7="bundleId",d8="namedQueries",d9="name",ea="indexConfiguration",eb="indexId",ec="collectionGroupIndex",ed="collectionGroup",ee="indexState",ef=["indexId","uid"],eg="sequenceNumberIndex",eh=["uid","sequenceNumber"],ei="indexEntries",ej=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ek="documentKeyIndex",el=["indexId","uid","orderedDocumentKey"],em="documentOverlays",en=["userId","collectionPath","documentId"],eo="collectionPathOverlayIndex",ep=["userId","collectionPath","largestBatchId"],eq="collectionGroupOverlayIndex",er=["userId","collectionGroup","largestBatchId"],es="globals",et="name",eu=[dB,dD,dL,dy,dU,dz,d1,dY,d4,dS,d2,d6,d8],ev=[...eu,em],ew=[dB,dD,dL,dM,dU,dz,d1,dY,d4,dS,d2,d6,d8,em],ex=ew,ey=[...ex,ea,ee,ei],ez=ey,eA=[...ey,es],eB=eA;function eC(a){return 18===a?eB:17===a?eA:16===a?ez:15===a?ey:14===a?ex:13===a?ew:12===a?ev:11===a?eu:void bR(60245)}class eD extends c3{constructor(a,b){super(),this.simpleDbTransaction=a,this.currentSequenceNumber=b}}function eE(a,b){let c=bU(a);return c9.getStore(c.simpleDbTransaction,b)}function eF(a){let b=0;for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b++;return b}function eG(a,b){for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function eH(a,b){let c=[];for(let d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(b(a[d],d,a));return c}function eI(a){for(let b in a)if(Object.prototype.hasOwnProperty.call(a,b))return!1;return!0}class eJ{constructor(a,b){this.comparator=a,this.root=b||eL.EMPTY}insert(a,b){return new eJ(this.comparator,this.root.insert(a,b,this.comparator).copy(null,null,eL.BLACK,null,null))}remove(a){return new eJ(this.comparator,this.root.remove(a,this.comparator).copy(null,null,eL.BLACK,null,null))}get(a){let b=this.root;for(;!b.isEmpty();){let c=this.comparator(a,b.key);if(0===c)return b.value;c<0?b=b.left:c>0&&(b=b.right)}return null}indexOf(a){let b=0,c=this.root;for(;!c.isEmpty();){let d=this.comparator(a,c.key);if(0===d)return b+c.left.size;d<0?c=c.left:(b+=c.left.size+1,c=c.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(a){return this.root.inorderTraversal(a)}forEach(a){this.inorderTraversal((b,c)=>(a(b,c),!1))}toString(){let a=[];return this.inorderTraversal((b,c)=>(a.push(`${b}:${c}`),!1)),`{${a.join(", ")}}`}reverseTraversal(a){return this.root.reverseTraversal(a)}getIterator(){return new eK(this.root,null,this.comparator,!1)}getIteratorFrom(a){return new eK(this.root,a,this.comparator,!1)}getReverseIterator(){return new eK(this.root,null,this.comparator,!0)}getReverseIteratorFrom(a){return new eK(this.root,a,this.comparator,!0)}}class eK{constructor(a,b,c,d){this.isReverse=d,this.nodeStack=[];let e=1;for(;!a.isEmpty();)if(e=b?c(a.key,b):1,b&&d&&(e*=-1),e<0)a=this.isReverse?a.left:a.right;else if(0===e){this.nodeStack.push(a);break}else this.nodeStack.push(a),a=this.isReverse?a.right:a.left}getNext(){let a=this.nodeStack.pop(),b={key:a.key,value:a.value};if(this.isReverse)for(a=a.left;!a.isEmpty();)this.nodeStack.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack.push(a),a=a.left;return b}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let a=this.nodeStack[this.nodeStack.length-1];return{key:a.key,value:a.value}}}class eL{constructor(a,b,c,d,e){this.key=a,this.value=b,this.color=null!=c?c:eL.RED,this.left=null!=d?d:eL.EMPTY,this.right=null!=e?e:eL.EMPTY,this.size=this.left.size+1+this.right.size}copy(a,b,c,d,e){return new eL(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,b,c){let d=this,e=c(a,d.key);return(d=e<0?d.copy(null,null,null,d.left.insert(a,b,c),null):0===e?d.copy(null,b,null,null,null):d.copy(null,null,null,null,d.right.insert(a,b,c))).fixUp()}removeMin(){if(this.left.isEmpty())return eL.EMPTY;let a=this;return a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),(a=a.copy(null,null,null,a.left.removeMin(),null)).fixUp()}remove(a,b){let c,d=this;if(0>b(a,d.key))d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(a,b),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===b(a,d.key))if(d.right.isEmpty())return eL.EMPTY;else c=d.right.min(),d=d.copy(c.key,c.value,null,null,d.right.removeMin());d=d.copy(null,null,null,null,d.right.remove(a,b))}return d.fixUp()}isRed(){return this.color}fixUp(){let a=this;return a.right.isRed()&&!a.left.isRed()&&(a=a.rotateLeft()),a.left.isRed()&&a.left.left.isRed()&&(a=a.rotateRight()),a.left.isRed()&&a.right.isRed()&&(a=a.colorFlip()),a}moveRedLeft(){let a=this.colorFlip();return a.right.left.isRed()&&(a=(a=(a=a.copy(null,null,null,null,a.right.rotateRight())).rotateLeft()).colorFlip()),a}moveRedRight(){let a=this.colorFlip();return a.left.left.isRed()&&(a=(a=a.rotateRight()).colorFlip()),a}rotateLeft(){let a=this.copy(null,null,eL.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight(){let a=this.copy(null,null,eL.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip(){let a=this.left.copy(null,null,!this.left.color,null,null),b=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,b)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bR(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bR(14113,{key:this.key,value:this.value});let a=this.left.check();if(a===this.right.check())return a+ +!this.isRed();throw bR(27949)}}eL.EMPTY=null,eL.RED=!0,eL.BLACK=!1;class eM{constructor(){this.size=0}get key(){throw bR(57766)}get value(){throw bR(16141)}get color(){throw bR(16727)}get left(){throw bR(29726)}get right(){throw bR(36894)}copy(a,b,c,d,e){return this}insert(a,b,c){return new eL(a,b)}remove(a,b){return this}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}}eL.EMPTY=new eM;class eN{constructor(a){this.comparator=a,this.data=new eJ(this.comparator)}has(a){return null!==this.data.get(a)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(a){return this.data.indexOf(a)}forEach(a){this.data.inorderTraversal((b,c)=>(a(b),!1))}forEachInRange(a,b){let c=this.data.getIteratorFrom(a[0]);for(;c.hasNext();){let d=c.getNext();if(this.comparator(d.key,a[1])>=0)return;b(d.key)}}forEachWhile(a,b){let c;for(c=void 0!==b?this.data.getIteratorFrom(b):this.data.getIterator();c.hasNext();)if(!a(c.getNext().key))return}firstAfterOrEqual(a){let b=this.data.getIteratorFrom(a);return b.hasNext()?b.getNext().key:null}getIterator(){return new eO(this.data.getIterator())}getIteratorFrom(a){return new eO(this.data.getIteratorFrom(a))}add(a){return this.copy(this.data.remove(a).insert(a,!0))}delete(a){return this.has(a)?this.copy(this.data.remove(a)):this}isEmpty(){return this.data.isEmpty()}unionWith(a){let b=this;return b.size<a.size&&(b=a,a=this),a.forEach(a=>{b=b.add(a)}),b}isEqual(a){if(!(a instanceof eN)||this.size!==a.size)return!1;let b=this.data.getIterator(),c=a.data.getIterator();for(;b.hasNext();){let a=b.getNext().key,d=c.getNext().key;if(0!==this.comparator(a,d))return!1}return!0}toArray(){let a=[];return this.forEach(b=>{a.push(b)}),a}toString(){let a=[];return this.forEach(b=>a.push(b)),"SortedSet("+a.toString()+")"}copy(a){let b=new eN(this.comparator);return b.data=a,b}}class eO{constructor(a){this.iter=a}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function eP(a,b,c,d,e){let f=a.getIterator(),g=b.getIterator(),h=eQ(f),i=eQ(g);for(;h||i;){let a=!1,b=!1;if(h&&i){let d=c(h,i);d<0?b=!0:d>0&&(a=!0)}else null!=h?b=!0:a=!0;a?(d(i),i=eQ(g)):b?(e(h),h=eQ(f)):(h=eQ(f),i=eQ(g))}}function eQ(a){return a.hasNext()?a.getNext():void 0}class eR{constructor(a){this.fields=a,a.sort(cy.comparator)}static empty(){return new eR([])}unionWith(a){let b=new eN(cy.comparator);for(let a of this.fields)b=b.add(a);for(let c of a)b=b.add(c);return new eR(b.toArray())}covers(a){for(let b of this.fields)if(b.isPrefixOf(a))return!0;return!1}isEqual(a){return cs(this.fields,a.fields,(a,b)=>a.isEqual(b))}}function eS(a){return Buffer.from(a,"base64").toString("binary")}function eT(a){return Buffer.from(a,"binary").toString("base64")}class eU{constructor(a){this.binaryString=a}static fromBase64String(a){return new eU(eS(a))}static fromUint8Array(a){return new eU(eV(a))}[Symbol.iterator](){let a=0;return{next:()=>a<this.binaryString.length?{value:this.binaryString.charCodeAt(a++),done:!1}:{value:void 0,done:!0}}}toBase64(){return eT(this.binaryString)}toUint8Array(){return eW(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(a){return cn(this.binaryString,a.binaryString)}isEqual(a){return this.binaryString===a.binaryString}}function eV(a){let b="";for(let c=0;c<a.length;++c)b+=String.fromCharCode(a[c]);return b}function eW(a){let b=new Uint8Array(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}eU.EMPTY_BYTE_STRING=new eU("");let eX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eY(a){if(bT(!!a,39018),"string"==typeof a){let b=0,c=eX.exec(a);if(bT(!!c,46558,{timestamp:a}),c[1]){let a=c[1];b=Number(a=(a+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(a).getTime()/1e3),nanos:b}}return{seconds:eZ(a.seconds),nanos:eZ(a.nanos)}}function eZ(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function e$(a){return"string"==typeof a?eU.fromBase64String(a):eU.fromUint8Array(a)}let e_="server_timestamp",e0="__type__",e1="__previous_value__",e2="__local_write_time__";function e3(a){return(a?.mapValue?.fields||{})[e0]?.stringValue===e_}function e4(a,b){let c={fields:{[e0]:{stringValue:e_},[e2]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return b&&e3(b)&&(b=e5(b)),b&&(c.fields[e1]=b),{mapValue:c}}function e5(a){let b=a.mapValue.fields[e1];return e3(b)?e5(b):b}function e6(a){let b=eY(a.mapValue.fields[e2].timestampValue);return new cN(b.seconds,b.nanos)}class e7{constructor(a,b,c,d,e,f,g,h,i,j,k){this.databaseId=a,this.appId=b,this.persistenceKey=c,this.host=d,this.ssl=e,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=h,this.useFetchStreams=i,this.isUsingEmulator=j,this.apiKey=k}}let e8="(default)";class e9{constructor(a,b){this.projectId=a,this.database=b||e8}static empty(){return new e9("","")}get isDefaultDatabase(){return this.database===e8}isEqual(a){return a instanceof e9&&a.projectId===this.projectId&&a.database===this.database}}function fa(a,b){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ca(bY,'"projectId" not provided in firebase.initializeApp.');return new e9(a.options.projectId,b)}let fb=-1;function fc(a){return null==a}function fd(a){return 0===a&&1/a==-1/0}function fe(a){return"number"==typeof a&&Number.isInteger(a)&&!fd(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}let ff="__type__",fg="__max__",fh={mapValue:{fields:{__type__:{stringValue:fg}}}},fi="__vector__",fj="value",fk={nullValue:"NULL_VALUE"};function fl(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?e3(a)?4:fX(a)?0x1fffffffffffff:fV(a)?10:11:bR(28295,{value:a})}function fm(a,b){if(a===b)return!0;let c=fl(a);if(c!==fl(b))return!1;switch(c){case 0:case 0x1fffffffffffff:return!0;case 1:return a.booleanValue===b.booleanValue;case 4:return e6(a).isEqual(e6(b));case 3:return fn(a,b);case 5:return a.stringValue===b.stringValue;case 6:return fp(a,b);case 7:return a.referenceValue===b.referenceValue;case 8:return fo(a,b);case 2:return fq(a,b);case 9:return cs(a.arrayValue.values||[],b.arrayValue.values||[],fm);case 10:case 11:return fr(a,b);default:return bR(52216,{left:a})}}function fn(a,b){if("string"==typeof a.timestampValue&&"string"==typeof b.timestampValue&&a.timestampValue.length===b.timestampValue.length)return a.timestampValue===b.timestampValue;let c=eY(a.timestampValue),d=eY(b.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}function fo(a,b){return eZ(a.geoPointValue.latitude)===eZ(b.geoPointValue.latitude)&&eZ(a.geoPointValue.longitude)===eZ(b.geoPointValue.longitude)}function fp(a,b){return e$(a.bytesValue).isEqual(e$(b.bytesValue))}function fq(a,b){if("integerValue"in a&&"integerValue"in b)return eZ(a.integerValue)===eZ(b.integerValue);if("doubleValue"in a&&"doubleValue"in b){let c=eZ(a.doubleValue),d=eZ(b.doubleValue);return c===d?fd(c)===fd(d):isNaN(c)&&isNaN(d)}return!1}function fr(a,b){let c=a.mapValue.fields||{},d=b.mapValue.fields||{};if(eF(c)!==eF(d))return!1;for(let a in c)if(c.hasOwnProperty(a)&&(void 0===d[a]||!fm(c[a],d[a])))return!1;return!0}function fs(a,b){return void 0!==(a.values||[]).find(a=>fm(a,b))}function ft(a,b){if(a===b)return 0;let c=fl(a),d=fl(b);if(c!==d)return cn(c,d);switch(c){case 0:case 0x1fffffffffffff:return 0;case 1:return cn(a.booleanValue,b.booleanValue);case 2:return fu(a,b);case 3:return fv(a.timestampValue,b.timestampValue);case 4:return fv(e6(a),e6(b));case 5:return co(a.stringValue,b.stringValue);case 6:return fy(a.bytesValue,b.bytesValue);case 7:return fw(a.referenceValue,b.referenceValue);case 8:return fx(a.geoPointValue,b.geoPointValue);case 9:return fz(a.arrayValue,b.arrayValue);case 10:return fA(a.mapValue,b.mapValue);case 11:return fB(a.mapValue,b.mapValue);default:throw bR(23264,{leftType:c})}}function fu(a,b){let c=eZ(a.integerValue||a.doubleValue),d=eZ(b.integerValue||b.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}function fv(a,b){if("string"==typeof a&&"string"==typeof b&&a.length===b.length)return cn(a,b);let c=eY(a),d=eY(b),e=cn(c.seconds,d.seconds);return 0!==e?e:cn(c.nanos,d.nanos)}function fw(a,b){let c=a.split("/"),d=b.split("/");for(let a=0;a<c.length&&a<d.length;a++){let b=cn(c[a],d[a]);if(0!==b)return b}return cn(c.length,d.length)}function fx(a,b){let c=cn(eZ(a.latitude),eZ(b.latitude));return 0!==c?c:cn(eZ(a.longitude),eZ(b.longitude))}function fy(a,b){let c=e$(a),d=e$(b);return c.compareTo(d)}function fz(a,b){let c=a.values||[],d=b.values||[];for(let a=0;a<c.length&&a<d.length;++a){let b=ft(c[a],d[a]);if(b)return b}return cn(c.length,d.length)}function fA(a,b){let c=a.fields||{},d=b.fields||{},e=c[fj]?.arrayValue,f=d[fj]?.arrayValue,g=cn(e?.values?.length||0,f?.values?.length||0);return 0!==g?g:fz(e,f)}function fB(a,b){if(a===fh.mapValue&&b===fh.mapValue)return 0;if(a===fh.mapValue)return 1;if(b===fh.mapValue)return -1;let c=a.fields||{},d=Object.keys(c),e=b.fields||{},f=Object.keys(e);d.sort(),f.sort();for(let a=0;a<d.length&&a<f.length;++a){let b=co(d[a],f[a]);if(0!==b)return b;let g=ft(c[d[a]],e[f[a]]);if(0!==g)return g}return cn(d.length,f.length)}function fC(a){return fD(a)}function fD(a){if("nullValue"in a)return"null";if("booleanValue"in a)return""+a.booleanValue;if("integerValue"in a)return""+a.integerValue;if("doubleValue"in a)return""+a.doubleValue;if("timestampValue"in a)return fF(a.timestampValue);else if("stringValue"in a)return a.stringValue;else if("bytesValue"in a)return fE(a.bytesValue);else if("referenceValue"in a)return fH(a.referenceValue);else if("geoPointValue"in a)return fG(a.geoPointValue);else if("arrayValue"in a)return fJ(a.arrayValue);else if("mapValue"in a)return fI(a.mapValue);else return bR(61005,{value:a})}function fE(a){return e$(a).toBase64()}function fF(a){let b=eY(a);return`time(${b.seconds},${b.nanos})`}function fG(a){return`geo(${a.latitude},${a.longitude})`}function fH(a){return cz.fromName(a).toString()}function fI(a){let b=Object.keys(a.fields||{}).sort(),c="{",d=!0;for(let e of b)d?d=!1:c+=",",c+=`${e}:${fD(a.fields[e])}`;return c+"}"}function fJ(a){let b="[",c=!0;for(let d of a.values||[])c?c=!1:b+=",",b+=fD(d);return b+"]"}function fK(a){switch(fl(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let b=e5(a);return b?16+fK(b):16;case 5:return 2*a.stringValue.length;case 6:return e$(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return fM(a.arrayValue);case 10:case 11:return fL(a.mapValue);default:throw bR(13486,{value:a})}}function fL(a){let b=0;return eG(a.fields,(a,c)=>{b+=a.length+fK(c)}),b}function fM(a){return(a.values||[]).reduce((a,b)=>a+fK(b),0)}function fN(a,b){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${b.path.canonicalString()}`}}function fO(a){return!!a&&"integerValue"in a}function fP(a){return!!a&&"doubleValue"in a}function fQ(a){return fO(a)||fP(a)}function fR(a){return!!a&&"arrayValue"in a}function fS(a){return!!a&&"nullValue"in a}function fT(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function fU(a){return!!a&&"mapValue"in a}function fV(a){return(a?.mapValue?.fields||{})[ff]?.stringValue===fi}function fW(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:{...a.timestampValue}};if(a.mapValue){let b={mapValue:{fields:{}}};return eG(a.mapValue.fields,(a,c)=>b.mapValue.fields[a]=fW(c)),b}{if(!a.arrayValue)return{...a};let b={arrayValue:{values:[]}};for(let c=0;c<(a.arrayValue.values||[]).length;++c)b.arrayValue.values[c]=fW(a.arrayValue.values[c]);return b}}function fX(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===fg}let fY={mapValue:{fields:{[ff]:{stringValue:fi},[fj]:{arrayValue:{}}}}};function fZ(a){if("nullValue"in a)return fk;if("booleanValue"in a)return{booleanValue:!1};if("integerValue"in a||"doubleValue"in a)return{doubleValue:NaN};if("timestampValue"in a)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("stringValue"in a)return{stringValue:""};else if("bytesValue"in a)return{bytesValue:""};else if("referenceValue"in a)return fN(e9.empty(),cz.empty());else if("geoPointValue"in a)return{geoPointValue:{latitude:-90,longitude:-180}};else if("arrayValue"in a)return{arrayValue:{}};else if(!("mapValue"in a))return bR(35942,{value:a});else return fV(a)?fY:{mapValue:{}}}function f$(a){if("nullValue"in a)return{booleanValue:!1};if("booleanValue"in a)return{doubleValue:NaN};if("integerValue"in a||"doubleValue"in a)return{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}};if("timestampValue"in a)return{stringValue:""};if("stringValue"in a)return{bytesValue:""};else if("bytesValue"in a)return fN(e9.empty(),cz.empty());else if("referenceValue"in a)return{geoPointValue:{latitude:-90,longitude:-180}};else if("geoPointValue"in a)return{arrayValue:{}};else if("arrayValue"in a)return fY;else if(!("mapValue"in a))return bR(61959,{value:a});else return fV(a)?{mapValue:{}}:fh}function f_(a,b){let c=ft(a.value,b.value);return 0!==c?c:a.inclusive&&!b.inclusive?-1:!a.inclusive&&b.inclusive?1:0}function f0(a,b){let c=ft(a.value,b.value);return 0!==c?c:a.inclusive&&!b.inclusive?1:!a.inclusive&&b.inclusive?-1:0}class f1{constructor(a){this.value=a}static empty(){return new f1({mapValue:{}})}field(a){if(a.isEmpty())return this.value;{let b=this.value;for(let c=0;c<a.length-1;++c)if(!fU(b=(b.mapValue.fields||{})[a.get(c)]))return null;return(b=(b.mapValue.fields||{})[a.lastSegment()])||null}}set(a,b){this.getFieldsMap(a.popLast())[a.lastSegment()]=fW(b)}setAll(a){let b=cy.emptyPath(),c={},d=[];a.forEach((a,e)=>{if(!b.isImmediateParentOf(e)){let a=this.getFieldsMap(b);this.applyChanges(a,c,d),c={},d=[],b=e.popLast()}a?c[e.lastSegment()]=fW(a):d.push(e.lastSegment())});let e=this.getFieldsMap(b);this.applyChanges(e,c,d)}delete(a){let b=this.field(a.popLast());fU(b)&&b.mapValue.fields&&delete b.mapValue.fields[a.lastSegment()]}isEqual(a){return fm(this.value,a.value)}getFieldsMap(a){let b=this.value;b.mapValue.fields||(b.mapValue={fields:{}});for(let c=0;c<a.length;++c){let d=b.mapValue.fields[a.get(c)];fU(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},b.mapValue.fields[a.get(c)]=d),b=d}return b.mapValue.fields}applyChanges(a,b,c){for(let d of(eG(b,(b,c)=>a[b]=c),c))delete a[d]}clone(){return new f1(fW(this.value))}}function f2(a){let b=[];return eG(a.fields,(a,c)=>{let d=new cy([a]);if(fU(c)){let a=f2(c.mapValue).fields;if(0===a.length)b.push(d);else for(let c of a)b.push(d.child(c))}else b.push(d)}),new eR(b)}class f3{constructor(a,b,c,d,e,f,g){this.key=a,this.documentType=b,this.version=c,this.readTime=d,this.createTime=e,this.data=f,this.documentState=g}static newInvalidDocument(a){return new f3(a,0,cO.min(),cO.min(),cO.min(),f1.empty(),0)}static newFoundDocument(a,b,c,d){return new f3(a,1,b,cO.min(),c,d,0)}static newNoDocument(a,b){return new f3(a,2,b,cO.min(),cO.min(),f1.empty(),0)}static newUnknownDocument(a,b){return new f3(a,3,b,cO.min(),cO.min(),f1.empty(),2)}convertToFoundDocument(a,b){return this.createTime.isEqual(cO.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=a),this.version=a,this.documentType=1,this.data=b,this.documentState=0,this}convertToNoDocument(a){return this.version=a,this.documentType=2,this.data=f1.empty(),this.documentState=0,this}convertToUnknownDocument(a){return this.version=a,this.documentType=3,this.data=f1.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cO.min(),this}setReadTime(a){return this.readTime=a,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(a){return a instanceof f3&&this.key.isEqual(a.key)&&this.version.isEqual(a.version)&&this.documentType===a.documentType&&this.documentState===a.documentState&&this.data.isEqual(a.data)}mutableCopy(){return new f3(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}function f4(a,b,c){let d=b.data.field(a),e=c.data.field(a);return null!==d&&null!==e?ft(d,e):bR(42886)}class f5{constructor(a,b){this.position=a,this.inclusive=b}}function f6(a,b,c){let d=0;for(let e=0;e<a.position.length;e++){let f=b[e],g=a.position[e];if(d=f.field.isKeyField()?cz.comparator(cz.fromName(g.referenceValue),c.key):ft(g,c.data.field(f.field)),"desc"===f.dir&&(d*=-1),0!==d)break}return d}function f7(a,b,c){let d=f6(a,b,c);return a.inclusive?d>=0:d>0}function f8(a,b,c){let d=f6(a,b,c);return a.inclusive?d<=0:d<0}function f9(a,b){if(null===a)return null===b;if(null===b||a.inclusive!==b.inclusive||a.position.length!==b.position.length)return!1;for(let c=0;c<a.position.length;c++)if(!fm(a.position[c],b.position[c]))return!1;return!0}class ga{constructor(a,b="asc"){this.field=a,this.dir=b}}function gb(a){return a.field.canonicalString()+a.dir}function gc(a){return`${a.field.canonicalString()} (${a.dir})`}function gd(a,b){return a.dir===b.dir&&a.field.isEqual(b.field)}class ge{}class gf extends ge{constructor(a,b,c){super(),this.field=a,this.op=b,this.value=c}static create(a,b,c){if(a.isKeyField())if("in"===b||"not-in"===b)return this.createKeyFieldInFilter(a,b,c);else return new gt(a,b,c);if("array-contains"===b)return new gx(a,c);if("in"===b)return new gy(a,c);if("not-in"===b)return new gz(a,c);if("array-contains-any"===b)return new gA(a,c);else return new gf(a,b,c)}static createKeyFieldInFilter(a,b,c){return"in"===b?new gu(a,c):new gv(a,c)}matches(a){let b=a.data.field(this.field);return"!="===this.op?null!==b&&void 0===b.nullValue&&this.matchesComparison(ft(b,this.value)):null!==b&&fl(this.value)===fl(b)&&this.matchesComparison(ft(b,this.value))}matchesComparison(a){switch(this.op){case"<":return a<0;case"<=":return a<=0;case"==":return 0===a;case"!=":return 0!==a;case">":return a>0;case">=":return a>=0;default:return bR(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gg extends ge{constructor(a,b){super(),this.filters=a,this.op=b,this.memoizedFlattenedFilters=null}static create(a,b){return new gg(a,b)}matches(a){return gh(this)?void 0===this.filters.find(b=>!b.matches(a)):void 0!==this.filters.find(b=>b.matches(a))}getFlattenedFilters(){return null!==this.memoizedFlattenedFilters||(this.memoizedFlattenedFilters=this.filters.reduce((a,b)=>a.concat(b.getFlattenedFilters()),[])),this.memoizedFlattenedFilters}getFilters(){return Object.assign([],this.filters)}}function gh(a){return"and"===a.op}function gi(a){return"or"===a.op}function gj(a){return gk(a)&&gh(a)}function gk(a){for(let b of a.filters)if(b instanceof gg)return!1;return!0}function gl(a){if(a instanceof gf)return a.field.canonicalString()+a.op.toString()+fC(a.value);{if(gj(a))return a.filters.map(a=>gl(a)).join(",");let b=a.filters.map(a=>gl(a)).join(",");return`${a.op}(${b})`}}function gm(a,b){return a instanceof gf?gn(a,b):a instanceof gg?go(a,b):void bR(19439)}function gn(a,b){return b instanceof gf&&a.op===b.op&&a.field.isEqual(b.field)&&fm(a.value,b.value)}function go(a,b){return b instanceof gg&&a.op===b.op&&a.filters.length===b.filters.length&&a.filters.reduce((a,c,d)=>a&&gm(c,b.filters[d]),!0)}function gp(a,b){let c=a.filters.concat(b);return gg.create(c,a.op)}function gq(a){return a instanceof gf?gs(a):a instanceof gg?gr(a):"Filter"}function gr(a){return a.op.toString()+" {"+a.getFilters().map(gq).join(" ,")+"}"}function gs(a){return`${a.field.canonicalString()} ${a.op} ${fC(a.value)}`}class gt extends gf{constructor(a,b,c){super(a,b,c),this.key=cz.fromName(c.referenceValue)}matches(a){let b=cz.comparator(a.key,this.key);return this.matchesComparison(b)}}class gu extends gf{constructor(a,b){super(a,"in",b),this.keys=gw("in",b)}matches(a){return this.keys.some(b=>b.isEqual(a.key))}}class gv extends gf{constructor(a,b){super(a,"not-in",b),this.keys=gw("not-in",b)}matches(a){return!this.keys.some(b=>b.isEqual(a.key))}}function gw(a,b){return(b.arrayValue?.values||[]).map(a=>cz.fromName(a.referenceValue))}class gx extends gf{constructor(a,b){super(a,"array-contains",b)}matches(a){let b=a.data.field(this.field);return fR(b)&&fs(b.arrayValue,this.value)}}class gy extends gf{constructor(a,b){super(a,"in",b)}matches(a){let b=a.data.field(this.field);return null!==b&&fs(this.value.arrayValue,b)}}class gz extends gf{constructor(a,b){super(a,"not-in",b)}matches(a){if(fs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let b=a.data.field(this.field);return null!==b&&void 0===b.nullValue&&!fs(this.value.arrayValue,b)}}class gA extends gf{constructor(a,b){super(a,"array-contains-any",b)}matches(a){let b=a.data.field(this.field);return!!fR(b)&&!!b.arrayValue.values&&b.arrayValue.values.some(a=>fs(this.value.arrayValue,a))}}class gB{constructor(a,b=null,c=[],d=[],e=null,f=null,g=null){this.path=a,this.collectionGroup=b,this.orderBy=c,this.filters=d,this.limit=e,this.startAt=f,this.endAt=g,this.memoizedCanonicalId=null}}function gC(a,b=null,c=[],d=[],e=null,f=null,g=null){return new gB(a,b,c,d,e,f,g)}function gD(a){let b=bU(a);if(null===b.memoizedCanonicalId){let a=b.path.canonicalString();null!==b.collectionGroup&&(a+="|cg:"+b.collectionGroup),a+="|f:",a+=b.filters.map(a=>gl(a)).join(","),a+="|ob:",a+=b.orderBy.map(a=>gb(a)).join(","),fc(b.limit)||(a+="|l:",a+=b.limit),b.startAt&&(a+="|lb:",a+=b.startAt.inclusive?"b:":"a:",a+=b.startAt.position.map(a=>fC(a)).join(",")),b.endAt&&(a+="|ub:",a+=b.endAt.inclusive?"a:":"b:",a+=b.endAt.position.map(a=>fC(a)).join(",")),b.memoizedCanonicalId=a}return b.memoizedCanonicalId}function gE(a){let b=a.path.canonicalString();return null!==a.collectionGroup&&(b+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(b+=`, filters: [${a.filters.map(a=>gq(a)).join(", ")}]`),fc(a.limit)||(b+=", limit: "+a.limit),a.orderBy.length>0&&(b+=`, orderBy: [${a.orderBy.map(a=>gc(a)).join(", ")}]`),a.startAt&&(b+=", startAt: ",b+=a.startAt.inclusive?"b:":"a:",b+=a.startAt.position.map(a=>fC(a)).join(",")),a.endAt&&(b+=", endAt: ",b+=a.endAt.inclusive?"a:":"b:",b+=a.endAt.position.map(a=>fC(a)).join(",")),`Target(${b})`}function gF(a,b){if(a.limit!==b.limit||a.orderBy.length!==b.orderBy.length)return!1;for(let c=0;c<a.orderBy.length;c++)if(!gd(a.orderBy[c],b.orderBy[c]))return!1;if(a.filters.length!==b.filters.length)return!1;for(let c=0;c<a.filters.length;c++)if(!gm(a.filters[c],b.filters[c]))return!1;return a.collectionGroup===b.collectionGroup&&!!a.path.isEqual(b.path)&&!!f9(a.startAt,b.startAt)&&f9(a.endAt,b.endAt)}function gG(a){return cz.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function gH(a,b){return a.filters.filter(a=>a instanceof gf&&a.field.isEqual(b))}function gI(a,b){let c=cS(b);if(void 0===c)return null;for(let b of gH(a,c.fieldPath))switch(b.op){case"array-contains-any":return b.value.arrayValue.values||[];case"array-contains":return[b.value]}return null}function gJ(a,b){let c=new Map;for(let d of cT(b))for(let b of gH(a,d.fieldPath))switch(b.op){case"==":case"in":c.set(d.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return c.set(d.fieldPath.canonicalString(),b.value),Array.from(c.values())}return null}function gK(a,b){let c=[],d=!0;for(let e of cT(b)){let b=0===e.kind?gM(a,e.fieldPath,a.startAt):gN(a,e.fieldPath,a.startAt);c.push(b.value),d&&(d=b.inclusive)}return new f5(c,d)}function gL(a,b){let c=[],d=!0;for(let e of cT(b)){let b=0===e.kind?gN(a,e.fieldPath,a.endAt):gM(a,e.fieldPath,a.endAt);c.push(b.value),d&&(d=b.inclusive)}return new f5(c,d)}function gM(a,b,c){let d=fk,e=!0;for(let c of gH(a,b)){let a=fk,b=!0;switch(c.op){case"<":case"<=":a=fZ(c.value);break;case"==":case"in":case">=":a=c.value;break;case">":a=c.value,b=!1;break;case"!=":case"not-in":a=fk}0>f_({value:d,inclusive:e},{value:a,inclusive:b})&&(d=a,e=b)}if(null!==c){for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(b)){let a=c.position[f];0>f_({value:d,inclusive:e},{value:a,inclusive:c.inclusive})&&(d=a,e=c.inclusive);break}}return{value:d,inclusive:e}}function gN(a,b,c){let d=fh,e=!0;for(let c of gH(a,b)){let a=fh,b=!0;switch(c.op){case">=":case">":a=f$(c.value),b=!1;break;case"==":case"in":case"<=":a=c.value;break;case"<":a=c.value,b=!1;break;case"!=":case"not-in":a=fh}f0({value:d,inclusive:e},{value:a,inclusive:b})>0&&(d=a,e=b)}if(null!==c){for(let f=0;f<a.orderBy.length;++f)if(a.orderBy[f].field.isEqual(b)){let a=c.position[f];f0({value:d,inclusive:e},{value:a,inclusive:c.inclusive})>0&&(d=a,e=c.inclusive);break}}return{value:d,inclusive:e}}function gO(a){let b=new eN(cy.comparator),c=!1;for(let d of a.filters)for(let a of d.getFlattenedFilters())a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?c=!0:b=b.add(a.field));for(let c of a.orderBy)c.field.isKeyField()||(b=b.add(c.field));return b.size+ +!!c}function gP(a){return null!==a.limit}class gQ{constructor(a,b=null,c=[],d=[],e=null,f="F",g=null,h=null){this.path=a,this.collectionGroup=b,this.explicitOrderBy=c,this.filters=d,this.limit=e,this.limitType=f,this.startAt=g,this.endAt=h,this.memoizedNormalizedOrderBy=null,this.memoizedTarget=null,this.memoizedAggregateTarget=null,this.startAt,this.endAt}}function gR(a,b,c,d,e,f,g,h){return new gQ(a,b,c,d,e,f,g,h)}function gS(a){return new gQ(a)}function gT(a,b){return new gQ(b,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function gU(a){return 0===a.filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())}function gV(a){let b=new eN(cy.comparator);return a.filters.forEach(a=>{a.getFlattenedFilters().forEach(a=>{a.isInequality()&&(b=b.add(a.field))})}),b}function gW(a){return cz.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}function gX(a){return null!==a.collectionGroup}function gY(a){let b=bU(a);if(null===b.memoizedNormalizedOrderBy){b.memoizedNormalizedOrderBy=[];let a=new Set;for(let c of b.explicitOrderBy)b.memoizedNormalizedOrderBy.push(c),a.add(c.field.canonicalString());let c=b.explicitOrderBy.length>0?b.explicitOrderBy[b.explicitOrderBy.length-1].dir:"asc";gV(b).forEach(d=>{a.has(d.canonicalString())||d.isKeyField()||b.memoizedNormalizedOrderBy.push(new ga(d,c))}),a.has(cy.keyField().canonicalString())||b.memoizedNormalizedOrderBy.push(new ga(cy.keyField(),c))}return b.memoizedNormalizedOrderBy}function gZ(a){let b=bU(a);return b.memoizedTarget||(b.memoizedTarget=g_(b,gY(a))),b.memoizedTarget}function g$(a){let b=bU(a);return b.memoizedAggregateTarget||(b.memoizedAggregateTarget=g_(b,a.explicitOrderBy)),b.memoizedAggregateTarget}function g_(a,b){if("F"===a.limitType)return gC(a.path,a.collectionGroup,b,a.filters,a.limit,a.startAt,a.endAt);{b=b.map(a=>{let b="desc"===a.dir?"asc":"desc";return new ga(a.field,b)});let c=a.endAt?new f5(a.endAt.position,a.endAt.inclusive):null,d=a.startAt?new f5(a.startAt.position,a.startAt.inclusive):null;return gC(a.path,a.collectionGroup,b,a.filters,a.limit,c,d)}}function g0(a,b){let c=a.filters.concat([b]);return new gQ(a.path,a.collectionGroup,a.explicitOrderBy.slice(),c,a.limit,a.limitType,a.startAt,a.endAt)}function g1(a,b){let c=a.explicitOrderBy.concat([b]);return new gQ(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}function g2(a,b,c){return new gQ(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),b,c,a.startAt,a.endAt)}function g3(a,b){return new gQ(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,b,a.endAt)}function g4(a,b){return new gQ(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,b)}function g5(a,b){return gF(gZ(a),gZ(b))&&a.limitType===b.limitType}function g6(a){return`${gD(gZ(a))}|lt:${a.limitType}`}function g7(a){return`Query(target=${gE(gZ(a))}; limitType=${a.limitType})`}function g8(a,b){return b.isFoundDocument()&&g9(a,b)&&ha(a,b)&&hb(a,b)&&hc(a,b)}function g9(a,b){let c=b.key.path;return null!==a.collectionGroup?b.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):cz.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}function ha(a,b){for(let c of gY(a))if(!c.field.isKeyField()&&null===b.data.field(c.field))return!1;return!0}function hb(a,b){for(let c of a.filters)if(!c.matches(b))return!1;return!0}function hc(a,b){return(!a.startAt||!!f8(a.startAt,gY(a),b))&&(!a.endAt||!!f7(a.endAt,gY(a),b))}function hd(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function he(a){return(b,c)=>{let d=!1;for(let e of gY(a)){let a=hf(e,b,c);if(0!==a)return a;d=d||e.field.isKeyField()}return 0}}function hf(a,b,c){let d=a.field.isKeyField()?cz.comparator(b.key,c.key):f4(a.field,b,c);switch(a.dir){case"asc":return d;case"desc":return -1*d;default:return bR(19790,{direction:a.dir})}}class hg{constructor(a,b){this.mapKeyFn=a,this.equalsFn=b,this.inner={},this.innerSize=0}get(a){let b=this.mapKeyFn(a),c=this.inner[b];if(void 0!==c){for(let[b,d]of c)if(this.equalsFn(b,a))return d}}has(a){return void 0!==this.get(a)}set(a,b){let c=this.mapKeyFn(a),d=this.inner[c];if(void 0===d){this.inner[c]=[[a,b]],this.innerSize++;return}for(let c=0;c<d.length;c++)if(this.equalsFn(d[c][0],a)){d[c]=[a,b];return}d.push([a,b]),this.innerSize++}delete(a){let b=this.mapKeyFn(a),c=this.inner[b];if(void 0===c)return!1;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],a))return 1===c.length?delete this.inner[b]:c.splice(d,1),this.innerSize--,!0;return!1}forEach(a){eG(this.inner,(b,c)=>{for(let[b,d]of c)a(b,d)})}isEmpty(){return eI(this.inner)}size(){return this.innerSize}}let hh=new eJ(cz.comparator);function hi(){return hh}let hj=new eJ(cz.comparator);function hk(...a){let b=hj;for(let c of a)b=b.insert(c.key,c);return b}function hl(){return hp()}function hm(a){let b=hj;return a.forEach((a,c)=>b=b.insert(a,c.overlayedDocument)),b}function hn(){return hp()}function ho(){return hp()}function hp(){return new hg(a=>a.toString(),(a,b)=>a.isEqual(b))}let hq=new eJ(cz.comparator);function hr(){return hq}let hs=new eN(cz.comparator);function ht(...a){let b=hs;for(let c of a)b=b.add(c);return b}let hu=new eN(cn);function hv(){return hu}function hw(a,b){if(a.useProto3Json){if(isNaN(b))return{doubleValue:"NaN"};else if(b===1/0)return{doubleValue:"Infinity"};else if(b===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fd(b)?"-0":b}}function hx(a){return{integerValue:""+a}}function hy(a,b){return fe(b)?hx(b):hw(a,b)}class hz{constructor(){this._=void 0}}function hA(a,b,c){return a instanceof hE?e4(c,b):a instanceof hF?hG(a,b):a instanceof hH?hI(a,b):hK(a,b)}function hB(a,b,c){return a instanceof hF?hG(a,b):a instanceof hH?hI(a,b):c}function hC(a,b){return a instanceof hJ?fQ(b)?b:{integerValue:0}:null}function hD(a,b){return a instanceof hF&&b instanceof hF||a instanceof hH&&b instanceof hH?cs(a.elements,b.elements,fm):a instanceof hJ&&b instanceof hJ?fm(a.operand,b.operand):a instanceof hE&&b instanceof hE}class hE extends hz{}class hF extends hz{constructor(a){super(),this.elements=a}}function hG(a,b){let c=hM(b);for(let b of a.elements)c.some(a=>fm(a,b))||c.push(b);return{arrayValue:{values:c}}}class hH extends hz{constructor(a){super(),this.elements=a}}function hI(a,b){let c=hM(b);for(let b of a.elements)c=c.filter(a=>!fm(a,b));return{arrayValue:{values:c}}}class hJ extends hz{constructor(a,b){super(),this.serializer=a,this.operand=b}}function hK(a,b){let c=hC(a,b),d=hL(c)+hL(a.operand);return fO(c)&&fO(a.operand)?hx(d):hw(a.serializer,d)}function hL(a){return eZ(a.integerValue||a.doubleValue)}function hM(a){return fR(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class hN{constructor(a,b){this.field=a,this.transform=b}}function hO(a,b){return a.field.isEqual(b.field)&&hD(a.transform,b.transform)}function hP(a,b){return void 0===a&&void 0===b||!!a&&!!b&&cs(a,b,(a,b)=>hO(a,b))}class hQ{constructor(a,b){this.version=a,this.transformResults=b}}class hR{constructor(a,b){this.updateTime=a,this.exists=b}static none(){return new hR}static exists(a){return new hR(void 0,a)}static updateTime(a){return new hR(a)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(a){return this.exists===a.exists&&(this.updateTime?!!a.updateTime&&this.updateTime.isEqual(a.updateTime):!a.updateTime)}}function hS(a,b){return void 0!==a.updateTime?b.isFoundDocument()&&b.version.isEqual(a.updateTime):void 0===a.exists||a.exists===b.isFoundDocument()}class hT{}function hU(a,b){if(!a.hasLocalMutations||b&&0===b.fields.length)return null;if(null===b)if(a.isNoDocument())return new h6(a.key,hR.none());else return new hZ(a.key,a.data,hR.none());{let c=a.data,d=f1.empty(),e=new eN(cy.comparator);for(let a of b.fields)if(!e.has(a)){let b=c.field(a);null===b&&a.length>1&&(a=a.popLast(),b=c.field(a)),null===b?d.delete(a):d.set(a,b),e=e.add(a)}return new h0(a.key,d,new eR(e.toArray()),hR.none())}}function hV(a,b,c){a instanceof hZ?h$(a,b,c):a instanceof h0?h1(a,b,c):h7(a,b,c)}function hW(a,b,c,d){return a instanceof hZ?h_(a,b,c,d):a instanceof h0?h2(a,b,c,d):h8(a,b,c)}function hX(a,b){let c=null;for(let d of a.fieldTransforms){let a=b.data.field(d.field),e=hC(d.transform,a||null);null!=e&&(null===c&&(c=f1.empty()),c.set(d.field,e))}return c||null}function hY(a,b){return a.type===b.type&&!!a.key.isEqual(b.key)&&!!a.precondition.isEqual(b.precondition)&&!!hP(a.fieldTransforms,b.fieldTransforms)&&(0===a.type?a.value.isEqual(b.value):1!==a.type||a.data.isEqual(b.data)&&a.fieldMask.isEqual(b.fieldMask))}class hZ extends hT{constructor(a,b,c,d=[]){super(),this.key=a,this.value=b,this.precondition=c,this.fieldTransforms=d,this.type=0}getFieldMask(){return null}}function h$(a,b,c){let d=a.value.clone(),e=h4(a.fieldTransforms,b,c.transformResults);d.setAll(e),b.convertToFoundDocument(c.version,d).setHasCommittedMutations()}function h_(a,b,c,d){if(!hS(a.precondition,b))return c;let e=a.value.clone(),f=h5(a.fieldTransforms,d,b);return e.setAll(f),b.convertToFoundDocument(b.version,e).setHasLocalMutations(),null}class h0 extends hT{constructor(a,b,c,d,e=[]){super(),this.key=a,this.data=b,this.fieldMask=c,this.precondition=d,this.fieldTransforms=e,this.type=1}getFieldMask(){return this.fieldMask}}function h1(a,b,c){if(!hS(a.precondition,b))return void b.convertToUnknownDocument(c.version);let d=h4(a.fieldTransforms,b,c.transformResults),e=b.data;e.setAll(h3(a)),e.setAll(d),b.convertToFoundDocument(c.version,e).setHasCommittedMutations()}function h2(a,b,c,d){if(!hS(a.precondition,b))return c;let e=h5(a.fieldTransforms,d,b),f=b.data;return(f.setAll(h3(a)),f.setAll(e),b.convertToFoundDocument(b.version,f).setHasLocalMutations(),null===c)?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(a=>a.field))}function h3(a){let b=new Map;return a.fieldMask.fields.forEach(c=>{if(!c.isEmpty()){let d=a.data.field(c);b.set(c,d)}}),b}function h4(a,b,c){let d=new Map;bT(a.length===c.length,32656,{serverTransformResultCount:c.length,fieldTransformCount:a.length});for(let e=0;e<c.length;e++){let f=a[e],g=f.transform,h=b.data.field(f.field);d.set(f.field,hB(g,h,c[e]))}return d}function h5(a,b,c){let d=new Map;for(let e of a){let a=e.transform,f=c.data.field(e.field);d.set(e.field,hA(a,f,b))}return d}class h6 extends hT{constructor(a,b){super(),this.key=a,this.precondition=b,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}function h7(a,b,c){b.convertToNoDocument(c.version).setHasCommittedMutations()}function h8(a,b,c){return hS(a.precondition,b)?(b.convertToNoDocument(b.version).setHasLocalMutations(),null):c}class h9 extends hT{constructor(a,b){super(),this.key=a,this.precondition=b,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ia{constructor(a,b,c,d){this.batchId=a,this.localWriteTime=b,this.baseMutations=c,this.mutations=d}applyToRemoteDocument(a,b){let c=b.mutationResults;for(let b=0;b<this.mutations.length;b++){let d=this.mutations[b];d.key.isEqual(a.key)&&hV(d,a,c[b])}}applyToLocalView(a,b){for(let c of this.baseMutations)c.key.isEqual(a.key)&&(b=hW(c,a,b,this.localWriteTime));for(let c of this.mutations)c.key.isEqual(a.key)&&(b=hW(c,a,b,this.localWriteTime));return b}applyToLocalDocumentSet(a,b){let c=ho();return this.mutations.forEach(d=>{let e=a.get(d.key),f=e.overlayedDocument,g=this.applyToLocalView(f,e.mutatedFields),h=hU(f,g=b.has(d.key)?null:g);null!==h&&c.set(d.key,h),f.isValidDocument()||f.convertToNoDocument(cO.min())}),c}keys(){return this.mutations.reduce((a,b)=>a.add(b.key),ht())}isEqual(a){return this.batchId===a.batchId&&cs(this.mutations,a.mutations,(a,b)=>hY(a,b))&&cs(this.baseMutations,a.baseMutations,(a,b)=>hY(a,b))}}class ib{constructor(a,b,c,d){this.batch=a,this.commitVersion=b,this.mutationResults=c,this.docVersions=d}static from(a,b,c){bT(a.mutations.length===c.length,58842,{mutationsSent:a.mutations.length,resultsReceived:c.length});let d=hr(),e=a.mutations;for(let a=0;a<e.length;a++)d=d.insert(e[a].key,c[a].version);return new ib(a,b,c,d)}}class ic{constructor(a,b){this.largestBatchId=a,this.mutation=b}getKey(){return this.mutation.key}isEqual(a){return null!==a&&this.mutation===a.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class id{constructor(a,b){this.count=a,this.unchangedNames=b}}function ie(a){switch(a){case bV:return bR(64938);case bW:case bX:case bZ:case b2:case b7:case b8:case b1:return!1;case bY:case b$:case b_:case b0:case b3:case b4:case b5:case b6:case b9:return!0;default:return bR(15467,{code:a})}}function ig(a){return ie(a)&&a!==b4}function ih(a){if(void 0===a)return bO("GRPC error has no .code"),bX;switch(a){case bv.OK:return bV;case bv.CANCELLED:return bW;case bv.UNKNOWN:return bX;case bv.DEADLINE_EXCEEDED:return bZ;case bv.RESOURCE_EXHAUSTED:return b2;case bv.INTERNAL:return b7;case bv.UNAVAILABLE:return b8;case bv.UNAUTHENTICATED:return b1;case bv.INVALID_ARGUMENT:return bY;case bv.NOT_FOUND:return b$;case bv.ALREADY_EXISTS:return b_;case bv.PERMISSION_DENIED:return b0;case bv.FAILED_PRECONDITION:return b3;case bv.ABORTED:return b4;case bv.OUT_OF_RANGE:return b5;case bv.UNIMPLEMENTED:return b6;case bv.DATA_LOSS:return b9;default:return bR(39323,{code:a})}}!function(a){a[a.OK=0]="OK",a[a.CANCELLED=1]="CANCELLED",a[a.UNKNOWN=2]="UNKNOWN",a[a.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",a[a.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",a[a.NOT_FOUND=5]="NOT_FOUND",a[a.ALREADY_EXISTS=6]="ALREADY_EXISTS",a[a.PERMISSION_DENIED=7]="PERMISSION_DENIED",a[a.UNAUTHENTICATED=16]="UNAUTHENTICATED",a[a.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",a[a.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",a[a.ABORTED=10]="ABORTED",a[a.OUT_OF_RANGE=11]="OUT_OF_RANGE",a[a.UNIMPLEMENTED=12]="UNIMPLEMENTED",a[a.INTERNAL=13]="INTERNAL",a[a.UNAVAILABLE=14]="UNAVAILABLE",a[a.DATA_LOSS=15]="DATA_LOSS"}(bv||(bv={}));class ii extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}let ij=null;function ik(a){if(ij)throw Error("a TestingHooksSpi instance is already set");ij=a}function il(){return new bD.TextEncoder}function im(){return new bD.TextDecoder("utf-8")}let io=new bt([0xffffffff,0xffffffff],0);function ip(a){let b=il().encode(a),c=new bu;return c.update(b),new Uint8Array(c.digest())}function iq(a){let b=new DataView(a.buffer),c=b.getUint32(0,!0),d=b.getUint32(4,!0),e=b.getUint32(8,!0),f=b.getUint32(12,!0);return[new bt([c,d],0),new bt([e,f],0)]}class ir{constructor(a,b,c){if(this.bitmap=a,this.padding=b,this.hashCount=c,b<0||b>=8)throw new is(`Invalid padding: ${b}`);if(c<0||a.length>0&&0===this.hashCount)throw new is(`Invalid hash count: ${c}`);if(0===a.length&&0!==b)throw new is(`Invalid padding when bitmap length is 0: ${b}`);this.bitCount=8*a.length-b,this.bitCountInInteger=bt.fromNumber(this.bitCount)}getBitIndex(a,b,c){let d=a.add(b.multiply(bt.fromNumber(c)));return 1===d.compare(io)&&(d=new bt([d.getBits(0),d.getBits(1)],0)),d.modulo(this.bitCountInInteger).toNumber()}isBitSet(a){return(this.bitmap[Math.floor(a/8)]&1<<a%8)!=0}mightContain(a){if(0===this.bitCount)return!1;let[b,c]=iq(ip(a));for(let a=0;a<this.hashCount;a++){let d=this.getBitIndex(b,c,a);if(!this.isBitSet(d))return!1}return!0}static create(a,b,c){let d=a%8==0?0:8-a%8,e=new ir(new Uint8Array(Math.ceil(a/8)),d,b);return c.forEach(a=>e.insert(a)),e}insert(a){if(0===this.bitCount)return;let[b,c]=iq(ip(a));for(let a=0;a<this.hashCount;a++){let d=this.getBitIndex(b,c,a);this.setBit(d)}}setBit(a){let b=Math.floor(a/8),c=a%8;this.bitmap[b]|=1<<c}}class is extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class it{constructor(a,b,c,d,e){this.snapshotVersion=a,this.targetChanges=b,this.targetMismatches=c,this.documentUpdates=d,this.resolvedLimboDocuments=e}static createSynthesizedRemoteEventForCurrentChange(a,b,c){let d=new Map;return d.set(a,iu.createSynthesizedTargetChangeForCurrentChange(a,b,c)),new it(cO.min(),d,new eJ(cn),hi(),ht())}}class iu{constructor(a,b,c,d,e){this.resumeToken=a,this.current=b,this.addedDocuments=c,this.modifiedDocuments=d,this.removedDocuments=e}static createSynthesizedTargetChangeForCurrentChange(a,b,c){return new iu(c,b,ht(),ht(),ht())}}class iv{constructor(a,b,c,d){this.updatedTargetIds=a,this.removedTargetIds=b,this.key=c,this.newDoc=d}}class iw{constructor(a,b){this.targetId=a,this.existenceFilter=b}}class ix{constructor(a,b,c=eU.EMPTY_BYTE_STRING,d=null){this.state=a,this.targetIds=b,this.resumeToken=c,this.cause=d}}class iy{constructor(){this.pendingResponses=0,this.documentChanges=iC(),this._resumeToken=eU.EMPTY_BYTE_STRING,this._current=!1,this._hasPendingChanges=!0}get current(){return this._current}get resumeToken(){return this._resumeToken}get isPending(){return 0!==this.pendingResponses}get hasPendingChanges(){return this._hasPendingChanges}updateResumeToken(a){a.approximateByteSize()>0&&(this._hasPendingChanges=!0,this._resumeToken=a)}toTargetChange(){let a=ht(),b=ht(),c=ht();return this.documentChanges.forEach((d,e)=>{switch(e){case 0:a=a.add(d);break;case 2:b=b.add(d);break;case 1:c=c.add(d);break;default:bR(38017,{changeType:e})}}),new iu(this._resumeToken,this._current,a,b,c)}clearPendingChanges(){this._hasPendingChanges=!1,this.documentChanges=iC()}addDocumentChange(a,b){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(a,b)}removeDocumentChange(a){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(a)}recordPendingTargetRequest(){this.pendingResponses+=1}recordTargetResponse(){this.pendingResponses-=1,bT(this.pendingResponses>=0,3241,{pendingResponses:this.pendingResponses})}markCurrent(){this._hasPendingChanges=!0,this._current=!0}}let iz="WatchChangeAggregator";class iA{constructor(a){this.metadataProvider=a,this.targetStates=new Map,this.pendingDocumentUpdates=hi(),this.pendingDocumentUpdatesByTarget=iB(),this.pendingDocumentTargetMapping=iB(),this.pendingTargetResets=new eJ(cn)}handleDocumentChange(a){for(let b of a.updatedTargetIds)a.newDoc&&a.newDoc.isFoundDocument()?this.addDocumentToTarget(b,a.newDoc):this.removeDocumentFromTarget(b,a.key,a.newDoc);for(let b of a.removedTargetIds)this.removeDocumentFromTarget(b,a.key,a.newDoc)}handleTargetChange(a){this.forEachTarget(a,b=>{let c=this.ensureTargetState(b);switch(a.state){case 0:this.isActiveTarget(b)&&c.updateResumeToken(a.resumeToken);break;case 1:c.recordTargetResponse(),c.isPending||c.clearPendingChanges(),c.updateResumeToken(a.resumeToken);break;case 2:c.recordTargetResponse(),c.isPending||this.removeTarget(b);break;case 3:this.isActiveTarget(b)&&(c.markCurrent(),c.updateResumeToken(a.resumeToken));break;case 4:this.isActiveTarget(b)&&(this.resetTarget(b),c.updateResumeToken(a.resumeToken));break;default:bR(56790,{state:a.state})}})}forEachTarget(a,b){a.targetIds.length>0?a.targetIds.forEach(b):this.targetStates.forEach((a,c)=>{this.isActiveTarget(c)&&b(c)})}handleExistenceFilter(a){let b=a.targetId,c=a.existenceFilter.count,d=this.targetDataForActiveTarget(b);if(d){let e=d.target;if(gG(e))if(0===c){let a=new cz(e.path);this.removeDocumentFromTarget(b,a,f3.newNoDocument(a,cO.min()))}else bT(1===c,20013,{expectedCount:c});else{let d=this.getCurrentDocumentCountForTarget(b);if(d!==c){let c=this.parseBloomFilter(a),e=c?this.applyBloomFilter(c,a,d):1;if(0!==e){this.resetTarget(b);let a=2===e?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.pendingTargetResets=this.pendingTargetResets.insert(b,a)}ij?.notifyOnExistenceFilterMismatch(iD(d,a.existenceFilter,this.metadataProvider.getDatabaseId(),c,e))}}}}parseBloomFilter(a){let b,c,d=a.existenceFilter.unchangedNames;if(!d||!d.bits)return null;let{bits:{bitmap:e="",padding:f=0},hashCount:g=0}=d;try{b=e$(e).toUint8Array()}catch(a){if(a instanceof ii)return bP("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{c=new ir(b,f,g)}catch(a){return a instanceof is?bP("BloomFilter error: ",a):bP("Applying bloom filter failed: ",a),null}return 0===c.bitCount?null:c}applyBloomFilter(a,b,c){return 2*(b.existenceFilter.count!==c-this.filterRemovedDocuments(a,b.targetId))}filterRemovedDocuments(a,b){let c=this.metadataProvider.getRemoteKeysForTarget(b),d=0;return c.forEach(c=>{let e=this.metadataProvider.getDatabaseId(),f=`projects/${e.projectId}/databases/${e.database}/documents/${c.path.canonicalString()}`;!a.mightContain(f)&&(this.removeDocumentFromTarget(b,c,null),d++)}),d}createRemoteEvent(a){let b=new Map;this.targetStates.forEach((c,d)=>{let e=this.targetDataForActiveTarget(d);if(e){if(c.current&&gG(e.target)){let b=new cz(e.target.path);this.ensureDocumentUpdateByTarget(b).has(d)||this.targetContainsDocument(d,b)||this.removeDocumentFromTarget(d,b,f3.newNoDocument(b,a))}c.hasPendingChanges&&(b.set(d,c.toTargetChange()),c.clearPendingChanges())}});let c=ht();this.pendingDocumentTargetMapping.forEach((a,b)=>{let d=!0;b.forEachWhile(a=>{let b=this.targetDataForActiveTarget(a);return!b||"TargetPurposeLimboResolution"===b.purpose||(d=!1,!1)}),d&&(c=c.add(a))}),this.pendingDocumentUpdates.forEach((b,c)=>c.setReadTime(a));let d=new it(a,b,this.pendingTargetResets,this.pendingDocumentUpdates,c);return this.pendingDocumentUpdates=hi(),this.pendingDocumentUpdatesByTarget=iB(),this.pendingDocumentTargetMapping=iB(),this.pendingTargetResets=new eJ(cn),d}addDocumentToTarget(a,b){if(!this.isActiveTarget(a))return;let c=2*!!this.targetContainsDocument(a,b.key);this.ensureTargetState(a).addDocumentChange(b.key,c),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(b.key,b),this.pendingDocumentUpdatesByTarget=this.pendingDocumentUpdatesByTarget.insert(b.key,this.ensureDocumentUpdateByTarget(b.key).add(a)),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(b.key,this.ensureDocumentTargetMapping(b.key).add(a))}removeDocumentFromTarget(a,b,c){if(!this.isActiveTarget(a))return;let d=this.ensureTargetState(a);this.targetContainsDocument(a,b)?d.addDocumentChange(b,1):d.removeDocumentChange(b),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(b,this.ensureDocumentTargetMapping(b).delete(a)),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(b,this.ensureDocumentTargetMapping(b).add(a)),c&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(b,c))}removeTarget(a){this.targetStates.delete(a)}getCurrentDocumentCountForTarget(a){let b=this.ensureTargetState(a).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(a).size+b.addedDocuments.size-b.removedDocuments.size}recordPendingTargetRequest(a){this.ensureTargetState(a).recordPendingTargetRequest()}ensureTargetState(a){let b=this.targetStates.get(a);return b||(b=new iy,this.targetStates.set(a,b)),b}ensureDocumentTargetMapping(a){let b=this.pendingDocumentTargetMapping.get(a);return b||(b=new eN(cn),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(a,b)),b}ensureDocumentUpdateByTarget(a){let b=this.pendingDocumentUpdatesByTarget.get(a);return b||(b=new eN(cn),this.pendingDocumentUpdatesByTarget=this.pendingDocumentUpdatesByTarget.insert(a,b)),b}isActiveTarget(a){let b=null!==this.targetDataForActiveTarget(a);return b||bN(iz,"Detected inactive target",a),b}targetDataForActiveTarget(a){let b=this.targetStates.get(a);return b&&b.isPending?null:this.metadataProvider.getTargetDataForTarget(a)}resetTarget(a){this.targetStates.set(a,new iy),this.metadataProvider.getRemoteKeysForTarget(a).forEach(b=>{this.removeDocumentFromTarget(a,b,null)})}targetContainsDocument(a,b){return this.metadataProvider.getRemoteKeysForTarget(a).has(b)}}function iB(){return new eJ(cz.comparator)}function iC(){return new eJ(cz.comparator)}function iD(a,b,c,d,e){let f={localCacheCount:a,existenceFilterCount:b.count,databaseId:c.database,projectId:c.projectId},g=b.unchangedNames;return g&&(f.bloomFilter={applied:0===e,hashCount:g?.hashCount??0,bitmapLength:g?.bits?.bitmap?.length??0,padding:g?.bits?.padding??0,mightContain:a=>d?.mightContain(a)??!1}),f}let iE=(()=>{let a={};return a.asc="ASCENDING",a.desc="DESCENDING",a})(),iF=(()=>{let a={};return a["<"]="LESS_THAN",a["<="]="LESS_THAN_OR_EQUAL",a[">"]="GREATER_THAN",a[">="]="GREATER_THAN_OR_EQUAL",a["=="]="EQUAL",a["!="]="NOT_EQUAL",a["array-contains"]="ARRAY_CONTAINS",a.in="IN",a["not-in"]="NOT_IN",a["array-contains-any"]="ARRAY_CONTAINS_ANY",a})(),iG=(()=>{let a={};return a.and="AND",a.or="OR",a})();function iH(a,b){}class iI{constructor(a,b){this.databaseId=a,this.useProto3Json=b}}function iJ(a){return new ca(void 0===a.code?bX:ih(a.code),a.message||"")}function iK(a,b){return a.useProto3Json||fc(b)?b:{value:b}}function iL(a){let b;return fc(b="object"==typeof a?a.value:a)?null:b}function iM(a,b){if(!a.useProto3Json)return{seconds:""+b.seconds,nanos:b.nanoseconds};{let a=new Date(1e3*b.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),c=("000000000"+b.nanoseconds).slice(-9);return`${a}.${c}Z`}}function iN(a){let b=eY(a);return new cN(b.seconds,b.nanos)}function iO(a,b){return a.useProto3Json?b.toBase64():b.toUint8Array()}function iP(a,b){return a.useProto3Json?(bT(void 0===b||"string"==typeof b,58123),eU.fromBase64String(b||"")):(bT(void 0===b||b instanceof Buffer||b instanceof Uint8Array,16193),eU.fromUint8Array(b||new Uint8Array))}function iQ(a,b){return iM(a,b.toTimestamp())}function iR(a){return bT(!!a,49232),cO.fromTimestamp(iN(a))}function iS(a,b){return iT(a,b).canonicalString()}function iT(a,b){let c=i$(a).child("documents");return void 0===b?c:c.child(b)}function iU(a){let b=cw.fromString(a);return bT(jR(b),10190,{key:b.toString()}),b}function iV(a,b){return iS(a.databaseId,b.path)}function iW(a,b){let c=iU(b);if(c.get(1)!==a.databaseId.projectId)throw new ca(bY,"Tried to deserialize key from different project: "+c.get(1)+" vs "+a.databaseId.projectId);if(c.get(3)!==a.databaseId.database)throw new ca(bY,"Tried to deserialize key from different database: "+c.get(3)+" vs "+a.databaseId.database);return new cz(i_(c))}function iX(a,b){return iS(a.databaseId,b)}function iY(a){let b=iU(a);return 4===b.length?cw.emptyPath():i_(b)}function iZ(a){return new cw(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function i$(a){return new cw(["projects",a.projectId,"databases",a.database])}function i_(a){return bT(a.length>4&&"documents"===a.get(4),29091,{key:a.toString()}),a.popFirst(5)}function i0(a,b,c){return{name:iV(a,b),fields:c.value.mapValue.fields}}function i1(a,b){return{name:iV(a,b.key),fields:b.data.value.mapValue.fields,updateTime:iM(a,b.version.toTimestamp()),createTime:iM(a,b.createTime.toTimestamp())}}function i2(a,b,c){let d=iW(a,b.name),e=iR(b.updateTime),f=b.createTime?iR(b.createTime):cO.min(),g=new f1({mapValue:{fields:b.fields}}),h=f3.newFoundDocument(d,e,f,g);return c&&h.setHasCommittedMutations(),c?h.setHasCommittedMutations():h}function i3(a,b){bT(!!b.found,43571),iH(b.found.name),iH(b.found.updateTime);let c=iW(a,b.found.name),d=iR(b.found.updateTime),e=b.found.createTime?iR(b.found.createTime):cO.min(),f=new f1({mapValue:{fields:b.found.fields}});return f3.newFoundDocument(c,d,e,f)}function i4(a,b){bT(!!b.missing,3894),bT(!!b.readTime,22933);let c=iW(a,b.missing),d=iR(b.readTime);return f3.newNoDocument(c,d)}function i5(a,b){return"found"in b?i3(a,b):"missing"in b?i4(a,b):bR(7234,{result:b})}function i6(a,b){let c;if("targetChange"in b){iH(b.targetChange);let d=i7(b.targetChange.targetChangeType||"NO_CHANGE"),e=b.targetChange.targetIds||[],f=iP(a,b.targetChange.resumeToken),g=b.targetChange.cause;c=new ix(d,e,f,g&&iJ(g)||null)}else if("documentChange"in b){iH(b.documentChange);let d=b.documentChange;iH(d.document),iH(d.document.name),iH(d.document.updateTime);let e=iW(a,d.document.name),f=iR(d.document.updateTime),g=d.document.createTime?iR(d.document.createTime):cO.min(),h=new f1({mapValue:{fields:d.document.fields}}),i=f3.newFoundDocument(e,f,g,h);c=new iv(d.targetIds||[],d.removedTargetIds||[],i.key,i)}else if("documentDelete"in b){iH(b.documentDelete);let d=b.documentDelete;iH(d.document);let e=iW(a,d.document),f=d.readTime?iR(d.readTime):cO.min(),g=f3.newNoDocument(e,f);c=new iv([],d.removedTargetIds||[],g.key,g)}else if("documentRemove"in b){iH(b.documentRemove);let d=b.documentRemove;iH(d.document);let e=iW(a,d.document);c=new iv([],d.removedTargetIds||[],e,null)}else{if(!("filter"in b))return bR(11601,{change:b});iH(b.filter);let a=b.filter;iH(a.targetId);let{count:d=0,unchangedNames:e}=a,f=new id(d,e);c=new iw(a.targetId,f)}return c}function i7(a){if("NO_CHANGE"===a)return 0;if("ADD"===a)return 1;if("REMOVE"===a)return 2;if("CURRENT"===a)return 3;if("RESET"===a)return 4;else return bR(39313,{state:a})}function i8(a){if(!("targetChange"in a))return cO.min();let b=a.targetChange;return b.targetIds&&b.targetIds.length||!b.readTime?cO.min():iR(b.readTime)}function i9(a,b){let c;if(b instanceof hZ)c={update:i0(a,b.key,b.value)};else if(b instanceof h6)c={delete:iV(a,b.key)};else if(b instanceof h0)c={update:i0(a,b.key,b.data),updateMask:jP(b.fieldMask)};else{if(!(b instanceof h9))return bR(16599,{mutationType:b.type});c={verify:iV(a,b.key)}}return b.fieldTransforms.length>0&&(c.updateTransforms=b.fieldTransforms.map(b=>jf(a,b))),b.precondition.isNone||(c.currentDocument=jb(a,b.precondition)),c}function ja(a,b){let c=b.currentDocument?jc(b.currentDocument):hR.none(),d=b.updateTransforms?b.updateTransforms.map(b=>jg(a,b)):[];if(b.update){iH(b.update.name);let e=iW(a,b.update.name),f=new f1({mapValue:{fields:b.update.fields}});return b.updateMask?new h0(e,f,jQ(b.updateMask),c,d):new hZ(e,f,c,d)}return b.delete?new h6(iW(a,b.delete),c):b.verify?new h9(iW(a,b.verify),c):bR(1463,{proto:b})}function jb(a,b){return void 0!==b.updateTime?{updateTime:iQ(a,b.updateTime)}:void 0!==b.exists?{exists:b.exists}:bR(27497)}function jc(a){return void 0!==a.updateTime?hR.updateTime(iR(a.updateTime)):void 0!==a.exists?hR.exists(a.exists):hR.none()}function jd(a,b){let c=a.updateTime?iR(a.updateTime):iR(b);return c.isEqual(cO.min())&&(c=iR(b)),new hQ(c,a.transformResults||[])}function je(a,b){return a&&a.length>0?(bT(void 0!==b,14353),a.map(a=>jd(a,b))):[]}function jf(a,b){let c=b.transform;if(c instanceof hE)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof hF)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof hH)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hJ)return{fieldPath:b.field.canonicalString(),increment:c.operand};throw bR(20930,{transform:b.transform})}function jg(a,b){let c=null;return"setToServerValue"in b?(bT("REQUEST_TIME"===b.setToServerValue,16630,{proto:b}),c=new hE):"appendMissingElements"in b?c=new hF(b.appendMissingElements.values||[]):"removeAllFromArray"in b?c=new hH(b.removeAllFromArray.values||[]):"increment"in b?c=new hJ(a,b.increment):bR(16584,{proto:b}),new hN(cy.fromServerFormat(b.fieldPath),c)}function jh(a,b){return{documents:[iX(a,b.path)]}}function ji(a){let b=a.documents.length;return bT(1===b,1966,{count:b}),gZ(gS(iY(a.documents[0])))}function jj(a,b){let c,d={structuredQuery:{}},e=b.path;null!==b.collectionGroup?(c=e,d.structuredQuery.from=[{collectionId:b.collectionGroup,allDescendants:!0}]):(c=e.popLast(),d.structuredQuery.from=[{collectionId:e.lastSegment()}]),d.parent=iX(a,c);let f=jq(b.filters);f&&(d.structuredQuery.where=f);let g=jt(b.orderBy);g&&(d.structuredQuery.orderBy=g);let h=iK(a,b.limit);return null!==h&&(d.structuredQuery.limit=h),b.startAt&&(d.structuredQuery.startAt=jv(b.startAt)),b.endAt&&(d.structuredQuery.endAt=jw(b.endAt)),{queryTarget:d,parent:c}}function jk(a,b,c,d){let{queryTarget:e,parent:f}=jj(a,b),g={},h=[],i=0;return c.forEach(a=>{let b=d?a.alias:`aggregate_${i++}`;g[b]=a.alias,"count"===a.aggregateType?h.push({alias:b,count:{}}):"avg"===a.aggregateType?h.push({alias:b,avg:{field:jF(a.fieldPath)}}):"sum"===a.aggregateType&&h.push({alias:b,sum:{field:jF(a.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:h,structuredQuery:e.structuredQuery},parent:e.parent},aliasMap:g,parent:f}}function jl(a){let b=iY(a.parent),c=a.structuredQuery,d=c.from?c.from.length:0,e=null;if(d>0){bT(1===d,65062);let a=c.from[0];a.allDescendants?e=a.collectionId:b=b.child(a.collectionId)}let f=[];c.where&&(f=jr(c.where));let g=[];c.orderBy&&(g=ju(c.orderBy));let h=null;c.limit&&(h=iL(c.limit));let i=null;c.startAt&&(i=jx(c.startAt));let j=null;return c.endAt&&(j=jy(c.endAt)),gR(b,e,g,f,h,"F",i,j)}function jm(a){return gZ(jl(a))}function jn(a,b){let c=jo(b.purpose);return null==c?null:{"goog-listen-tags":c}}function jo(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bR(28987,{purpose:a})}}function jp(a,b){let c,d=b.target;if((c=gG(d)?{documents:jh(a,d)}:{query:jj(a,d).queryTarget}).targetId=b.targetId,b.resumeToken.approximateByteSize()>0){c.resumeToken=iO(a,b.resumeToken);let d=iK(a,b.expectedCount);null!==d&&(c.expectedCount=d)}else if(b.snapshotVersion.compareTo(cO.min())>0){c.readTime=iM(a,b.snapshotVersion.toTimestamp());let d=iK(a,b.expectedCount);null!==d&&(c.expectedCount=d)}return c}function jq(a){if(0!==a.length)return jJ(gg.create(a,"and"))}function jr(a){let b=js(a);return b instanceof gg&&gj(b)?b.getFilters():[b]}function js(a){return void 0!==a.unaryFilter?jM(a):void 0!==a.fieldFilter?jN(a):void 0!==a.compositeFilter?jO(a):bR(30097,{filter:a})}function jt(a){if(0!==a.length)return a.map(a=>jH(a))}function ju(a){return a.map(a=>jI(a))}function jv(a){return{before:a.inclusive,values:a.position}}function jw(a){return{before:!a.inclusive,values:a.position}}function jx(a){let b=!!a.before;return new f5(a.values||[],b)}function jy(a){let b=!a.before;return new f5(a.values||[],b)}function jz(a){return iE[a]}function jA(a){switch(a){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}function jB(a){return iF[a]}function jC(a){return iG[a]}function jD(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bR(58110);default:return bR(50506)}}function jE(a){switch(a){case"AND":return"and";case"OR":return"or";default:return bR(1026)}}function jF(a){return{fieldPath:a.canonicalString()}}function jG(a){return cy.fromServerFormat(a.fieldPath)}function jH(a){return{field:jF(a.field),direction:jz(a.dir)}}function jI(a){return new ga(jG(a.field),jA(a.direction))}function jJ(a){return a instanceof gf?jL(a):a instanceof gg?jK(a):bR(54877,{filter:a})}function jK(a){let b=a.getFilters().map(a=>jJ(a));return 1===b.length?b[0]:{compositeFilter:{op:jC(a.op),filters:b}}}function jL(a){if("=="===a.op){if(fT(a.value))return{unaryFilter:{field:jF(a.field),op:"IS_NAN"}};else if(fS(a.value))return{unaryFilter:{field:jF(a.field),op:"IS_NULL"}}}else if("!="===a.op){if(fT(a.value))return{unaryFilter:{field:jF(a.field),op:"IS_NOT_NAN"}};else if(fS(a.value))return{unaryFilter:{field:jF(a.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jF(a.field),op:jB(a.op),value:a.value}}}function jM(a){switch(a.unaryFilter.op){case"IS_NAN":let b=jG(a.unaryFilter.field);return gf.create(b,"==",{doubleValue:NaN});case"IS_NULL":let c=jG(a.unaryFilter.field);return gf.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let d=jG(a.unaryFilter.field);return gf.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let e=jG(a.unaryFilter.field);return gf.create(e,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bR(61313);default:return bR(60726)}}function jN(a){return gf.create(jG(a.fieldFilter.field),jD(a.fieldFilter.op),a.fieldFilter.value)}function jO(a){return gg.create(a.compositeFilter.filters.map(a=>js(a)),jE(a.compositeFilter.op))}function jP(a){let b=[];return a.fields.forEach(a=>b.push(a.canonicalString())),{fieldPaths:b}}function jQ(a){return new eR((a.fieldPaths||[]).map(a=>cy.fromServerFormat(a)))}function jR(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}function jS(a){return!!a&&"function"==typeof a._toProto&&"ProtoValue"===a._protoValueType}class jT{constructor(a,b,c,d,e=cO.min(),f=cO.min(),g=eU.EMPTY_BYTE_STRING,h=null){this.target=a,this.targetId=b,this.purpose=c,this.sequenceNumber=d,this.snapshotVersion=e,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=h}withSequenceNumber(a){return new jT(this.target,this.targetId,this.purpose,a,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(a,b){return new jT(this.target,this.targetId,this.purpose,this.sequenceNumber,b,this.lastLimboFreeSnapshotVersion,a,null)}withExpectedCount(a){return new jT(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,a)}withLastLimboFreeSnapshotVersion(a){return new jT(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,a,this.resumeToken,this.expectedCount)}}class jU{constructor(a){this.remoteSerializer=a}}function jV(a,b){let c;if(b.document)c=i2(a.remoteSerializer,b.document,!!b.hasCommittedMutations);else if(b.noDocument){let a=cz.fromSegments(b.noDocument.path),d=j$(b.noDocument.readTime);c=f3.newNoDocument(a,d),b.hasCommittedMutations&&c.setHasCommittedMutations()}else{if(!b.unknownDocument)return bR(56709);let a=cz.fromSegments(b.unknownDocument.path),d=j$(b.unknownDocument.version);c=f3.newUnknownDocument(a,d)}return b.readTime&&c.setReadTime(jY(b.readTime)),c}function jW(a,b){let c=b.key,d={prefixPath:c.getCollectionPath().popLast().toArray(),collectionGroup:c.collectionGroup,documentId:c.path.lastSegment(),readTime:jX(b.readTime),hasCommittedMutations:b.hasCommittedMutations};if(b.isFoundDocument())d.document=i1(a.remoteSerializer,b);else if(b.isNoDocument())d.noDocument={path:c.path.toArray(),readTime:jZ(b.version)};else{if(!b.isUnknownDocument())return bR(57904,{document:b});d.unknownDocument={path:c.path.toArray(),version:jZ(b.version)}}return d}function jX(a){let b=a.toTimestamp();return[b.seconds,b.nanoseconds]}function jY(a){let b=new cN(a[0],a[1]);return cO.fromTimestamp(b)}function jZ(a){let b=a.toTimestamp();return{seconds:b.seconds,nanoseconds:b.nanoseconds}}function j$(a){let b=new cN(a.seconds,a.nanoseconds);return cO.fromTimestamp(b)}function j_(a,b,c){let d=c.baseMutations.map(b=>i9(a.remoteSerializer,b)),e=c.mutations.map(b=>i9(a.remoteSerializer,b));return{userId:b,batchId:c.batchId,localWriteTimeMs:c.localWriteTime.toMillis(),baseMutations:d,mutations:e}}function j0(a,b){let c=(b.baseMutations||[]).map(b=>ja(a.remoteSerializer,b));for(let a=0;a<b.mutations.length-1;++a){let c=b.mutations[a];a+1<b.mutations.length&&void 0!==b.mutations[a+1].transform&&(c.updateTransforms=b.mutations[a+1].transform.fieldTransforms,b.mutations.splice(a+1,1),++a)}let d=b.mutations.map(b=>ja(a.remoteSerializer,b)),e=cN.fromMillis(b.localWriteTimeMs);return new ia(b.batchId,e,c,d)}function j1(a){let b,c=j$(a.readTime),d=void 0!==a.lastLimboFreeSnapshotVersion?j$(a.lastLimboFreeSnapshotVersion):cO.min();return new jT(b=j3(a.query)?ji(a.query):jm(a.query),a.targetId,"TargetPurposeListen",a.lastListenSequenceNumber,c,d,eU.fromBase64String(a.resumeToken))}function j2(a,b){let c,d=jZ(b.snapshotVersion),e=jZ(b.lastLimboFreeSnapshotVersion);c=gG(b.target)?jh(a.remoteSerializer,b.target):jj(a.remoteSerializer,b.target).queryTarget;let f=b.resumeToken.toBase64();return{targetId:b.targetId,canonicalId:gD(b.target),readTime:d,resumeToken:f,lastListenSequenceNumber:b.sequenceNumber,lastLimboFreeSnapshotVersion:e,query:c}}function j3(a){return void 0!==a.documents}function j4(a){return{id:a.bundleId,createTime:j$(a.createTime),version:a.version}}function j5(a){return{bundleId:a.id,createTime:jZ(iR(a.createTime)),version:a.version}}function j6(a){return{name:a.name,query:j8(a.bundledQuery),readTime:j$(a.readTime)}}function j7(a){return{name:a.name,readTime:jZ(iR(a.readTime)),bundledQuery:a.bundledQuery}}function j8(a){let b=jl({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?g2(b,b.limit,"L"):b}function j9(a){return{name:a.name,query:j8(a.bundledQuery),readTime:iR(a.readTime)}}function ka(a){return{id:a.id,version:a.version,createTime:iR(a.createTime)}}function kb(a,b){return new ic(b.largestBatchId,ja(a.remoteSerializer,b.overlayMutation))}function kc(a,b,c){let[d,e,f]=kd(b,c.mutation.key);return{userId:b,collectionPath:e,documentId:f,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:i9(a.remoteSerializer,c.mutation)}}function kd(a,b){let c=b.path.lastSegment();return[a,du(b.path.popLast()),c]}function ke(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}function kf(a,b){let c=b?new cZ(b.sequenceNumber,new c0(j$(b.readTime),new cz(dx(b.documentKey)),b.largestBatchId)):cZ.empty(),d=a.fields.map(([a,b])=>new cX(cy.fromServerFormat(a),b));return new cR(a.indexId,a.collectionGroup,d,c)}function kg(a,b,c,d){return{indexId:a,uid:b,sequenceNumber:c,readTime:jZ(d.readTime),documentKey:du(d.documentKey.path),largestBatchId:d.largestBatchId}}class kh{getBundleMetadata(a,b){return ki(a).get(b).next(a=>{if(a)return j4(a)})}saveBundleMetadata(a,b){return ki(a).put(j5(b))}getNamedQuery(a,b){return kj(a).get(b).next(a=>{if(a)return j6(a)})}saveNamedQuery(a,b){return kj(a).put(j7(b))}}function ki(a){return eE(a,d6)}function kj(a){return eE(a,d8)}class kk{constructor(a,b){this.serializer=a,this.userId=b}static forUser(a,b){return new kk(a,b.uid||"")}getOverlay(a,b){return kl(a).get(kd(this.userId,b)).next(a=>a?kb(this.serializer,a):null)}getOverlays(a,b){let c=hn();return c5.forEach(b,b=>this.getOverlay(a,b).next(a=>{null!==a&&c.set(b,a)})).next(()=>c)}saveOverlays(a,b,c){let d=[];return c.forEach((c,e)=>{let f=new ic(b,e);d.push(this.saveOverlay(a,f))}),c5.waitFor(d)}removeOverlaysForBatchId(a,b,c){let d=new Set;b.forEach(a=>d.add(du(a.getCollectionPath())));let e=[];return d.forEach(b=>{let d=IDBKeyRange.bound([this.userId,b,c],[this.userId,b,c+1],!1,!0);e.push(kl(a).deleteAll(eo,d))}),c5.waitFor(e)}getOverlaysForCollection(a,b,c){let d=hn(),e=du(b),f=IDBKeyRange.bound([this.userId,e,c],[this.userId,e,1/0],!0);return kl(a).loadAll(eo,f).next(a=>{for(let b of a){let a=kb(this.serializer,b);d.set(a.getKey(),a)}return d})}getOverlaysForCollectionGroup(a,b,c,d){let e,f=hn(),g=IDBKeyRange.bound([this.userId,b,c],[this.userId,b,1/0],!0);return kl(a).iterate({index:eq,range:g},(a,b,c)=>{let g=kb(this.serializer,b);f.size()<d||g.largestBatchId===e?(f.set(g.getKey(),g),e=g.largestBatchId):c.done()}).next(()=>f)}saveOverlay(a,b){return kl(a).put(kc(this.serializer,this.userId,b))}}function kl(a){return eE(a,em)}class km{globalsStore(a){return eE(a,es)}getSessionToken(a){return this.globalsStore(a).get("sessionToken").next(a=>{let b=a?.value;return b?eU.fromUint8Array(b):eU.EMPTY_BYTE_STRING})}setSessionToken(a,b){return this.globalsStore(a).put({name:"sessionToken",value:b.toUint8Array()})}}let kn=5,ko=10,kp=13,kq=15,kr=20,ks=25,kt=30,ku=37,kv=45,kw=50,kx=53,ky=55,kz=60,kA=2;class kB{writeIndexValue(a,b){this.writeIndexValueAux(a,b),b.writeInfinity()}writeIndexValueAux(a,b){if("nullValue"in a)this.writeValueTypeLabel(b,kn);else if("booleanValue"in a)this.writeValueTypeLabel(b,ko),b.writeNumber(+!!a.booleanValue);else if("integerValue"in a)this.writeValueTypeLabel(b,kq),b.writeNumber(eZ(a.integerValue));else if("doubleValue"in a){let c=eZ(a.doubleValue);isNaN(c)?this.writeValueTypeLabel(b,kp):(this.writeValueTypeLabel(b,kq),fd(c)?b.writeNumber(0):b.writeNumber(c))}else if("timestampValue"in a){let c=a.timestampValue;this.writeValueTypeLabel(b,kr),"string"==typeof c&&(c=eY(c)),b.writeString(`${c.seconds||""}`),b.writeNumber(c.nanos||0)}else if("stringValue"in a)this.writeIndexString(a.stringValue,b),this.writeTruncationMarker(b);else if("bytesValue"in a)this.writeValueTypeLabel(b,kt),b.writeBytes(e$(a.bytesValue)),this.writeTruncationMarker(b);else if("referenceValue"in a)this.writeIndexEntityRef(a.referenceValue,b);else if("geoPointValue"in a){let c=a.geoPointValue;this.writeValueTypeLabel(b,kv),b.writeNumber(c.latitude||0),b.writeNumber(c.longitude||0)}else"mapValue"in a?fX(a)?this.writeValueTypeLabel(b,Number.MAX_SAFE_INTEGER):fV(a)?this.writeIndexVector(a.mapValue,b):(this.writeIndexMap(a.mapValue,b),this.writeTruncationMarker(b)):"arrayValue"in a?(this.writeIndexArray(a.arrayValue,b),this.writeTruncationMarker(b)):bR(19022,{indexValue:a})}writeIndexString(a,b){this.writeValueTypeLabel(b,ks),this.writeUnlabeledIndexString(a,b)}writeUnlabeledIndexString(a,b){b.writeString(a)}writeIndexMap(a,b){let c=a.fields||{};for(let a of(this.writeValueTypeLabel(b,ky),Object.keys(c)))this.writeIndexString(a,b),this.writeIndexValueAux(c[a],b)}writeIndexVector(a,b){let c=a.fields||{};this.writeValueTypeLabel(b,kx);let d=fj,e=c[d].arrayValue?.values?.length||0;this.writeValueTypeLabel(b,kq),b.writeNumber(eZ(e)),this.writeIndexString(d,b),this.writeIndexValueAux(c[d],b)}writeIndexArray(a,b){let c=a.values||[];for(let a of(this.writeValueTypeLabel(b,kw),c))this.writeIndexValueAux(a,b)}writeIndexEntityRef(a,b){this.writeValueTypeLabel(b,ku),cz.fromName(a).path.forEach(a=>{this.writeValueTypeLabel(b,kz),this.writeUnlabeledIndexString(a,b)})}writeValueTypeLabel(a,b){a.writeNumber(b)}writeTruncationMarker(a){a.writeNumber(kA)}}kB.INSTANCE=new kB;let kC="\uD800",kD="\uDBFF",kE=0,kF=255,kG=1,kH=255,kI=255,kJ=0,kK=64,kL=8,kM=1024;function kN(a){let b=new DataView(new ArrayBuffer(8));return b.setFloat64(0,a,!1),new Uint8Array(b.buffer)}function kO(a){if(0===a)return 8;let b=0;return a>>4==0&&(b+=4,a<<=4),a>>6==0&&(b+=2,a<<=2),a>>7==0&&(b+=1),b}function kP(a){let b=0;for(let c=0;c<8;++c){let d=kO(255&a[c]);if(b+=d,8!==d)break}return b}function kQ(a){return Math.ceil((kK-kP(a))/kL)}class kR{constructor(){this.buffer=new Uint8Array(kM),this.position=0}writeBytesAscending(a){let b=a[Symbol.iterator](),c=b.next();for(;!c.done;)this.writeByteAscending(c.value),c=b.next();this.writeSeparatorAscending()}writeBytesDescending(a){let b=a[Symbol.iterator](),c=b.next();for(;!c.done;)this.writeByteDescending(c.value),c=b.next();this.writeSeparatorDescending()}writeUtf8Ascending(a){for(let b of a){let a=b.charCodeAt(0);if(a<128)this.writeByteAscending(a);else if(a<2048)this.writeByteAscending(960|a>>>6),this.writeByteAscending(128|63&a);else if(b<kC||kD<b)this.writeByteAscending(480|a>>>12),this.writeByteAscending(128|63&a>>>6),this.writeByteAscending(128|63&a);else{let a=b.codePointAt(0);this.writeByteAscending(240|a>>>18),this.writeByteAscending(128|63&a>>>12),this.writeByteAscending(128|63&a>>>6),this.writeByteAscending(128|63&a)}}this.writeSeparatorAscending()}writeUtf8Descending(a){for(let b of a){let a=b.charCodeAt(0);if(a<128)this.writeByteDescending(a);else if(a<2048)this.writeByteDescending(960|a>>>6),this.writeByteDescending(128|63&a);else if(b<kC||kD<b)this.writeByteDescending(480|a>>>12),this.writeByteDescending(128|63&a>>>6),this.writeByteDescending(128|63&a);else{let a=b.codePointAt(0);this.writeByteDescending(240|a>>>18),this.writeByteDescending(128|63&a>>>12),this.writeByteDescending(128|63&a>>>6),this.writeByteDescending(128|63&a)}}this.writeSeparatorDescending()}writeNumberAscending(a){let b=this.toOrderedBits(a),c=kQ(b);this.ensureAvailable(1+c),this.buffer[this.position++]=255&c;for(let a=b.length-c;a<b.length;++a)this.buffer[this.position++]=255&b[a]}writeNumberDescending(a){let b=this.toOrderedBits(a),c=kQ(b);this.ensureAvailable(1+c),this.buffer[this.position++]=~(255&c);for(let a=b.length-c;a<b.length;++a)this.buffer[this.position++]=~(255&b[a])}writeInfinityAscending(){this.writeEscapedByteAscending(kH),this.writeEscapedByteAscending(kI)}writeInfinityDescending(){this.writeEscapedByteDescending(kH),this.writeEscapedByteDescending(kI)}reset(){this.position=0}seed(a){this.ensureAvailable(a.length),this.buffer.set(a,this.position),this.position+=a.length}encodedBytes(){return this.buffer.slice(0,this.position)}toOrderedBits(a){let b=kN(a),c=(128&b[0])!=0;b[0]^=c?255:128;for(let a=1;a<b.length;++a)b[a]^=255*!!c;return b}writeByteAscending(a){let b=255&a;b===kE?(this.writeEscapedByteAscending(kE),this.writeEscapedByteAscending(kF)):b===kH?(this.writeEscapedByteAscending(kH),this.writeEscapedByteAscending(kJ)):this.writeEscapedByteAscending(b)}writeByteDescending(a){let b=255&a;b===kE?(this.writeEscapedByteDescending(kE),this.writeEscapedByteDescending(kF)):b===kH?(this.writeEscapedByteDescending(kH),this.writeEscapedByteDescending(kJ)):this.writeEscapedByteDescending(a)}writeSeparatorAscending(){this.writeEscapedByteAscending(kE),this.writeEscapedByteAscending(kG)}writeSeparatorDescending(){this.writeEscapedByteDescending(kE),this.writeEscapedByteDescending(kG)}writeEscapedByteAscending(a){this.ensureAvailable(1),this.buffer[this.position++]=a}writeEscapedByteDescending(a){this.ensureAvailable(1),this.buffer[this.position++]=~a}ensureAvailable(a){let b=a+this.position;if(b<=this.buffer.length)return;let c=2*this.buffer.length;c<b&&(c=b);let d=new Uint8Array(c);d.set(this.buffer),this.buffer=d}}class kS{constructor(a){this.orderedCode=a}writeBytes(a){this.orderedCode.writeBytesAscending(a)}writeString(a){this.orderedCode.writeUtf8Ascending(a)}writeNumber(a){this.orderedCode.writeNumberAscending(a)}writeInfinity(){this.orderedCode.writeInfinityAscending()}}class kT{constructor(a){this.orderedCode=a}writeBytes(a){this.orderedCode.writeBytesDescending(a)}writeString(a){this.orderedCode.writeUtf8Descending(a)}writeNumber(a){this.orderedCode.writeNumberDescending(a)}writeInfinity(){this.orderedCode.writeInfinityDescending()}}class kU{constructor(){this.orderedCode=new kR,this.ascending=new kS(this.orderedCode),this.descending=new kT(this.orderedCode)}seed(a){this.orderedCode.seed(a)}forKind(a){return 0===a?this.ascending:this.descending}encodedBytes(){return this.orderedCode.encodedBytes()}reset(){this.orderedCode.reset()}}class kV{constructor(a,b,c,d){this._indexId=a,this._documentKey=b,this._arrayValue=c,this._directionalValue=d}successor(){let a=this._directionalValue.length,b=0===a||255===this._directionalValue[a-1]?a+1:a,c=new Uint8Array(b);return c.set(this._directionalValue,0),b!==a?c.set([0],this._directionalValue.length):++c[c.length-1],new kV(this._indexId,this._documentKey,this._arrayValue,c)}dbIndexEntry(a,b,c){return{indexId:this._indexId,uid:a,arrayValue:kY(this._arrayValue),directionalValue:kY(this._directionalValue),orderedDocumentKey:kY(b),documentKey:c.path.toArray()}}dbIndexEntryKey(a,b,c){let d=this.dbIndexEntry(a,b,c);return[d.indexId,d.uid,d.arrayValue,d.directionalValue,d.orderedDocumentKey,d.documentKey]}}function kW(a,b){let c=a._indexId-b._indexId;return 0!==c||0!==(c=kX(a._arrayValue,b._arrayValue))||0!==(c=kX(a._directionalValue,b._directionalValue))?c:cz.comparator(a._documentKey,b._documentKey)}function kX(a,b){for(let c=0;c<a.length&&c<b.length;++c){let d=a[c]-b[c];if(0!==d)return d}return a.length-b.length}function kY(a){return I()?k$(a):a}function kZ(a){return"string"!=typeof a?a:k_(a)}function k$(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b}function k_(a){let b=new Uint8Array(a.length);for(let c=0;c<a.length;c++)b[c]=a.charCodeAt(c);return b}class k0{constructor(a){for(const b of(this.inequalityFilters=new eN((a,b)=>cy.comparator(a.field,b.field)),this.collectionId=null!=a.collectionGroup?a.collectionGroup:a.path.lastSegment(),this.orderBys=a.orderBy,this.equalityFilters=[],a.filters)){const a=b;a.isInequality()?this.inequalityFilters=this.inequalityFilters.add(a):this.equalityFilters.push(a)}}get hasMultipleInequality(){return this.inequalityFilters.size>1}servedByIndex(a){if(bT(a.collectionGroup===this.collectionId,49279),this.hasMultipleInequality)return!1;let b=cS(a);if(void 0!==b&&!this.hasMatchingEqualityFilter(b))return!1;let c=cT(a),d=new Set,e=0,f=0;for(;e<c.length;++e)if(this.hasMatchingEqualityFilter(c[e]))d=d.add(c[e].fieldPath.canonicalString());else break;if(e===c.length)return!0;if(this.inequalityFilters.size>0){let a=this.inequalityFilters.getIterator().getNext();if(!d.has(a.field.canonicalString())){let b=c[e];if(!this.matchesFilter(a,b)||!this.matchesOrderBy(this.orderBys[f++],b))return!1}++e}for(;e<c.length;++e){let a=c[e];if(f>=this.orderBys.length||!this.matchesOrderBy(this.orderBys[f++],a))return!1}return!0}buildTargetIndex(){if(this.hasMultipleInequality)return null;let a=new eN(cy.comparator),b=[];for(let c of this.equalityFilters)if(!c.field.isKeyField())if("array-contains"===c.op||"array-contains-any"===c.op)b.push(new cX(c.field,2));else{if(a.has(c.field))continue;a=a.add(c.field),b.push(new cX(c.field,0))}for(let c of this.orderBys)!c.field.isKeyField()&&(a.has(c.field)||(a=a.add(c.field),b.push(new cX(c.field,+("asc"!==c.dir)))));return new cR(cR.UNKNOWN_ID,this.collectionId,b,cZ.empty())}hasMatchingEqualityFilter(a){for(let b of this.equalityFilters)if(this.matchesFilter(b,a))return!0;return!1}matchesFilter(a,b){if(void 0===a||!a.field.isEqual(b.fieldPath))return!1;let c="array-contains"===a.op||"array-contains-any"===a.op;return 2===b.kind===c}matchesOrderBy(a,b){return!!a.field.isEqual(b.fieldPath)&&(0===b.kind&&"asc"===a.dir||1===b.kind&&"desc"===a.dir)}}function k1(a){if(bT(a instanceof gf||a instanceof gg,20012),a instanceof gf)if(!(a instanceof gy))return a;else{let b=a.value.arrayValue?.values?.map(b=>gf.create(a.field,"==",b))||[];return gg.create(b,"or")}let b=a.filters.map(a=>k1(a));return gg.create(b,a.op)}function k2(a){if(0===a.getFilters().length)return[];let b=k7(k1(a));return(bT(k5(b),7391),k3(b)||k4(b))?[b]:b.getFilters()}function k3(a){return a instanceof gf}function k4(a){return a instanceof gg&&gj(a)}function k5(a){return k3(a)||k4(a)||k6(a)}function k6(a){if(a instanceof gg&&gi(a)){for(let b of a.getFilters())if(!k3(b)&&!k4(b))return!1;return!0}return!1}function k7(a){if(bT(a instanceof gf||a instanceof gg,34018),a instanceof gf)return a;if(1===a.filters.length)return k7(a.filters[0]);let b=a.filters.map(a=>k7(a)),c=gg.create(b,a.op);return k5(c=lc(c))?c:(bT(c instanceof gg,64498),bT(gh(c),40251),bT(c.filters.length>1,57927),c.filters.reduce((a,b)=>k8(a,b)))}function k8(a,b){let c;return bT(a instanceof gf||a instanceof gg,38388),bT(b instanceof gf||b instanceof gg,25473),lc(c=a instanceof gf?b instanceof gf?k9(a,b):lb(a,b):b instanceof gf?lb(b,a):la(a,b))}function k9(a,b){return gg.create([a,b],"and")}function la(a,b){if(bT(a.filters.length>0&&b.filters.length>0,48005),gh(a)&&gh(b))return gp(a,b.getFilters());let c=gi(a)?a:b,d=gi(a)?b:a,e=c.filters.map(a=>k8(a,d));return gg.create(e,"or")}function lb(a,b){if(gh(b))return gp(b,a.getFilters());{let c=b.filters.map(b=>k8(a,b));return gg.create(c,"or")}}function lc(a){if(bT(a instanceof gf||a instanceof gg,11850),a instanceof gf)return a;let b=a.getFilters();if(1===b.length)return lc(b[0]);if(gk(a))return a;let c=b.map(a=>lc(a)),d=[];return(c.forEach(b=>{b instanceof gf?d.push(b):b instanceof gg&&(b.op===a.op?d.push(...b.filters):d.push(b))}),1===d.length)?d[0]:gg.create(d,a.op)}class ld{constructor(){this.collectionParentIndex=new le}addToCollectionParentIndex(a,b){return this.collectionParentIndex.add(b),c5.resolve()}getCollectionParents(a,b){return c5.resolve(this.collectionParentIndex.getEntries(b))}addFieldIndex(a,b){return c5.resolve()}deleteFieldIndex(a,b){return c5.resolve()}deleteAllFieldIndexes(a){return c5.resolve()}createTargetIndexes(a,b){return c5.resolve()}getDocumentsMatchingTarget(a,b){return c5.resolve(null)}getIndexType(a,b){return c5.resolve(0)}getFieldIndexes(a,b){return c5.resolve([])}getNextCollectionGroupToUpdate(a){return c5.resolve(null)}getMinOffset(a,b){return c5.resolve(c0.min())}getMinOffsetFromCollectionGroup(a,b){return c5.resolve(c0.min())}updateCollectionGroup(a,b,c){return c5.resolve()}updateIndexEntries(a,b){return c5.resolve()}}class le{constructor(){this.index={}}add(a){let b=a.lastSegment(),c=a.popLast(),d=this.index[b]||new eN(cw.comparator),e=!d.has(c);return this.index[b]=d.add(c),e}has(a){let b=a.lastSegment(),c=a.popLast(),d=this.index[b];return d&&d.has(c)}getEntries(a){return(this.index[a]||new eN(cw.comparator)).toArray()}}let lf="IndexedDbIndexManager",lg=new Uint8Array(0);class lh{constructor(a,b){this.databaseId=b,this.collectionParentsCache=new le,this.targetToDnfSubTargets=new hg(a=>gD(a),(a,b)=>gF(a,b)),this.uid=a.uid||""}addToCollectionParentIndex(a,b){if(!this.collectionParentsCache.has(b)){let c=b.lastSegment(),d=b.popLast();a.addOnCommittedListener(()=>{this.collectionParentsCache.add(b)});let e={collectionId:c,parent:du(d)};return li(a).put(e)}return c5.resolve()}getCollectionParents(a,b){let c=[],d=IDBKeyRange.bound([b,""],[ct(b),""],!1,!0);return li(a).loadAll(d).next(a=>{for(let d of a){if(d.collectionId!==b)break;c.push(dx(d.parent))}return c})}addFieldIndex(a,b){let c=lk(a),d=ke(b);delete d.indexId;let e=c.add(d);if(!b.indexState)return e.next();{let c=ll(a);return e.next(a=>{c.put(kg(a,this.uid,b.indexState.sequenceNumber,b.indexState.offset))})}}deleteFieldIndex(a,b){let c=lk(a),d=ll(a),e=lj(a);return c.delete(b.indexId).next(()=>d.delete(IDBKeyRange.bound([b.indexId],[b.indexId+1],!1,!0))).next(()=>e.delete(IDBKeyRange.bound([b.indexId],[b.indexId+1],!1,!0)))}deleteAllFieldIndexes(a){let b=lk(a),c=lj(a),d=ll(a);return b.deleteAll().next(()=>c.deleteAll()).next(()=>d.deleteAll())}createTargetIndexes(a,b){return c5.forEach(this.getSubTargets(b),b=>this.getIndexType(a,b).next(c=>{if(0===c||1===c){let c=new k0(b).buildTargetIndex();if(null!=c)return this.addFieldIndex(a,c)}}))}getDocumentsMatchingTarget(a,b){let c=lj(a),d=!0,e=new Map;return c5.forEach(this.getSubTargets(b),b=>this.getFieldIndex(a,b).next(a=>{d&&(d=!!a),e.set(b,a)})).next(()=>{if(!d)return c5.resolve(null);{let a=ht(),d=[];return c5.forEach(e,(e,f)=>{bN(lf,`Using index ${cW(e)} to execute ${gD(b)}`);let g=gI(f,e),h=gJ(f,e),i=gK(f,e),j=gL(f,e),k=this.encodeBound(e,f,i),l=this.encodeBound(e,f,j),m=this.encodeValues(e,f,h),n=this.generateIndexRanges(e.indexId,g,k,i.inclusive,l,j.inclusive,m);return c5.forEach(n,e=>c.loadFirst(e,b.limit).next(b=>{b.forEach(b=>{let c=cz.fromSegments(b.documentKey);a.has(c)||(a=a.add(c),d.push(c))})}))}).next(()=>d)}})}getSubTargets(a){let b=this.targetToDnfSubTargets.get(a);return b||(b=0===a.filters.length?[a]:k2(gg.create(a.filters,"and")).map(b=>gC(a.path,a.collectionGroup,a.orderBy,b.getFilters(),a.limit,a.startAt,a.endAt)),this.targetToDnfSubTargets.set(a,b)),b}generateIndexRanges(a,b,c,d,e,f,g){let h=(null!=b?b.length:1)*Math.max(c.length,e.length),i=h/(null!=b?b.length:1),j=[];for(let k=0;k<h;++k){let h=b?this.encodeSingleElement(b[k/i]):lg,l=this.generateLowerBound(a,h,c[k%i],d),m=this.generateUpperBound(a,h,e[k%i],f),n=g.map(b=>this.generateLowerBound(a,h,b,!0));j.push(...this.createRange(l,m,n))}return j}generateLowerBound(a,b,c,d){let e=new kV(a,cz.empty(),b,c);return d?e:e.successor()}generateUpperBound(a,b,c,d){let e=new kV(a,cz.empty(),b,c);return d?e.successor():e}getFieldIndex(a,b){let c=new k0(b),d=null!=b.collectionGroup?b.collectionGroup:b.path.lastSegment();return this.getFieldIndexes(a,d).next(a=>{let b=null;for(let d of a)c.servedByIndex(d)&&(!b||d.fields.length>b.fields.length)&&(b=d);return b})}getIndexType(a,b){let c=2,d=this.getSubTargets(b);return c5.forEach(d,b=>this.getFieldIndex(a,b).next(a=>{a?0!==c&&a.fields.length<gO(b)&&(c=1):c=0})).next(()=>gP(b)&&d.length>1&&2===c?1:c)}encodeDirectionalElements(a,b){let c=new kU;for(let d of cT(a)){let a=b.data.field(d.fieldPath);if(null==a)return null;let e=c.forKind(d.kind);kB.INSTANCE.writeIndexValue(a,e)}return c.encodedBytes()}encodeSingleElement(a){let b=new kU;return kB.INSTANCE.writeIndexValue(a,b.forKind(0)),b.encodedBytes()}encodeDirectionalKey(a,b){let c=new kU;return kB.INSTANCE.writeIndexValue(fN(this.databaseId,b),c.forKind(cU(a))),c.encodedBytes()}encodeValues(a,b,c){if(null===c)return[];let d=[];d.push(new kU);let e=0;for(let f of cT(a)){let a=c[e++];for(let c of d)if(this.isInFilter(b,f.fieldPath)&&fR(a))d=this.expandIndexValues(d,f,a);else{let b=c.forKind(f.kind);kB.INSTANCE.writeIndexValue(a,b)}}return this.getEncodedBytes(d)}encodeBound(a,b,c){return this.encodeValues(a,b,c.position)}getEncodedBytes(a){let b=[];for(let c=0;c<a.length;++c)b[c]=a[c].encodedBytes();return b}expandIndexValues(a,b,c){let d=[...a],e=[];for(let a of c.arrayValue.values||[])for(let c of d){let d=new kU;d.seed(c.encodedBytes()),kB.INSTANCE.writeIndexValue(a,d.forKind(b.kind)),e.push(d)}return e}isInFilter(a,b){return!!a.filters.find(a=>a instanceof gf&&a.field.isEqual(b)&&("in"===a.op||"not-in"===a.op))}getFieldIndexes(a,b){let c=lk(a),d=ll(a);return(b?c.loadAll(ec,IDBKeyRange.bound(b,b)):c.loadAll()).next(a=>{let b=[];return c5.forEach(a,a=>d.get([a.indexId,this.uid]).next(c=>{b.push(kf(a,c))})).next(()=>b)})}getNextCollectionGroupToUpdate(a){return this.getFieldIndexes(a).next(a=>0===a.length?null:(a.sort((a,b)=>{let c=a.indexState.sequenceNumber-b.indexState.sequenceNumber;return 0!==c?c:cn(a.collectionGroup,b.collectionGroup)}),a[0].collectionGroup))}updateCollectionGroup(a,b,c){let d=lk(a),e=ll(a);return this.getNextSequenceNumber(a).next(a=>d.loadAll(ec,IDBKeyRange.bound(b,b)).next(b=>c5.forEach(b,b=>e.put(kg(b.indexId,this.uid,a,c)))))}updateIndexEntries(a,b){let c=new Map;return c5.forEach(b,(b,d)=>{let e=c.get(b.collectionGroup);return(e?c5.resolve(e):this.getFieldIndexes(a,b.collectionGroup)).next(e=>(c.set(b.collectionGroup,e),c5.forEach(e,c=>this.getExistingIndexEntries(a,b,c).next(b=>{let e=this.computeIndexEntries(d,c);return b.isEqual(e)?c5.resolve():this.updateEntries(a,d,c,b,e)}))))})}addIndexEntry(a,b,c,d){return lj(a).put(d.dbIndexEntry(this.uid,this.encodeDirectionalKey(c,b.key),b.key))}deleteIndexEntry(a,b,c,d){return lj(a).delete(d.dbIndexEntryKey(this.uid,this.encodeDirectionalKey(c,b.key),b.key))}getExistingIndexEntries(a,b,c){let d=lj(a),e=new eN(kW);return d.iterate({index:ek,range:IDBKeyRange.only([c.indexId,this.uid,kY(this.encodeDirectionalKey(c,b))])},(a,d)=>{e=e.add(new kV(c.indexId,b,kZ(d.arrayValue),kZ(d.directionalValue)))}).next(()=>e)}computeIndexEntries(a,b){let c=new eN(kW),d=this.encodeDirectionalElements(b,a);if(null==d)return c;let e=cS(b);if(null!=e){let f=a.data.field(e.fieldPath);if(fR(f))for(let e of f.arrayValue.values||[])c=c.add(new kV(b.indexId,a.key,this.encodeSingleElement(e),d))}else c=c.add(new kV(b.indexId,a.key,lg,d));return c}updateEntries(a,b,c,d,e){bN(lf,"Updating index entries for document '%s'",b.key);let f=[];return eP(d,e,kW,d=>{f.push(this.addIndexEntry(a,b,c,d))},d=>{f.push(this.deleteIndexEntry(a,b,c,d))}),c5.waitFor(f)}getNextSequenceNumber(a){let b=1;return ll(a).iterate({index:eg,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,c,d)=>{d.done(),b=c.sequenceNumber+1}).next(()=>b)}createRange(a,b,c){c=c.sort((a,b)=>kW(a,b)).filter((a,b,c)=>!b||0!==kW(a,c[b-1]));let d=[];for(let e of(d.push(a),c)){let c=kW(e,a),f=kW(e,b);if(0===c)d[0]=a.successor();else if(c>0&&f<0)d.push(e),d.push(e.successor());else if(f>0)break}d.push(b);let e=[];for(let a=0;a<d.length;a+=2){if(this.isRangeMatchable(d[a],d[a+1]))return[];let b=d[a].dbIndexEntryKey(this.uid,lg,cz.empty()),c=d[a+1].dbIndexEntryKey(this.uid,lg,cz.empty());e.push(IDBKeyRange.bound(b,c))}return e}isRangeMatchable(a,b){return kW(a,b)>0}getMinOffsetFromCollectionGroup(a,b){return this.getFieldIndexes(a,b).next(lm)}getMinOffset(a,b){return c5.mapArray(this.getSubTargets(b),b=>this.getFieldIndex(a,b).next(a=>a||bR(44426))).next(lm)}}function li(a){return eE(a,d2)}function lj(a){return eE(a,ei)}function lk(a){return eE(a,ea)}function ll(a){return eE(a,ee)}function lm(a){bT(0!==a.length,28825);let b=a[0].indexState.offset,c=b.largestBatchId;for(let d=1;d<a.length;d++){let e=a[d].indexState.offset;0>c1(e,b)&&(b=e),c<e.largestBatchId&&(c=e.largestBatchId)}return new c0(b.readTime,b.documentKey,c)}function ln(a,b,c){let d=a.store(dD),e=a.store(dL),f=[],g=IDBKeyRange.only(c.batchId),h=0,i=d.iterate({range:g},(a,b,c)=>(h++,c.delete()));f.push(i.next(()=>{bT(1===h,47070,{batchId:c.batchId})}));let j=[];for(let a of c.mutations){let d=dJ(b,a.key.path,c.batchId);f.push(e.delete(d)),j.push(a.key)}return c5.waitFor(f).next(()=>j)}function lo(a){let b;if(!a)return 0;if(a.document)b=a.document;else if(a.unknownDocument)b=a.unknownDocument;else if(a.noDocument)b=a.noDocument;else throw bR(14731);return JSON.stringify(b).length}class lp{constructor(a,b,c,d){this.userId=a,this.serializer=b,this.indexManager=c,this.referenceDelegate=d,this.documentKeysByBatchId={}}static forUser(a,b,c,d){return bT(""!==a.uid,64387),new lp(a.isAuthenticated()?a.uid:"",b,c,d)}checkEmpty(a){let b=!0,c=IDBKeyRange.bound([this.userId,-1/0],[this.userId,1/0]);return ls(a).iterate({index:dF,range:c},(a,c,d)=>{b=!1,d.done()}).next(()=>b)}addMutationBatch(a,b,c,d){let e=lt(a),f=ls(a);return f.add({}).next(g=>{bT("number"==typeof g,49019);let h=new ia(g,b,c,d),i=j_(this.serializer,this.userId,h),j=[],k=new eN((a,b)=>cn(a.canonicalString(),b.canonicalString()));for(let a of d){let b=dJ(this.userId,a.key.path,g);k=k.add(a.key.path.popLast()),j.push(f.put(i)),j.push(e.put(b,dK))}return k.forEach(b=>{j.push(this.indexManager.addToCollectionParentIndex(a,b))}),a.addOnCommittedListener(()=>{this.documentKeysByBatchId[g]=h.keys()}),c5.waitFor(j).next(()=>h)})}lookupMutationBatch(a,b){return ls(a).get(b).next(a=>a?(bT(a.userId===this.userId,48,"Unexpected user for mutation batch",{userId:a.userId,batchId:b}),j0(this.serializer,a)):null)}lookupMutationKeys(a,b){return this.documentKeysByBatchId[b]?c5.resolve(this.documentKeysByBatchId[b]):this.lookupMutationBatch(a,b).next(a=>{if(!a)return null;{let c=a.keys();return this.documentKeysByBatchId[b]=c,c}})}getNextMutationBatchAfterBatchId(a,b){let c=b+1,d=IDBKeyRange.lowerBound([this.userId,c]),e=null;return ls(a).iterate({index:dF,range:d},(a,b,d)=>{b.userId===this.userId&&(bT(b.batchId>=c,47524,{nextBatchId:c}),e=j0(this.serializer,b)),d.done()}).next(()=>e)}getHighestUnacknowledgedBatchId(a){let b=IDBKeyRange.upperBound([this.userId,1/0]),c=fb;return ls(a).iterate({index:dF,range:b,reverse:!0},(a,b,d)=>{c=b.batchId,d.done()}).next(()=>c)}getAllMutationBatches(a){let b=IDBKeyRange.bound([this.userId,fb],[this.userId,1/0]);return ls(a).loadAll(dF,b).next(a=>a.map(a=>j0(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(a,b){let c=dI(this.userId,b.path),d=IDBKeyRange.lowerBound(c),e=[];return lt(a).iterate({range:d},(c,d,f)=>{let[g,h,i]=c,j=dx(h);return g===this.userId&&b.path.isEqual(j)?ls(a).get(i).next(a=>{if(!a)throw bR(61480,{indexKey:c,batchId:i});bT(a.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),e.push(j0(this.serializer,a))}):void f.done()}).next(()=>e)}getAllMutationBatchesAffectingDocumentKeys(a,b){let c=new eN(cn),d=[];return b.forEach(b=>{let e=dI(this.userId,b.path),f=IDBKeyRange.lowerBound(e),g=lt(a).iterate({range:f},(a,d,e)=>{let[f,g,h]=a,i=dx(g);f===this.userId&&b.path.isEqual(i)?c=c.add(h):e.done()});d.push(g)}),c5.waitFor(d).next(()=>this.lookupMutationBatches(a,c))}getAllMutationBatchesAffectingQuery(a,b){let c=b.path,d=c.length+1,e=dI(this.userId,c),f=IDBKeyRange.lowerBound(e),g=new eN(cn);return lt(a).iterate({range:f},(a,b,e)=>{let[f,h,i]=a,j=dx(h);f===this.userId&&c.isPrefixOf(j)?j.length===d&&(g=g.add(i)):e.done()}).next(()=>this.lookupMutationBatches(a,g))}lookupMutationBatches(a,b){let c=[],d=[];return b.forEach(b=>{d.push(ls(a).get(b).next(a=>{if(null===a)throw bR(35274,{batchId:b});bT(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:b}),c.push(j0(this.serializer,a))}))}),c5.waitFor(d).next(()=>c)}removeMutationBatch(a,b){return ln(a.simpleDbTransaction,this.userId,b).next(c=>(a.addOnCommittedListener(()=>{this.removeCachedMutationKeys(b.batchId)}),c5.forEach(c,b=>this.referenceDelegate.markPotentiallyOrphaned(a,b))))}removeCachedMutationKeys(a){delete this.documentKeysByBatchId[a]}performConsistencyCheck(a){return this.checkEmpty(a).next(b=>{if(!b)return c5.resolve();let c=IDBKeyRange.lowerBound(dH(this.userId)),d=[];return lt(a).iterate({range:c},(a,b,c)=>{if(a[0]!==this.userId)return void c.done();{let b=dx(a[1]);d.push(b)}}).next(()=>{bT(0===d.length,56720,{danglingKeys:d.map(a=>a.canonicalString())})})})}containsKey(a,b){return lq(a,this.userId,b)}getMutationQueueMetadata(a){return lu(a).get(this.userId).next(a=>a||{userId:this.userId,lastAcknowledgedBatchId:fb,lastStreamToken:""})}}function lq(a,b,c){let d=dI(b,c.path),e=d[1],f=IDBKeyRange.lowerBound(d),g=!1;return lt(a).iterate({range:f,keysOnly:!0},(a,c,d)=>{let[f,h,i]=a;f===b&&h===e&&(g=!0),d.done()}).next(()=>g)}function lr(a,b){let c=!1;return lu(a).iterateSerial(d=>lq(a,d,b).next(a=>(a&&(c=!0),c5.resolve(!a)))).next(()=>c)}function ls(a){return eE(a,dD)}function lt(a){return eE(a,dL)}function lu(a){return eE(a,dB)}let lv=2;class lw{constructor(a){this.lastId=a}next(){return this.lastId+=lv,this.lastId}static forTargetCache(){return new lw(2-lv)}static forSyncEngine(){return new lw(1-lv)}}class lx{constructor(a,b){this.referenceDelegate=a,this.serializer=b}allocateTargetId(a){return this.retrieveMetadata(a).next(b=>{let c=new lw(b.highestTargetId);return b.highestTargetId=c.next(),this.saveMetadata(a,b).next(()=>b.highestTargetId)})}getLastRemoteSnapshotVersion(a){return this.retrieveMetadata(a).next(a=>cO.fromTimestamp(new cN(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(a){return this.retrieveMetadata(a).next(a=>a.highestListenSequenceNumber)}setTargetsMetadata(a,b,c){return this.retrieveMetadata(a).next(d=>(d.highestListenSequenceNumber=b,c&&(d.lastRemoteSnapshotVersion=c.toTimestamp()),b>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=b),this.saveMetadata(a,d)))}addTargetData(a,b){return this.saveTargetData(a,b).next(()=>this.retrieveMetadata(a).next(c=>(c.targetCount+=1,this.updateMetadataFromTargetData(b,c),this.saveMetadata(a,c))))}updateTargetData(a,b){return this.saveTargetData(a,b)}removeTargetData(a,b){return this.removeMatchingKeysForTargetId(a,b.targetId).next(()=>ly(a).delete(b.targetId)).next(()=>this.retrieveMetadata(a)).next(b=>(bT(b.targetCount>0,8065),b.targetCount-=1,this.saveMetadata(a,b)))}removeTargets(a,b,c){let d=0,e=[];return ly(a).iterate((f,g)=>{let h=j1(g);h.sequenceNumber<=b&&null===c.get(h.targetId)&&(d++,e.push(this.removeTargetData(a,h)))}).next(()=>c5.waitFor(e)).next(()=>d)}forEachTarget(a,b){return ly(a).iterate((a,c)=>{b(j1(c))})}retrieveMetadata(a){return lz(a).get(d0).next(a=>(bT(null!==a,2888),a))}saveMetadata(a,b){return lz(a).put(d0,b)}saveTargetData(a,b){return ly(a).put(j2(this.serializer,b))}updateMetadataFromTargetData(a,b){let c=!1;return a.targetId>b.highestTargetId&&(b.highestTargetId=a.targetId,c=!0),a.sequenceNumber>b.highestListenSequenceNumber&&(b.highestListenSequenceNumber=a.sequenceNumber,c=!0),c}getTargetCount(a){return this.retrieveMetadata(a).next(a=>a.targetCount)}getTargetData(a,b){let c=gD(b),d=IDBKeyRange.bound([c,-1/0],[c,1/0]),e=null;return ly(a).iterate({range:d,index:dW},(a,c,d)=>{let f=j1(c);gF(b,f.target)&&(e=f,d.done())}).next(()=>e)}addMatchingKeys(a,b,c){let d=[],e=lA(a);return b.forEach(b=>{let f=du(b.path);d.push(e.put({targetId:c,path:f})),d.push(this.referenceDelegate.addReference(a,c,b))}),c5.waitFor(d)}removeMatchingKeys(a,b,c){let d=lA(a);return c5.forEach(b,b=>{let e=du(b.path);return c5.waitFor([d.delete([c,e]),this.referenceDelegate.removeReference(a,c,b)])})}removeMatchingKeysForTargetId(a,b){let c=lA(a),d=IDBKeyRange.bound([b],[b+1],!1,!0);return c.delete(d)}getMatchingKeysForTargetId(a,b){let c=IDBKeyRange.bound([b],[b+1],!1,!0),d=lA(a),e=ht();return d.iterate({range:c,keysOnly:!0},(a,b,c)=>{let d=new cz(dx(a[1]));e=e.add(d)}).next(()=>e)}containsKey(a,b){let c=du(b.path),d=IDBKeyRange.bound([c],[ct(c)],!1,!0),e=0;return lA(a).iterate({index:d$,keysOnly:!0,range:d},([a,b],c,d)=>{0!==a&&(e++,d.done())}).next(()=>e>0)}getTargetDataForTarget(a,b){return ly(a).get(b).next(a=>a?j1(a):null)}}function ly(a){return eE(a,dU)}function lz(a){return eE(a,d1)}function lA(a){return eE(a,dY)}let lB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lC=-1,lD=0x2800000;class lE{static withCacheSize(a){return new lE(a,lE.DEFAULT_COLLECTION_PERCENTILE,lE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(a,b,c){this.cacheSizeCollectionThreshold=a,this.percentileToCollect=b,this.maximumSequenceNumbersToCollect=c}}lE.DEFAULT_COLLECTION_PERCENTILE=10,lE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lE.DEFAULT=new lE(lD,lE.DEFAULT_COLLECTION_PERCENTILE,lE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lE.DISABLED=new lE(lC,0,0);let lF="LruGarbageCollector",lG=1048576,lH=6e4,lI=3e5;function lJ([a,b],[c,d]){let e=cn(a,c);return 0===e?cn(b,d):e}class lK{constructor(a){this.maxElements=a,this.buffer=new eN(lJ),this.previousIndex=0}nextIndex(){return++this.previousIndex}addElement(a){let b=[a,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(b);else{let a=this.buffer.last();0>lJ(b,a)&&(this.buffer=this.buffer.delete(a).add(b))}}get maxValue(){return this.buffer.last()[0]}}class lL{constructor(a,b,c){this.garbageCollector=a,this.asyncQueue=b,this.localStore=c,this.gcTask=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==lC&&this.scheduleGC(lH)}stop(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)}get started(){return null!==this.gcTask}scheduleGC(a){bN(lF,`Garbage collection scheduled in ${a}ms`),this.gcTask=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",a,async()=>{this.gcTask=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(a){dd(a)?bN(lF,"Ignoring IndexedDB error during garbage collection: ",a):await c4(a)}await this.scheduleGC(lI)})}}class lM{constructor(a,b){this.delegate=a,this.params=b}calculateTargetCount(a,b){return this.delegate.getSequenceNumberCount(a).next(a=>Math.floor(b/100*a))}nthSequenceNumber(a,b){if(0===b)return c5.resolve(dp.INVALID);let c=new lK(b);return this.delegate.forEachTarget(a,a=>c.addElement(a.sequenceNumber)).next(()=>this.delegate.forEachOrphanedDocumentSequenceNumber(a,a=>c.addElement(a))).next(()=>c.maxValue)}removeTargets(a,b,c){return this.delegate.removeTargets(a,b,c)}removeOrphanedDocuments(a,b){return this.delegate.removeOrphanedDocuments(a,b)}collect(a,b){return this.params.cacheSizeCollectionThreshold===lC?(bN("LruGarbageCollector","Garbage collection skipped; disabled"),c5.resolve(lB)):this.getCacheSize(a).next(c=>c<this.params.cacheSizeCollectionThreshold?(bN("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lB):this.runGarbageCollection(a,b))}getCacheSize(a){return this.delegate.getCacheSize(a)}runGarbageCollection(a,b){let c,d,e,f,g,h,i,j=Date.now();return this.calculateTargetCount(a,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(bN("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),d=this.params.maximumSequenceNumbersToCollect):d=b,f=Date.now(),this.nthSequenceNumber(a,d))).next(d=>(c=d,g=Date.now(),this.removeTargets(a,c,b))).next(b=>(e=b,h=Date.now(),this.removeOrphanedDocuments(a,c))).next(a=>(i=Date.now(),bM()<=bs.DEBUG&&bN("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-j}ms
	Determined least recently used ${d} in ${g-f}ms
	Removed ${e} targets in ${h-g}ms
	Removed ${a} documents in ${i-h}ms
Total Duration: ${i-j}ms`),c5.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:e,documentsRemoved:a})))}}function lN(a,b){return new lM(a,b)}class lO{constructor(a,b){this.db=a,this.garbageCollector=lN(this,b)}getSequenceNumberCount(a){let b=this.orphanedDocumentCount(a);return this.db.getTargetCache().getTargetCount(a).next(a=>b.next(b=>a+b))}orphanedDocumentCount(a){let b=0;return this.forEachOrphanedDocumentSequenceNumber(a,a=>{b++}).next(()=>b)}forEachTarget(a,b){return this.db.getTargetCache().forEachTarget(a,b)}forEachOrphanedDocumentSequenceNumber(a,b){return this.forEachOrphanedDocument(a,(a,c)=>b(c))}addReference(a,b,c){return lR(a,c)}removeReference(a,b,c){return lR(a,c)}removeTargets(a,b,c){return this.db.getTargetCache().removeTargets(a,b,c)}markPotentiallyOrphaned(a,b){return lR(a,b)}isPinned(a,b){return lr(a,b)}removeOrphanedDocuments(a,b){let c=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[],e=0;return this.forEachOrphanedDocument(a,(f,g)=>{if(g<=b){let b=this.isPinned(a,f).next(b=>{if(!b)return e++,c.getEntry(a,f).next(()=>(c.removeEntry(f,cO.min()),lA(a).delete(lP(f))))});d.push(b)}}).next(()=>c5.waitFor(d)).next(()=>c.apply(a)).next(()=>e)}removeTarget(a,b){let c=b.withSequenceNumber(a.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(a,c)}updateLimboDocument(a,b){return lR(a,b)}forEachOrphanedDocument(a,b){let c,d=lA(a),e=dp.INVALID;return d.iterate({index:d$},([a,d],{path:f,sequenceNumber:g})=>{0===a?(e!==dp.INVALID&&b(new cz(dx(c)),e),e=g,c=f):e=dp.INVALID}).next(()=>{e!==dp.INVALID&&b(new cz(dx(c)),e)})}getCacheSize(a){return this.db.getRemoteDocumentCache().getSize(a)}}function lP(a){return[0,du(a.path)]}function lQ(a,b){return{targetId:0,path:du(a.path),sequenceNumber:b}}function lR(a,b){return lA(a).put(lQ(b,a.currentSequenceNumber))}class lS{constructor(){this.changes=new hg(a=>a.toString(),(a,b)=>a.isEqual(b)),this.changesApplied=!1}addEntry(a){this.assertNotApplied(),this.changes.set(a.key,a)}removeEntry(a,b){this.assertNotApplied(),this.changes.set(a,f3.newInvalidDocument(a).setReadTime(b))}getEntry(a,b){this.assertNotApplied();let c=this.changes.get(b);return void 0!==c?c5.resolve(c):this.getFromCache(a,b)}getEntries(a,b){return this.getAllFromCache(a,b)}apply(a){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(a)}assertNotApplied(){}}class lT{constructor(a){this.serializer=a}setIndexManager(a){this.indexManager=a}addEntry(a,b,c){return lX(a).put(c)}removeEntry(a,b,c){return lX(a).delete(lZ(b,c))}updateMetadata(a,b){return this.getMetadata(a).next(c=>(c.byteSize+=b,this.setMetadata(a,c)))}getEntry(a,b){let c=f3.newInvalidDocument(b);return lX(a).iterate({index:dO,range:IDBKeyRange.only(lY(b))},(a,d)=>{c=this.maybeDecodeDocument(b,d)}).next(()=>c)}getSizedEntry(a,b){let c={size:0,document:f3.newInvalidDocument(b)};return lX(a).iterate({index:dO,range:IDBKeyRange.only(lY(b))},(a,d)=>{c={document:this.maybeDecodeDocument(b,d),size:lo(d)}}).next(()=>c)}getEntries(a,b){let c=hi();return this.forEachDbEntry(a,b,(a,b)=>{let d=this.maybeDecodeDocument(a,b);c=c.insert(a,d)}).next(()=>c)}getSizedEntries(a,b){let c=hi(),d=new eJ(cz.comparator);return this.forEachDbEntry(a,b,(a,b)=>{let e=this.maybeDecodeDocument(a,b);c=c.insert(a,e),d=d.insert(a,lo(b))}).next(()=>({documents:c,sizeMap:d}))}forEachDbEntry(a,b,c){if(b.isEmpty())return c5.resolve();let d=new eN(l_);b.forEach(a=>d=d.add(a));let e=IDBKeyRange.bound(lY(d.first()),lY(d.last())),f=d.getIterator(),g=f.getNext();return lX(a).iterate({index:dO,range:e},(a,b,d)=>{let e=cz.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;g&&0>l_(g,e);)c(g,null),g=f.getNext();g&&g.isEqual(e)&&(c(g,b),g=f.hasNext()?f.getNext():null),g?d.skip(lY(g)):d.done()}).next(()=>{for(;g;)c(g,null),g=f.hasNext()?f.getNext():null})}getDocumentsMatchingQuery(a,b,c,d,e){let f=b.path,g=[f.popLast().toArray(),f.lastSegment(),jX(c.readTime),c.documentKey.path.isEmpty()?"":c.documentKey.path.lastSegment()],h=[f.popLast().toArray(),f.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lX(a).loadAll(IDBKeyRange.bound(g,h,!0)).next(a=>{e?.incrementDocumentReadCount(a.length);let c=hi();for(let e of a){let a=this.maybeDecodeDocument(cz.fromSegments(e.prefixPath.concat(e.collectionGroup,e.documentId)),e);a.isFoundDocument()&&(g8(b,a)||d.has(a.key))&&(c=c.insert(a.key,a))}return c})}getAllFromCollectionGroup(a,b,c,d){let e=hi(),f=l$(b,c),g=l$(b,c0.max());return lX(a).iterate({index:dQ,range:IDBKeyRange.bound(f,g,!0)},(a,b,c)=>{let f=this.maybeDecodeDocument(cz.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);(e=e.insert(f.key,f)).size===d&&c.done()}).next(()=>e)}newChangeBuffer(a){return new lV(this,!!a&&a.trackRemovals)}getSize(a){return this.getMetadata(a).next(a=>a.byteSize)}getMetadata(a){return lW(a).get(dT).next(a=>(bT(!!a,20021),a))}setMetadata(a,b){return lW(a).put(dT,b)}maybeDecodeDocument(a,b){if(b){let a=jV(this.serializer,b);if(!(a.isNoDocument()&&a.version.isEqual(cO.min())))return a}return f3.newInvalidDocument(a)}}function lU(a){return new lT(a)}class lV extends lS{constructor(a,b){super(),this.documentCache=a,this.trackRemovals=b,this.documentStates=new hg(a=>a.toString(),(a,b)=>a.isEqual(b))}applyChanges(a){let b=[],c=0,d=new eN((a,b)=>cn(a.canonicalString(),b.canonicalString()));return this.changes.forEach((e,f)=>{let g=this.documentStates.get(e);if(b.push(this.documentCache.removeEntry(a,e,g.readTime)),f.isValidDocument()){let h=jW(this.documentCache.serializer,f);d=d.add(e.path.popLast());let i=lo(h);c+=i-g.size,b.push(this.documentCache.addEntry(a,e,h))}else if(c-=g.size,this.trackRemovals){let c=jW(this.documentCache.serializer,f.convertToNoDocument(cO.min()));b.push(this.documentCache.addEntry(a,e,c))}}),d.forEach(c=>{b.push(this.documentCache.indexManager.addToCollectionParentIndex(a,c))}),b.push(this.documentCache.updateMetadata(a,c)),c5.waitFor(b)}getFromCache(a,b){return this.documentCache.getSizedEntry(a,b).next(a=>(this.documentStates.set(b,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(a,b){return this.documentCache.getSizedEntries(a,b).next(({documents:a,sizeMap:b})=>(b.forEach((b,c)=>{this.documentStates.set(b,{size:c,readTime:a.get(b).readTime})}),a))}}function lW(a){return eE(a,dS)}function lX(a){return eE(a,dM)}function lY(a){let b=a.path.toArray();return[b.slice(0,b.length-2),b[b.length-2],b[b.length-1]]}function lZ(a,b){let c=a.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],jX(b),c[c.length-1]]}function l$(a,b){let c=b.documentKey.path.toArray();return[a,jX(b.readTime),c.slice(0,c.length-2),c.length>0?c[c.length-1]:""]}function l_(a,b){let c=a.path.toArray(),d=b.path.toArray(),e=0;for(let a=0;a<c.length-2&&a<d.length-2;++a)if(e=cn(c[a],d[a]))return e;return(e=cn(c.length,d.length))||(e=cn(c[c.length-2],d[d.length-2]))?e:cn(c[c.length-1],d[d.length-1])}let l0=18;class l1{constructor(a,b){this.overlayedDocument=a,this.mutatedFields=b}}class l2{constructor(a,b,c,d){this.remoteDocumentCache=a,this.mutationQueue=b,this.documentOverlayCache=c,this.indexManager=d}getDocument(a,b){let c=null;return this.documentOverlayCache.getOverlay(a,b).next(d=>(c=d,this.remoteDocumentCache.getEntry(a,b))).next(a=>(null!==c&&hW(c.mutation,a,eR.empty(),cN.now()),a))}getDocuments(a,b){return this.remoteDocumentCache.getEntries(a,b).next(b=>this.getLocalViewOfDocuments(a,b,ht()).next(()=>b))}getLocalViewOfDocuments(a,b,c=ht()){let d=hn();return this.populateOverlays(a,d,b).next(()=>this.computeViews(a,b,d,c).next(a=>{let b=hk();return a.forEach((a,c)=>{b=b.insert(a,c.overlayedDocument)}),b}))}getOverlayedDocuments(a,b){let c=hn();return this.populateOverlays(a,c,b).next(()=>this.computeViews(a,b,c,ht()))}populateOverlays(a,b,c){let d=[];return c.forEach(a=>{b.has(a)||d.push(a)}),this.documentOverlayCache.getOverlays(a,d).next(a=>{a.forEach((a,c)=>{b.set(a,c)})})}computeViews(a,b,c,d){let e=hi(),f=hp(),g=hl();return b.forEach((a,b)=>{let g=c.get(b.key);d.has(b.key)&&(void 0===g||g.mutation instanceof h0)?e=e.insert(b.key,b):void 0!==g?(f.set(b.key,g.mutation.getFieldMask()),hW(g.mutation,b,g.mutation.getFieldMask(),cN.now())):f.set(b.key,eR.empty())}),this.recalculateAndSaveOverlays(a,e).next(a=>(a.forEach((a,b)=>f.set(a,b)),b.forEach((a,b)=>g.set(a,new l1(b,f.get(a)??null))),g))}recalculateAndSaveOverlays(a,b){let c=hp(),d=new eJ((a,b)=>a-b),e=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(a,b).next(a=>{for(let e of a)e.keys().forEach(a=>{let f=b.get(a);if(null===f)return;let g=c.get(a)||eR.empty();g=e.applyToLocalView(f,g),c.set(a,g);let h=(d.get(e.batchId)||ht()).add(a);d=d.insert(e.batchId,h)})}).next(()=>{let f=[],g=d.getReverseIterator();for(;g.hasNext();){let d=g.getNext(),h=d.key,i=d.value,j=ho();i.forEach(a=>{if(!e.has(a)){let d=hU(b.get(a),c.get(a));null!==d&&j.set(a,d),e=e.add(a)}}),f.push(this.documentOverlayCache.saveOverlays(a,h,j))}return c5.waitFor(f)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(a,b){return this.remoteDocumentCache.getEntries(a,b).next(b=>this.recalculateAndSaveOverlays(a,b))}getDocumentsMatchingQuery(a,b,c,d){return gW(b)?this.getDocumentsMatchingDocumentQuery(a,b.path):gX(b)?this.getDocumentsMatchingCollectionGroupQuery(a,b,c,d):this.getDocumentsMatchingCollectionQuery(a,b,c,d)}getNextDocuments(a,b,c,d){return this.remoteDocumentCache.getAllFromCollectionGroup(a,b,c,d).next(e=>{let f=d-e.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(a,b,c.largestBatchId,d-e.size):c5.resolve(hn()),g=cP,h=e;return f.next(b=>c5.forEach(b,(b,c)=>(g<c.largestBatchId&&(g=c.largestBatchId),e.get(b))?c5.resolve():this.remoteDocumentCache.getEntry(a,b).next(a=>{h=h.insert(b,a)})).next(()=>this.populateOverlays(a,b,e)).next(()=>this.computeViews(a,h,b,ht())).next(a=>({batchId:g,changes:hm(a)})))})}getDocumentsMatchingDocumentQuery(a,b){return this.getDocument(a,new cz(b)).next(a=>{let b=hk();return a.isFoundDocument()&&(b=b.insert(a.key,a)),b})}getDocumentsMatchingCollectionGroupQuery(a,b,c,d){let e=b.collectionGroup,f=hk();return this.indexManager.getCollectionParents(a,e).next(g=>c5.forEach(g,g=>{let h=gT(b,g.child(e));return this.getDocumentsMatchingCollectionQuery(a,h,c,d).next(a=>{a.forEach((a,b)=>{f=f.insert(a,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(a,b,c,d){let e;return this.documentOverlayCache.getOverlaysForCollection(a,b.path,c.largestBatchId).next(f=>(e=f,this.remoteDocumentCache.getDocumentsMatchingQuery(a,b,c,e,d))).next(a=>{e.forEach((b,c)=>{let d=c.getKey();null===a.get(d)&&(a=a.insert(d,f3.newInvalidDocument(d)))});let c=hk();return a.forEach((a,d)=>{let f=e.get(a);void 0!==f&&hW(f.mutation,d,eR.empty(),cN.now()),g8(b,d)&&(c=c.insert(a,d))}),c})}}class l3{constructor(a){this.serializer=a,this.bundles=new Map,this.namedQueries=new Map}getBundleMetadata(a,b){return c5.resolve(this.bundles.get(b))}saveBundleMetadata(a,b){return this.bundles.set(b.id,ka(b)),c5.resolve()}getNamedQuery(a,b){return c5.resolve(this.namedQueries.get(b))}saveNamedQuery(a,b){return this.namedQueries.set(b.name,j9(b)),c5.resolve()}}class l4{constructor(){this.overlays=new eJ(cz.comparator),this.overlayByBatchId=new Map}getOverlay(a,b){return c5.resolve(this.overlays.get(b))}getOverlays(a,b){let c=hn();return c5.forEach(b,b=>this.getOverlay(a,b).next(a=>{null!==a&&c.set(b,a)})).next(()=>c)}saveOverlays(a,b,c){return c.forEach((c,d)=>{this.saveOverlay(a,b,d)}),c5.resolve()}removeOverlaysForBatchId(a,b,c){let d=this.overlayByBatchId.get(c);return void 0!==d&&(d.forEach(a=>this.overlays=this.overlays.remove(a)),this.overlayByBatchId.delete(c)),c5.resolve()}getOverlaysForCollection(a,b,c){let d=hn(),e=b.length+1,f=new cz(b.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){let a=g.getNext().value,f=a.getKey();if(!b.isPrefixOf(f.path))break;f.path.length===e&&a.largestBatchId>c&&d.set(a.getKey(),a)}return c5.resolve(d)}getOverlaysForCollectionGroup(a,b,c,d){let e=new eJ((a,b)=>a-b),f=this.overlays.getIterator();for(;f.hasNext();){let a=f.getNext().value;if(a.getKey().getCollectionGroup()===b&&a.largestBatchId>c){let b=e.get(a.largestBatchId);null===b&&(b=hn(),e=e.insert(a.largestBatchId,b)),b.set(a.getKey(),a)}}let g=hn(),h=e.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((a,b)=>g.set(a,b)),!(g.size()>=d)););return c5.resolve(g)}saveOverlay(a,b,c){let d=this.overlays.get(c.key);if(null!==d){let a=this.overlayByBatchId.get(d.largestBatchId).delete(c.key);this.overlayByBatchId.set(d.largestBatchId,a)}this.overlays=this.overlays.insert(c.key,new ic(b,c));let e=this.overlayByBatchId.get(b);void 0===e&&(e=ht(),this.overlayByBatchId.set(b,e)),this.overlayByBatchId.set(b,e.add(c.key))}}class l5{constructor(){this.sessionToken=eU.EMPTY_BYTE_STRING}getSessionToken(a){return c5.resolve(this.sessionToken)}setSessionToken(a,b){return this.sessionToken=b,c5.resolve()}}class l6{constructor(){this.refsByKey=new eN(l7.compareByKey),this.refsByTarget=new eN(l7.compareByTargetId)}isEmpty(){return this.refsByKey.isEmpty()}addReference(a,b){let c=new l7(a,b);this.refsByKey=this.refsByKey.add(c),this.refsByTarget=this.refsByTarget.add(c)}addReferences(a,b){a.forEach(a=>this.addReference(a,b))}removeReference(a,b){this.removeRef(new l7(a,b))}removeReferences(a,b){a.forEach(a=>this.removeReference(a,b))}removeReferencesForId(a){let b=new cz(new cw([])),c=new l7(b,a),d=new l7(b,a+1),e=[];return this.refsByTarget.forEachInRange([c,d],a=>{this.removeRef(a),e.push(a.key)}),e}removeAllReferences(){this.refsByKey.forEach(a=>this.removeRef(a))}removeRef(a){this.refsByKey=this.refsByKey.delete(a),this.refsByTarget=this.refsByTarget.delete(a)}referencesForId(a){let b=new cz(new cw([])),c=new l7(b,a),d=new l7(b,a+1),e=ht();return this.refsByTarget.forEachInRange([c,d],a=>{e=e.add(a.key)}),e}containsKey(a){let b=new l7(a,0),c=this.refsByKey.firstAfterOrEqual(b);return null!==c&&a.isEqual(c.key)}}class l7{constructor(a,b){this.key=a,this.targetOrBatchId=b}static compareByKey(a,b){return cz.comparator(a.key,b.key)||cn(a.targetOrBatchId,b.targetOrBatchId)}static compareByTargetId(a,b){return cn(a.targetOrBatchId,b.targetOrBatchId)||cz.comparator(a.key,b.key)}}class l8{constructor(a,b){this.indexManager=a,this.referenceDelegate=b,this.mutationQueue=[],this.nextBatchId=1,this.batchesByDocumentKey=new eN(l7.compareByKey)}checkEmpty(a){return c5.resolve(0===this.mutationQueue.length)}addMutationBatch(a,b,c,d){let e=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let f=new ia(e,b,c,d);for(let b of(this.mutationQueue.push(f),d))this.batchesByDocumentKey=this.batchesByDocumentKey.add(new l7(b.key,e)),this.indexManager.addToCollectionParentIndex(a,b.key.path.popLast());return c5.resolve(f)}lookupMutationBatch(a,b){return c5.resolve(this.findMutationBatch(b))}getNextMutationBatchAfterBatchId(a,b){let c=b+1,d=this.indexOfBatchId(c),e=d<0?0:d;return c5.resolve(this.mutationQueue.length>e?this.mutationQueue[e]:null)}getHighestUnacknowledgedBatchId(){return c5.resolve(0===this.mutationQueue.length?fb:this.nextBatchId-1)}getAllMutationBatches(a){return c5.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(a,b){let c=new l7(b,0),d=new l7(b,1/0),e=[];return this.batchesByDocumentKey.forEachInRange([c,d],a=>{let b=this.findMutationBatch(a.targetOrBatchId);e.push(b)}),c5.resolve(e)}getAllMutationBatchesAffectingDocumentKeys(a,b){let c=new eN(cn);return b.forEach(a=>{let b=new l7(a,0),d=new l7(a,1/0);this.batchesByDocumentKey.forEachInRange([b,d],a=>{c=c.add(a.targetOrBatchId)})}),c5.resolve(this.findMutationBatches(c))}getAllMutationBatchesAffectingQuery(a,b){let c=b.path,d=c.length+1,e=c;cz.isDocumentKey(e)||(e=e.child(""));let f=new l7(new cz(e),0),g=new eN(cn);return this.batchesByDocumentKey.forEachWhile(a=>{let b=a.key.path;return!!c.isPrefixOf(b)&&(b.length===d&&(g=g.add(a.targetOrBatchId)),!0)},f),c5.resolve(this.findMutationBatches(g))}findMutationBatches(a){let b=[];return a.forEach(a=>{let c=this.findMutationBatch(a);null!==c&&b.push(c)}),b}removeMutationBatch(a,b){bT(0===this.indexOfExistingBatchId(b.batchId,"removed"),55003),this.mutationQueue.shift();let c=this.batchesByDocumentKey;return c5.forEach(b.mutations,d=>{let e=new l7(d.key,b.batchId);return c=c.delete(e),this.referenceDelegate.markPotentiallyOrphaned(a,d.key)}).next(()=>{this.batchesByDocumentKey=c})}removeCachedMutationKeys(a){}containsKey(a,b){let c=new l7(b,0),d=this.batchesByDocumentKey.firstAfterOrEqual(c);return c5.resolve(b.isEqual(d&&d.key))}performConsistencyCheck(a){return this.mutationQueue.length,c5.resolve()}indexOfExistingBatchId(a,b){return this.indexOfBatchId(a)}indexOfBatchId(a){return 0===this.mutationQueue.length?0:a-this.mutationQueue[0].batchId}findMutationBatch(a){let b=this.indexOfBatchId(a);return b<0||b>=this.mutationQueue.length?null:this.mutationQueue[b]}}let l9="-9223372036854775808";function ma(){return new eJ(cz.comparator)}class mb{constructor(a){this.sizer=a,this.docs=ma(),this.size=0}setIndexManager(a){this.indexManager=a}addEntry(a,b){let c=b.key,d=this.docs.get(c),e=d?d.size:0,f=this.sizer(b);return this.docs=this.docs.insert(c,{document:b.mutableCopy(),size:f}),this.size+=f-e,this.indexManager.addToCollectionParentIndex(a,c.path.popLast())}removeEntry(a){let b=this.docs.get(a);b&&(this.docs=this.docs.remove(a),this.size-=b.size)}getEntry(a,b){let c=this.docs.get(b);return c5.resolve(c?c.document.mutableCopy():f3.newInvalidDocument(b))}getEntries(a,b){let c=hi();return b.forEach(a=>{let b=this.docs.get(a);c=c.insert(a,b?b.document.mutableCopy():f3.newInvalidDocument(a))}),c5.resolve(c)}getDocumentsMatchingQuery(a,b,c,d){let e=hi(),f=b.path,g=new cz(f.child("__id"+l9+"__")),h=this.docs.getIteratorFrom(g);for(;h.hasNext();){let{key:a,value:{document:g}}=h.getNext();if(!f.isPrefixOf(a.path))break;!(a.path.length>f.length+1||0>=c1(c_(g),c))&&(d.has(g.key)||g8(b,g))&&(e=e.insert(g.key,g.mutableCopy()))}return c5.resolve(e)}getAllFromCollectionGroup(a,b,c,d){bR(9500)}forEachDocumentKey(a,b){return c5.forEach(this.docs,a=>b(a))}newChangeBuffer(a){return new md(this)}getSize(a){return c5.resolve(this.size)}}function mc(a){return new mb(a)}class md extends lS{constructor(a){super(),this.documentCache=a}applyChanges(a){let b=[];return this.changes.forEach((c,d)=>{d.isValidDocument()?b.push(this.documentCache.addEntry(a,d)):this.documentCache.removeEntry(c)}),c5.waitFor(b)}getFromCache(a,b){return this.documentCache.getEntry(a,b)}getAllFromCache(a,b){return this.documentCache.getEntries(a,b)}}class me{constructor(a){this.persistence=a,this.targets=new hg(a=>gD(a),gF),this.lastRemoteSnapshotVersion=cO.min(),this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new l6,this.targetCount=0,this.targetIdGenerator=lw.forTargetCache()}forEachTarget(a,b){return this.targets.forEach((a,c)=>b(c)),c5.resolve()}getLastRemoteSnapshotVersion(a){return c5.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(a){return c5.resolve(this.highestSequenceNumber)}allocateTargetId(a){return this.highestTargetId=this.targetIdGenerator.next(),c5.resolve(this.highestTargetId)}setTargetsMetadata(a,b,c){return c&&(this.lastRemoteSnapshotVersion=c),b>this.highestSequenceNumber&&(this.highestSequenceNumber=b),c5.resolve()}saveTargetData(a){this.targets.set(a.target,a);let b=a.targetId;b>this.highestTargetId&&(this.targetIdGenerator=new lw(b),this.highestTargetId=b),a.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=a.sequenceNumber)}addTargetData(a,b){return this.saveTargetData(b),this.targetCount+=1,c5.resolve()}updateTargetData(a,b){return this.saveTargetData(b),c5.resolve()}removeTargetData(a,b){return this.targets.delete(b.target),this.references.removeReferencesForId(b.targetId),this.targetCount-=1,c5.resolve()}removeTargets(a,b,c){let d=0,e=[];return this.targets.forEach((f,g)=>{g.sequenceNumber<=b&&null===c.get(g.targetId)&&(this.targets.delete(f),e.push(this.removeMatchingKeysForTargetId(a,g.targetId)),d++)}),c5.waitFor(e).next(()=>d)}getTargetCount(a){return c5.resolve(this.targetCount)}getTargetData(a,b){let c=this.targets.get(b)||null;return c5.resolve(c)}addMatchingKeys(a,b,c){return this.references.addReferences(b,c),c5.resolve()}removeMatchingKeys(a,b,c){this.references.removeReferences(b,c);let d=this.persistence.referenceDelegate,e=[];return d&&b.forEach(b=>{e.push(d.markPotentiallyOrphaned(a,b))}),c5.waitFor(e)}removeMatchingKeysForTargetId(a,b){return this.references.removeReferencesForId(b),c5.resolve()}getMatchingKeysForTargetId(a,b){let c=this.references.referencesForId(b);return c5.resolve(c)}containsKey(a,b){return c5.resolve(this.references.containsKey(b))}}let mf="MemoryPersistence";class mg{constructor(a,b){this.mutationQueues={},this.overlays={},this.listenSequence=new dp(0),this._started=!1,this._started=!0,this.globalsCache=new l5,this.referenceDelegate=a(this),this.targetCache=new me(this);const c=a=>this.referenceDelegate.documentSize(a);this.indexManager=new ld,this.remoteDocumentCache=mc(c),this.serializer=new jU(b),this.bundleCache=new l3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this._started=!1,Promise.resolve()}get started(){return this._started}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(a){return this.indexManager}getDocumentOverlayCache(a){let b=this.overlays[a.toKey()];return b||(b=new l4,this.overlays[a.toKey()]=b),b}getMutationQueue(a,b){let c=this.mutationQueues[a.toKey()];return c||(c=new l8(b,this.referenceDelegate),this.mutationQueues[a.toKey()]=c),c}getGlobalsCache(){return this.globalsCache}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.bundleCache}runTransaction(a,b,c){bN(mf,"Starting transaction:",a);let d=new mh(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),c(d).next(a=>this.referenceDelegate.onTransactionCommitted(d).next(()=>a)).toPromise().then(a=>(d.raiseOnCommittedEvent(),a))}mutationQueuesContainKey(a,b){return c5.or(Object.values(this.mutationQueues).map(c=>()=>c.containsKey(a,b)))}}class mh extends c3{constructor(a){super(),this.currentSequenceNumber=a}}class mi{constructor(a){this.persistence=a,this.localViewReferences=new l6,this._orphanedDocuments=null}static factory(a){return new mi(a)}get orphanedDocuments(){if(this._orphanedDocuments)return this._orphanedDocuments;throw bR(60996)}addReference(a,b,c){return this.localViewReferences.addReference(c,b),this.orphanedDocuments.delete(c.toString()),c5.resolve()}removeReference(a,b,c){return this.localViewReferences.removeReference(c,b),this.orphanedDocuments.add(c.toString()),c5.resolve()}markPotentiallyOrphaned(a,b){return this.orphanedDocuments.add(b.toString()),c5.resolve()}removeTarget(a,b){this.localViewReferences.removeReferencesForId(b.targetId).forEach(a=>this.orphanedDocuments.add(a.toString()));let c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(a,b.targetId).next(a=>{a.forEach(a=>this.orphanedDocuments.add(a.toString()))}).next(()=>c.removeTargetData(a,b))}onTransactionStarted(){this._orphanedDocuments=new Set}onTransactionCommitted(a){let b=this.persistence.getRemoteDocumentCache().newChangeBuffer();return c5.forEach(this.orphanedDocuments,c=>{let d=cz.fromPath(c);return this.isReferenced(a,d).next(a=>{a||b.removeEntry(d,cO.min())})}).next(()=>(this._orphanedDocuments=null,b.apply(a)))}updateLimboDocument(a,b){return this.isReferenced(a,b).next(a=>{a?this.orphanedDocuments.delete(b.toString()):this.orphanedDocuments.add(b.toString())})}documentSize(a){return 0}isReferenced(a,b){return c5.or([()=>c5.resolve(this.localViewReferences.containsKey(b)),()=>this.persistence.getTargetCache().containsKey(a,b),()=>this.persistence.mutationQueuesContainKey(a,b)])}}class mj{constructor(a,b){this.persistence=a,this.orphanedSequenceNumbers=new hg(a=>du(a.path),(a,b)=>a.isEqual(b)),this.garbageCollector=lN(this,b)}static factory(a,b){return new mj(a,b)}onTransactionStarted(){}onTransactionCommitted(a){return c5.resolve()}forEachTarget(a,b){return this.persistence.getTargetCache().forEachTarget(a,b)}getSequenceNumberCount(a){let b=this.orphanedDocumentCount(a);return this.persistence.getTargetCache().getTargetCount(a).next(a=>b.next(b=>a+b))}orphanedDocumentCount(a){let b=0;return this.forEachOrphanedDocumentSequenceNumber(a,a=>{b++}).next(()=>b)}forEachOrphanedDocumentSequenceNumber(a,b){return c5.forEach(this.orphanedSequenceNumbers,(c,d)=>this.isPinned(a,c,d).next(a=>a?c5.resolve():b(d)))}removeTargets(a,b,c){return this.persistence.getTargetCache().removeTargets(a,b,c)}removeOrphanedDocuments(a,b){let c=0,d=this.persistence.getRemoteDocumentCache(),e=d.newChangeBuffer();return d.forEachDocumentKey(a,d=>this.isPinned(a,d,b).next(a=>{a||(c++,e.removeEntry(d,cO.min()))})).next(()=>e.apply(a)).next(()=>c)}markPotentiallyOrphaned(a,b){return this.orphanedSequenceNumbers.set(b,a.currentSequenceNumber),c5.resolve()}removeTarget(a,b){let c=b.withSequenceNumber(a.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(a,c)}addReference(a,b,c){return this.orphanedSequenceNumbers.set(c,a.currentSequenceNumber),c5.resolve()}removeReference(a,b,c){return this.orphanedSequenceNumbers.set(c,a.currentSequenceNumber),c5.resolve()}updateLimboDocument(a,b){return this.orphanedSequenceNumbers.set(b,a.currentSequenceNumber),c5.resolve()}documentSize(a){let b=a.key.toString().length;return a.isFoundDocument()&&(b+=fK(a.data.value)),b}isPinned(a,b,c){return c5.or([()=>this.persistence.mutationQueuesContainKey(a,b),()=>this.persistence.getTargetCache().containsKey(a,b),()=>{let a=this.orphanedSequenceNumbers.get(b);return c5.resolve(void 0!==a&&a>c)}])}getCacheSize(a){return this.persistence.getRemoteDocumentCache().getSize(a)}}class mk{constructor(a){this.serializer=a}createOrUpgrade(a,b,c,d){let e=new c8("createOrUpgrade",b);c<1&&d>=1&&(mm(a),mn(a),ms(a),mp(a));let f=c5.resolve();return c<3&&d>=3&&(0!==c&&(mt(a),ms(a)),f=f.next(()=>mv(e))),c<4&&d>=4&&(0!==c&&(f=f.next(()=>mo(a,e))),f=f.next(()=>{mw(a)})),c<5&&d>=5&&(f=f.next(()=>this.removeAcknowledgedMutations(e))),c<6&&d>=6&&(f=f.next(()=>(mr(a),this.addDocumentGlobal(e)))),c<7&&d>=7&&(f=f.next(()=>this.ensureSequenceNumbers(e))),c<8&&d>=8&&(f=f.next(()=>this.createCollectionParentIndex(a,e))),c<9&&d>=9&&(f=f.next(()=>{mu(a)})),c<10&&d>=10&&(f=f.next(()=>this.rewriteCanonicalIds(e))),c<11&&d>=11&&(f=f.next(()=>{mx(a),my(a)})),c<12&&d>=12&&(f=f.next(()=>{mA(a)})),c<13&&d>=13&&(f=f.next(()=>mq(a)).next(()=>this.rewriteRemoteDocumentCache(a,e)).next(()=>a.deleteObjectStore(dy))),c<14&&d>=14&&(f=f.next(()=>this.runOverlayMigration(a,e))),c<15&&d>=15&&(f=f.next(()=>mz(a))),c<16&&d>=16&&(f=f.next(()=>{b.objectStore(ee).clear()}).next(()=>{b.objectStore(ei).clear()})),c<17&&d>=17&&(f=f.next(()=>{mB(a)})),c<18&&d>=18&&I()&&(f=f.next(()=>{b.objectStore(ee).clear()}).next(()=>{b.objectStore(ei).clear()})),f}addDocumentGlobal(a){let b=0;return a.store(dy).iterate((a,c)=>{b+=lo(c)}).next(()=>{let c={byteSize:b};return a.store(dS).put(dT,c)})}removeAcknowledgedMutations(a){let b=a.store(dB),c=a.store(dD);return b.loadAll().next(b=>c5.forEach(b,b=>{let d=IDBKeyRange.bound([b.userId,fb],[b.userId,b.lastAcknowledgedBatchId]);return c.loadAll(dF,d).next(c=>c5.forEach(c,c=>{bT(c.userId===b.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});let d=j0(this.serializer,c);return ln(a,b.userId,d).next(()=>{})}))}))}ensureSequenceNumbers(a){let b=a.store(dY),c=a.store(dy);return a.store(d1).get(d0).next(a=>{let d=c=>b.put({targetId:0,path:du(c),sequenceNumber:a.highestListenSequenceNumber}),e=[];return c.iterate((a,c)=>{let f=new cw(a),g=ml(f);e.push(b.get(g).next(a=>a?c5.resolve():d(f)))}).next(()=>c5.waitFor(e))})}createCollectionParentIndex(a,b){a.createObjectStore(d2,{keyPath:d3});let c=b.store(d2),d=new le,e=a=>{if(d.add(a)){let b=a.lastSegment(),d=a.popLast();return c.put({collectionId:b,parent:du(d)})}};return b.store(dy).iterate({keysOnly:!0},(a,b)=>e(new cw(a).popLast())).next(()=>b.store(dL).iterate({keysOnly:!0},([a,b,c],d)=>e(dx(b).popLast())))}rewriteCanonicalIds(a){let b=a.store(dU);return b.iterate((a,c)=>{let d=j1(c),e=j2(this.serializer,d);return b.put(e)})}rewriteRemoteDocumentCache(a,b){let c=b.store(dy),d=[];return c.iterate((a,c)=>{let e=b.store(dM),f=mC(c).path.toArray(),g={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};d.push(e.put(g))}).next(()=>c5.waitFor(d))}runOverlayMigration(a,b){let c=b.store(dD),d=lU(this.serializer),e=new mg(mi.factory,this.serializer.remoteSerializer);return c.loadAll().next(a=>{let c=new Map;return a.forEach(a=>{let b=c.get(a.userId)??ht();j0(this.serializer,a).keys().forEach(a=>b=b.add(a)),c.set(a.userId,b)}),c5.forEach(c,(a,c)=>{let f=new bH(c),g=kk.forUser(this.serializer,f),h=e.getIndexManager(f);return new l2(d,lp.forUser(f,this.serializer,h,e.referenceDelegate),g,h).recalculateAndSaveOverlaysForDocumentKeys(new eD(b,dp.INVALID),a).next()})})}}function ml(a){return[0,du(a)]}function mm(a){a.createObjectStore(dz)}function mn(a){a.createObjectStore(dB,{keyPath:dC}),a.createObjectStore(dD,{keyPath:dE,autoIncrement:!0}).createIndex(dF,dG,{unique:!0}),a.createObjectStore(dL)}function mo(a,b){return b.store(dD).loadAll().next(c=>{a.deleteObjectStore(dD),a.createObjectStore(dD,{keyPath:dE,autoIncrement:!0}).createIndex(dF,dG,{unique:!0});let d=b.store(dD),e=c.map(a=>d.put(a));return c5.waitFor(e)})}function mp(a){a.createObjectStore(dy)}function mq(a){let b=a.createObjectStore(dM,{keyPath:dN});b.createIndex(dO,dP),b.createIndex(dQ,dR)}function mr(a){a.createObjectStore(dS)}function ms(a){a.createObjectStore(dY,{keyPath:dZ}).createIndex(d$,d_,{unique:!0}),a.createObjectStore(dU,{keyPath:dV}).createIndex(dW,dX,{unique:!0}),a.createObjectStore(d1)}function mt(a){a.deleteObjectStore(dY),a.deleteObjectStore(dU),a.deleteObjectStore(d1)}function mu(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")}function mv(a){let b=a.store(d1),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cO.min().toTimestamp(),targetCount:0};return b.put(d0,c)}function mw(a){a.createObjectStore(d4,{keyPath:d5})}function mx(a){a.createObjectStore(d6,{keyPath:d7})}function my(a){a.createObjectStore(d8,{keyPath:d9})}function mz(a){a.createObjectStore(ea,{keyPath:eb,autoIncrement:!0}).createIndex(ec,ed,{unique:!1}),a.createObjectStore(ee,{keyPath:ef}).createIndex(eg,eh,{unique:!1}),a.createObjectStore(ei,{keyPath:ej}).createIndex(ek,el,{unique:!1})}function mA(a){let b=a.createObjectStore(em,{keyPath:en});b.createIndex(eo,ep,{unique:!1}),b.createIndex(eq,er,{unique:!1})}function mB(a){a.createObjectStore(es,{keyPath:et})}function mC(a){return a.document?new cz(cw.fromString(a.document.name).popFirst(5)):a.noDocument?cz.fromSegments(a.noDocument.path):a.unknownDocument?cz.fromSegments(a.unknownDocument.path):bR(36783)}let mD="IndexedDbPersistence",mE=18e5,mF=5e3,mG=4e3,mH="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",mI="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",mJ="firestore_zombie",mK="main";class mL{constructor(a,b,c,d,e,f,g,h,i,j,k=l0){if(this.allowTabSynchronization=a,this.persistenceKey=b,this.clientId=c,this.queue=e,this.window=f,this.document=g,this.sequenceNumberSyncer=i,this.forceOwningTab=j,this.schemaVersion=k,this.listenSequence=null,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=-1/0,this.primaryStateListener=a=>Promise.resolve(),!mL.isAvailable())throw new ca(b6,mI);this.referenceDelegate=new lO(this,d),this.dbName=b+mK,this.serializer=new jU(h),this.simpleDb=new c9(this.dbName,this.schemaVersion,new mk(this.serializer)),this.globalsCache=new km,this.targetCache=new lx(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lU(this.serializer),this.bundleCache=new kh,this.window&&this.window.localStorage?this.webStorage=this.window.localStorage:(this.webStorage=null,!1===j&&bO(mD,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.updateClientMetadataAndTryBecomePrimary().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ca(b3,mH);return this.attachVisibilityHandler(),this.attachWindowUnloadHook(),this.scheduleClientMetadataAndPrimaryLeaseRefreshes(),this.runTransaction("getHighestListenSequenceNumber","readonly",a=>this.targetCache.getHighestSequenceNumber(a))}).then(a=>{this.listenSequence=new dp(a,this.sequenceNumberSyncer)}).then(()=>{this._started=!0}).catch(a=>(this.simpleDb&&this.simpleDb.close(),Promise.reject(a)))}setPrimaryStateListener(a){return this.primaryStateListener=async b=>{if(this.started)return a(b)},a(this.isPrimary)}setDatabaseDeletedListener(a){this.simpleDb.setVersionChangeListener(async b=>{null===b.newVersion&&await a()})}setNetworkEnabled(a){this.networkEnabled!==a&&(this.networkEnabled=a,this.queue.enqueueAndForget(async()=>{this.started&&await this.updateClientMetadataAndTryBecomePrimary()}))}updateClientMetadataAndTryBecomePrimary(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",a=>mN(a).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.verifyPrimaryLease(a).next(a=>{a||(this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)))})}).next(()=>this.canActAsPrimary(a)).next(b=>this.isPrimary&&!b?this.releasePrimaryLeaseIfHeld(a).next(()=>!1):!!b&&this.acquireOrExtendPrimaryLease(a).next(()=>!0))).catch(a=>{if(dd(a))return bN(mD,"Failed to extend owner lease: ",a),this.isPrimary;if(!this.allowTabSynchronization)throw a;return bN(mD,"Releasing owner lease after error during lease refresh",a),!1}).then(a=>{this.isPrimary!==a&&this.queue.enqueueRetryable(()=>this.primaryStateListener(a)),this.isPrimary=a})}verifyPrimaryLease(a){return mM(a).get(dA).next(a=>c5.resolve(this.isLocalClient(a)))}removeClientMetadata(a){return mN(a).delete(this.clientId)}async maybeGarbageCollectMultiClientState(){if(this.isPrimary&&!this.isWithinAge(this.lastGarbageCollectionTime,mE)){this.lastGarbageCollectionTime=Date.now();let a=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",a=>{let b=eE(a,d4);return b.loadAll().next(a=>{let c=this.filterActiveClients(a,mE),d=a.filter(a=>-1===c.indexOf(a));return c5.forEach(d,a=>b.delete(a.clientId)).next(()=>d)})}).catch(()=>[]);if(this.webStorage)for(let b of a)this.webStorage.removeItem(this.zombiedClientLocalStorageKey(b.clientId))}}scheduleClientMetadataAndPrimaryLeaseRefreshes(){this.clientMetadataRefresher=this.queue.enqueueAfterDelay("client_metadata_refresh",mG,()=>this.updateClientMetadataAndTryBecomePrimary().then(()=>this.maybeGarbageCollectMultiClientState()).then(()=>this.scheduleClientMetadataAndPrimaryLeaseRefreshes()))}isLocalClient(a){return!!a&&a.ownerId===this.clientId}canActAsPrimary(a){return this.forceOwningTab?c5.resolve(!0):mM(a).get(dA).next(b=>{if(null!==b&&this.isWithinAge(b.leaseTimestampMs,mF)&&!this.isClientZombied(b.ownerId)){if(this.isLocalClient(b)&&this.networkEnabled)return!0;if(!this.isLocalClient(b)){if(!b.allowTabSynchronization)throw new ca(b3,mH);return!1}}return!!this.networkEnabled&&!!this.inForeground||mN(a).loadAll().next(a=>void 0===this.filterActiveClients(a,mF).find(a=>{if(this.clientId!==a.clientId){let b=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(b||c&&d)return!0}return!1}))}).next(a=>(this.isPrimary!==a&&bN(mD,`Client ${a?"is":"is not"} eligible for a primary lease.`),a))}async shutdown(){this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),await this.simpleDb.runTransaction("shutdown","readwrite",[dz,d4],a=>{let b=new eD(a,dp.INVALID);return this.releasePrimaryLeaseIfHeld(b).next(()=>this.removeClientMetadata(b))}),this.simpleDb.close(),this.removeClientZombiedEntry()}filterActiveClients(a,b){return a.filter(a=>this.isWithinAge(a.updateTimeMs,b)&&!this.isClientZombied(a.clientId))}getActiveClients(){return this.runTransaction("getActiveClients","readonly",a=>mN(a).loadAll().next(a=>this.filterActiveClients(a,mE).map(a=>a.clientId)))}get started(){return this._started}getGlobalsCache(){return this.globalsCache}getMutationQueue(a,b){return lp.forUser(a,this.serializer,b,this.referenceDelegate)}getTargetCache(){return this.targetCache}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(a){return new lh(a,this.serializer.remoteSerializer.databaseId)}getDocumentOverlayCache(a){return kk.forUser(this.serializer,a)}getBundleCache(){return this.bundleCache}runTransaction(a,b,c){let d;bN(mD,"Starting transaction:",a);let e="readonly"===b?"readonly":"readwrite",f=eC(this.schemaVersion);return this.simpleDb.runTransaction(a,e,f,e=>(d=new eD(e,this.listenSequence?this.listenSequence.next():dp.INVALID),"readwrite-primary"===b)?this.verifyPrimaryLease(d).next(a=>!!a||this.canActAsPrimary(d)).next(b=>{if(!b)throw bO(`Failed to obtain primary lease for action '${a}'.`),this.isPrimary=!1,this.queue.enqueueRetryable(()=>this.primaryStateListener(!1)),new ca(b3,c2);return c(d)}).next(a=>this.acquireOrExtendPrimaryLease(d).next(()=>a)):this.verifyAllowTabSynchronization(d).next(()=>c(d))).then(a=>(d.raiseOnCommittedEvent(),a))}verifyAllowTabSynchronization(a){return mM(a).get(dA).next(a=>{if(null!==a&&this.isWithinAge(a.leaseTimestampMs,mF)&&!this.isClientZombied(a.ownerId)&&!this.isLocalClient(a)&&!this.forceOwningTab&&(!this.allowTabSynchronization||!a.allowTabSynchronization))throw new ca(b3,mH)})}acquireOrExtendPrimaryLease(a){let b={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mM(a).put(dA,b)}static isAvailable(){return c9.isAvailable()}releasePrimaryLeaseIfHeld(a){let b=mM(a);return b.get(dA).next(a=>this.isLocalClient(a)?(bN(mD,"Releasing primary lease."),b.delete(dA)):c5.resolve())}isWithinAge(a,b){let c=Date.now(),d=c-b,e=c;return!(a<d)&&(!(a>e)||(bO(`Detected an update time that is in the future: ${a} > ${e}`),!1))}attachVisibilityHandler(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=()=>{this.queue.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.updateClientMetadataAndTryBecomePrimary()))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)}detachVisibilityHandler(){this.documentVisibilityHandler&&(this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)}attachWindowUnloadHook(){"function"==typeof this.window?.addEventListener&&(this.windowUnloadHandler=()=>{this.markClientZombied();let a=/(?:Version|Mobile)\/1[456]/;H()&&(navigator.appVersion.match(a)||navigator.userAgent.match(a))&&this.queue.enterRestrictedMode(!0),this.queue.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.windowUnloadHandler))}detachWindowUnloadHook(){this.windowUnloadHandler&&(this.window.removeEventListener("pagehide",this.windowUnloadHandler),this.windowUnloadHandler=null)}isClientZombied(a){try{let b=this.webStorage?.getItem(this.zombiedClientLocalStorageKey(a))!==null;return bN(mD,`Client '${a}' ${b?"is":"is not"} zombied in LocalStorage`),b}catch(a){return bO(mD,"Failed to get zombied client id.",a),!1}}markClientZombied(){if(this.webStorage)try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(a){bO("Failed to set zombie client id.",a)}}removeClientZombiedEntry(){if(this.webStorage)try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(a){}}zombiedClientLocalStorageKey(a){return`${mJ}_${this.persistenceKey}_${a}`}}function mM(a){return eE(a,dz)}function mN(a){return eE(a,d4)}function mO(a,b){let c=a.projectId;return a.isDefaultDatabase||(c+="."+a.database),"firestore/"+b+"/"+c+"/"}function mP(a,b,c,d,e){b=[...b],(a=[...a]).sort(c),b.sort(c);let f=a.length,g=b.length,h=0,i=0;for(;h<g&&i<f;){let f=c(a[i],b[h]);f<0?e(a[i++]):f>0?d(b[h++]):(h++,i++)}for(;h<g;)d(b[h++]);for(;i<f;)e(a[i++])}function mQ(a,b){if(a.length!==b.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==b[c])return!1;return!0}let mR="LocalStore",mS=3e8;class mT{constructor(a,b,c,d){this.persistence=a,this.queryEngine=b,this.serializer=d,this.targetDataByTarget=new eJ(cn),this.targetIdByTarget=new hg(a=>gD(a),gF),this.collectionGroupReadTime=new Map,this.remoteDocuments=a.getRemoteDocumentCache(),this.targetCache=a.getTargetCache(),this.bundleCache=a.getBundleCache(),this.initializeUserComponents(c)}initializeUserComponents(a){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(a),this.indexManager=this.persistence.getIndexManager(a),this.mutationQueue=this.persistence.getMutationQueue(a,this.indexManager),this.localDocuments=new l2(this.remoteDocuments,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.remoteDocuments.setIndexManager(this.indexManager),this.queryEngine.initialize(this.localDocuments,this.indexManager)}collectGarbage(a){return this.persistence.runTransaction("Collect garbage","readwrite-primary",b=>a.collect(b,this.targetDataByTarget))}}function mU(a,b,c,d){return new mT(a,b,c,d)}async function mV(a,b){let c=bU(a);return await c.persistence.runTransaction("Handle user change","readonly",a=>{let d;return c.mutationQueue.getAllMutationBatches(a).next(e=>(d=e,c.initializeUserComponents(b),c.mutationQueue.getAllMutationBatches(a))).next(b=>{let e=[],f=[],g=ht();for(let a of d)for(let b of(e.push(a.batchId),a.mutations))g=g.add(b.key);for(let a of b)for(let b of(f.push(a.batchId),a.mutations))g=g.add(b.key);return c.localDocuments.getDocuments(a,g).next(a=>({affectedDocuments:a,removedBatchIds:e,addedBatchIds:f}))})})}function mW(a,b){let c,d,e=bU(a),f=cN.now(),g=b.reduce((a,b)=>a.add(b.key),ht());return e.persistence.runTransaction("Locally write mutations","readwrite",a=>{let h=hi(),i=ht();return e.remoteDocuments.getEntries(a,g).next(a=>{(h=a).forEach((a,b)=>{b.isValidDocument()||(i=i.add(a))})}).next(()=>e.localDocuments.getOverlayedDocuments(a,h)).next(d=>{c=d;let g=[];for(let a of b){let b=hX(a,c.get(a.key).overlayedDocument);null!=b&&g.push(new h0(a.key,b,f2(b.value.mapValue),hR.exists(!0)))}return e.mutationQueue.addMutationBatch(a,f,g,b)}).next(b=>{d=b;let f=b.applyToLocalDocumentSet(c,i);return e.documentOverlayCache.saveOverlays(a,b.batchId,f)})}).then(()=>({batchId:d.batchId,changes:hm(c)}))}function mX(a,b){let c=bU(a);return c.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{let d=b.batch.keys(),e=c.remoteDocuments.newChangeBuffer({trackRemovals:!0});return m9(c,a,b,e).next(()=>e.apply(a)).next(()=>c.mutationQueue.performConsistencyCheck(a)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(a,d,b.batch.batchId)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,mY(b))).next(()=>c.localDocuments.getDocuments(a,d))})}function mY(a){let b=ht();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(b=b.add(a.batch.mutations[c].key));return b}function mZ(a,b){let c=bU(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",a=>{let d;return c.mutationQueue.lookupMutationBatch(a,b).next(b=>(bT(null!==b,37113),d=b.keys(),c.mutationQueue.removeMutationBatch(a,b))).next(()=>c.mutationQueue.performConsistencyCheck(a)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(a,d,b)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,d)).next(()=>c.localDocuments.getDocuments(a,d))})}function m$(a){let b=bU(a);return b.persistence.runTransaction("Get last remote snapshot version","readonly",a=>b.targetCache.getLastRemoteSnapshotVersion(a))}function m_(a,b){let c=bU(a),d=b.snapshotVersion,e=c.targetDataByTarget;return c.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{let f=c.remoteDocuments.newChangeBuffer({trackRemovals:!0});e=c.targetDataByTarget;let g=[];b.targetChanges.forEach((f,h)=>{let i=e.get(h);if(!i)return;g.push(c.targetCache.removeMatchingKeys(a,f.removedDocuments,h).next(()=>c.targetCache.addMatchingKeys(a,f.addedDocuments,h)));let j=i.withSequenceNumber(a.currentSequenceNumber);null!==b.targetMismatches.get(h)?j=j.withResumeToken(eU.EMPTY_BYTE_STRING,cO.min()).withLastLimboFreeSnapshotVersion(cO.min()):f.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(f.resumeToken,d)),e=e.insert(h,j),m1(i,j,f)&&g.push(c.targetCache.updateTargetData(a,j))});let h=hi(),i=ht();if(b.documentUpdates.forEach(d=>{b.resolvedLimboDocuments.has(d)&&g.push(c.persistence.referenceDelegate.updateLimboDocument(a,d))}),g.push(m0(a,f,b.documentUpdates).next(a=>{h=a.changedDocuments,i=a.existenceChangedKeys})),!d.isEqual(cO.min())){let b=c.targetCache.getLastRemoteSnapshotVersion(a).next(b=>c.targetCache.setTargetsMetadata(a,a.currentSequenceNumber,d));g.push(b)}return c5.waitFor(g).next(()=>f.apply(a)).next(()=>c.localDocuments.getLocalViewOfDocuments(a,h,i)).next(()=>h)}).then(a=>(c.targetDataByTarget=e,a))}function m0(a,b,c){let d=ht(),e=ht();return c.forEach(a=>d=d.add(a)),b.getEntries(a,d).next(a=>{let d=hi();return c.forEach((c,f)=>{let g=a.get(c);f.isFoundDocument()!==g.isFoundDocument()&&(e=e.add(c)),f.isNoDocument()&&f.version.isEqual(cO.min())?(b.removeEntry(c,f.readTime),d=d.insert(c,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(b.addEntry(f),d=d.insert(c,f)):bN(mR,"Ignoring outdated watch update for ",c,". Current version:",g.version," Watch version:",f.version)}),{changedDocuments:d,existenceChangedKeys:e}})}function m1(a,b,c){return!!(0===a.resumeToken.approximateByteSize()||b.snapshotVersion.toMicroseconds()-a.snapshotVersion.toMicroseconds()>=mS)||c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size>0}async function m2(a,b){let c=bU(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",a=>c5.forEach(b,b=>c5.forEach(b.addedKeys,d=>c.persistence.referenceDelegate.addReference(a,b.targetId,d)).next(()=>c5.forEach(b.removedKeys,d=>c.persistence.referenceDelegate.removeReference(a,b.targetId,d)))))}catch(a){if(dd(a))bN(mR,"Failed to update sequence numbers: "+a);else throw a}for(let a of b){let b=a.targetId;if(!a.fromCache){let a=c.targetDataByTarget.get(b),d=a.snapshotVersion,e=a.withLastLimboFreeSnapshotVersion(d);c.targetDataByTarget=c.targetDataByTarget.insert(b,e)}}}function m3(a,b){let c=bU(a);return c.persistence.runTransaction("Get next mutation batch","readonly",a=>(void 0===b&&(b=fb),c.mutationQueue.getNextMutationBatchAfterBatchId(a,b)))}function m4(a,b){let c=bU(a);return c.persistence.runTransaction("read document","readonly",a=>c.localDocuments.getDocument(a,b))}function m5(a,b){let c=bU(a);return c.persistence.runTransaction("Allocate target","readwrite",a=>{let d;return c.targetCache.getTargetData(a,b).next(e=>e?(d=e,c5.resolve(d)):c.targetCache.allocateTargetId(a).next(e=>(d=new jT(b,e,"TargetPurposeListen",a.currentSequenceNumber),c.targetCache.addTargetData(a,d).next(()=>d))))}).then(a=>{let d=c.targetDataByTarget.get(a.targetId);return(null===d||a.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(c.targetDataByTarget=c.targetDataByTarget.insert(a.targetId,a),c.targetIdByTarget.set(b,a.targetId)),a})}function m6(a,b,c){let d=bU(a),e=d.targetIdByTarget.get(c);return void 0!==e?c5.resolve(d.targetDataByTarget.get(e)):d.targetCache.getTargetData(b,c)}async function m7(a,b,c){let d=bU(a),e=d.targetDataByTarget.get(b),f=c?"readwrite":"readwrite-primary";try{c||await d.persistence.runTransaction("Release target",f,a=>d.persistence.referenceDelegate.removeTarget(a,e))}catch(a){if(dd(a))bN(mR,`Failed to update sequence numbers for target ${b}: ${a}`);else throw a}d.targetDataByTarget=d.targetDataByTarget.remove(b),d.targetIdByTarget.delete(e.target)}function m8(a,b,c){let d=bU(a),e=cO.min(),f=ht();return d.persistence.runTransaction("Execute query","readwrite",a=>m6(d,a,gZ(b)).next(b=>{if(b)return e=b.lastLimboFreeSnapshotVersion,d.targetCache.getMatchingKeysForTargetId(a,b.targetId).next(a=>{f=a})}).next(()=>d.queryEngine.getDocumentsMatchingQuery(a,b,c?e:cO.min(),c?f:ht())).next(a=>(nf(d,hd(b),a),{documents:a,remoteKeys:f})))}function m9(a,b,c,d){let e=c.batch,f=e.keys(),g=c5.resolve();return f.forEach(a=>{g=g.next(()=>d.getEntry(b,a)).next(b=>{let f=c.docVersions.get(a);bT(null!==f,48541),0>b.version.compareTo(f)&&(e.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),d.addEntry(b)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(b,e))}function na(a,b){let c=bU(a),d=bU(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",a=>d.lookupMutationKeys(a,b).next(b=>b?c.localDocuments.getDocuments(a,b):c5.resolve(null)))}function nb(a,b){bU(bU(a,mT).mutationQueue).removeCachedMutationKeys(b)}function nc(a){return bU(bU(a,mT).persistence).getActiveClients()}function nd(a,b){let c=bU(a),d=bU(c.targetCache),e=c.targetDataByTarget.get(b);return e?Promise.resolve(e.target):c.persistence.runTransaction("Get target data","readonly",a=>d.getTargetDataForTarget(a,b).next(a=>a?a.target:null))}function ne(a,b){let c=bU(a),d=c.collectionGroupReadTime.get(b)||cO.min();return c.persistence.runTransaction("Get new document changes","readonly",a=>c.remoteDocuments.getAllFromCollectionGroup(a,b,c$(d,cP),Number.MAX_SAFE_INTEGER)).then(a=>(nf(c,b,a),a))}function nf(a,b,c){let d=a.collectionGroupReadTime.get(b)||cO.min();c.forEach((a,b)=>{b.readTime.compareTo(d)>0&&(d=b.readTime)}),a.collectionGroupReadTime.set(b,d)}function ng(a){return gZ(gS(cw.fromString(`__bundle__/docs/${a}`)))}async function nh(a,b,c,d){let e=bU(a),f=ht(),g=hi();for(let a of c){let c=b.toDocumentKey(a.metadata.name);a.document&&(f=f.add(c));let d=b.toMutableDocument(a);d.setReadTime(b.toSnapshotVersion(a.metadata.readTime)),g=g.insert(c,d)}let h=e.remoteDocuments.newChangeBuffer({trackRemovals:!0}),i=await m5(e,ng(d));return e.persistence.runTransaction("Apply bundle documents","readwrite",a=>m0(a,h,g).next(b=>(h.apply(a),b)).next(b=>e.targetCache.removeMatchingKeysForTargetId(a,i.targetId).next(()=>e.targetCache.addMatchingKeys(a,f,i.targetId)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,b.changedDocuments,b.existenceChangedKeys)).next(()=>b.changedDocuments)))}function ni(a,b){let c=bU(a),d=iR(b.createTime);return c.persistence.runTransaction("hasNewerBundle","readonly",a=>c.bundleCache.getBundleMetadata(a,b.id)).then(a=>!!a&&a.createTime.compareTo(d)>=0)}function nj(a,b){let c=bU(a);return c.persistence.runTransaction("Save bundle","readwrite",a=>c.bundleCache.saveBundleMetadata(a,b))}function nk(a,b){let c=bU(a);return c.persistence.runTransaction("Get named query","readonly",a=>c.bundleCache.getNamedQuery(a,b))}async function nl(a,b,c=ht()){let d=await m5(a,gZ(j8(b.bundledQuery))),e=bU(a);return e.persistence.runTransaction("Save named query","readwrite",a=>{let f=iR(b.readTime);if(d.snapshotVersion.compareTo(f)>=0)return e.bundleCache.saveNamedQuery(a,b);let g=d.withResumeToken(eU.EMPTY_BYTE_STRING,f);return e.targetDataByTarget=e.targetDataByTarget.insert(g.targetId,g),e.targetCache.updateTargetData(a,g).next(()=>e.targetCache.removeMatchingKeysForTargetId(a,d.targetId)).next(()=>e.targetCache.addMatchingKeys(a,c,d.targetId)).next(()=>e.bundleCache.saveNamedQuery(a,b))})}async function nm(a,b){let c=bU(a),d=c.indexManager,e=[];return c.persistence.runTransaction("Configure indexes","readwrite",a=>d.getFieldIndexes(a).next(c=>mP(c,b,cV,b=>{e.push(d.addFieldIndex(a,b))},b=>{e.push(d.deleteFieldIndex(a,b))})).next(()=>c5.waitFor(e)))}function nn(a,b){bU(a).queryEngine.indexAutoCreationEnabled=b}function no(a){let b=bU(a),c=b.indexManager;return b.persistence.runTransaction("Delete All Indexes","readwrite",a=>c.deleteAllFieldIndexes(a))}class np{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(a){this._documentReadCount+=a}}let nq=100;function nr(){return H()?8:da(z())>0?6:4}class ns{constructor(){this.initialized=!1,this.indexAutoCreationEnabled=!1,this.indexAutoCreationMinCollectionSize=nq,this.relativeIndexReadCostPerDocument=nr()}initialize(a,b){this.localDocumentsView=a,this.indexManager=b,this.initialized=!0}getDocumentsMatchingQuery(a,b,c,d){let e={result:null};return this.performQueryUsingIndex(a,b).next(a=>{e.result=a}).next(()=>{if(!e.result)return this.performQueryUsingRemoteKeys(a,b,d,c).next(a=>{e.result=a})}).next(()=>{if(e.result)return;let c=new np;return this.executeFullCollectionScan(a,b,c).next(d=>{if(e.result=d,this.indexAutoCreationEnabled)return this.createCacheIndexes(a,b,c,d.size)})}).next(()=>e.result)}createCacheIndexes(a,b,c,d){return c.documentReadCount<this.indexAutoCreationMinCollectionSize?(bM()<=bs.DEBUG&&bN("QueryEngine","SDK will not create cache indexes for query:",g7(b),"since it only creates cache indexes for collection contains","more than or equal to",this.indexAutoCreationMinCollectionSize,"documents"),c5.resolve()):(bM()<=bs.DEBUG&&bN("QueryEngine","Query:",g7(b),"scans",c.documentReadCount,"local documents and returns",d,"documents as results."),c.documentReadCount>this.relativeIndexReadCostPerDocument*d)?(bM()<=bs.DEBUG&&bN("QueryEngine","The SDK decides to create cache indexes for query:",g7(b),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(a,gZ(b))):c5.resolve()}performQueryUsingIndex(a,b){if(gU(b))return c5.resolve(null);let c=gZ(b);return this.indexManager.getIndexType(a,c).next(d=>0===d?null:(null!==b.limit&&1===d&&(c=gZ(b=g2(b,null,"F"))),this.indexManager.getDocumentsMatchingTarget(a,c).next(d=>{let e=ht(...d);return this.localDocumentsView.getDocuments(a,e).next(d=>this.indexManager.getMinOffset(a,c).next(c=>{let f=this.applyQuery(b,d);return this.needsRefill(b,f,e,c.readTime)?this.performQueryUsingIndex(a,g2(b,null,"F")):this.appendRemainingResults(a,f,b,c)}))})))}performQueryUsingRemoteKeys(a,b,c,d){return gU(b)||d.isEqual(cO.min())?c5.resolve(null):this.localDocumentsView.getDocuments(a,c).next(e=>{let f=this.applyQuery(b,e);return this.needsRefill(b,f,c,d)?c5.resolve(null):(bM()<=bs.DEBUG&&bN("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),g7(b)),this.appendRemainingResults(a,f,b,c$(d,cP)).next(a=>a))})}applyQuery(a,b){let c=new eN(he(a));return b.forEach((b,d)=>{g8(a,d)&&(c=c.add(d))}),c}needsRefill(a,b,c,d){if(null===a.limit)return!1;if(c.size!==b.size)return!0;let e="F"===a.limitType?b.last():b.first();return!!e&&(e.hasPendingWrites||e.version.compareTo(d)>0)}executeFullCollectionScan(a,b,c){return bM()<=bs.DEBUG&&bN("QueryEngine","Using full collection scan to execute query:",g7(b)),this.localDocumentsView.getDocumentsMatchingQuery(a,b,c0.min(),c)}appendRemainingResults(a,b,c,d){return this.localDocumentsView.getDocumentsMatchingQuery(a,c,d).next(a=>(b.forEach(b=>{a=a.insert(b.key,b)}),a))}}let nt="firestore_clients";function nu(a,b){return`${nt}_${a}_${b}`}let nv="firestore_mutations";function nw(a,b,c){let d=`${nv}_${a}_${c}`;return b.isAuthenticated()&&(d+=`_${b.uid}`),d}let nx="firestore_targets";function ny(a,b){return`${nx}_${a}_${b}`}let nz="firestore_online_state";function nA(a){return`${nz}_${a}`}let nB="firestore_bundle_loaded_v2";function nC(a){return`${nB}_${a}`}let nD="firestore_sequence_number";function nE(a){return`${nD}_${a}`}let nF="SharedClientState";class nG{constructor(a,b,c,d){this.user=a,this.batchId=b,this.state=c,this.error=d}static fromWebStorageEntry(a,b,c){let d,e=JSON.parse(c),f="object"==typeof e&&-1!==["pending","acknowledged","rejected"].indexOf(e.state)&&(void 0===e.error||"object"==typeof e.error);return(f&&e.error&&(f="string"==typeof e.error.message&&"string"==typeof e.error.code)&&(d=new ca(e.error.code,e.error.message)),f)?new nG(a,b,e.state,d):(bO(nF,`Failed to parse mutation state for ID '${b}': ${c}`),null)}toWebStorageJSON(){let a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)}}class nH{constructor(a,b,c){this.targetId=a,this.state=b,this.error=c}static fromWebStorageEntry(a,b){let c,d=JSON.parse(b),e="object"==typeof d&&-1!==["not-current","current","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return(e&&d.error&&(e="string"==typeof d.error.message&&"string"==typeof d.error.code)&&(c=new ca(d.error.code,d.error.message)),e)?new nH(a,d.state,c):(bO(nF,`Failed to parse target state for ID '${a}': ${b}`),null)}toWebStorageJSON(){let a={state:this.state,updateTimeMs:Date.now()};return this.error&&(a.error={code:this.error.code,message:this.error.message}),JSON.stringify(a)}}class nI{constructor(a,b){this.clientId=a,this.activeTargetIds=b}static fromWebStorageEntry(a,b){let c=JSON.parse(b),d="object"==typeof c&&c.activeTargetIds instanceof Array,e=hv();for(let a=0;d&&a<c.activeTargetIds.length;++a)d=fe(c.activeTargetIds[a]),e=e.add(c.activeTargetIds[a]);return d?new nI(a,e):(bO(nF,`Failed to parse client data for instance '${a}': ${b}`),null)}}class nJ{constructor(a,b){this.clientId=a,this.onlineState=b}static fromWebStorageEntry(a){let b=JSON.parse(a);return"object"==typeof b&&-1!==["Unknown","Online","Offline"].indexOf(b.onlineState)&&"string"==typeof b.clientId?new nJ(b.clientId,b.onlineState):(bO(nF,`Failed to parse online state: ${a}`),null)}}class nK{constructor(){this.activeTargetIds=hv()}addQueryTarget(a){this.activeTargetIds=this.activeTargetIds.add(a)}removeQueryTarget(a){this.activeTargetIds=this.activeTargetIds.delete(a)}toWebStorageJSON(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class nL{constructor(a,b,c,d,e){this.window=a,this.queue=b,this.persistenceKey=c,this.localClientId=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.storageListener=this.handleWebStorageEvent.bind(this),this.activeClients=new eJ(cn),this.started=!1,this.earlyEvents=[];const f=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=e,this.localClientStorageKey=nu(this.persistenceKey,this.localClientId),this.sequenceNumberKey=nE(this.persistenceKey),this.activeClients=this.activeClients.insert(this.localClientId,new nK),this.clientStateKeyRe=RegExp(`^${nt}_${f}_([^_]*)$`),this.mutationBatchKeyRe=RegExp(`^${nv}_${f}_(\\d+)(?:_(.*))?$`),this.queryTargetKeyRe=RegExp(`^${nx}_${f}_(\\d+)$`),this.onlineStateKey=nA(this.persistenceKey),this.bundleLoadedKey=nC(this.persistenceKey),this.window.addEventListener("storage",this.storageListener)}static isAvailable(a){return!!(a&&a.localStorage)}async start(){for(let a of(await this.syncEngine.getActiveClients())){if(a===this.localClientId)continue;let b=this.getItem(nu(this.persistenceKey,a));if(b){let c=nI.fromWebStorageEntry(a,b);c&&(this.activeClients=this.activeClients.insert(c.clientId,c))}}this.persistClientState();let a=this.storage.getItem(this.onlineStateKey);if(a){let b=this.fromWebStorageOnlineState(a);b&&this.handleOnlineStateEvent(b)}for(let a of this.earlyEvents)this.handleWebStorageEvent(a);this.earlyEvents=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(a){this.setItem(this.sequenceNumberKey,JSON.stringify(a))}getAllActiveQueryTargets(){return this.extractActiveQueryTargets(this.activeClients)}isActiveQueryTarget(a){let b=!1;return this.activeClients.forEach((c,d)=>{d.activeTargetIds.has(a)&&(b=!0)}),b}addPendingMutation(a){this.persistMutationState(a,"pending")}updateMutationState(a,b,c){this.persistMutationState(a,b,c),this.removeMutationState(a)}addLocalQueryTarget(a,b=!0){let c="not-current";if(this.isActiveQueryTarget(a)){let b=this.storage.getItem(ny(this.persistenceKey,a));if(b){let d=nH.fromWebStorageEntry(a,b);d&&(c=d.state)}}return b&&this.localClientState.addQueryTarget(a),this.persistClientState(),c}removeLocalQueryTarget(a){this.localClientState.removeQueryTarget(a),this.persistClientState()}isLocalQueryTarget(a){return this.localClientState.activeTargetIds.has(a)}clearQueryState(a){this.removeItem(ny(this.persistenceKey,a))}updateQueryState(a,b,c){this.persistQueryTargetState(a,b,c)}handleUserChange(a,b,c){b.forEach(a=>{this.removeMutationState(a)}),this.currentUser=a,c.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(a){this.persistOnlineState(a)}notifyBundleLoaded(a){this.persistBundleLoadedState(a)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)}getItem(a){let b=this.storage.getItem(a);return bN(nF,"READ",a,b),b}setItem(a,b){bN(nF,"SET",a,b),this.storage.setItem(a,b)}removeItem(a){bN(nF,"REMOVE",a),this.storage.removeItem(a)}handleWebStorageEvent(a){let b=a;if(b.storageArea===this.storage){if(bN(nF,"EVENT",b.key,b.newValue),b.key===this.localClientStorageKey)return void bO("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueRetryable(async()=>{if(!this.started)return void this.earlyEvents.push(b);if(null!==b.key){if(this.clientStateKeyRe.test(b.key))if(null!=b.newValue){let a=this.fromWebStorageClientState(b.key,b.newValue);if(a)return this.handleClientStateEvent(a.clientId,a)}else{let a=this.fromWebStorageClientStateKey(b.key);return this.handleClientStateEvent(a,null)}else if(this.mutationBatchKeyRe.test(b.key)){if(null!==b.newValue){let a=this.fromWebStorageMutationMetadata(b.key,b.newValue);if(a)return this.handleMutationBatchEvent(a)}}else if(this.queryTargetKeyRe.test(b.key)){if(null!==b.newValue){let a=this.fromWebStorageQueryTargetMetadata(b.key,b.newValue);if(a)return this.handleQueryTargetEvent(a)}}else if(b.key===this.onlineStateKey){if(null!==b.newValue){let a=this.fromWebStorageOnlineState(b.newValue);if(a)return this.handleOnlineStateEvent(a)}}else if(b.key===this.sequenceNumberKey){let a=nM(b.newValue);a!==dp.INVALID&&this.sequenceNumberHandler(a)}else if(b.key===this.bundleLoadedKey){let a=this.fromWebStoreBundleLoadedState(b.newValue);await Promise.all(a.map(a=>this.syncEngine.synchronizeWithChangedDocuments(a)))}}})}}get localClientState(){return this.activeClients.get(this.localClientId)}persistClientState(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())}persistMutationState(a,b,c){let d=new nG(this.currentUser,a,b,c),e=nw(this.persistenceKey,this.currentUser,a);this.setItem(e,d.toWebStorageJSON())}removeMutationState(a){let b=nw(this.persistenceKey,this.currentUser,a);this.removeItem(b)}persistOnlineState(a){let b={clientId:this.localClientId,onlineState:a};this.storage.setItem(this.onlineStateKey,JSON.stringify(b))}persistQueryTargetState(a,b,c){let d=ny(this.persistenceKey,a),e=new nH(a,b,c);this.setItem(d,e.toWebStorageJSON())}persistBundleLoadedState(a){let b=JSON.stringify(Array.from(a));this.setItem(this.bundleLoadedKey,b)}fromWebStorageClientStateKey(a){let b=this.clientStateKeyRe.exec(a);return b?b[1]:null}fromWebStorageClientState(a,b){let c=this.fromWebStorageClientStateKey(a);return nI.fromWebStorageEntry(c,b)}fromWebStorageMutationMetadata(a,b){let c=this.mutationBatchKeyRe.exec(a),d=Number(c[1]),e=void 0!==c[2]?c[2]:null;return nG.fromWebStorageEntry(new bH(e),d,b)}fromWebStorageQueryTargetMetadata(a,b){let c=Number(this.queryTargetKeyRe.exec(a)[1]);return nH.fromWebStorageEntry(c,b)}fromWebStorageOnlineState(a){return nJ.fromWebStorageEntry(a)}fromWebStoreBundleLoadedState(a){return JSON.parse(a)}async handleMutationBatchEvent(a){return a.user.uid!==this.currentUser.uid?void bN(nF,`Ignoring mutation for non-active user ${a.user.uid}`):this.syncEngine.applyBatchState(a.batchId,a.state,a.error)}handleQueryTargetEvent(a){return this.syncEngine.applyTargetState(a.targetId,a.state,a.error)}handleClientStateEvent(a,b){let c=b?this.activeClients.insert(a,b):this.activeClients.remove(a),d=this.extractActiveQueryTargets(this.activeClients),e=this.extractActiveQueryTargets(c),f=[],g=[];return e.forEach(a=>{d.has(a)||f.push(a)}),d.forEach(a=>{e.has(a)||g.push(a)}),this.syncEngine.applyActiveTargetsChange(f,g).then(()=>{this.activeClients=c})}handleOnlineStateEvent(a){this.activeClients.get(a.clientId)&&this.onlineStateHandler(a.onlineState)}extractActiveQueryTargets(a){let b=hv();return a.forEach((a,c)=>{b=b.unionWith(c.activeTargetIds)}),b}}function nM(a){let b=dp.INVALID;if(null!=a)try{let c=JSON.parse(a);bT("number"==typeof c,30636,{seqString:a}),b=c}catch(a){bO(nF,"Failed to read sequence number from WebStorage",a)}return b}class nN{constructor(){this.localState=new nK,this.queryState={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(a){}updateMutationState(a,b,c){}addLocalQueryTarget(a,b=!0){return b&&this.localState.addQueryTarget(a),this.queryState[a]||"not-current"}updateQueryState(a,b,c){this.queryState[a]=b}removeLocalQueryTarget(a){this.localState.removeQueryTarget(a)}isLocalQueryTarget(a){return this.localState.activeTargetIds.has(a)}clearQueryState(a){delete this.queryState[a]}getAllActiveQueryTargets(){return this.localState.activeTargetIds}isActiveQueryTarget(a){return this.localState.activeTargetIds.has(a)}start(){return this.localState=new nK,Promise.resolve()}handleUserChange(a,b,c){}setOnlineState(a){}shutdown(){}writeSequenceNumber(a){}notifyBundleLoaded(a){}}class nO{addCallback(a){}shutdown(){}}class nP{constructor(a){this.sendFn=a.sendFn,this.closeFn=a.closeFn}onConnected(a){this.wrappedOnConnected=a}onOpen(a){this.wrappedOnOpen=a}onClose(a){this.wrappedOnClose=a}onMessage(a){this.wrappedOnMessage=a}close(){this.closeFn()}send(a){this.sendFn(a)}callOnConnected(){this.wrappedOnConnected()}callOnOpen(){this.wrappedOnOpen()}callOnClose(a){this.wrappedOnClose(a)}callOnMessage(a){this.wrappedOnMessage(a)}}let nQ=null;function nR(){return 0x10000000+Math.round(0x80000000*Math.random())}function nS(){return null===nQ?nQ=nR():nQ++,"0x"+nQ.toString(16)}function nT(a){return new Promise((b,c)=>{a((a,d)=>{a?c(a):b(d)})})}let nU="1.9.15",nV="GrpcConnection",nW=`gl-node/${process.versions.node} fire/${bI} grpc/${nU}`;function nX(a,b,c,d,e){bT(null===b||"OAuth"===b.type,36936);let f=new bF.Metadata;return b&&b.headers.forEach((a,b)=>f.set(b,a)),c&&c.headers.forEach((a,b)=>f.set(b,a)),d&&f.set("X-Firebase-GMPID",d),f.set("X-Goog-Api-Client",nW),f.set("Google-Cloud-Resource-Prefix",a),f.set("x-goog-request-params",a),e&&f.set("X-Goog-Api-Key",e),f}class nY{get shouldResourcePathBeIncludedInRequest(){return!0}constructor(a,b){this.databaseInfo=b,this.cachedStub=null,this.firestore=a.google.firestore.v1,this.databasePath=`projects/${b.databaseId.projectId}/databases/${b.databaseId.database}`}ensureActiveStub(){if(!this.cachedStub){bN(nV,"Creating Firestore stub.");let a=this.databaseInfo.ssl?bF.credentials.createSsl():bF.credentials.createInsecure();this.cachedStub=new this.firestore.Firestore(this.databaseInfo.host,a)}return this.cachedStub}invokeRPC(a,b,c,d,e){let f=nS(),g=this.ensureActiveStub(),h=nX(this.databasePath,d,e,this.databaseInfo.appId,this.databaseInfo.apiKey),i={database:this.databasePath,...c};return nT(b=>(bN(nV,`RPC '${a}' ${f} invoked with request:`,c),g[a](i,h,(c,d)=>{c?(bN(nV,`RPC '${a}' ${f} failed with error:`,c),b(new ca(ih(c.code),c.message))):(bN(nV,`RPC '${a}' ${f} completed with response:`,d),b(void 0,d))})))}invokeStreamingRPC(a,b,c,d,e,f){let g=nS(),h=[],i=new cb;bN(nV,`RPC '${a}' ${g} invoked (streaming) with request:`,c);let j=this.ensureActiveStub(),k=nX(this.databasePath,d,e,this.databaseInfo.appId,this.databaseInfo.apiKey),l={...c,database:this.databasePath},m=j[a](l,k),n=!1;return m.on("data",b=>{bN(nV,`RPC ${a} ${g} received result:`,b),h.push(b),void 0!==f&&h.length===f&&(n=!0,i.resolve(h))}),m.on("end",()=>{bN(nV,`RPC '${a}' ${g} completed.`),n||(n=!0,i.resolve(h))}),m.on("error",b=>{bN(nV,`RPC '${a}' ${g} failed with error:`,b);let c=ih(b.code);i.reject(new ca(c,b.message))}),i.promise}openStream(a,b,c){let d=nS(),e=this.ensureActiveStub(),f=nX(this.databasePath,b,c,this.databaseInfo.appId,this.databaseInfo.apiKey),g=e[a](f),h=!1,i=a=>{h||(h=!0,j.callOnClose(a),g.end())},j=new nP({sendFn:b=>{if(h)bN(nV,`RPC '${a}' stream ${d} not sending because gRPC stream is closed:`,b);else{bN(nV,`RPC '${a}' stream ${d} sending:`,b);try{g.write(b)}catch(a){throw bO("Failure sending:",b),bO("Error:",a),a}}},closeFn:()=>{bN(nV,`RPC '${a}' stream ${d} closed locally via close().`),i()}}),k=!1;return g.on("data",b=>{h||(bN(nV,`RPC '${a}' stream ${d} received:`,b),k||(j.callOnConnected(),k=!0),j.callOnMessage(b))}),g.on("end",()=>{bN(nV,`RPC '${a}' stream ${d} ended.`),i()}),g.on("error",b=>{h||(bP(nV,`RPC '${a}' stream ${d} error. Code:`,b.code,"Message:",b.message),i(new ca(ih(b.code),b.message)))}),bN(nV,`Opening RPC '${a}' stream ${d} to ${this.databaseInfo.host}`),setTimeout(()=>{j.callOnOpen()},0),j}terminate(){this.cachedStub&&(this.cachedStub.close(),this.cachedStub=void 0)}}let nZ={google:{nested:{protobuf:{options:{go_package:"github.com/golang/protobuf/protoc-gen-go/descriptor;descriptor",java_package:"com.google.protobuf",java_outer_classname:"DescriptorProtos",csharp_namespace:"Google.Protobuf.Reflection",objc_class_prefix:"GPB",cc_enable_arenas:!0,optimize_for:"SPEED"},nested:{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},FileDescriptorSet:{fields:{file:{rule:"repeated",type:"FileDescriptorProto",id:1}}},FileDescriptorProto:{fields:{name:{type:"string",id:1},package:{type:"string",id:2},dependency:{rule:"repeated",type:"string",id:3},publicDependency:{rule:"repeated",type:"int32",id:10,options:{packed:!1}},weakDependency:{rule:"repeated",type:"int32",id:11,options:{packed:!1}},messageType:{rule:"repeated",type:"DescriptorProto",id:4},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:5},service:{rule:"repeated",type:"ServiceDescriptorProto",id:6},extension:{rule:"repeated",type:"FieldDescriptorProto",id:7},options:{type:"FileOptions",id:8},sourceCodeInfo:{type:"SourceCodeInfo",id:9},syntax:{type:"string",id:12}}},DescriptorProto:{fields:{name:{type:"string",id:1},field:{rule:"repeated",type:"FieldDescriptorProto",id:2},extension:{rule:"repeated",type:"FieldDescriptorProto",id:6},nestedType:{rule:"repeated",type:"DescriptorProto",id:3},enumType:{rule:"repeated",type:"EnumDescriptorProto",id:4},extensionRange:{rule:"repeated",type:"ExtensionRange",id:5},oneofDecl:{rule:"repeated",type:"OneofDescriptorProto",id:8},options:{type:"MessageOptions",id:7},reservedRange:{rule:"repeated",type:"ReservedRange",id:9},reservedName:{rule:"repeated",type:"string",id:10}},nested:{ExtensionRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2},options:{type:"ExtensionRangeOptions",id:3}}},ReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},ExtensionRangeOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},FieldDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:3},label:{type:"Label",id:4},type:{type:"Type",id:5},typeName:{type:"string",id:6},extendee:{type:"string",id:2},defaultValue:{type:"string",id:7},oneofIndex:{type:"int32",id:9},jsonName:{type:"string",id:10},options:{type:"FieldOptions",id:8}},nested:{Type:{values:{TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Label:{values:{LABEL_OPTIONAL:1,LABEL_REQUIRED:2,LABEL_REPEATED:3}}}},OneofDescriptorProto:{fields:{name:{type:"string",id:1},options:{type:"OneofOptions",id:2}}},EnumDescriptorProto:{fields:{name:{type:"string",id:1},value:{rule:"repeated",type:"EnumValueDescriptorProto",id:2},options:{type:"EnumOptions",id:3},reservedRange:{rule:"repeated",type:"EnumReservedRange",id:4},reservedName:{rule:"repeated",type:"string",id:5}},nested:{EnumReservedRange:{fields:{start:{type:"int32",id:1},end:{type:"int32",id:2}}}}},EnumValueDescriptorProto:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{type:"EnumValueOptions",id:3}}},ServiceDescriptorProto:{fields:{name:{type:"string",id:1},method:{rule:"repeated",type:"MethodDescriptorProto",id:2},options:{type:"ServiceOptions",id:3}}},MethodDescriptorProto:{fields:{name:{type:"string",id:1},inputType:{type:"string",id:2},outputType:{type:"string",id:3},options:{type:"MethodOptions",id:4},clientStreaming:{type:"bool",id:5,options:{default:!1}},serverStreaming:{type:"bool",id:6,options:{default:!1}}}},FileOptions:{fields:{javaPackage:{type:"string",id:1},javaOuterClassname:{type:"string",id:8},javaMultipleFiles:{type:"bool",id:10,options:{default:!1}},javaGenerateEqualsAndHash:{type:"bool",id:20,options:{deprecated:!0}},javaStringCheckUtf8:{type:"bool",id:27,options:{default:!1}},optimizeFor:{type:"OptimizeMode",id:9,options:{default:"SPEED"}},goPackage:{type:"string",id:11},ccGenericServices:{type:"bool",id:16,options:{default:!1}},javaGenericServices:{type:"bool",id:17,options:{default:!1}},pyGenericServices:{type:"bool",id:18,options:{default:!1}},phpGenericServices:{type:"bool",id:42,options:{default:!1}},deprecated:{type:"bool",id:23,options:{default:!1}},ccEnableArenas:{type:"bool",id:31,options:{default:!1}},objcClassPrefix:{type:"string",id:36},csharpNamespace:{type:"string",id:37},swiftPrefix:{type:"string",id:39},phpClassPrefix:{type:"string",id:40},phpNamespace:{type:"string",id:41},phpMetadataNamespace:{type:"string",id:44},rubyPackage:{type:"string",id:45},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[38,38]],nested:{OptimizeMode:{values:{SPEED:1,CODE_SIZE:2,LITE_RUNTIME:3}}}},MessageOptions:{fields:{messageSetWireFormat:{type:"bool",id:1,options:{default:!1}},noStandardDescriptorAccessor:{type:"bool",id:2,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},mapEntry:{type:"bool",id:7},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[8,8],[9,9]]},FieldOptions:{fields:{ctype:{type:"CType",id:1,options:{default:"STRING"}},packed:{type:"bool",id:2},jstype:{type:"JSType",id:6,options:{default:"JS_NORMAL"}},lazy:{type:"bool",id:5,options:{default:!1}},deprecated:{type:"bool",id:3,options:{default:!1}},weak:{type:"bool",id:10,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[4,4]],nested:{CType:{values:{STRING:0,CORD:1,STRING_PIECE:2}},JSType:{values:{JS_NORMAL:0,JS_STRING:1,JS_NUMBER:2}}}},OneofOptions:{fields:{uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},EnumOptions:{fields:{allowAlias:{type:"bool",id:2},deprecated:{type:"bool",id:3,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],reserved:[[5,5]]},EnumValueOptions:{fields:{deprecated:{type:"bool",id:1,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},ServiceOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]]},MethodOptions:{fields:{deprecated:{type:"bool",id:33,options:{default:!1}},idempotencyLevel:{type:"IdempotencyLevel",id:34,options:{default:"IDEMPOTENCY_UNKNOWN"}},uninterpretedOption:{rule:"repeated",type:"UninterpretedOption",id:999}},extensions:[[1e3,0x1fffffff]],nested:{IdempotencyLevel:{values:{IDEMPOTENCY_UNKNOWN:0,NO_SIDE_EFFECTS:1,IDEMPOTENT:2}}}},UninterpretedOption:{fields:{name:{rule:"repeated",type:"NamePart",id:2},identifierValue:{type:"string",id:3},positiveIntValue:{type:"uint64",id:4},negativeIntValue:{type:"int64",id:5},doubleValue:{type:"double",id:6},stringValue:{type:"bytes",id:7},aggregateValue:{type:"string",id:8}},nested:{NamePart:{fields:{namePart:{rule:"required",type:"string",id:1},isExtension:{rule:"required",type:"bool",id:2}}}}},SourceCodeInfo:{fields:{location:{rule:"repeated",type:"Location",id:1}},nested:{Location:{fields:{path:{rule:"repeated",type:"int32",id:1},span:{rule:"repeated",type:"int32",id:2},leadingComments:{type:"string",id:3},trailingComments:{type:"string",id:4},leadingDetachedComments:{rule:"repeated",type:"string",id:6}}}}},GeneratedCodeInfo:{fields:{annotation:{rule:"repeated",type:"Annotation",id:1}},nested:{Annotation:{fields:{path:{rule:"repeated",type:"int32",id:1},sourceFile:{type:"string",id:2},begin:{type:"int32",id:3},end:{type:"int32",id:4}}}}},DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}},Empty:{fields:{}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}},firestore:{nested:{v1:{options:{csharp_namespace:"Google.Cloud.Firestore.V1",go_package:"cloud.google.com/go/firestore/apiv1/firestorepb;firestorepb",java_multiple_files:!0,java_outer_classname:"QueryProfileProto",java_package:"com.google.firestore.v1",objc_class_prefix:"GCFS",php_namespace:"Google\\Cloud\\Firestore\\V1",ruby_package:"Google::Cloud::Firestore::V1"},nested:{AggregationResult:{fields:{aggregateFields:{keyType:"string",type:"Value",id:2}}},Document:{fields:{name:{type:"string",id:1},fields:{keyType:"string",type:"Value",id:2},createTime:{type:"google.protobuf.Timestamp",id:3},updateTime:{type:"google.protobuf.Timestamp",id:4}}},Value:{oneofs:{valueType:{oneof:["nullValue","booleanValue","integerValue","doubleValue","timestampValue","stringValue","bytesValue","referenceValue","geoPointValue","arrayValue","mapValue","fieldReferenceValue","functionValue","pipelineValue"]}},fields:{nullValue:{type:"google.protobuf.NullValue",id:11},booleanValue:{type:"bool",id:1},integerValue:{type:"int64",id:2},doubleValue:{type:"double",id:3},timestampValue:{type:"google.protobuf.Timestamp",id:10},stringValue:{type:"string",id:17},bytesValue:{type:"bytes",id:18},referenceValue:{type:"string",id:5},geoPointValue:{type:"google.type.LatLng",id:8},arrayValue:{type:"ArrayValue",id:9},mapValue:{type:"MapValue",id:6},fieldReferenceValue:{type:"string",id:19},functionValue:{type:"Function",id:20},pipelineValue:{type:"Pipeline",id:21}}},ArrayValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}},MapValue:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Function:{fields:{name:{type:"string",id:1},args:{rule:"repeated",type:"Value",id:2},options:{keyType:"string",type:"Value",id:3}}},Pipeline:{fields:{stages:{rule:"repeated",type:"Stage",id:1}},nested:{Stage:{fields:{name:{type:"string",id:1},args:{rule:"repeated",type:"Value",id:2},options:{keyType:"string",type:"Value",id:3}}}}},BitSequence:{fields:{bitmap:{type:"bytes",id:1},padding:{type:"int32",id:2}}},BloomFilter:{fields:{bits:{type:"BitSequence",id:1},hashCount:{type:"int32",id:2}}},DocumentMask:{fields:{fieldPaths:{rule:"repeated",type:"string",id:1}}},Precondition:{oneofs:{conditionType:{oneof:["exists","updateTime"]}},fields:{exists:{type:"bool",id:1},updateTime:{type:"google.protobuf.Timestamp",id:2}}},TransactionOptions:{oneofs:{mode:{oneof:["readOnly","readWrite"]}},fields:{readOnly:{type:"ReadOnly",id:2},readWrite:{type:"ReadWrite",id:3}},nested:{ReadWrite:{fields:{retryTransaction:{type:"bytes",id:1}}},ReadOnly:{oneofs:{consistencySelector:{oneof:["readTime"]}},fields:{readTime:{type:"google.protobuf.Timestamp",id:2}}}}},Firestore:{options:{"(google.api.default_host)":"firestore.googleapis.com","(google.api.oauth_scopes)":"https://www.googleapis.com/auth/cloud-platform,https://www.googleapis.com/auth/datastore"},methods:{GetDocument:{requestType:"GetDocumentRequest",responseType:"Document",options:{"(google.api.http).get":"/v1/{name=projects/*/databases/*/documents/*/**}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{name=projects/*/databases/*/documents/*/**}"}}]},ListDocuments:{requestType:"ListDocumentsRequest",responseType:"ListDocumentsResponse",options:{"(google.api.http).get":"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"},parsedOptions:[{"(google.api.http)":{get:"/v1/{parent=projects/*/databases/*/documents/*/**}/{collection_id}"}}]},UpdateDocument:{requestType:"UpdateDocumentRequest",responseType:"Document",options:{"(google.api.http).patch":"/v1/{document.name=projects/*/databases/*/documents/*/**}","(google.api.http).body":"document","(google.api.method_signature)":"document,update_mask"},parsedOptions:[{"(google.api.http)":{patch:"/v1/{document.name=projects/*/databases/*/documents/*/**}",body:"document"}},{"(google.api.method_signature)":"document,update_mask"}]},DeleteDocument:{requestType:"DeleteDocumentRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).delete":"/v1/{name=projects/*/databases/*/documents/*/**}","(google.api.method_signature)":"name"},parsedOptions:[{"(google.api.http)":{delete:"/v1/{name=projects/*/databases/*/documents/*/**}"}},{"(google.api.method_signature)":"name"}]},BatchGetDocuments:{requestType:"BatchGetDocumentsRequest",responseType:"BatchGetDocumentsResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchGet","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchGet",body:"*"}}]},BeginTransaction:{requestType:"BeginTransactionRequest",responseType:"BeginTransactionResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:beginTransaction","(google.api.http).body":"*","(google.api.method_signature)":"database"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:beginTransaction",body:"*"}},{"(google.api.method_signature)":"database"}]},Commit:{requestType:"CommitRequest",responseType:"CommitResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:commit","(google.api.http).body":"*","(google.api.method_signature)":"database,writes"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:commit",body:"*"}},{"(google.api.method_signature)":"database,writes"}]},Rollback:{requestType:"RollbackRequest",responseType:"google.protobuf.Empty",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:rollback","(google.api.http).body":"*","(google.api.method_signature)":"database,transaction"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:rollback",body:"*"}},{"(google.api.method_signature)":"database,transaction"}]},RunQuery:{requestType:"RunQueryRequest",responseType:"RunQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runQuery",body:"*"}}}]},ExecutePipeline:{requestType:"ExecutePipelineRequest",responseType:"ExecutePipelineResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:executePipeline","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:executePipeline",body:"*"}}]},RunAggregationQuery:{requestType:"RunAggregationQueryRequest",responseType:"RunAggregationQueryResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:runAggregationQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:runAggregationQuery",body:"*"}}}]},PartitionQuery:{requestType:"PartitionQueryRequest",responseType:"PartitionQueryResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:partitionQuery","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery","(google.api.http).additional_bindings.body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:partitionQuery",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:partitionQuery",body:"*"}}}]},Write:{requestType:"WriteRequest",requestStream:!0,responseType:"WriteResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:write","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:write",body:"*"}}]},Listen:{requestType:"ListenRequest",requestStream:!0,responseType:"ListenResponse",responseStream:!0,options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:listen","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:listen",body:"*"}}]},ListCollectionIds:{requestType:"ListCollectionIdsRequest",responseType:"ListCollectionIdsResponse",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds","(google.api.http).body":"*","(google.api.http).additional_bindings.post":"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds","(google.api.http).additional_bindings.body":"*","(google.api.method_signature)":"parent"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents}:listCollectionIds",body:"*",additional_bindings:{post:"/v1/{parent=projects/*/databases/*/documents/*/**}:listCollectionIds",body:"*"}}},{"(google.api.method_signature)":"parent"}]},BatchWrite:{requestType:"BatchWriteRequest",responseType:"BatchWriteResponse",options:{"(google.api.http).post":"/v1/{database=projects/*/databases/*}/documents:batchWrite","(google.api.http).body":"*"},parsedOptions:[{"(google.api.http)":{post:"/v1/{database=projects/*/databases/*}/documents:batchWrite",body:"*"}}]},CreateDocument:{requestType:"CreateDocumentRequest",responseType:"Document",options:{"(google.api.http).post":"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}","(google.api.http).body":"document"},parsedOptions:[{"(google.api.http)":{post:"/v1/{parent=projects/*/databases/*/documents/**}/{collection_id}",body:"document"}}]}}},GetDocumentRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:5}}},ListDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:3},pageToken:{type:"string",id:4},orderBy:{type:"string",id:6},mask:{type:"DocumentMask",id:7},transaction:{type:"bytes",id:8},readTime:{type:"google.protobuf.Timestamp",id:10},showMissing:{type:"bool",id:12}}},ListDocumentsResponse:{fields:{documents:{rule:"repeated",type:"Document",id:1},nextPageToken:{type:"string",id:2}}},CreateDocumentRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},collectionId:{type:"string",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}},documentId:{type:"string",id:3},document:{type:"Document",id:4,options:{"(google.api.field_behavior)":"REQUIRED"}},mask:{type:"DocumentMask",id:5}}},UpdateDocumentRequest:{fields:{document:{type:"Document",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},updateMask:{type:"DocumentMask",id:2},mask:{type:"DocumentMask",id:3},currentDocument:{type:"Precondition",id:4}}},DeleteDocumentRequest:{fields:{name:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},currentDocument:{type:"Precondition",id:2}}},BatchGetDocumentsRequest:{oneofs:{consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},documents:{rule:"repeated",type:"string",id:2},mask:{type:"DocumentMask",id:3},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:7}}},BatchGetDocumentsResponse:{oneofs:{result:{oneof:["found","missing"]}},fields:{found:{type:"Document",id:1},missing:{type:"string",id:2},transaction:{type:"bytes",id:3},readTime:{type:"google.protobuf.Timestamp",id:4}}},BeginTransactionRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},options:{type:"TransactionOptions",id:2}}},BeginTransactionResponse:{fields:{transaction:{type:"bytes",id:1}}},CommitRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},transaction:{type:"bytes",id:3}}},CommitResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},commitTime:{type:"google.protobuf.Timestamp",id:2}}},RollbackRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},transaction:{type:"bytes",id:2,options:{"(google.api.field_behavior)":"REQUIRED"}}}},RunQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},RunQueryResponse:{fields:{transaction:{type:"bytes",id:2},document:{type:"Document",id:1},readTime:{type:"google.protobuf.Timestamp",id:3},skippedResults:{type:"int32",id:4}}},ExecutePipelineRequest:{oneofs:{pipelineType:{oneof:["structuredPipeline"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredPipeline:{type:"StructuredPipeline",id:2},transaction:{type:"bytes",id:5},newTransaction:{type:"TransactionOptions",id:6},readTime:{type:"google.protobuf.Timestamp",id:7}}},ExecutePipelineResponse:{fields:{transaction:{type:"bytes",id:1},results:{rule:"repeated",type:"Document",id:2},executionTime:{type:"google.protobuf.Timestamp",id:3}}},RunAggregationQueryRequest:{oneofs:{queryType:{oneof:["structuredAggregationQuery"]},consistencySelector:{oneof:["transaction","newTransaction","readTime"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredAggregationQuery:{type:"StructuredAggregationQuery",id:2},transaction:{type:"bytes",id:4},newTransaction:{type:"TransactionOptions",id:5},readTime:{type:"google.protobuf.Timestamp",id:6}}},RunAggregationQueryResponse:{fields:{result:{type:"AggregationResult",id:1},transaction:{type:"bytes",id:2},readTime:{type:"google.protobuf.Timestamp",id:3}}},PartitionQueryRequest:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},structuredQuery:{type:"StructuredQuery",id:2},partitionCount:{type:"int64",id:3},pageToken:{type:"string",id:4},pageSize:{type:"int32",id:5}}},PartitionQueryResponse:{fields:{partitions:{rule:"repeated",type:"Cursor",id:1},nextPageToken:{type:"string",id:2}}},WriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},streamId:{type:"string",id:2},writes:{rule:"repeated",type:"Write",id:3},streamToken:{type:"bytes",id:4},labels:{keyType:"string",type:"string",id:5}}},WriteResponse:{fields:{streamId:{type:"string",id:1},streamToken:{type:"bytes",id:2},writeResults:{rule:"repeated",type:"WriteResult",id:3},commitTime:{type:"google.protobuf.Timestamp",id:4}}},ListenRequest:{oneofs:{targetChange:{oneof:["addTarget","removeTarget"]}},fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},addTarget:{type:"Target",id:2},removeTarget:{type:"int32",id:3},labels:{keyType:"string",type:"string",id:4}}},ListenResponse:{oneofs:{responseType:{oneof:["targetChange","documentChange","documentDelete","documentRemove","filter"]}},fields:{targetChange:{type:"TargetChange",id:2},documentChange:{type:"DocumentChange",id:3},documentDelete:{type:"DocumentDelete",id:4},documentRemove:{type:"DocumentRemove",id:6},filter:{type:"ExistenceFilter",id:5}}},Target:{oneofs:{targetType:{oneof:["query","documents"]},resumeType:{oneof:["resumeToken","readTime"]}},fields:{query:{type:"QueryTarget",id:2},documents:{type:"DocumentsTarget",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:11},targetId:{type:"int32",id:5},once:{type:"bool",id:6},expectedCount:{type:"google.protobuf.Int32Value",id:12}},nested:{DocumentsTarget:{fields:{documents:{rule:"repeated",type:"string",id:2}}},QueryTarget:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{parent:{type:"string",id:1},structuredQuery:{type:"StructuredQuery",id:2}}}}},TargetChange:{fields:{targetChangeType:{type:"TargetChangeType",id:1},targetIds:{rule:"repeated",type:"int32",id:2},cause:{type:"google.rpc.Status",id:3},resumeToken:{type:"bytes",id:4},readTime:{type:"google.protobuf.Timestamp",id:6}},nested:{TargetChangeType:{values:{NO_CHANGE:0,ADD:1,REMOVE:2,CURRENT:3,RESET:4}}}},ListCollectionIdsRequest:{fields:{parent:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},pageSize:{type:"int32",id:2},pageToken:{type:"string",id:3}}},ListCollectionIdsResponse:{fields:{collectionIds:{rule:"repeated",type:"string",id:1},nextPageToken:{type:"string",id:2}}},BatchWriteRequest:{fields:{database:{type:"string",id:1,options:{"(google.api.field_behavior)":"REQUIRED"}},writes:{rule:"repeated",type:"Write",id:2},labels:{keyType:"string",type:"string",id:3}}},BatchWriteResponse:{fields:{writeResults:{rule:"repeated",type:"WriteResult",id:1},status:{rule:"repeated",type:"google.rpc.Status",id:2}}},StructuredPipeline:{fields:{pipeline:{type:"Pipeline",id:1},options:{keyType:"string",type:"Value",id:2}}},StructuredQuery:{fields:{select:{type:"Projection",id:1},from:{rule:"repeated",type:"CollectionSelector",id:2},where:{type:"Filter",id:3},orderBy:{rule:"repeated",type:"Order",id:4},startAt:{type:"Cursor",id:7},endAt:{type:"Cursor",id:8},offset:{type:"int32",id:6},limit:{type:"google.protobuf.Int32Value",id:5}},nested:{CollectionSelector:{fields:{collectionId:{type:"string",id:2},allDescendants:{type:"bool",id:3}}},Filter:{oneofs:{filterType:{oneof:["compositeFilter","fieldFilter","unaryFilter"]}},fields:{compositeFilter:{type:"CompositeFilter",id:1},fieldFilter:{type:"FieldFilter",id:2},unaryFilter:{type:"UnaryFilter",id:3}}},CompositeFilter:{fields:{op:{type:"Operator",id:1},filters:{rule:"repeated",type:"Filter",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,AND:1,OR:2}}}},FieldFilter:{fields:{field:{type:"FieldReference",id:1},op:{type:"Operator",id:2},value:{type:"Value",id:3}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,LESS_THAN:1,LESS_THAN_OR_EQUAL:2,GREATER_THAN:3,GREATER_THAN_OR_EQUAL:4,EQUAL:5,NOT_EQUAL:6,ARRAY_CONTAINS:7,IN:8,ARRAY_CONTAINS_ANY:9,NOT_IN:10}}}},UnaryFilter:{oneofs:{operandType:{oneof:["field"]}},fields:{op:{type:"Operator",id:1},field:{type:"FieldReference",id:2}},nested:{Operator:{values:{OPERATOR_UNSPECIFIED:0,IS_NAN:2,IS_NULL:3,IS_NOT_NAN:4,IS_NOT_NULL:5}}}},Order:{fields:{field:{type:"FieldReference",id:1},direction:{type:"Direction",id:2}}},FieldReference:{fields:{fieldPath:{type:"string",id:2}}},Projection:{fields:{fields:{rule:"repeated",type:"FieldReference",id:2}}},Direction:{values:{DIRECTION_UNSPECIFIED:0,ASCENDING:1,DESCENDING:2}}}},StructuredAggregationQuery:{oneofs:{queryType:{oneof:["structuredQuery"]}},fields:{structuredQuery:{type:"StructuredQuery",id:1},aggregations:{rule:"repeated",type:"Aggregation",id:3}},nested:{Aggregation:{oneofs:{operator:{oneof:["count","sum","avg"]}},fields:{count:{type:"Count",id:1},sum:{type:"Sum",id:2},avg:{type:"Avg",id:3},alias:{type:"string",id:7}},nested:{Count:{fields:{upTo:{type:"google.protobuf.Int64Value",id:1}}},Sum:{fields:{field:{type:"StructuredQuery.FieldReference",id:1}}},Avg:{fields:{field:{type:"StructuredQuery.FieldReference",id:1}}}}}}},Cursor:{fields:{values:{rule:"repeated",type:"Value",id:1},before:{type:"bool",id:2}}},Write:{oneofs:{operation:{oneof:["update","delete","verify","transform"]}},fields:{update:{type:"Document",id:1},delete:{type:"string",id:2},verify:{type:"string",id:5},transform:{type:"DocumentTransform",id:6},updateMask:{type:"DocumentMask",id:3},updateTransforms:{rule:"repeated",type:"DocumentTransform.FieldTransform",id:7},currentDocument:{type:"Precondition",id:4}}},DocumentTransform:{fields:{document:{type:"string",id:1},fieldTransforms:{rule:"repeated",type:"FieldTransform",id:2}},nested:{FieldTransform:{oneofs:{transformType:{oneof:["setToServerValue","increment","maximum","minimum","appendMissingElements","removeAllFromArray"]}},fields:{fieldPath:{type:"string",id:1},setToServerValue:{type:"ServerValue",id:2},increment:{type:"Value",id:3},maximum:{type:"Value",id:4},minimum:{type:"Value",id:5},appendMissingElements:{type:"ArrayValue",id:6},removeAllFromArray:{type:"ArrayValue",id:7}},nested:{ServerValue:{values:{SERVER_VALUE_UNSPECIFIED:0,REQUEST_TIME:1}}}}}},WriteResult:{fields:{updateTime:{type:"google.protobuf.Timestamp",id:1},transformResults:{rule:"repeated",type:"Value",id:2}}},DocumentChange:{fields:{document:{type:"Document",id:1},targetIds:{rule:"repeated",type:"int32",id:5},removedTargetIds:{rule:"repeated",type:"int32",id:6}}},DocumentDelete:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:6},readTime:{type:"google.protobuf.Timestamp",id:4}}},DocumentRemove:{fields:{document:{type:"string",id:1},removedTargetIds:{rule:"repeated",type:"int32",id:2},readTime:{type:"google.protobuf.Timestamp",id:4}}},ExistenceFilter:{fields:{targetId:{type:"int32",id:1},count:{type:"int32",id:2},unchangedNames:{type:"BloomFilter",id:3}}},ExplainOptions:{fields:{analyze:{type:"bool",id:1,options:{"(google.api.field_behavior)":"OPTIONAL"}}}},ExplainMetrics:{fields:{planSummary:{type:"PlanSummary",id:1},executionStats:{type:"ExecutionStats",id:2}}},PlanSummary:{fields:{indexesUsed:{rule:"repeated",type:"google.protobuf.Struct",id:1}}},ExecutionStats:{fields:{resultsReturned:{type:"int64",id:1},executionDuration:{type:"google.protobuf.Duration",id:3},readOperations:{type:"int64",id:4},debugStats:{type:"google.protobuf.Struct",id:5}}}}}}},type:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/type/latlng;latlng",java_multiple_files:!0,java_outer_classname:"LatLngProto",java_package:"com.google.type",objc_class_prefix:"GTP"},nested:{LatLng:{fields:{latitude:{type:"double",id:1},longitude:{type:"double",id:2}}}}},api:{options:{go_package:"google.golang.org/genproto/googleapis/api;api",java_multiple_files:!0,java_outer_classname:"LaunchStageProto",java_package:"com.google.api",objc_class_prefix:"GAPI",cc_enable_arenas:!0},nested:{http:{type:"HttpRule",id:0x44f2530,extend:"google.protobuf.MethodOptions"},Http:{fields:{rules:{rule:"repeated",type:"HttpRule",id:1},fullyDecodeReservedExpansion:{type:"bool",id:2}}},HttpRule:{oneofs:{pattern:{oneof:["get","put","post","delete","patch","custom"]}},fields:{selector:{type:"string",id:1},get:{type:"string",id:2},put:{type:"string",id:3},post:{type:"string",id:4},delete:{type:"string",id:5},patch:{type:"string",id:6},custom:{type:"CustomHttpPattern",id:8},body:{type:"string",id:7},responseBody:{type:"string",id:12},additionalBindings:{rule:"repeated",type:"HttpRule",id:11}}},CustomHttpPattern:{fields:{kind:{type:"string",id:1},path:{type:"string",id:2}}},methodSignature:{rule:"repeated",type:"string",id:1051,extend:"google.protobuf.MethodOptions"},defaultHost:{type:"string",id:1049,extend:"google.protobuf.ServiceOptions"},oauthScopes:{type:"string",id:1050,extend:"google.protobuf.ServiceOptions"},fieldBehavior:{rule:"repeated",type:"google.api.FieldBehavior",id:1052,extend:"google.protobuf.FieldOptions"},FieldBehavior:{values:{FIELD_BEHAVIOR_UNSPECIFIED:0,OPTIONAL:1,REQUIRED:2,OUTPUT_ONLY:3,INPUT_ONLY:4,IMMUTABLE:5,UNORDERED_LIST:6,NON_EMPTY_DEFAULT:7}},LaunchStage:{values:{LAUNCH_STAGE_UNSPECIFIED:0,UNIMPLEMENTED:6,PRELAUNCH:7,EARLY_ACCESS:1,ALPHA:2,BETA:3,GA:4,DEPRECATED:5}}}},rpc:{options:{cc_enable_arenas:!0,go_package:"google.golang.org/genproto/googleapis/rpc/status;status",java_multiple_files:!0,java_outer_classname:"StatusProto",java_package:"com.google.rpc",objc_class_prefix:"RPC"},nested:{Status:{fields:{code:{type:"int32",id:1},message:{type:"string",id:2},details:{rule:"repeated",type:"google.protobuf.Any",id:3}}}}}}}};var n$={nested:nZ},n_=Object.freeze({__proto__:null,nested:nZ,default:n$});let n0={longs:String,enums:String,defaults:!0,oneofs:!1};function n1(){let a=bG.fromJSON(n_,n0);return bF.loadPackageDefinition(a)}function n2(a){return new nY(n1(),a)}function n3(){return new nO}function n4(){return"YES"===process.env.USE_MOCK_PERSISTENCE?window:null}function n5(){return null}function n6(a){return new iI(a,!1)}let n7="ExponentialBackoff",n8=1e3,n9=1.5,oa=6e4;class ob{constructor(a,b,c=n8,d=n9,e=oa){this.queue=a,this.timerId=b,this.initialDelayMs=c,this.backoffFactor=d,this.maxDelayMs=e,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}reset(){this.currentBaseMs=0}resetToMax(){this.currentBaseMs=this.maxDelayMs}backoffAndRun(a){this.cancel();let b=Math.floor(this.currentBaseMs+this.jitterDelayMs()),c=Math.max(0,Date.now()-this.lastAttemptTime),d=Math.max(0,b-c);d>0&&bN(n7,`Backing off for ${d} ms (base delay: ${this.currentBaseMs} ms, delay with jitter: ${b} ms, last attempt: ${c} ms ago)`),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,d,()=>(this.lastAttemptTime=Date.now(),a())),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)}skipBackoff(){null!==this.timerPromise&&(this.timerPromise.skipDelay(),this.timerPromise=null)}cancel(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)}jitterDelayMs(){return(Math.random()-.5)*this.currentBaseMs}}let oc="PersistentStream",od=6e4,oe=1e4;class of{constructor(a,b,c,d,e,f,g,h){this.queue=a,this.idleTimerId=c,this.healthTimerId=d,this.connection=e,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=h,this.state=0,this.closeCount=0,this.idleTimer=null,this.healthCheck=null,this.stream=null,this.responseCount=0,this.backoff=new ob(a,b)}isStarted(){return 1===this.state||5===this.state||this.isOpen()}isOpen(){return 2===this.state||3===this.state}start(){(this.responseCount=0,4===this.state)?this.performBackoff():this.auth()}async stop(){this.isStarted()&&await this.close(0)}inhibitBackoff(){this.state=0,this.backoff.reset()}markIdle(){this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,od,()=>this.handleIdleCloseTimer()))}sendRequest(a){this.cancelIdleCheck(),this.stream.send(a)}async handleIdleCloseTimer(){if(this.isOpen())return this.close(0)}cancelIdleCheck(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)}cancelHealthCheck(){this.healthCheck&&(this.healthCheck.cancel(),this.healthCheck=null)}async close(a,b){this.cancelIdleCheck(),this.cancelHealthCheck(),this.backoff.cancel(),this.closeCount++,4!==a?this.backoff.reset():b&&b.code===b2?(bO(b.toString()),bO("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):b&&b.code===b1&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=a,await this.listener.onClose(b)}tearDown(){}auth(){this.state=1;let a=this.getCloseGuardedDispatcher(this.closeCount),b=this.closeCount;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,c])=>{this.closeCount===b&&this.startStream(a,c)},b=>{a(()=>{let a=new ca(bX,"Fetching auth token failed: "+b.message);return this.handleStreamClose(a)})})}startStream(a,b){let c=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(a,b),this.stream.onConnected(()=>{c(()=>this.listener.onConnected())}),this.stream.onOpen(()=>{c(()=>(this.state=2,this.healthCheck=this.queue.enqueueAfterDelay(this.healthTimerId,oe,()=>(this.isOpen()&&(this.state=3),Promise.resolve())),this.listener.onOpen()))}),this.stream.onClose(a=>{c(()=>this.handleStreamClose(a))}),this.stream.onMessage(a=>{c(()=>1==++this.responseCount?this.onFirst(a):this.onNext(a))})}performBackoff(){this.state=5,this.backoff.backoffAndRun(async()=>{this.state=0,this.start()})}handleStreamClose(a){return bN(oc,`close with error: ${a}`),this.stream=null,this.close(4,a)}getCloseGuardedDispatcher(a){return b=>{this.queue.enqueueAndForget(()=>this.closeCount===a?b():(bN(oc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class og extends of{constructor(a,b,c,d,e,f){super(a,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",b,c,d,f),this.serializer=e}startRpc(a,b){return this.connection.openStream("Listen",a,b)}onFirst(a){return this.onNext(a)}onNext(a){this.backoff.reset();let b=i6(this.serializer,a),c=i8(a);return this.listener.onWatchChange(b,c)}watch(a){let b={};b.database=iZ(this.serializer),b.addTarget=jp(this.serializer,a);let c=jn(this.serializer,a);c&&(b.labels=c),this.sendRequest(b)}unwatch(a){let b={};b.database=iZ(this.serializer),b.removeTarget=a,this.sendRequest(b)}}class oh extends of{constructor(a,b,c,d,e,f){super(a,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",b,c,d,f),this.serializer=e}get handshakeComplete(){return this.responseCount>0}start(){this.lastStreamToken=void 0,super.start()}tearDown(){this.handshakeComplete&&this.writeMutations([])}startRpc(a,b){return this.connection.openStream("Write",a,b)}onFirst(a){return bT(!!a.streamToken,31322),this.lastStreamToken=a.streamToken,bT(!a.writeResults||0===a.writeResults.length,55816),this.listener.onHandshakeComplete()}onNext(a){bT(!!a.streamToken,12678),this.lastStreamToken=a.streamToken,this.backoff.reset();let b=je(a.writeResults,a.commitTime),c=iR(a.commitTime);return this.listener.onMutationResult(c,b)}writeHandshake(){let a={};a.database=iZ(this.serializer),this.sendRequest(a)}writeMutations(a){let b={streamToken:this.lastStreamToken,writes:a.map(a=>i9(this.serializer,a))};this.sendRequest(b)}}class oi{}class oj extends oi{constructor(a,b,c,d){super(),this.authCredentials=a,this.appCheckCredentials=b,this.connection=c,this.serializer=d,this.terminated=!1}verifyInitialized(){if(this.terminated)throw new ca(b3,"The client has already been terminated.")}invokeRPC(a,b,c,d){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([e,f])=>this.connection.invokeRPC(a,iT(b,c),d,e,f)).catch(a=>{if("FirebaseError"===a.name)throw a.code===b1&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a;throw new ca(bX,a.toString())})}invokeStreamingRPC(a,b,c,d,e){return this.verifyInitialized(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.invokeStreamingRPC(a,iT(b,c),d,f,g,e)).catch(a=>{if("FirebaseError"===a.name)throw a.code===b1&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a;throw new ca(bX,a.toString())})}terminate(){this.terminated=!0,this.connection.terminate()}}function ok(a,b,c,d){return new oj(a,b,c,d)}async function ol(a,b){let c=bU(a),d={writes:b.map(a=>i9(c.serializer,a))};await c.invokeRPC("Commit",c.serializer.databaseId,cw.emptyPath(),d)}async function om(a,b){let c=bU(a),d={documents:b.map(a=>iV(c.serializer,a))},e=await c.invokeStreamingRPC("BatchGetDocuments",c.serializer.databaseId,cw.emptyPath(),d,b.length),f=new Map;e.forEach(a=>{let b=i5(c.serializer,a);f.set(b.key.toString(),b)});let g=[];return b.forEach(a=>{let b=f.get(a.toString());bT(!!b,55234,{key:a}),g.push(b)}),g}async function on(a,b,c){let d=bU(a),{request:e,aliasMap:f,parent:g}=jk(d.serializer,g$(b),c);d.connection.shouldResourcePathBeIncludedInRequest||delete e.parent;let h=(await d.invokeStreamingRPC("RunAggregationQuery",d.serializer.databaseId,g,e,1)).filter(a=>!!a.result);bT(1===h.length,64727);let i=h[0].result?.aggregateFields;return Object.keys(i).reduce((a,b)=>(a[f[b]]=i[b],a),{})}function oo(a,b,c){let d=bU(a);return d.verifyInitialized(),new oh(b,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}function op(a,b,c){let d=bU(a);return d.verifyInitialized(),new og(b,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}let oq="OnlineStateTracker",or=1,os=1e4;class ot{constructor(a,b){this.asyncQueue=a,this.onlineStateHandler=b,this.state="Unknown",this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}handleWatchStreamStart(){0===this.watchStreamFailures&&(this.setAndBroadcast("Unknown"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay("online_state_timeout",os,()=>(this.onlineStateTimer=null,this.logClientOfflineWarningIfNecessary(`Backend didn't respond within ${os/1e3} seconds.`),this.setAndBroadcast("Offline"),Promise.resolve())))}handleWatchStreamFailure(a){"Online"===this.state?this.setAndBroadcast("Unknown"):(this.watchStreamFailures++,this.watchStreamFailures>=or&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(`Connection failed ${or} times. Most recent error: ${a.toString()}`),this.setAndBroadcast("Offline")))}set(a){this.clearOnlineStateTimer(),this.watchStreamFailures=0,"Online"===a&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(a)}setAndBroadcast(a){a!==this.state&&(this.state=a,this.onlineStateHandler(a))}logClientOfflineWarningIfNecessary(a){let b=`Could not reach Cloud Firestore backend. ${a}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.shouldWarnClientIsOffline?(bO(b),this.shouldWarnClientIsOffline=!1):bN(oq,b)}clearOnlineStateTimer(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)}}let ou="RemoteStore",ov=10;class ow{constructor(a,b,c,d,e){this.localStore=a,this.datastore=b,this.asyncQueue=c,this.remoteSyncer={},this.writePipeline=[],this.listenTargets=new Map,this.offlineCauses=new Set,this.onNetworkStatusChange=[],this.connectivityMonitor=e,this.connectivityMonitor.addCallback(a=>{c.enqueueAndForget(async()=>{oH(this)&&(bN(ou,"Restarting streams for network reachability change."),await o_(this))})}),this.onlineStateTracker=new ot(c,d)}}function ox(a,b,c,d,e){return new ow(a,b,c,d,e)}async function oy(a){if(oH(a))for(let b of a.onNetworkStatusChange)await b(!0)}async function oz(a){for(let b of a.onNetworkStatusChange)await b(!1)}async function oA(a){let b=bU(a);bN(ou,"RemoteStore shutting down."),b.offlineCauses.add(5),await oz(b),b.connectivityMonitor.shutdown(),b.onlineStateTracker.set("Unknown")}function oB(a,b){let c=bU(a);!c.listenTargets.has(b.targetId)&&(c.listenTargets.set(b.targetId,b),oG(c)?oF(c):o2(c).isOpen()&&oD(c,b))}function oC(a,b){let c=bU(a),d=o2(c);c.listenTargets.delete(b),d.isOpen()&&oE(c,b),0===c.listenTargets.size&&(d.isOpen()?d.markIdle():oH(c)&&c.onlineStateTracker.set("Unknown"))}function oD(a,b){if(a.watchChangeAggregator.recordPendingTargetRequest(b.targetId),b.resumeToken.approximateByteSize()>0||b.snapshotVersion.compareTo(cO.min())>0){let c=a.remoteSyncer.getRemoteKeysForTarget(b.targetId).size;b=b.withExpectedCount(c)}o2(a).watch(b)}function oE(a,b){a.watchChangeAggregator.recordPendingTargetRequest(b),o2(a).unwatch(b)}function oF(a){a.watchChangeAggregator=new iA({getRemoteKeysForTarget:b=>a.remoteSyncer.getRemoteKeysForTarget(b),getTargetDataForTarget:b=>a.listenTargets.get(b)||null,getDatabaseId:()=>a.datastore.serializer.databaseId}),o2(a).start(),a.onlineStateTracker.handleWatchStreamStart()}function oG(a){return oH(a)&&!o2(a).isStarted()&&a.listenTargets.size>0}function oH(a){return 0===bU(a).offlineCauses.size}function oI(a){a.watchChangeAggregator=void 0}async function oJ(a){a.onlineStateTracker.set("Online")}async function oK(a){a.listenTargets.forEach((b,c)=>{oD(a,b)})}async function oL(a,b){oI(a),oG(a)?(a.onlineStateTracker.handleWatchStreamFailure(b),oF(a)):a.onlineStateTracker.set("Unknown")}async function oM(a,b,c){if(a.onlineStateTracker.set("Online"),b instanceof ix&&2===b.state&&b.cause){try{await oQ(a,b)}catch(c){bN(ou,"Failed to remove targets %s: %s ",b.targetIds.join(","),c),await oN(a,c)}return}if(b instanceof iv?a.watchChangeAggregator.handleDocumentChange(b):b instanceof iw?a.watchChangeAggregator.handleExistenceFilter(b):a.watchChangeAggregator.handleTargetChange(b),!c.isEqual(cO.min()))try{let b=await m$(a.localStore);c.compareTo(b)>=0&&await oP(a,c)}catch(b){bN(ou,"Failed to raise snapshot:",b),await oN(a,b)}}async function oN(a,b,c){if(dd(b))a.offlineCauses.add(1),await oz(a),a.onlineStateTracker.set("Offline"),c||(c=()=>m$(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{bN(ou,"Retrying IndexedDB access"),await c(),a.offlineCauses.delete(1),await oy(a)});else throw b}function oO(a,b){return b().catch(c=>oN(a,c,b))}function oP(a,b){let c=a.watchChangeAggregator.createRemoteEvent(b);return c.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){let e=a.listenTargets.get(d);e&&a.listenTargets.set(d,e.withResumeToken(c.resumeToken,b))}}),c.targetMismatches.forEach((b,c)=>{let d=a.listenTargets.get(b);d&&(a.listenTargets.set(b,d.withResumeToken(eU.EMPTY_BYTE_STRING,d.snapshotVersion)),oE(a,b),oD(a,new jT(d.target,b,c,d.sequenceNumber)))}),a.remoteSyncer.applyRemoteEvent(c)}async function oQ(a,b){let c=b.cause;for(let d of b.targetIds)a.listenTargets.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.listenTargets.delete(d),a.watchChangeAggregator.removeTarget(d))}async function oR(a){let b=bU(a),c=o3(b),d=b.writePipeline.length>0?b.writePipeline[b.writePipeline.length-1].batchId:fb;for(;oS(b);)try{let a=await m3(b.localStore,d);if(null===a){0===b.writePipeline.length&&c.markIdle();break}d=a.batchId,oT(b,a)}catch(a){await oN(b,a)}oU(b)&&oV(b)}function oS(a){return oH(a)&&a.writePipeline.length<ov}function oT(a,b){a.writePipeline.push(b);let c=o3(a);c.isOpen()&&c.handshakeComplete&&c.writeMutations(b.mutations)}function oU(a){return oH(a)&&!o3(a).isStarted()&&a.writePipeline.length>0}function oV(a){o3(a).start()}async function oW(a){o3(a).writeHandshake()}async function oX(a){let b=o3(a);for(let c of a.writePipeline)b.writeMutations(c.mutations)}async function oY(a,b,c){let d=a.writePipeline.shift(),e=ib.from(d,b,c);await oO(a,()=>a.remoteSyncer.applySuccessfulWrite(e)),await oR(a)}async function oZ(a,b){b&&o3(a).handshakeComplete&&await o$(a,b),oU(a)&&oV(a)}async function o$(a,b){if(ig(b.code)){let c=a.writePipeline.shift();o3(a).inhibitBackoff(),await oO(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,b)),await oR(a)}}async function o_(a){let b=bU(a);b.offlineCauses.add(4),await oz(b),b.onlineStateTracker.set("Unknown"),b.offlineCauses.delete(4),await oy(b)}async function o0(a,b){let c=bU(a);c.asyncQueue.verifyOperationInProgress(),bN(ou,"RemoteStore received new credentials");let d=oH(c);c.offlineCauses.add(3),await oz(c),d&&c.onlineStateTracker.set("Unknown"),await c.remoteSyncer.handleCredentialChange(b),c.offlineCauses.delete(3),await oy(c)}async function o1(a,b){let c=bU(a);b?(c.offlineCauses.delete(2),await oy(c)):b||(c.offlineCauses.add(2),await oz(c),c.onlineStateTracker.set("Unknown"))}function o2(a){return a.watchStream||(a.watchStream=op(a.datastore,a.asyncQueue,{onConnected:oJ.bind(null,a),onOpen:oK.bind(null,a),onClose:oL.bind(null,a),onWatchChange:oM.bind(null,a)}),a.onNetworkStatusChange.push(async b=>{b?(a.watchStream.inhibitBackoff(),oG(a)?oF(a):a.onlineStateTracker.set("Unknown")):(await a.watchStream.stop(),oI(a))})),a.watchStream}function o3(a){return a.writeStream||(a.writeStream=oo(a.datastore,a.asyncQueue,{onConnected:()=>Promise.resolve(),onOpen:oW.bind(null,a),onClose:oZ.bind(null,a),onHandshakeComplete:oX.bind(null,a),onMutationResult:oY.bind(null,a)}),a.onNetworkStatusChange.push(async b=>{b?(a.writeStream.inhibitBackoff(),await oR(a)):(await a.writeStream.stop(),a.writePipeline.length>0&&(bN(ou,`Stopping write stream with ${a.writePipeline.length} pending writes`),a.writePipeline=[]))})),a.writeStream}let o4="AsyncQueue";class o5{constructor(a,b,c,d,e){this.asyncQueue=a,this.timerId=b,this.targetTimeMs=c,this.op=d,this.removalCallback=e,this.deferred=new cb,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(a,b,c,d,e){let f=new o5(a,b,Date.now()+c,d,e);return f.start(c),f}start(a){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),a)}skipDelay(){return this.handleDelayElapsed()}cancel(a){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ca(bW,"Operation cancelled"+(a?": "+a:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(a=>this.deferred.resolve(a))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o6(a,b){if(bO(o4,`${b}: ${a}`),dd(a))return new ca(b8,`${b}: ${a}`);throw a}class o7{static emptySet(a){return new o7(a.comparator)}constructor(a){a?this.comparator=(b,c)=>a(b,c)||cz.comparator(b.key,c.key):this.comparator=(a,b)=>cz.comparator(a.key,b.key),this.keyedMap=hk(),this.sortedSet=new eJ(this.comparator)}has(a){return null!=this.keyedMap.get(a)}get(a){return this.keyedMap.get(a)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(a){let b=this.keyedMap.get(a);return b?this.sortedSet.indexOf(b):-1}get size(){return this.sortedSet.size}forEach(a){this.sortedSet.inorderTraversal((b,c)=>(a(b),!1))}add(a){let b=this.delete(a.key);return b.copy(b.keyedMap.insert(a.key,a),b.sortedSet.insert(a,null))}delete(a){let b=this.get(a);return b?this.copy(this.keyedMap.remove(a),this.sortedSet.remove(b)):this}isEqual(a){if(!(a instanceof o7)||this.size!==a.size)return!1;let b=this.sortedSet.getIterator(),c=a.sortedSet.getIterator();for(;b.hasNext();){let a=b.getNext().key,d=c.getNext().key;if(!a.isEqual(d))return!1}return!0}toString(){let a=[];return(this.forEach(b=>{a.push(b.toString())}),0===a.length)?"DocumentSet ()":"DocumentSet (\n  "+a.join("  \n")+"\n)"}copy(a,b){let c=new o7;return c.comparator=this.comparator,c.keyedMap=a,c.sortedSet=b,c}}class o8{constructor(){this.changeMap=new eJ(cz.comparator)}track(a){let b=a.doc.key,c=this.changeMap.get(b);if(!c){this.changeMap=this.changeMap.insert(b,a);return}0!==a.type&&3===c.type?this.changeMap=this.changeMap.insert(b,a):3===a.type&&1!==c.type?this.changeMap=this.changeMap.insert(b,{type:c.type,doc:a.doc}):2===a.type&&2===c.type?this.changeMap=this.changeMap.insert(b,{type:2,doc:a.doc}):2===a.type&&0===c.type?this.changeMap=this.changeMap.insert(b,{type:0,doc:a.doc}):1===a.type&&0===c.type?this.changeMap=this.changeMap.remove(b):1===a.type&&2===c.type?this.changeMap=this.changeMap.insert(b,{type:1,doc:c.doc}):0===a.type&&1===c.type?this.changeMap=this.changeMap.insert(b,{type:2,doc:a.doc}):bR(63341,{change:a,oldChange:c})}getChanges(){let a=[];return this.changeMap.inorderTraversal((b,c)=>{a.push(c)}),a}}class o9{constructor(a,b,c,d,e,f,g,h,i){this.query=a,this.docs=b,this.oldDocs=c,this.docChanges=d,this.mutatedKeys=e,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=h,this.hasCachedResults=i}static fromInitialDocuments(a,b,c,d,e){let f=[];return b.forEach(a=>{f.push({type:0,doc:a})}),new o9(a,b,o7.emptySet(b),f,c,d,!0,!1,e)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(a){if(this.fromCache!==a.fromCache||this.hasCachedResults!==a.hasCachedResults||this.syncStateChanged!==a.syncStateChanged||!this.mutatedKeys.isEqual(a.mutatedKeys)||!g5(this.query,a.query)||!this.docs.isEqual(a.docs)||!this.oldDocs.isEqual(a.oldDocs))return!1;let b=this.docChanges,c=a.docChanges;if(b.length!==c.length)return!1;for(let a=0;a<b.length;a++)if(b[a].type!==c[a].type||!b[a].doc.isEqual(c[a].doc))return!1;return!0}}class pa{constructor(){this.viewSnap=void 0,this.listeners=[]}hasRemoteListeners(){return this.listeners.some(a=>a.listensToRemoteStore())}}function pb(){return new pc}class pc{constructor(){this.queries=pd(),this.onlineState="Unknown",this.snapshotsInSyncListeners=new Set}terminate(){pl(this,new ca(b4,"Firestore shutting down"))}}function pd(){return new hg(a=>g6(a),g5)}async function pe(a,b){let c=bU(a),d=3,e=b.query,f=c.queries.get(e);f?!f.hasRemoteListeners()&&b.listensToRemoteStore()&&(d=2):(f=new pa,d=+!b.listensToRemoteStore());try{switch(d){case 0:f.viewSnap=await c.onListen(e,!0);break;case 1:f.viewSnap=await c.onListen(e,!1);break;case 2:await c.onFirstRemoteStoreListen(e)}}catch(c){let a=o6(c,`Initialization of query '${g7(b.query)}' failed`);b.onError(a);return}c.queries.set(e,f),f.listeners.push(b),b.applyOnlineStateChange(c.onlineState),f.viewSnap&&b.onViewSnapshot(f.viewSnap)&&pm(c)}async function pf(a,b){let c=bU(a),d=b.query,e=3,f=c.queries.get(d);if(f){let a=f.listeners.indexOf(b);a>=0&&(f.listeners.splice(a,1),0===f.listeners.length?e=+!b.listensToRemoteStore():!f.hasRemoteListeners()&&b.listensToRemoteStore()&&(e=2))}switch(e){case 0:return c.queries.delete(d),c.onUnlisten(d,!0);case 1:return c.queries.delete(d),c.onUnlisten(d,!1);case 2:return c.onLastRemoteStoreUnlisten(d);default:return}}function pg(a,b){let c=bU(a),d=!1;for(let a of b){let b=a.query,e=c.queries.get(b);if(e){for(let b of e.listeners)b.onViewSnapshot(a)&&(d=!0);e.viewSnap=a}}d&&pm(c)}function ph(a,b,c){let d=bU(a),e=d.queries.get(b);if(e)for(let a of e.listeners)a.onError(c);d.queries.delete(b)}function pi(a,b){let c=bU(a);c.onlineState=b;let d=!1;c.queries.forEach((a,c)=>{for(let a of c.listeners)a.applyOnlineStateChange(b)&&(d=!0)}),d&&pm(c)}function pj(a,b){bU(a).snapshotsInSyncListeners.add(b),b.next()}function pk(a,b){bU(a).snapshotsInSyncListeners.delete(b)}function pl(a,b){let c=bU(a),d=c.queries;c.queries=pd(),d.forEach((a,c)=>{for(let a of c.listeners)a.onError(b)})}function pm(a){a.snapshotsInSyncListeners.forEach(a=>{a.next()})}!function(a){a.Default="default",a.Cache="cache"}(bw||(bw={}));class pn{constructor(a,b,c){this.query=a,this.queryObserver=b,this.raisedInitialEvent=!1,this.snap=null,this.onlineState="Unknown",this.options=c||{}}onViewSnapshot(a){if(!this.options.includeMetadataChanges){let b=[];for(let c of a.docChanges)3!==c.type&&b.push(c);a=new o9(a.query,a.docs,a.oldDocs,b,a.mutatedKeys,a.fromCache,a.syncStateChanged,!0,a.hasCachedResults)}let b=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(a)&&(this.queryObserver.next(a),b=!0):this.shouldRaiseInitialEvent(a,this.onlineState)&&(this.raiseInitialEvent(a),b=!0),this.snap=a,b}onError(a){this.queryObserver.error(a)}applyOnlineStateChange(a){this.onlineState=a;let b=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,a)&&(this.raiseInitialEvent(this.snap),b=!0),b}shouldRaiseInitialEvent(a,b){if(!a.fromCache||!this.listensToRemoteStore())return!0;let c="Offline"!==b;return(!this.options.waitForSyncWhenOnline||!c)&&(!a.docs.isEmpty()||a.hasCachedResults||"Offline"===b)}shouldRaiseEvent(a){if(a.docChanges.length>0)return!0;let b=this.snap&&this.snap.hasPendingWrites!==a.hasPendingWrites;return(!!a.syncStateChanged||!!b)&&!0===this.options.includeMetadataChanges}raiseInitialEvent(a){a=o9.fromInitialDocuments(a.query,a.docs,a.mutatedKeys,a.fromCache,a.hasCachedResults),this.raisedInitialEvent=!0,this.queryObserver.next(a)}listensToRemoteStore(){return this.options.source!==bw.Cache}}class po{constructor(a,b,c,d){this.targetId=a,this.fromCache=b,this.addedKeys=c,this.removedKeys=d}static fromSnapshot(a,b){let c=ht(),d=ht();for(let a of b.docChanges)switch(a.type){case 0:c=c.add(a.doc.key);break;case 1:d=d.add(a.doc.key)}return new po(a,b.fromCache,c,d)}}class pp{constructor(a){this.serializer=a}toDocumentKey(a){return iW(this.serializer,a)}toMutableDocument(a){return a.metadata.exists?i2(this.serializer,a.document,!1):f3.newNoDocument(this.toDocumentKey(a.metadata.name),this.toSnapshotVersion(a.metadata.readTime))}toSnapshotVersion(a){return iR(a)}}class pq{constructor(a,b){this.bundleMetadata=a,this.serializer=b,this._queries=[],this._documents=[],this.collectionGroups=new Set,this.progress=pr(a)}get queries(){return this._queries}get documents(){return this._documents}addSizedElement(a){this.progress.bytesLoaded+=a.byteLength;let b=this.progress.documentsLoaded;if(a.payload.namedQuery)this._queries.push(a.payload.namedQuery);else if(a.payload.documentMetadata){this._documents.push({metadata:a.payload.documentMetadata}),!a.payload.documentMetadata.exists&&++b;let c=cw.fromString(a.payload.documentMetadata.name);this.collectionGroups.add(c.get(c.length-2))}else a.payload.document&&(this._documents[this._documents.length-1].document=a.payload.document,++b);return b!==this.progress.documentsLoaded?(this.progress.documentsLoaded=b,{...this.progress}):null}getQueryDocumentMapping(a){let b=new Map,c=new pp(this.serializer);for(let d of a)if(d.metadata.queries){let a=c.toDocumentKey(d.metadata.name);for(let c of d.metadata.queries){let d=(b.get(c)||ht()).add(a);b.set(c,d)}}return b}async completeAndStoreAsync(a){let b=await nh(a,new pp(this.serializer),this._documents,this.bundleMetadata.id),c=this.getQueryDocumentMapping(this.documents);for(let b of this._queries)await nl(a,b,c.get(b.name));return this.progress.taskState="Success",{progress:this.progress,changedCollectionGroups:this.collectionGroups,changedDocs:b}}}function pr(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}function ps(a){return{taskState:"Success",documentsLoaded:a.totalDocuments,bytesLoaded:a.totalBytes,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class pt{constructor(a){this.key=a}}class pu{constructor(a){this.key=a}}class pv{constructor(a,b){this.query=a,this._syncedDocuments=b,this.syncState=null,this.hasCachedResults=!1,this.current=!1,this.limboDocuments=ht(),this.mutatedKeys=ht(),this.docComparator=he(a),this.documentSet=new o7(this.docComparator)}get syncedDocuments(){return this._syncedDocuments}computeDocChanges(a,b){let c=b?b.changeSet:new o8,d=b?b.documentSet:this.documentSet,e=b?b.mutatedKeys:this.mutatedKeys,f=d,g=!1,h="F"===this.query.limitType&&d.size===this.query.limit?d.last():null,i="L"===this.query.limitType&&d.size===this.query.limit?d.first():null;if(a.inorderTraversal((a,b)=>{let j=d.get(a),k=g8(this.query,b)?b:null,l=!!j&&this.mutatedKeys.has(j.key),m=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations),n=!1;j&&k?j.data.isEqual(k.data)?l!==m&&(c.track({type:3,doc:k}),n=!0):!this.shouldWaitForSyncedDocument(j,k)&&(c.track({type:2,doc:k}),n=!0,(h&&this.docComparator(k,h)>0||i&&0>this.docComparator(k,i))&&(g=!0)):!j&&k?(c.track({type:0,doc:k}),n=!0):j&&!k&&(c.track({type:1,doc:j}),n=!0,(h||i)&&(g=!0)),n&&(k?(f=f.add(k),e=m?e.add(a):e.delete(a)):(f=f.delete(a),e=e.delete(a)))}),null!==this.query.limit)for(;f.size>this.query.limit;){let a="F"===this.query.limitType?f.last():f.first();f=f.delete(a.key),e=e.delete(a.key),c.track({type:1,doc:a})}return{documentSet:f,changeSet:c,needsRefill:g,mutatedKeys:e}}shouldWaitForSyncedDocument(a,b){return a.hasLocalMutations&&b.hasCommittedMutations&&!b.hasLocalMutations}applyChanges(a,b,c,d){let e=this.documentSet;this.documentSet=a.documentSet,this.mutatedKeys=a.mutatedKeys;let f=a.changeSet.getChanges();f.sort((a,b)=>pw(a.type,b.type)||this.docComparator(a.doc,b.doc)),this.applyTargetChange(c),d=d??!1;let g=b&&!d?this.updateLimboDocuments():[],h=+!!(0===this.limboDocuments.size&&this.current&&!d),i=h!==this.syncState;return(this.syncState=h,0!==f.length||i)?{snapshot:new o9(this.query,a.documentSet,e,f,a.mutatedKeys,0===h,i,!1,!!c&&c.resumeToken.approximateByteSize()>0),limboChanges:g}:{limboChanges:g}}applyOnlineStateChange(a){return this.current&&"Offline"===a?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new o8,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}}shouldBeInLimbo(a){return!this._syncedDocuments.has(a)&&!!this.documentSet.has(a)&&!this.documentSet.get(a).hasLocalMutations}applyTargetChange(a){a&&(a.addedDocuments.forEach(a=>this._syncedDocuments=this._syncedDocuments.add(a)),a.modifiedDocuments.forEach(a=>{}),a.removedDocuments.forEach(a=>this._syncedDocuments=this._syncedDocuments.delete(a)),this.current=a.current)}updateLimboDocuments(){if(!this.current)return[];let a=this.limboDocuments;this.limboDocuments=ht(),this.documentSet.forEach(a=>{this.shouldBeInLimbo(a.key)&&(this.limboDocuments=this.limboDocuments.add(a.key))});let b=[];return a.forEach(a=>{this.limboDocuments.has(a)||b.push(new pu(a))}),this.limboDocuments.forEach(c=>{a.has(c)||b.push(new pt(c))}),b}synchronizeWithPersistedState(a){this._syncedDocuments=a.remoteKeys,this.limboDocuments=ht();let b=this.computeDocChanges(a.documents);return this.applyChanges(b,!0)}computeInitialSnapshot(){return o9.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,0===this.syncState,this.hasCachedResults)}}function pw(a,b){let c=a=>{switch(a){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bR(20277,{change:a})}};return c(a)-c(b)}let px="SyncEngine";class py{constructor(a,b,c){this.query=a,this.targetId=b,this.view=c}}class pz{constructor(a){this.key=a,this.receivedDocument=!1}}class pA{constructor(a,b,c,d,e,f){this.localStore=a,this.remoteStore=b,this.eventManager=c,this.sharedClientState=d,this.currentUser=e,this.maxConcurrentLimboResolutions=f,this.syncEngineListener={},this.queryViewsByQuery=new hg(a=>g6(a),g5),this.queriesByTarget=new Map,this.enqueuedLimboResolutions=new Set,this.activeLimboTargetsByKey=new eJ(cz.comparator),this.activeLimboResolutionsByTarget=new Map,this.limboDocumentRefs=new l6,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=lw.forSyncEngine(),this.onlineState="Unknown",this._isPrimaryClient=void 0}get isPrimaryClient(){return!0===this._isPrimaryClient}}function pB(a,b,c,d,e,f,g){let h=new pA(a,b,c,d,e,f);return g&&(h._isPrimaryClient=!0),h}async function pC(a,b,c=!0){let d,e=p9(a),f=e.queryViewsByQuery.get(b);return f?(e.sharedClientState.addLocalQueryTarget(f.targetId),d=f.view.computeInitialSnapshot()):d=await pE(e,b,c,!0),d}async function pD(a,b){let c=p9(a);await pE(c,b,!0,!1)}async function pE(a,b,c,d){let e,f=await m5(a.localStore,gZ(b)),g=f.targetId,h=a.sharedClientState.addLocalQueryTarget(g,c);return d&&(e=await pF(a,b,g,"current"===h,f.resumeToken)),a.isPrimaryClient&&c&&oB(a.remoteStore,f),e}async function pF(a,b,c,d,e){a.applyDocChanges=(b,c,d)=>pY(a,b,c,d);let f=await m8(a.localStore,b,!0),g=new pv(b,f.remoteKeys),h=g.computeDocChanges(f.documents),i=iu.createSynthesizedTargetChangeForCurrentChange(c,d&&"Offline"!==a.onlineState,e),j=g.applyChanges(h,a.isPrimaryClient,i);pU(a,c,j.limboChanges);let k=new py(b,c,g);return a.queryViewsByQuery.set(b,k),a.queriesByTarget.has(c)?a.queriesByTarget.get(c).push(b):a.queriesByTarget.set(c,[b]),j.snapshot}async function pG(a,b,c){let d=bU(a),e=d.queryViewsByQuery.get(b),f=d.queriesByTarget.get(e.targetId);if(f.length>1){d.queriesByTarget.set(e.targetId,f.filter(a=>!g5(a,b))),d.queryViewsByQuery.delete(b);return}d.isPrimaryClient?(d.sharedClientState.removeLocalQueryTarget(e.targetId),d.sharedClientState.isActiveQueryTarget(e.targetId)||await m7(d.localStore,e.targetId,!1).then(()=>{d.sharedClientState.clearQueryState(e.targetId),c&&oC(d.remoteStore,e.targetId),pS(d,e.targetId)}).catch(c4)):(pS(d,e.targetId),await m7(d.localStore,e.targetId,!0))}async function pH(a,b){let c=bU(a),d=c.queryViewsByQuery.get(b),e=c.queriesByTarget.get(d.targetId);c.isPrimaryClient&&1===e.length&&(c.sharedClientState.removeLocalQueryTarget(d.targetId),oC(c.remoteStore,d.targetId))}async function pI(a,b,c){let d=qa(a);try{let a=await mW(d.localStore,b);d.sharedClientState.addPendingMutation(a.batchId),pQ(d,a.batchId,c),await pX(d,a.changes),await oR(d.remoteStore)}catch(b){let a=o6(b,"Failed to persist write");c.reject(a)}}async function pJ(a,b){let c=bU(a);try{let a=await m_(c.localStore,b);b.targetChanges.forEach((a,b)=>{let d=c.activeLimboResolutionsByTarget.get(b);d&&(bT(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?d.receivedDocument=!0:a.modifiedDocuments.size>0?bT(d.receivedDocument,14607):a.removedDocuments.size>0&&(bT(d.receivedDocument,42227),d.receivedDocument=!1))}),await pX(c,a,b)}catch(a){await c4(a)}}function pK(a,b,c){let d=bU(a);if(d.isPrimaryClient&&0===c||!d.isPrimaryClient&&1===c){let a=[];d.queryViewsByQuery.forEach((c,d)=>{let e=d.view.applyOnlineStateChange(b);e.snapshot&&a.push(e.snapshot)}),pi(d.eventManager,b),a.length&&d.syncEngineListener.onWatchChange(a),d.onlineState=b,d.isPrimaryClient&&d.sharedClientState.setOnlineState(b)}}async function pL(a,b,c){let d=bU(a);d.sharedClientState.updateQueryState(b,"rejected",c);let e=d.activeLimboResolutionsByTarget.get(b),f=e&&e.key;if(f){let a=new eJ(cz.comparator);a=a.insert(f,f3.newNoDocument(f,cO.min()));let c=ht().add(f),e=new it(cO.min(),new Map,new eJ(cn),a,c);await pJ(d,e),d.activeLimboTargetsByKey=d.activeLimboTargetsByKey.remove(f),d.activeLimboResolutionsByTarget.delete(b),pW(d)}else await m7(d.localStore,b,!1).then(()=>pS(d,b,c)).catch(c4)}async function pM(a,b){let c=bU(a),d=b.batch.batchId;try{let a=await mX(c.localStore,b);pR(c,d,null),pO(c,d),c.sharedClientState.updateMutationState(d,"acknowledged"),await pX(c,a)}catch(a){await c4(a)}}async function pN(a,b,c){let d=bU(a);try{let a=await mZ(d.localStore,b);pR(d,b,c),pO(d,b),d.sharedClientState.updateMutationState(b,"rejected",c),await pX(d,a)}catch(a){await c4(a)}}function pO(a,b){(a.pendingWritesCallbacks.get(b)||[]).forEach(a=>{a.resolve()}),a.pendingWritesCallbacks.delete(b)}function pP(a,b){a.pendingWritesCallbacks.forEach(a=>{a.forEach(a=>{a.reject(new ca(bW,b))})}),a.pendingWritesCallbacks.clear()}function pQ(a,b,c){let d=a.mutationUserCallbacks[a.currentUser.toKey()];d||(d=new eJ(cn)),d=d.insert(b,c),a.mutationUserCallbacks[a.currentUser.toKey()]=d}function pR(a,b,c){let d=bU(a),e=d.mutationUserCallbacks[d.currentUser.toKey()];if(e){let a=e.get(b);a&&(c?a.reject(c):a.resolve(),e=e.remove(b)),d.mutationUserCallbacks[d.currentUser.toKey()]=e}}function pS(a,b,c=null){for(let d of(a.sharedClientState.removeLocalQueryTarget(b),a.queriesByTarget.get(b)))a.queryViewsByQuery.delete(d),c&&a.syncEngineListener.onWatchError(d,c);a.queriesByTarget.delete(b),a.isPrimaryClient&&a.limboDocumentRefs.removeReferencesForId(b).forEach(b=>{a.limboDocumentRefs.containsKey(b)||pT(a,b)})}function pT(a,b){a.enqueuedLimboResolutions.delete(b.path.canonicalString());let c=a.activeLimboTargetsByKey.get(b);null!==c&&(oC(a.remoteStore,c),a.activeLimboTargetsByKey=a.activeLimboTargetsByKey.remove(b),a.activeLimboResolutionsByTarget.delete(c),pW(a))}function pU(a,b,c){for(let d of c)d instanceof pt?(a.limboDocumentRefs.addReference(d.key,b),pV(a,d)):d instanceof pu?(bN(px,"Document no longer in limbo: "+d.key),a.limboDocumentRefs.removeReference(d.key,b),a.limboDocumentRefs.containsKey(d.key)||pT(a,d.key)):bR(19791,{limboChange:d})}function pV(a,b){let c=b.key,d=c.path.canonicalString();a.activeLimboTargetsByKey.get(c)||a.enqueuedLimboResolutions.has(d)||(bN(px,"New document in limbo: "+c),a.enqueuedLimboResolutions.add(d),pW(a))}function pW(a){for(;a.enqueuedLimboResolutions.size>0&&a.activeLimboTargetsByKey.size<a.maxConcurrentLimboResolutions;){let b=a.enqueuedLimboResolutions.values().next().value;a.enqueuedLimboResolutions.delete(b);let c=new cz(cw.fromString(b)),d=a.limboTargetIdGenerator.next();a.activeLimboResolutionsByTarget.set(d,new pz(c)),a.activeLimboTargetsByKey=a.activeLimboTargetsByKey.insert(c,d),oB(a.remoteStore,new jT(gZ(gS(c.path)),d,"TargetPurposeLimboResolution",dp.INVALID))}}async function pX(a,b,c){let d=bU(a),e=[],f=[],g=[];d.queryViewsByQuery.isEmpty()||(d.queryViewsByQuery.forEach((a,h)=>{g.push(d.applyDocChanges(h,b,c).then(a=>{if((a||c)&&d.isPrimaryClient){let b=a?!a.fromCache:c?.targetChanges.get(h.targetId)?.current;d.sharedClientState.updateQueryState(h.targetId,b?"current":"not-current")}if(a){e.push(a);let b=po.fromSnapshot(h.targetId,a);f.push(b)}}))}),await Promise.all(g),d.syncEngineListener.onWatchChange(e),await m2(d.localStore,f))}async function pY(a,b,c,d){let e=b.view.computeDocChanges(c);e.needsRefill&&(e=await m8(a.localStore,b.query,!1).then(({documents:a})=>b.view.computeDocChanges(a,e)));let f=d&&d.targetChanges.get(b.targetId),g=d&&null!=d.targetMismatches.get(b.targetId),h=b.view.applyChanges(e,a.isPrimaryClient,f,g);return pU(a,b.targetId,h.limboChanges),h.snapshot}async function pZ(a,b){let c=bU(a);if(!c.currentUser.isEqual(b)){bN(px,"User change. New user:",b.toKey());let a=await mV(c.localStore,b);c.currentUser=b,pP(c,"'waitForPendingWrites' promise is rejected due to a user change."),c.sharedClientState.handleUserChange(b,a.removedBatchIds,a.addedBatchIds),await pX(c,a.affectedDocuments)}}function p$(a,b){let c=bU(a),d=c.activeLimboResolutionsByTarget.get(b);if(d&&d.receivedDocument)return ht().add(d.key);{let a=ht(),d=c.queriesByTarget.get(b);if(!d)return a;for(let b of d){let d=c.queryViewsByQuery.get(b);a=a.unionWith(d.view.syncedDocuments)}return a}}async function p_(a,b){let c=bU(a),d=await m8(c.localStore,b.query,!0),e=b.view.synchronizeWithPersistedState(d);return c.isPrimaryClient&&pU(c,b.targetId,e.limboChanges),e}async function p0(a,b){let c=bU(a);return ne(c.localStore,b).then(a=>pX(c,a))}async function p1(a,b,c,d){let e=bU(a),f=await na(e.localStore,b);null===f?bN(px,"Cannot apply mutation batch with id: "+b):("pending"===c?await oR(e.remoteStore):"acknowledged"===c||"rejected"===c?(pR(e,b,d||null),pO(e,b),nb(e.localStore,b)):bR(6720,"Unknown batchState",{batchState:c}),await pX(e,f))}async function p2(a,b){let c=bU(a);if(p9(c),qa(c),!0===b&&!0!==c._isPrimaryClient){let a=c.sharedClientState.getAllActiveQueryTargets(),b=await p4(c,a.toArray());for(let a of(c._isPrimaryClient=!0,await o1(c.remoteStore,!0),b))oB(c.remoteStore,a)}else if(!1===b&&!1!==c._isPrimaryClient){let a=[],b=Promise.resolve();c.queriesByTarget.forEach((d,e)=>{c.sharedClientState.isLocalQueryTarget(e)?a.push(e):b=b.then(()=>(pS(c,e),m7(c.localStore,e,!0))),oC(c.remoteStore,e)}),await b,await p4(c,a),p3(c),c._isPrimaryClient=!1,await o1(c.remoteStore,!1)}}function p3(a){let b=bU(a);b.activeLimboResolutionsByTarget.forEach((a,c)=>{oC(b.remoteStore,c)}),b.limboDocumentRefs.removeAllReferences(),b.activeLimboResolutionsByTarget=new Map,b.activeLimboTargetsByKey=new eJ(cz.comparator)}async function p4(a,b,c){let d=bU(a),e=[],f=[];for(let a of b){let b,c=d.queriesByTarget.get(a);if(c&&0!==c.length)for(let a of(b=await m5(d.localStore,gZ(c[0])),c)){let b=d.queryViewsByQuery.get(a),c=await p_(d,b);c.snapshot&&f.push(c.snapshot)}else{let c=await nd(d.localStore,a);b=await m5(d.localStore,c),await pF(d,p5(c),a,!1,b.resumeToken)}e.push(b)}return d.syncEngineListener.onWatchChange(f),e}function p5(a){return gR(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function p6(a){return nc(bU(a).localStore)}async function p7(a,b,c,d){let e=bU(a);if(e._isPrimaryClient)return void bN(px,"Ignoring unexpected query state notification.");let f=e.queriesByTarget.get(b);if(f&&f.length>0)switch(c){case"current":case"not-current":{let a=await ne(e.localStore,hd(f[0])),d=it.createSynthesizedRemoteEventForCurrentChange(b,"current"===c,eU.EMPTY_BYTE_STRING);await pX(e,a,d);break}case"rejected":await m7(e.localStore,b,!0),pS(e,b,d);break;default:bR(64155,c)}}async function p8(a,b,c){let d=p9(a);if(d._isPrimaryClient){for(let a of b){if(d.queriesByTarget.has(a)&&d.sharedClientState.isActiveQueryTarget(a)){bN(px,"Adding an already active target "+a);continue}let b=await nd(d.localStore,a),c=await m5(d.localStore,b);await pF(d,p5(b),c.targetId,!1,c.resumeToken),oB(d.remoteStore,c)}for(let a of c)d.queriesByTarget.has(a)&&await m7(d.localStore,a,!1).then(()=>{oC(d.remoteStore,a),pS(d,a)}).catch(c4)}}function p9(a){let b=bU(a);return b.remoteStore.remoteSyncer.applyRemoteEvent=pJ.bind(null,b),b.remoteStore.remoteSyncer.getRemoteKeysForTarget=p$.bind(null,b),b.remoteStore.remoteSyncer.rejectListen=pL.bind(null,b),b.syncEngineListener.onWatchChange=pg.bind(null,b.eventManager),b.syncEngineListener.onWatchError=ph.bind(null,b.eventManager),b}function qa(a){let b=bU(a);return b.remoteStore.remoteSyncer.applySuccessfulWrite=pM.bind(null,b),b.remoteStore.remoteSyncer.rejectFailedWrite=pN.bind(null,b),b}function qb(a,b,c){let d=bU(a);qc(d,b,c).then(a=>{d.sharedClientState.notifyBundleLoaded(a)})}async function qc(a,b,c){try{let d=await b.getMetadata();if(await ni(a.localStore,d))return await b.close(),c._completeWith(ps(d)),Promise.resolve(new Set);c._updateProgress(pr(d));let e=new pq(d,b.serializer),f=await b.nextElement();for(;f;){let a=await e.addSizedElement(f);a&&c._updateProgress(a),f=await b.nextElement()}let g=await e.completeAndStoreAsync(a.localStore);return await pX(a,g.changedDocs,void 0),await nj(a.localStore,d),c._completeWith(g.progress),Promise.resolve(g.changedCollectionGroups)}catch(a){return bP(px,`Loading bundle failed with ${a}`),c._failWith(a),Promise.resolve(new Set)}}class qd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(a){this.serializer=n6(a.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(a),this.persistence=this.createPersistence(a),await this.persistence.start(),this.localStore=this.createLocalStore(a),this.gcScheduler=this.createGarbageCollectionScheduler(a,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(a,this.localStore)}createGarbageCollectionScheduler(a,b){return null}createIndexBackfillerScheduler(a,b){return null}createLocalStore(a){return mU(this.persistence,new ns,a.initialUser,this.serializer)}createPersistence(a){return new mg(mi.factory,this.serializer)}createSharedClientState(a){return new nN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qd.provider={build:()=>new qd};class qe extends qd{constructor(a){super(),this.cacheSizeBytes=a}createGarbageCollectionScheduler(a,b){return bT(this.persistence.referenceDelegate instanceof mj,46915),new lL(this.persistence.referenceDelegate.garbageCollector,a.asyncQueue,b)}createPersistence(a){let b=void 0!==this.cacheSizeBytes?lE.withCacheSize(this.cacheSizeBytes):lE.DEFAULT;return new mg(a=>mj.factory(a,b),this.serializer)}}class qf extends qd{constructor(a,b,c){super(),this.onlineComponentProvider=a,this.cacheSizeBytes=b,this.forceOwnership=c,this.kind="persistent",this.synchronizeTabs=!1}async initialize(a){await super.initialize(a),await this.onlineComponentProvider.initialize(this,a),await qa(this.onlineComponentProvider.syncEngine),await oR(this.onlineComponentProvider.remoteStore),await this.persistence.setPrimaryStateListener(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(a){return mU(this.persistence,new ns,a.initialUser,this.serializer)}createGarbageCollectionScheduler(a,b){return new lL(this.persistence.referenceDelegate.garbageCollector,a.asyncQueue,b)}createIndexBackfillerScheduler(a,b){let c=new dn(b,this.persistence);return new dm(a.asyncQueue,c)}createPersistence(a){let b=mO(a.databaseInfo.databaseId,a.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?lE.withCacheSize(this.cacheSizeBytes):lE.DEFAULT;return new mL(this.synchronizeTabs,b,a.clientId,c,a.asyncQueue,n4(),n5(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(a){return new nN}}class qg extends qf{constructor(a,b){super(a,b,!1),this.onlineComponentProvider=a,this.cacheSizeBytes=b,this.synchronizeTabs=!0}async initialize(a){await super.initialize(a);let b=this.onlineComponentProvider.syncEngine;this.sharedClientState instanceof nL&&(this.sharedClientState.syncEngine={applyBatchState:p1.bind(null,b),applyTargetState:p7.bind(null,b),applyActiveTargetsChange:p8.bind(null,b),getActiveClients:p6.bind(null,b),synchronizeWithChangedDocuments:p0.bind(null,b)},await this.sharedClientState.start()),await this.persistence.setPrimaryStateListener(async a=>{await p2(this.onlineComponentProvider.syncEngine,a),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start():a||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(a&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():a||this.indexBackfillerScheduler.stop())})}createSharedClientState(a){let b=n4();if(!nL.isAvailable(b))throw new ca(b6,"IndexedDB persistence is only available on platforms that support LocalStorage.");let c=mO(a.databaseInfo.databaseId,a.databaseInfo.persistenceKey);return new nL(b,a.asyncQueue,c,a.clientId,a.initialUser)}}class qh{async initialize(a,b){this.localStore||(this.localStore=a.localStore,this.sharedClientState=a.sharedClientState,this.datastore=this.createDatastore(b),this.remoteStore=this.createRemoteStore(b),this.eventManager=this.createEventManager(b),this.syncEngine=this.createSyncEngine(b,!a.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>pK(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=pZ.bind(null,this.syncEngine),await o1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(a){return pb()}createDatastore(a){let b=n6(a.databaseInfo.databaseId),c=n2(a.databaseInfo);return ok(a.authCredentials,a.appCheckCredentials,c,b)}createRemoteStore(a){return ox(this.localStore,this.datastore,a.asyncQueue,a=>pK(this.syncEngine,a,0),n3())}createSyncEngine(a,b){return pB(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,a.initialUser,a.maxConcurrentLimboResolutions,b)}async terminate(){await oA(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qh.provider={build:()=>new qh};let qi=10240;function qj(a,b=qi){let c=0;return{async read(){if(c<a.byteLength){let d={value:a.slice(c,c+b),done:!1};return c+=b,d}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}function qk(a,b){if(!(a instanceof Uint8Array))throw new ca(bY,`NodePlatform.toByteStreamReader expects source to be Uint8Array, got ${cF(a)}`);return qj(a,b)}class ql{constructor(a){this.observer=a,this.muted=!1}next(a){!this.muted&&this.observer.next&&this.scheduleEvent(this.observer.next,a)}error(a){this.muted||(this.observer.error?this.scheduleEvent(this.observer.error,a):bO("Uncaught Error in snapshot listener:",a.toString()))}mute(){this.muted=!0}scheduleEvent(a,b){setTimeout(()=>{this.muted||a(b)},0)}}class qm{constructor(a,b){this.payload=a,this.byteLength=b}isBundleMetadata(){return"metadata"in this.payload}}class qn{constructor(a,b){this.reader=a,this.serializer=b,this.metadata=new cb,this.buffer=new Uint8Array,this.textDecoder=im(),this.nextElementImpl().then(a=>{a&&a.isBundleMetadata()?this.metadata.resolve(a.payload.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(a?.payload)}`))},a=>this.metadata.reject(a))}close(){return this.reader.cancel()}async getMetadata(){return this.metadata.promise}async nextElement(){return await this.getMetadata(),this.nextElementImpl()}async nextElementImpl(){let a=await this.readLength();if(null===a)return null;let b=this.textDecoder.decode(a),c=Number(b);return isNaN(c)&&this.raiseError(`length string (${b}) is not valid number`),new qm(JSON.parse(await this.readJsonString(c)),a.length+c)}indexOfOpenBracket(){return this.buffer.findIndex(a=>123===a)}async readLength(){for(;0>this.indexOfOpenBracket()&&!await this.pullMoreDataToBuffer(););if(0===this.buffer.length)return null;let a=this.indexOfOpenBracket();a<0&&this.raiseError("Reached the end of bundle when a length string is expected.");let b=this.buffer.slice(0,a);return this.buffer=this.buffer.slice(a),b}async readJsonString(a){for(;this.buffer.length<a;)await this.pullMoreDataToBuffer()&&this.raiseError("Reached the end of bundle when more is expected.");let b=this.textDecoder.decode(this.buffer.slice(0,a));return this.buffer=this.buffer.slice(a),b}raiseError(a){throw this.reader.cancel(),Error(`Invalid bundle format: ${a}`)}async pullMoreDataToBuffer(){let a=await this.reader.read();if(!a.done){let b=new Uint8Array(this.buffer.length+a.value.length);b.set(this.buffer),b.set(a.value,this.buffer.length),this.buffer=b}return a.done}}function qo(a,b){return new qn(a,b)}class qp{constructor(a,b){this.bundleData=a,this.serializer=b,this.cursor=0,this.elements=[];let c=this.nextElement();if(c&&c.isBundleMetadata())this.metadata=c;else throw Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(c?.payload)}`);do null!==(c=this.nextElement())&&this.elements.push(c);while(null!==c)}getMetadata(){return this.metadata}getElements(){return this.elements}nextElement(){if(this.cursor===this.bundleData.length)return null;let a=this.readLength();return new qm(JSON.parse(this.readJsonString(a)),a)}readJsonString(a){if(this.cursor+a>this.bundleData.length)throw new ca(b7,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=a)}readLength(){let a=this.cursor,b=this.cursor;for(;b<this.bundleData.length;){if("{"===this.bundleData[b]){if(b===a)throw Error("First character is a bracket and not a number");return this.cursor=b,Number(this.bundleData.slice(a,b))}b++}throw Error("Reached the end of bundle when more is expected.")}}function qq(a,b){return new qp(a,b)}class qr{constructor(a){this.datastore=a,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(a){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ca(bY,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let b=await om(this.datastore,a);return b.forEach(a=>this.recordVersion(a)),b}set(a,b){this.write(b.toMutation(a,this.precondition(a))),this.writtenDocs.add(a.toString())}update(a,b){try{this.write(b.toMutation(a,this.preconditionForUpdate(a)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(a.toString())}delete(a){this.write(new h6(a,this.precondition(a))),this.writtenDocs.add(a.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let a=this.readVersions;this.mutations.forEach(b=>{a.delete(b.key.toString())}),a.forEach((a,b)=>{let c=cz.fromPath(b);this.mutations.push(new h9(c,this.precondition(c)))}),await ol(this.datastore,this.mutations),this.committed=!0}recordVersion(a){let b;if(a.isFoundDocument())b=a.version;else if(a.isNoDocument())b=cO.min();else throw bR(50498,{documentName:a.constructor.name});let c=this.readVersions.get(a.key.toString());if(c){if(!b.isEqual(c))throw new ca(b4,"Document version changed between two reads.")}else this.readVersions.set(a.key.toString(),b)}precondition(a){let b=this.readVersions.get(a.toString());return this.writtenDocs.has(a.toString())||!b?hR.none():b.isEqual(cO.min())?hR.exists(!1):hR.updateTime(b)}preconditionForUpdate(a){let b=this.readVersions.get(a.toString());if(this.writtenDocs.has(a.toString())||!b)return hR.exists(!0);if(b.isEqual(cO.min()))throw new ca(bY,"Can't update a document that doesn't exist.");return hR.updateTime(b)}write(a){this.ensureCommitNotCalled(),this.mutations.push(a)}ensureCommitNotCalled(){}}class qs{constructor(a,b,c,d,e){this.asyncQueue=a,this.datastore=b,this.options=c,this.updateFunction=d,this.deferred=e,this.attemptsRemaining=c.maxAttempts,this.backoff=new ob(this.asyncQueue,"transaction_retry")}run(){this.attemptsRemaining-=1,this.runWithBackOff()}runWithBackOff(){this.backoff.backoffAndRun(async()=>{let a=new qr(this.datastore),b=this.tryRunUpdateFunction(a);b&&b.then(b=>{this.asyncQueue.enqueueAndForget(()=>a.commit().then(()=>{this.deferred.resolve(b)}).catch(a=>{this.handleTransactionError(a)}))}).catch(a=>{this.handleTransactionError(a)})})}tryRunUpdateFunction(a){try{let b=this.updateFunction(a);if(fc(b)||!b.catch||!b.then)return this.deferred.reject(Error("Transaction callback must return a Promise")),null;return b}catch(a){return this.deferred.reject(a),null}}handleTransactionError(a){this.attemptsRemaining>0&&this.isRetryableTransactionError(a)?(this.attemptsRemaining-=1,this.asyncQueue.enqueueAndForget(()=>(this.runWithBackOff(),Promise.resolve()))):this.deferred.reject(a)}isRetryableTransactionError(a){if(a?.name==="FirebaseError"){let b=a.code;return"aborted"===b||"failed-precondition"===b||"already-exists"===b||!ie(b)}return!1}}let qt="FirestoreClient",qu=100,qv=11,qw=20,qx=22;class qy{constructor(a,b,c,d,e){this.authCredentials=a,this.appCheckCredentials=b,this.asyncQueue=c,this._databaseInfo=d,this.user=bH.UNAUTHENTICATED,this.clientId=cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=e,this.authCredentials.start(c,async a=>{bN(qt,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(c,a=>(bN(qt,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:qu}}setCredentialChangeListener(a){this.authCredentialListener=a}setAppCheckTokenChangeListener(a){this.appCheckCredentialListener=a}terminate(){this.asyncQueue.enterRestrictedMode();let a=new cb;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),a.resolve()}catch(c){let b=o6(c,"Failed to shutdown persistence");a.reject(b)}}),a.promise}}async function qz(a,b){a.asyncQueue.verifyOperationInProgress(),bN(qt,"Initializing OfflineComponentProvider");let c=a.configuration;await b.initialize(c);let d=c.initialUser;a.setCredentialChangeListener(async a=>{d.isEqual(a)||(await mV(b.localStore,a),d=a)}),b.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=b}async function qA(a,b){a.asyncQueue.verifyOperationInProgress();let c=await qC(a);bN(qt,"Initializing OnlineComponentProvider"),await b.initialize(c,a.configuration),a.setCredentialChangeListener(a=>o0(b.remoteStore,a)),a.setAppCheckTokenChangeListener((a,c)=>o0(b.remoteStore,c)),a._onlineComponents=b}function qB(a){return"FirebaseError"===a.name?a.code===b3||a.code===b6:!("u">typeof DOMException&&a instanceof DOMException)||a.code===qx||a.code===qw||a.code===qv}async function qC(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){bN(qt,"Using user provided OfflineComponentProvider");try{await qz(a,a._uninitializedComponentsProvider._offline)}catch(c){let b=c;if(!qB(b))throw b;bP("Error using user provided cache. Falling back to memory cache: "+b),await qz(a,new qd)}}else bN(qt,"Using default OfflineComponentProvider"),await qz(a,new qe(void 0));return a._offlineComponents}async function qD(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(bN(qt,"Using user provided OnlineComponentProvider"),await qA(a,a._uninitializedComponentsProvider._online)):(bN(qt,"Using default OnlineComponentProvider"),await qA(a,new qh))),a._onlineComponents}function qE(a){return qC(a).then(a=>a.localStore)}function qF(a){return qD(a).then(a=>a.syncEngine)}function qG(a){return qD(a).then(a=>a.datastore)}async function qH(a){let b=await qD(a),c=b.eventManager;return c.onListen=pC.bind(null,b.syncEngine),c.onUnlisten=pG.bind(null,b.syncEngine),c.onFirstRemoteStoreListen=pD.bind(null,b.syncEngine),c.onLastRemoteStoreUnlisten=pH.bind(null,b.syncEngine),c}function qI(a,b,c,d){let e=new ql(d),f=new pn(b,e,c);return a.asyncQueue.enqueueAndForget(async()=>pe(await qH(a),f)),()=>{e.mute(),a.asyncQueue.enqueueAndForget(async()=>pf(await qH(a),f))}}function qJ(a,b){let c=new cb;return a.asyncQueue.enqueueAndForget(async()=>qR(await qE(a),b,c)),c.promise}function qK(a,b,c={}){let d=new cb;return a.asyncQueue.enqueueAndForget(async()=>qS(await qH(a),a.asyncQueue,b,c,d)),d.promise}function qL(a,b){let c=new cb;return a.asyncQueue.enqueueAndForget(async()=>qT(await qE(a),b,c)),c.promise}function qM(a,b,c={}){let d=new cb;return a.asyncQueue.enqueueAndForget(async()=>qU(await qH(a),a.asyncQueue,b,c,d)),d.promise}function qN(a,b,c){let d=new cb;return a.asyncQueue.enqueueAndForget(async()=>{try{let e=await qG(a);d.resolve(on(e,b,c))}catch(a){d.reject(a)}}),d.promise}function qO(a,b){let c=new cb;return a.asyncQueue.enqueueAndForget(async()=>pI(await qF(a),b,c)),c.promise}function qP(a,b){let c=new ql(b);return a.asyncQueue.enqueueAndForget(async()=>pj(await qH(a),c)),()=>{c.mute(),a.asyncQueue.enqueueAndForget(async()=>pk(await qH(a),c))}}function qQ(a,b,c){let d=new cb;return a.asyncQueue.enqueueAndForget(async()=>{let e=await qG(a);new qs(a.asyncQueue,e,c,b,d).run()}),d.promise}async function qR(a,b,c){try{let d=await m4(a,b);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new ca(b8,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){let a=o6(d,`Failed to get document '${b} from cache`);c.reject(a)}}function qS(a,b,c,d,e){let f=new ql({next:h=>{f.mute(),b.enqueueAndForget(()=>pf(a,g));let i=h.docs.has(c);!i&&h.fromCache?e.reject(new ca(b8,"Failed to get document because the client is offline.")):i&&h.fromCache&&d&&"server"===d.source?e.reject(new ca(b8,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e.resolve(h)},error:a=>e.reject(a)}),g=new pn(gS(c.path),f,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return pe(a,g)}async function qT(a,b,c){try{let d=await m8(a,b,!0),e=new pv(b,d.remoteKeys),f=e.computeDocChanges(d.documents),g=e.applyChanges(f,!1);c.resolve(g.snapshot)}catch(d){let a=o6(d,`Failed to execute query '${b} against cache`);c.reject(a)}}function qU(a,b,c,d,e){let f=new ql({next:c=>{f.mute(),b.enqueueAndForget(()=>pf(a,g)),c.fromCache&&"server"===d.source?e.reject(new ca(b8,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e.resolve(c)},error:a=>e.reject(a)}),g=new pn(c,f,{includeMetadataChanges:!0,waitForSyncWhenOnline:!0});return pe(a,g)}function qV(a,b,c,d){let e=qX(c,n6(b));a.asyncQueue.enqueueAndForget(async()=>{qb(await qF(a),e,d)})}function qW(a,b){return a.asyncQueue.enqueue(async()=>nk(await qE(a),b))}function qX(a,b){let c;return qo(qk(c="string"==typeof a?il().encode(a):a),b)}function qY(a,b){return qq(a,b)}function qZ(a,b){return a.asyncQueue.enqueue(async()=>nm(await qE(a),b))}function q$(a,b){return a.asyncQueue.enqueue(async()=>nn(await qE(a),b))}function q_(a){return a.asyncQueue.enqueue(async()=>no(await qE(a)))}function q0(a,b){return a.timeoutSeconds===b.timeoutSeconds}function q1(a){let b={};return void 0!==a.timeoutSeconds&&(b.timeoutSeconds=a.timeoutSeconds),b}let q2="ComponentProvider",q3=new Map;function q4(a){let b=q3.get(a);b&&(bN(q2,"Removing Datastore"),q3.delete(a),b.terminate())}function q5(a,b,c,d,e){return new e7(a,b,c,e.host,e.ssl,e.experimentalForceLongPolling,e.experimentalAutoDetectLongPolling,q1(e.experimentalLongPollingOptions),e.useFetchStreams,e.isUsingEmulator,d)}let q6="firestore.googleapis.com",q7=!0,q8=5,q9=30,ra=!0;class rb{constructor(a){if(void 0===a.host){if(void 0!==a.ssl)throw new ca(bY,"Can't provide ssl option if host option is not set");this.host=q6,this.ssl=q7}else this.host=a.host,this.ssl=a.ssl??q7;if(this.isUsingEmulator=void 0!==a.emulatorOptions,this.credentials=a.credentials,this.ignoreUndefinedProperties=!!a.ignoreUndefinedProperties,this.localCache=a.localCache,void 0===a.cacheSizeBytes)this.cacheSizeBytes=lD;else if(a.cacheSizeBytes!==lC&&a.cacheSizeBytes<lG)throw new ca(bY,`cacheSizeBytes must be at least ${lG}`);else this.cacheSizeBytes=a.cacheSizeBytes;cB("experimentalForceLongPolling",a.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",a.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!a.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===a.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=ra:this.experimentalAutoDetectLongPolling=!!a.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q1(a.experimentalLongPollingOptions??{}),rc(this.experimentalLongPollingOptions),this.useFetchStreams=!!a.useFetchStreams}isEqual(a){return this.host===a.host&&this.ssl===a.ssl&&this.credentials===a.credentials&&this.cacheSizeBytes===a.cacheSizeBytes&&this.experimentalForceLongPolling===a.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===a.experimentalAutoDetectLongPolling&&q0(this.experimentalLongPollingOptions,a.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===a.ignoreUndefinedProperties&&this.useFetchStreams===a.useFetchStreams}}function rc(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new ca(bY,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<q8)throw new ca(bY,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is ${q8})`);if(a.timeoutSeconds>q9)throw new ca(bY,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is ${q9})`)}}class rd{constructor(a,b,c,d){this._authCredentials=a,this._appCheckCredentials=b,this._databaseId=c,this._app=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ca(b3,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(a){if(this._settingsFrozen)throw new ca(b3,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rb(a),this._emulatorOptions=a.emulatorOptions||{},void 0!==a.credentials&&(this._authCredentials=ck(a.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return q4(this),Promise.resolve()}}function re(a,b,c,d={}){a=cH(a,rd);let e=v(b),f=a._getSettings(),g={...f,emulatorOptions:a._getEmulatorOptions()},h=`${b}:${c}`;e&&(w(`https://${h}`),y("Firestore",!0)),f.host!==q6&&f.host!==h&&bP("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let i={...f,host:h,ssl:e,emulatorOptions:d};if(!Q(i,g)&&(a._setSettings(i),d.mockUserToken)){let b,c;if("string"==typeof d.mockUserToken)b=d.mockUserToken,c=bH.MOCK_USER;else{b=x(d.mockUserToken,a._app?.options.projectId);let e=d.mockUserToken.sub||d.mockUserToken.user_id;if(!e)throw new ca(bY,"mockUserToken must contain 'sub' or 'user_id' field!");c=new bH(e)}a._authCredentials=new ce(new cc(b,c))}}class rf{constructor(a,b,c){this.converter=b,this._query=c,this.type="query",this.firestore=a}withConverter(a){return new rf(this.firestore,a,this._query)}}class rg{constructor(a,b,c){this.converter=b,this._key=c,this.type="document",this.firestore=a}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rh(this.firestore,this.converter,this._key.path.popLast())}withConverter(a){return new rg(this.firestore,a,this._key)}toJSON(){return{type:rg._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(a,b,c){if(cK(b,rg._jsonSchema))return new rg(a,c||null,new cz(cw.fromString(b.referencePath)))}}rg._jsonSchemaVersion="firestore/documentReference/1.0",rg._jsonSchema={type:cJ("string",rg._jsonSchemaVersion),referencePath:cJ("string")};class rh extends rf{constructor(a,b,c){super(a,b,gS(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let a=this._path.popLast();return a.isEmpty()?null:new rg(this.firestore,null,new cz(a))}withConverter(a){return new rh(this.firestore,a,this._path)}}function ri(a,b,...c){if(a=Z(a),cA("collection","path",b),a instanceof rd){let d=cw.fromString(b,...c);return cD(d),new rh(a,null,d)}{if(!(a instanceof rg)&&!(a instanceof rh))throw new ca(bY,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let d=a._path.child(cw.fromString(b,...c));return cD(d),new rh(a.firestore,null,d)}}function rj(a,b,...c){if(a=Z(a),1==arguments.length&&(b=cm.newId()),cA("doc","path",b),a instanceof rd){let d=cw.fromString(b,...c);return cC(d),new rg(a,null,new cz(d))}{if(!(a instanceof rg)&&!(a instanceof rh))throw new ca(bY,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let d=a._path.child(cw.fromString(b,...c));return cC(d),new rg(a.firestore,a instanceof rh?a.converter:null,new cz(d))}}function rk(a,b){return a=Z(a),b=Z(b),a instanceof rf&&b instanceof rf&&a.firestore===b.firestore&&g5(a._query,b._query)&&a.converter===b.converter}let rl="AsyncQueue";class rm{constructor(a=Promise.resolve()){this.retryableOps=[],this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.skipNonRestrictedTasks=!1,this.timerIdsToSkip=[],this.backoff=new ob(this,"async_queue_retry"),this.visibilityHandler=()=>{this.backoff.skipBackoff()},this.tail=a}get isShuttingDown(){return this._isShuttingDown}enqueueAndForget(a){this.enqueue(a)}enqueueAndForgetEvenWhileRestricted(a){this.verifyNotFailed(),this.enqueueInternal(a)}enterRestrictedMode(a){this._isShuttingDown||(this._isShuttingDown=!0,this.skipNonRestrictedTasks=a||!1)}enqueue(a){if(this.verifyNotFailed(),this._isShuttingDown)return new Promise(()=>{});let b=new cb;return this.enqueueInternal(()=>this._isShuttingDown&&this.skipNonRestrictedTasks?Promise.resolve():(a().then(b.resolve,b.reject),b.promise)).then(()=>b.promise)}enqueueRetryable(a){this.enqueueAndForget(()=>(this.retryableOps.push(a),this.retryNextOp()))}async retryNextOp(){if(0!==this.retryableOps.length){try{await this.retryableOps[0](),this.retryableOps.shift(),this.backoff.reset()}catch(a){if(dd(a))bN(rl,"Operation failed with retryable error: "+a);else throw a}this.retryableOps.length>0&&this.backoff.backoffAndRun(()=>this.retryNextOp())}}enqueueInternal(a){let b=this.tail.then(()=>(this.operationInProgress=!0,a().catch(a=>{throw this.failure=a,this.operationInProgress=!1,bO("INTERNAL UNHANDLED ERROR: ",rn(a)),a}).then(a=>(this.operationInProgress=!1,a))));return this.tail=b,b}enqueueAfterDelay(a,b,c){this.verifyNotFailed(),this.timerIdsToSkip.indexOf(a)>-1&&(b=0);let d=o5.createAndSchedule(this,a,b,c,a=>this.removeDelayedOperation(a));return this.delayedOperations.push(d),d}verifyNotFailed(){this.failure&&bR(47125,{messageOrStack:rn(this.failure)})}verifyOperationInProgress(){}async drain(){let a;do a=this.tail,await a;while(a!==this.tail)}containsDelayedOperation(a){for(let b of this.delayedOperations)if(b.timerId===a)return!0;return!1}runAllDelayedOperationsUntil(a){return this.drain().then(()=>{for(let b of(this.delayedOperations.sort((a,b)=>a.targetTimeMs-b.targetTimeMs),this.delayedOperations))if(b.skipDelay(),"all"!==a&&b.timerId===a)break;return this.drain()})}skipDelaysForTimerId(a){this.timerIdsToSkip.push(a)}removeDelayedOperation(a){let b=this.delayedOperations.indexOf(a);this.delayedOperations.splice(b,1)}}function rn(a){let b=a.message||"";return a.stack&&(b=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),b}class ro{constructor(){this._progressObserver={},this._taskCompletionResolver=new cb,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(a,b,c){this._progressObserver={next:a,error:b,complete:c}}catch(a){return this._taskCompletionResolver.promise.catch(a)}then(a,b){return this._taskCompletionResolver.promise.then(a,b)}_completeWith(a){this._updateProgress(a),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(a)}_failWith(a){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(a),this._taskCompletionResolver.reject(a)}_updateProgress(a){this._lastProgress=a,this._progressObserver.next&&this._progressObserver.next(a)}}class rp extends rd{constructor(a,b,c,d){super(a,b,c,d),this.type="firestore",this._queue=new rm,this._persistenceKey=d?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let a=this._firestoreClient.terminate();this._queue=new rm(a),this._firestoreClient=void 0,await a}}}function rq(a,b){let c="object"==typeof a?a:a6(),d="string"==typeof a?a:b||e8,e=aV(c,"firestore").getImmediate({identifier:d});if(!e._initialized){let a=s("firestore");a&&re(e,...a)}return e}function rr(a){if(a._terminated)throw new ca(b3,"The client has already been terminated.");return a._firestoreClient||rs(a),a._firestoreClient}function rs(a){let b=a._freezeSettings(),c=q5(a._databaseId,a._app?.options.appId||"",a._persistenceKey,a._app?.options.apiKey,b);!a._componentsProvider&&b.localCache?._offlineComponentProvider&&b.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:b.localCache._offlineComponentProvider,_online:b.localCache._onlineComponentProvider}),a._firestoreClient=new qy(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&rt(a._componentsProvider))}function rt(a){let b=a?._online.build();return{_offline:a?._offline.build(b),_online:b}}function ru(a,b){let c=rr(a=cH(a,rp)),d=new ro;return qV(c,a._databaseId,b,d),d}function rv(a,b){return qW(rr(a=cH(a,rp)),b).then(b=>b?new rf(a,null,b.query):null)}class rw{constructor(a,b,c){this.alias=a,this.aggregateType=b,this.fieldPath=c}}class rx{constructor(a){this._byteString=a}static fromBase64String(a){try{return new rx(eU.fromBase64String(a))}catch(a){throw new ca(bY,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(a){return new rx(eU.fromUint8Array(a))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(a){return this._byteString.isEqual(a._byteString)}toJSON(){return{type:rx._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(a){if(cK(a,rx._jsonSchema))return rx.fromBase64String(a.bytes)}}rx._jsonSchemaVersion="firestore/bytes/1.0",rx._jsonSchema={type:cJ("string",rx._jsonSchemaVersion),bytes:cJ("string")};class ry{constructor(...a){for(let b=0;b<a.length;++b)if(0===a[b].length)throw new ca(bY,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cy(a)}isEqual(a){return this._internalPath.isEqual(a._internalPath)}}class rz{constructor(a){this._methodName=a}}class rA{constructor(a,b){if(!isFinite(a)||a<-90||a>90)throw new ca(bY,"Latitude must be a number between -90 and 90, but was: "+a);if(!isFinite(b)||b<-180||b>180)throw new ca(bY,"Longitude must be a number between -180 and 180, but was: "+b);this._lat=a,this._long=b}get latitude(){return this._lat}get longitude(){return this._long}isEqual(a){return this._lat===a._lat&&this._long===a._long}_compareTo(a){return cn(this._lat,a._lat)||cn(this._long,a._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rA._jsonSchemaVersion}}static fromJSON(a){if(cK(a,rA._jsonSchema))return new rA(a.latitude,a.longitude)}}rA._jsonSchemaVersion="firestore/geoPoint/1.0",rA._jsonSchema={type:cJ("string",rA._jsonSchemaVersion),latitude:cJ("number"),longitude:cJ("number")};class rB{constructor(a){this._values=(a||[]).map(a=>a)}toArray(){return this._values.map(a=>a)}isEqual(a){return mQ(this._values,a._values)}toJSON(){return{type:rB._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(a){if(cK(a,rB._jsonSchema)){if(Array.isArray(a.vectorValues)&&a.vectorValues.every(a=>"number"==typeof a))return new rB(a.vectorValues);throw new ca(bY,"Expected 'vectorValues' field to be a number array")}}}rB._jsonSchemaVersion="firestore/vectorValue/1.0",rB._jsonSchema={type:cJ("string",rB._jsonSchemaVersion),vectorValues:cJ("object")};let rC=/^__.*__$/;class rD{constructor(a,b,c){this.data=a,this.fieldMask=b,this.fieldTransforms=c}toMutation(a,b){return null!==this.fieldMask?new h0(a,this.data,this.fieldMask,b,this.fieldTransforms):new hZ(a,this.data,b,this.fieldTransforms)}}class rE{constructor(a,b,c){this.data=a,this.fieldMask=b,this.fieldTransforms=c}toMutation(a,b){return new h0(a,this.data,this.fieldMask,b,this.fieldTransforms)}}function rF(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bR(40011,{dataSource:a})}}class rG{constructor(a,b,c,d,e,f){this.settings=a,this.databaseId=b,this.serializer=c,this.ignoreUndefinedProperties=d,void 0===e&&this.validatePath(),this.fieldTransforms=e||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(a){return new rG({...this.settings,...a},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(a){let b=this.path?.child(a),c=this.contextWith({path:b,arrayElement:!1});return c.validatePathSegment(a),c}childContextForFieldPath(a){let b=this.path?.child(a),c=this.contextWith({path:b,arrayElement:!1});return c.validatePath(),c}childContextForArray(a){return this.contextWith({path:void 0,arrayElement:!0})}createError(a){return rZ(a,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(a){return void 0!==this.fieldMask.find(b=>a.isPrefixOf(b))||void 0!==this.fieldTransforms.find(b=>a.isPrefixOf(b.field))}validatePath(){if(this.path)for(let a=0;a<this.path.length;a++)this.validatePathSegment(this.path.get(a))}validatePathSegment(a){if(0===a.length)throw this.createError("Document fields must not be empty");if(rF(this.dataSource)&&rC.test(a))throw this.createError('Document fields cannot begin and end with "__"')}}class rH{constructor(a,b,c){this.databaseId=a,this.ignoreUndefinedProperties=b,this.serializer=c||n6(a)}createContext(a,b,c,d=!1){return new rG({dataSource:a,methodName:b,targetDoc:c,path:cy.emptyPath(),arrayElement:!1,hasConverter:d},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rI(a){let b=a._freezeSettings(),c=n6(a._databaseId);return new rH(a._databaseId,!!b.ignoreUndefinedProperties,c)}function rJ(a,b,c,d,e,f={}){let g,h,i=a.createContext(f.merge||f.mergeFields?2:0,b,c,e);rV("Data must be an object, but it was:",i,d);let j=rP(d,i);if(f.merge)g=new eR(i.fieldMask),h=i.fieldTransforms;else if(f.mergeFields){let a=[];for(let d of f.mergeFields){let e=rW(b,d,c);if(!i.contains(e))throw new ca(bY,`Field '${e}' is specified in your field mask but missing from your input data.`);r$(a,e)||a.push(e)}g=new eR(a),h=i.fieldTransforms.filter(a=>g.covers(a.field))}else g=null,h=i.fieldTransforms;return new rD(new f1(j),g,h)}class rK extends rz{_toFieldTransform(a){if(2===a.dataSource)a.fieldMask.push(a.path);else if(1===a.dataSource)throw a.createError(`${this._methodName}() can only appear at the top level of your update data`);else throw a.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return null}isEqual(a){return a instanceof rK}}function rL(a,b,c,d){let e=a.createContext(1,b,c);rV("Data must be an object, but it was:",e,d);let f=[],g=f1.empty();return eG(d,(a,d)=>{let h=rY(b,a,c);d=Z(d);let i=e.childContextForFieldPath(h);if(d instanceof rK)f.push(h);else{let a=rO(d,i);null!=a&&(f.push(h),g.set(h,a))}}),new rE(g,new eR(f),e.fieldTransforms)}function rM(a,b,c,d,e,f){let g=a.createContext(1,b,c),h=[rW(b,d,c)],i=[e];if(f.length%2!=0)throw new ca(bY,`Function ${b}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<f.length;a+=2)h.push(rW(b,f[a])),i.push(f[a+1]);let j=[],k=f1.empty();for(let a=h.length-1;a>=0;--a)if(!r$(j,h[a])){let b=h[a],c=i[a];c=Z(c);let d=g.childContextForFieldPath(b);if(c instanceof rK)j.push(b);else{let a=rO(c,d);null!=a&&(j.push(b),k.set(b,a))}}return new rE(k,new eR(j),g.fieldTransforms)}function rN(a,b,c,d=!1){return rO(c,a.createContext(d?4:3,b))}function rO(a,b){if(rU(a=Z(a)))return rV("Unsupported field value:",b,a),rP(a,b);if(a instanceof rz)return rR(a,b),null;if(void 0===a&&b.ignoreUndefinedProperties)return null;if(b.path&&b.fieldMask.push(b.path),!(a instanceof Array))return rS(a,b);if(b.settings.arrayElement&&4!==b.dataSource)throw b.createError("Nested arrays are not supported");return rQ(a,b)}function rP(a,b){let c={};return eI(a)?b.path&&b.path.length>0&&b.fieldMask.push(b.path):eG(a,(a,d)=>{let e=rO(d,b.childContextForField(a));null!=e&&(c[a]=e)}),{mapValue:{fields:c}}}function rQ(a,b){let c=[],d=0;for(let e of a){let a=rO(e,b.childContextForArray(d));null==a&&(a={nullValue:"NULL_VALUE"}),c.push(a),d++}return{arrayValue:{values:c}}}function rR(a,b){if(!rF(b.dataSource))throw b.createError(`${a._methodName}() can only be used with update() and set()`);if(!b.path)throw b.createError(`${a._methodName}() is not currently supported inside arrays`);let c=a._toFieldTransform(b);c&&b.fieldTransforms.push(c)}function rS(a,b){if(null===(a=Z(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return hy(b.serializer,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){let c=cN.fromDate(a);return{timestampValue:iM(b.serializer,c)}}else if(a instanceof cN){let c=new cN(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:iM(b.serializer,c)}}else if(a instanceof rA)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};else if(a instanceof rx)return{bytesValue:iO(b.serializer,a._byteString)};else if(a instanceof rg){let c=b.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw b.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:iS(a.firestore._databaseId||b.databaseId,a._key.path)}}else if(a instanceof rB)return rT(a,b);else if(jS(a))return a._toProto(b.serializer);else throw b.createError(`Unsupported field value: ${cF(a)}`)}function rT(a,b){return{mapValue:{fields:{[ff]:{stringValue:fi},[fj]:{arrayValue:{values:(a instanceof rB?a.toArray():a).map(a=>{if("number"!=typeof a)throw b.createError("VectorValues must only contain numeric values.");return hw(b.serializer,a)})}}}}}}function rU(a){return"object"==typeof a&&null!==a&&!(a instanceof Array)&&!(a instanceof Date)&&!(a instanceof cN)&&!(a instanceof rA)&&!(a instanceof rx)&&!(a instanceof rg)&&!(a instanceof rz)&&!(a instanceof rB)&&!jS(a)}function rV(a,b,c){if(!rU(c)||!cE(c)){let d=cF(c);if("an object"===d)throw b.createError(a+" a custom object");throw b.createError(a+" "+d)}}function rW(a,b,c){if((b=Z(b))instanceof ry)return b._internalPath;if("string"==typeof b)return rY(a,b);throw rZ("Field path arguments must be of type string or ",a,!1,void 0,c)}let rX=RegExp("[~\\*/\\[\\]]");function rY(a,b,c){if(b.search(rX)>=0)throw rZ(`Invalid field path (${b}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,c);try{return new ry(...b.split("."))._internalPath}catch(d){throw rZ(`Invalid field path (${b}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,c)}}function rZ(a,b,c,d,e){let f=d&&!d.isEmpty(),g=void 0!==e,h=`Function ${b}() called with invalid data`;c&&(h+=" (via `toFirestore()`)"),h+=". ";let i="";return(f||g)&&(i+=" (found",f&&(i+=` in field ${d}`),g&&(i+=` in document ${e}`),i+=")"),new ca(bY,h+a+i)}function r$(a,b){return a.some(a=>a.isEqual(b))}class r_{convertValue(a,b="none"){switch(fl(a)){case 0:return null;case 1:return a.booleanValue;case 2:return eZ(a.integerValue||a.doubleValue);case 3:return this.convertTimestamp(a.timestampValue);case 4:return this.convertServerTimestamp(a,b);case 5:return a.stringValue;case 6:return this.convertBytes(e$(a.bytesValue));case 7:return this.convertReference(a.referenceValue);case 8:return this.convertGeoPoint(a.geoPointValue);case 9:return this.convertArray(a.arrayValue,b);case 11:return this.convertObject(a.mapValue,b);case 10:return this.convertVectorValue(a.mapValue);default:throw bR(62114,{value:a})}}convertObject(a,b){return this.convertObjectMap(a.fields,b)}convertObjectMap(a,b="none"){let c={};return eG(a,(a,d)=>{c[a]=this.convertValue(d,b)}),c}convertVectorValue(a){return new rB(a.fields?.[fj].arrayValue?.values?.map(a=>eZ(a.doubleValue)))}convertGeoPoint(a){return new rA(eZ(a.latitude),eZ(a.longitude))}convertArray(a,b){return(a.values||[]).map(a=>this.convertValue(a,b))}convertServerTimestamp(a,b){switch(b){case"previous":let c=e5(a);if(null==c)return null;return this.convertValue(c,b);case"estimate":return this.convertTimestamp(e6(a));default:return null}}convertTimestamp(a){let b=eY(a);return new cN(b.seconds,b.nanos)}convertDocumentKey(a,b){let c=cw.fromString(a);bT(jR(c),9688,{name:a});let d=new e9(c.get(1),c.get(3)),e=new cz(c.popFirst(5));return d.isEqual(b)||bO(`Document ${e} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${b.projectId}/${b.database}) instead.`),e}}class r0 extends r_{constructor(a){super(),this.firestore=a}convertBytes(a){return new rx(a)}convertReference(a){let b=this.convertDocumentKey(a,this.firestore._databaseId);return new rg(this.firestore,null,b)}}let r1="@firebase/firestore",r2="4.10.0";function r3(a,b=!0){bJ(a3),aU(new $("firestore",(a,{instanceIdentifier:c,options:d})=>{let e=a.getProvider("app").getImmediate(),f=new rp(new cf(a.getProvider("auth-internal")),new cj(e,a.getProvider("app-check-internal")),fa(e,c),e);return d={useFetchStreams:b,...d},f._setSettings(d),f},"PUBLIC").setMultipleInstances(!0)),a9(r1,r2,a),a9(r1,r2,"esm2020")}class r4{constructor(a="count",b){this._internalFieldPath=b,this.type="AggregateField",this.aggregateType=a}}class r5{constructor(a,b,c){this._userDataWriter=b,this._data=c,this.type="AggregateQuerySnapshot",this.query=a}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new f1({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class r6{constructor(a,b,c,d,e){this._firestore=a,this._userDataWriter=b,this._key=c,this._document=d,this._converter=e}get id(){return this._key.path.lastSegment()}get ref(){return new rg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value);{let a=new r7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(a)}}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(a){if(this._document){let b=this._document.data.field(rW("DocumentSnapshot.get",a));if(null!==b)return this._userDataWriter.convertValue(b)}}}class r7 extends r6{data(){return super.data()}}function r8(a){if("L"===a.limitType&&0===a.explicitOrderBy.length)throw new ca(b6,"limitToLast() queries require specifying at least one orderBy() clause")}class r9{}class sa extends r9{}function sb(a,b,...c){let d=[];for(let e of(b instanceof r9&&d.push(b),sE(d=d.concat(c)),d))a=e._apply(a);return a}class sc extends sa{constructor(a,b,c){super(),this._field=a,this._op=b,this._value=c,this.type="where"}static _create(a,b,c){return new sc(a,b,c)}_apply(a){let b=this._parse(a);return sA(a._query,b),new rf(a.firestore,a.converter,g0(a._query,b))}_parse(a){let b=rI(a.firestore);return st(a._query,"where",b,a.firestore._databaseId,this._field,this._op,this._value)}}function sd(a,b,c){let d=b,e=rW("where",a);return sc._create(e,d,c)}class se extends r9{constructor(a,b){super(),this.type=a,this._queryConstraints=b}static _create(a,b){return new se(a,b)}_parse(a){let b=this._queryConstraints.map(b=>b._parse(a)).filter(a=>a.getFilters().length>0);return 1===b.length?b[0]:gg.create(b,this._getOperator())}_apply(a){let b=this._parse(a);return 0===b.getFilters().length?a:(sB(a._query,b),new rf(a.firestore,a.converter,g0(a._query,b)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function sf(...a){return a.forEach(a=>sD("or",a)),se._create("or",a)}function sg(...a){return a.forEach(a=>sD("and",a)),se._create("and",a)}class sh extends sa{constructor(a,b){super(),this._field=a,this._direction=b,this.type="orderBy"}static _create(a,b){return new sh(a,b)}_apply(a){let b=su(a._query,this._field,this._direction);return new rf(a.firestore,a.converter,g1(a._query,b))}}function si(a,b="asc"){let c=b,d=rW("orderBy",a);return sh._create(d,c)}class sj extends sa{constructor(a,b,c){super(),this.type=a,this._limit=b,this._limitType=c}static _create(a,b,c){return new sj(a,b,c)}_apply(a){return new rf(a.firestore,a.converter,g2(a._query,this._limit,this._limitType))}}function sk(a){return cI("limit",a),sj._create("limit",a,"F")}function sl(a){return cI("limitToLast",a),sj._create("limitToLast",a,"L")}class sm extends sa{constructor(a,b,c){super(),this.type=a,this._docOrFields=b,this._inclusive=c}static _create(a,b,c){return new sm(a,b,c)}_apply(a){let b=ss(a,this.type,this._docOrFields,this._inclusive);return new rf(a.firestore,a.converter,g3(a._query,b))}}function sn(...a){return sm._create("startAt",a,!0)}function so(...a){return sm._create("startAfter",a,!1)}class sp extends sa{constructor(a,b,c){super(),this.type=a,this._docOrFields=b,this._inclusive=c}static _create(a,b,c){return new sp(a,b,c)}_apply(a){let b=ss(a,this.type,this._docOrFields,this._inclusive);return new rf(a.firestore,a.converter,g4(a._query,b))}}function sq(...a){return sp._create("endBefore",a,!1)}function sr(...a){return sp._create("endAt",a,!0)}function ss(a,b,c,d){if(c[0]=Z(c[0]),c[0]instanceof r6)return sv(a._query,a.firestore._databaseId,b,c[0]._document,d);{let e=rI(a.firestore);return sw(a._query,a.firestore._databaseId,e,b,c,d)}}function st(a,b,c,d,e,f,g){let h;if(e.isKeyField())if("array-contains"===f||"array-contains-any"===f)throw new ca(bY,`Invalid Query. You can't perform '${f}' queries on documentId().`);else if("in"===f||"not-in"===f){sy(g,f);let b=[];for(let c of g)b.push(sx(d,a,c));h={arrayValue:{values:b}}}else h=sx(d,a,g);else("in"===f||"not-in"===f||"array-contains-any"===f)&&sy(g,f),h=rN(c,b,g,"in"===f||"not-in"===f);return gf.create(e,f,h)}function su(a,b,c){if(null!==a.startAt)throw new ca(bY,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==a.endAt)throw new ca(bY,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ga(b,c)}function sv(a,b,c,d,e){if(!d)throw new ca(b$,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let f=[];for(let c of gY(a))if(c.field.isKeyField())f.push(fN(b,d.key));else{let a=d.data.field(c.field);if(e3(a))throw new ca(bY,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null!==a)f.push(a);else{let a=c.field.canonicalString();throw new ca(bY,`Invalid query. You are trying to start or end a query using a document for which the field '${a}' (used as the orderBy) does not exist.`)}}return new f5(f,e)}function sw(a,b,c,d,e,f){let g=a.explicitOrderBy;if(e.length>g.length)throw new ca(bY,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let h=[];for(let f=0;f<e.length;f++){let i=e[f];if(g[f].field.isKeyField()){if("string"!=typeof i)throw new ca(bY,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof i}`);if(!gX(a)&&-1!==i.indexOf("/"))throw new ca(bY,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${i}' contains a slash.`);let c=a.path.child(cw.fromString(i));if(!cz.isDocumentKey(c))throw new ca(bY,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${c}' is not because it contains an odd number of segments.`);let e=new cz(c);h.push(fN(b,e))}else{let a=rN(c,d,i);h.push(a)}}return new f5(h,f)}function sx(a,b,c){if("string"==typeof(c=Z(c))){if(""===c)throw new ca(bY,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gX(b)&&-1!==c.indexOf("/"))throw new ca(bY,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${c}' contains a '/' character.`);let d=b.path.child(cw.fromString(c));if(!cz.isDocumentKey(d))throw new ca(bY,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${d}' is not because it has an odd number of segments (${d.length}).`);return fN(a,new cz(d))}if(c instanceof rg)return fN(a,c._key);throw new ca(bY,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cF(c)}.`)}function sy(a,b){if(!Array.isArray(a)||0===a.length)throw new ca(bY,`Invalid Query. A non-empty array is required for '${b.toString()}' filters.`)}function sz(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}function sA(a,b){let c=sC(a.filters,sz(b.op));if(null!==c)if(c===b.op)throw new ca(bY,`Invalid query. You cannot use more than one '${b.op.toString()}' filter.`);else throw new ca(bY,`Invalid query. You cannot use '${b.op.toString()}' filters with '${c.toString()}' filters.`)}function sB(a,b){let c=a;for(let a of b.getFlattenedFilters())sA(c,a),c=g0(c,a)}function sC(a,b){for(let c of a)for(let a of c.getFlattenedFilters())if(b.indexOf(a.op)>=0)return a.op;return null}function sD(a,b){if(!(b instanceof sc)&&!(b instanceof se))throw new ca(bY,`Function ${a}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function sE(a){let b=a.filter(a=>a instanceof se).length,c=a.filter(a=>a instanceof sc).length;if(b>1||b>0&&c>0)throw new ca(bY,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}function sF(a,b,c){return a?c&&(c.merge||c.mergeFields)?a.toFirestore(b,c):a.toFirestore(b):b}class sG extends r_{constructor(a){super(),this.firestore=a}convertBytes(a){return new rx(a)}convertReference(a){let b=this.convertDocumentKey(a,this.firestore._databaseId);return new rg(this.firestore,null,b)}}function sH(a){return new r4("sum",rW("sum",a))}function sI(a){return new r4("avg",rW("average",a))}function sJ(){return new r4("count")}function sK(a,b){return a instanceof r4&&b instanceof r4&&a.aggregateType===b.aggregateType&&a._internalFieldPath?.canonicalString()===b._internalFieldPath?.canonicalString()}function sL(a,b){return rk(a.query,b.query)&&Q(a.data(),b.data())}function sM(a){return sN(a,{count:sJ()})}function sN(a,b){let c=cH(a.firestore,rp),d=rr(c),e=eH(b,(a,b)=>new rw(b,a.aggregateType,a._internalFieldPath));return qN(d,a._query,e).then(b=>sO(c,a,b))}function sO(a,b,c){return new r5(b,new r0(a),c)}class sP{constructor(a){this.kind="memory",this._onlineComponentProvider=qh.provider,a?.garbageCollector?this._offlineComponentProvider=a.garbageCollector._offlineComponentProvider:this._offlineComponentProvider={build:()=>new qe(void 0)}}toJSON(){return{kind:this.kind}}}class sQ{constructor(a){let b;this.kind="persistent",a?.tabManager?(a.tabManager._initialize(a),b=a.tabManager):(b=sZ(void 0))._initialize(a),this._onlineComponentProvider=b._onlineComponentProvider,this._offlineComponentProvider=b._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class sR{constructor(){this.kind="memoryEager",this._offlineComponentProvider=qd.provider}toJSON(){return{kind:this.kind}}}class sS{constructor(a){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new qe(a)}}toJSON(){return{kind:this.kind}}}function sT(){return new sR}function sU(a){return new sS(a?.cacheSizeBytes)}function sV(a){return new sP(a)}function sW(a){return new sQ(a)}class sX{constructor(a){this.forceOwnership=a,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(a){this._onlineComponentProvider=qh.provider,this._offlineComponentProvider={build:b=>new qf(b,a?.cacheSizeBytes,this.forceOwnership)}}}class sY{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(a){this._onlineComponentProvider=qh.provider,this._offlineComponentProvider={build:b=>new qg(b,a?.cacheSizeBytes)}}}function sZ(a){return new sX(a?.forceOwnership)}function s$(){return new sY}let s_=il();function s0(a){let b=JSON.stringify(a),c=s_.encode(b).byteLength;return`${c}${b}`}s0({metadata:{id:"test-bundle",createTime:{seconds:0x5e0be105,nanos:6},version:1,totalDocuments:1,totalBytes:416}}),s0({documentMetadata:{name:"projects/test-project/databases/(default)/documents/collectionId/doc1",readTime:{seconds:5,nanos:6},exists:!0}}),s0({document:{name:"projects/test-project/databases/(default)/documents/collectionId/doc1",createTime:{seconds:1,nanos:2e6},updateTime:{seconds:3,nanos:4e3},fields:{foo:{stringValue:"value"},bar:{integerValue:-42}}}}),s0({documentMetadata:{name:"projects/test-project/databases/(default)/documents/collectionId/doc2",readTime:{seconds:5,nanos:6},exists:!0}}),s0({document:{name:"projects/test-project/databases/(default)/documents/collectionId/doc2",createTime:{seconds:1,nanos:2e6},updateTime:{seconds:3,nanos:4e3},fields:{foo:{stringValue:"value1"},bar:{integerValue:42},emptyArray:{arrayValue:{}},emptyMap:{mapValue:{}}}}}),s0({documentMetadata:{name:"projects/test-project/databases/(default)/documents/collectionId/nodoc",readTime:{seconds:5,nanos:6},exists:!1}}),s0({namedQuery:{name:"limitQuery",bundledQuery:{parent:"projects/fireeats-97d5e/databases/(default)/documents",structuredQuery:{from:[{collectionId:"node_3.7.5_7Li7XoCjutvNxwD0tpo9"}],orderBy:[{field:{fieldPath:"sort"},direction:"DESCENDING"}],limit:{value:1}},limitType:"FIRST"},readTime:{seconds:0x5ec5a5f3,nanos:191164e3}}}),s0({namedQuery:{name:"limitToLastQuery",bundledQuery:{parent:"projects/fireeats-97d5e/databases/(default)/documents",structuredQuery:{from:[{collectionId:"node_3.7.5_7Li7XoCjutvNxwD0tpo9"}],orderBy:[{field:{fieldPath:"sort"},direction:"ASCENDING"}],limit:{value:1}},limitType:"LAST"},readTime:{seconds:0x5ec5a5f3,nanos:543063e3}}});let s1=1;class s2{constructor(a,b){this.firestore=a,this.bundleId=b,this.documents=new Map,this.namedQueries=new Map,this.latestReadTime=new cN(0,0),this.databaseId=a._databaseId,this.serializer=new iI(this.databaseId,!0),this.userDataReader=new rH(this.databaseId,!0,this.serializer)}addBundleDocument(a,b){let c=this.documents.get(a.documentPath),d=c?.metadata.queries,e=a.readTime,f=c?.metadata.readTime?iN(c.metadata.readTime):null,g=!e&&null==f,h=void 0!==e&&(null==f||f<e);if((g||h)&&this.documents.set(a.documentPath,{document:this.toBundleDocument(a),metadata:{name:iV(this.serializer,a.documentKey),readTime:e?iM(this.serializer,e):void 0,exists:a.documentExists}}),e&&e>this.latestReadTime&&(this.latestReadTime=e),b){let c=this.documents.get(a.documentPath);c.metadata.queries=d||[],c.metadata.queries.push(b)}}addBundleQuery(a){if(this.namedQueries.has(a.name))throw Error(`Query name conflict: ${name} has already been added.`);let b=new cN(0,0);for(let c of a.docBundleDataArray)this.addBundleDocument(c,a.name),c.readTime&&c.readTime>b&&(b=c.readTime);let c=jj(this.serializer,gZ(a.query)),d={parent:a.parent,structuredQuery:c.queryTarget.structuredQuery};this.namedQueries.set(a.name,{name:a.name,bundledQuery:d,readTime:iM(this.serializer,b)})}toBundleDocument(a){let b=this.userDataReader.createContext(4,"internal toBundledDocument"),c=rP(a.documentData,b);return{name:iV(this.serializer,a.documentKey),fields:c.mapValue.fields,updateTime:iM(this.serializer,a.versionTime),createTime:iM(this.serializer,a.createdTime)}}lengthPrefixedString(a){let b=JSON.stringify(a),c=s_.encode(b).byteLength;return`${c}${b}`}build(){let a="";for(let b of this.namedQueries.values())a+=this.lengthPrefixedString({namedQuery:b});for(let b of this.documents.values()){let c=b.metadata;a+=this.lengthPrefixedString({documentMetadata:c});let d=b.document;d&&(a+=this.lengthPrefixedString({document:d}))}let b={id:this.bundleId,createTime:iM(this.serializer,this.latestReadTime),version:s1,totalDocuments:this.documents.size,totalBytes:s_.encode(a).length};return this.lengthPrefixedString({metadata:b})+a}}function s3(a,b,c,d){let e=new s2(a,cm.newId());return e.addBundleDocument(s5(d,c,b)),e.build()}function s4(a,b,c,d,e,f,g){let h=[];for(let a=0;a<f.length;a++)h.push(s5(e[a],g[a],f[a]));let i={name:c,query:b,parent:d,docBundleDataArray:h},j=new s2(a,c);return j.addBundleQuery(i),j.build()}function s5(a,b,c){return{documentData:b,documentKey:c.mutableCopy().key,documentPath:a,documentExists:!0,createdTime:c.createTime.toTimestamp(),readTime:c.readTime.toTimestamp(),versionTime:c.version.toTimestamp()}}let s6="NOT SUPPORTED";class s7{constructor(a,b){this.hasPendingWrites=a,this.fromCache=b}isEqual(a){return this.hasPendingWrites===a.hasPendingWrites&&this.fromCache===a.fromCache}}class s8 extends r6{constructor(a,b,c,d,e,f){super(a,b,c,d,f),this._firestore=a,this._firestoreImpl=a,this.metadata=e}exists(){return super.exists()}data(a={}){if(this._document){if(!this._converter)return this._userDataWriter.convertValue(this._document.data.value,a.serverTimestamps);{let b=new ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(b,a)}}}get(a,b={}){if(this._document){let c=this._document.data.field(rW("DocumentSnapshot.get",a));if(null!==c)return this._userDataWriter.convertValue(c,b.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ca(b3,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let a=this._document,b={};if(b.type=s8._jsonSchemaVersion,b.bundle="",b.bundleSource="DocumentSnapshot",b.bundleName=this._key.toString(),!a||!a.isValidDocument()||!a.isFoundDocument())return b;let c=this._userDataWriter.convertObjectMap(a.data.value.mapValue.fields,"previous");return b.bundle=s3(this._firestore,a,c,this.ref.path),b}}function s9(a,b,c){if(cK(b,s8._jsonSchema)){if(b.bundle===s6)throw new ca(bY,"The provided JSON object was created in a client environment, which is not supported.");let d=n6(a._databaseId),e=qY(b.bundle,d),f=e.getElements(),g=new pq(e.getMetadata(),d);for(let a of f)g.addSizedElement(a);let h=g.documents;if(1!==h.length)throw new ca(bY,`Expected bundle data to contain 1 document, but it contains ${h.length} documents.`);let i=i2(d,h[0].document),j=new cz(cw.fromString(b.bundleName));return new s8(a,new sG(a),j,i,new s7(!1,!1),c||null)}}s8._jsonSchemaVersion="firestore/documentSnapshot/1.0",s8._jsonSchema={type:cJ("string",s8._jsonSchemaVersion),bundleSource:cJ("string","DocumentSnapshot"),bundleName:cJ("string"),bundle:cJ("string")};class ta extends s8{data(a={}){return super.data(a)}}class tb{constructor(a,b,c,d){this._firestore=a,this._userDataWriter=b,this._snapshot=d,this.metadata=new s7(d.hasPendingWrites,d.fromCache),this.query=c}get docs(){let a=[];return this.forEach(b=>a.push(b)),a}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(a,b){this._snapshot.docs.forEach(c=>{a.call(b,new ta(this._firestore,this._userDataWriter,c.key,c,new s7(this._snapshot.mutatedKeys.has(c.key),this._snapshot.fromCache),this.query.converter))})}docChanges(a={}){let b=!!a.includeMetadataChanges;if(b&&this._snapshot.excludesMetadataChanges)throw new ca(bY,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===b||(this._cachedChanges=td(this,b),this._cachedChangesIncludeMetadataChanges=b),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ca(b3,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let a={};a.type=tb._jsonSchemaVersion,a.bundleSource="QuerySnapshot",a.bundleName=cm.newId();let b=this._firestore._databaseId.database,c=this._firestore._databaseId.projectId,d=`projects/${c}/databases/${b}/documents`,e=[],f=[],g=[];return this.docs.forEach(a=>{null!==a._document&&(e.push(a._document),f.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),g.push(a.ref.path))}),a.bundle=s4(this._firestore,this.query._query,a.bundleName,d,g,e,f),a}}function tc(a,b,c){if(cK(b,tb._jsonSchema)){if(b.bundle===s6)throw new ca(bY,"The provided JSON object was created in a client environment, which is not supported.");let d=n6(a._databaseId),e=qY(b.bundle,d),f=e.getElements(),g=new pq(e.getMetadata(),d);for(let a of f)g.addSizedElement(a);if(1!==g.queries.length)throw new ca(bY,`Snapshot data expected 1 query but found ${g.queries.length} queries.`);let h=j8(g.queries[0].bundledQuery),i=g.documents,j=new o7;i.map(a=>{let b=i2(d,a.document);j=j.add(b)});let k=o9.fromInitialDocuments(h,j,ht(),!1,!1),l=new rf(a,c||null,h);return new tb(a,new sG(a),l,k)}}function td(a,b){if(a._snapshot.oldDocs.isEmpty()){let b=0;return a._snapshot.docChanges.map(c=>{let d=new ta(a._firestore,a._userDataWriter,c.doc.key,c.doc,new s7(a._snapshot.mutatedKeys.has(c.doc.key),a._snapshot.fromCache),a.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:b++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(a=>b||3!==a.type).map(b=>{let d=new ta(a._firestore,a._userDataWriter,b.doc.key,b.doc,new s7(a._snapshot.mutatedKeys.has(b.doc.key),a._snapshot.fromCache),a.query.converter),e=-1,f=-1;return 0!==b.type&&(e=c.indexOf(b.doc.key),c=c.delete(b.doc.key)),1!==b.type&&(f=(c=c.add(b.doc)).indexOf(b.doc.key)),{type:te(b.type),doc:d,oldIndex:e,newIndex:f}})}}function te(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bR(61501,{type:a})}}function tf(a,b){return a instanceof s8&&b instanceof s8?a._firestore===b._firestore&&a._key.isEqual(b._key)&&(null===a._document?null===b._document:a._document.isEqual(b._document))&&a._converter===b._converter:a instanceof tb&&b instanceof tb&&a._firestore===b._firestore&&rk(a.query,b.query)&&a.metadata.isEqual(b.metadata)&&a._snapshot.isEqual(b._snapshot)}tb._jsonSchemaVersion="firestore/querySnapshot/1.0",tb._jsonSchema={type:cJ("string",tb._jsonSchemaVersion),bundleSource:cJ("string","QuerySnapshot"),bundleName:cJ("string"),bundle:cJ("string")};let tg={maxAttempts:5};function th(a){if(a.maxAttempts<1)throw new ca(bY,"Max attempts must be at least 1")}class ti{constructor(a,b){this._firestore=a,this._commitHandler=b,this._mutations=[],this._committed=!1,this._dataReader=rI(a)}set(a,b,c){this._verifyNotCommitted();let d=tj(a,this._firestore),e=sF(d.converter,b,c),f=rJ(this._dataReader,"WriteBatch.set",d._key,e,null!==d.converter,c);return this._mutations.push(f.toMutation(d._key,hR.none())),this}update(a,b,c,...d){let e;this._verifyNotCommitted();let f=tj(a,this._firestore);return e="string"==typeof(b=Z(b))||b instanceof ry?rM(this._dataReader,"WriteBatch.update",f._key,b,c,d):rL(this._dataReader,"WriteBatch.update",f._key,b),this._mutations.push(e.toMutation(f._key,hR.exists(!0))),this}delete(a){this._verifyNotCommitted();let b=tj(a,this._firestore);return this._mutations=this._mutations.concat(new h6(b._key,hR.none())),this}commit(){return(this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0)?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ca(b3,"A write batch can no longer be used after commit() has been called.")}}function tj(a,b){if((a=Z(a)).firestore===b)return a;throw new ca(bY,"Provided document reference is from a different Firestore instance.")}class tk{constructor(a,b){this._firestore=a,this._transaction=b,this._dataReader=rI(a)}get(a){let b=tj(a,this._firestore),c=new sG(this._firestore);return this._transaction.lookup([b._key]).then(a=>{if(!a||1!==a.length)return bR(24041);let d=a[0];if(d.isFoundDocument())return new r6(this._firestore,c,d.key,d,b.converter);if(d.isNoDocument())return new r6(this._firestore,c,b._key,null,b.converter);throw bR(18433,{doc:d})})}set(a,b,c){let d=tj(a,this._firestore),e=sF(d.converter,b,c),f=rJ(this._dataReader,"Transaction.set",d._key,e,null!==d.converter,c);return this._transaction.set(d._key,f),this}update(a,b,c,...d){let e,f=tj(a,this._firestore);return e="string"==typeof(b=Z(b))||b instanceof ry?rM(this._dataReader,"Transaction.update",f._key,b,c,d):rL(this._dataReader,"Transaction.update",f._key,b),this._transaction.update(f._key,e),this}delete(a){let b=tj(a,this._firestore);return this._transaction.delete(b._key),this}}class tl extends tk{constructor(a,b){super(a,b),this._firestore=a}get(a){let b=tj(a,this._firestore),c=new r0(this._firestore);return super.get(a).then(a=>new s8(this._firestore,c,b._key,a._document,new s7(!1,!1),b.converter))}}function tm(a,b,c){a=cH(a,rp);let d={...tg,...c};return th(d),qQ(rr(a),c=>b(new tl(a,c)),d)}function tn(a){return to(a,["next","error","complete"])}function to(a,b){if("object"!=typeof a||null===a)return!1;let c=a;for(let a of b)if(a in c&&"function"==typeof c[a])return!0;return!1}function tp(a){a=cH(a,rg);let b=cH(a.firestore,rp);return qK(rr(b),a._key).then(c=>tD(b,a,c))}function tq(a){a=cH(a,rg);let b=cH(a.firestore,rp),c=rr(b),d=new r0(b);return qJ(c,a._key).then(c=>new s8(b,d,a._key,c,new s7(null!==c&&c.hasLocalMutations,!0),a.converter))}function tr(a){a=cH(a,rg);let b=cH(a.firestore,rp);return qK(rr(b),a._key,{source:"server"}).then(c=>tD(b,a,c))}function ts(a){a=cH(a,rf);let b=cH(a.firestore,rp),c=rr(b),d=new r0(b);return r8(a._query),qM(c,a._query).then(c=>new tb(b,d,a,c))}function tt(a){a=cH(a,rf);let b=cH(a.firestore,rp),c=rr(b),d=new r0(b);return qL(c,a._query).then(c=>new tb(b,d,a,c))}function tu(a){a=cH(a,rf);let b=cH(a.firestore,rp),c=rr(b),d=new r0(b);return qM(c,a._query,{source:"server"}).then(c=>new tb(b,d,a,c))}function tv(a,b,c){a=cH(a,rg);let d=cH(a.firestore,rp),e=sF(a.converter,b,c),f=rJ(rI(d),"setDoc",a._key,e,null!==a.converter,c).toMutation(a._key,hR.none());return tC(d,[f])}function tw(a,b,c,...d){let e;a=cH(a,rg);let f=cH(a.firestore,rp),g=rI(f);return tC(f,[(e="string"==typeof(b=Z(b))||b instanceof ry?rM(g,"updateDoc",a._key,b,c,d):rL(g,"updateDoc",a._key,b)).toMutation(a._key,hR.exists(!0))])}function tx(a){return tC(cH(a.firestore,rp),[new h6(a._key,hR.none())])}function ty(a,b){let c=cH(a.firestore,rp),d=rj(a),e=sF(a.converter,b);return tC(c,[rJ(rI(a.firestore),"addDoc",d._key,e,null!==a.converter,{}).toMutation(d._key,hR.exists(!1))]).then(()=>d)}function tz(a,...b){let c,d,e;a=Z(a);let f={includeMetadataChanges:!1,source:"default"},g=0;"object"!=typeof b[0]||tn(b[g])||(f=b[g++]);let h={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(tn(b[g])){let a=b[g];b[g]=a.next?.bind(a),b[g+1]=a.error?.bind(a),b[g+2]=a.complete?.bind(a)}if(a instanceof rg)d=cH(a.firestore,rp),e=gS(a._key.path),c={next:c=>{b[g]&&b[g](tD(d,a,c))},error:b[g+1],complete:b[g+2]};else{let f=cH(a,rf);d=cH(f.firestore,rp),e=f._query;let h=new r0(d);c={next:a=>{b[g]&&b[g](new tb(d,h,f,a))},error:b[g+1],complete:b[g+2]},r8(a._query)}return qI(rr(d),e,h,c)}function tA(a,b,...c){let d,e=Z(a),f=tE(b);if(f.error)throw new ca(bY,f.error);let g=0;if("object"!=typeof c[0]||tn(c[g])||(d=c[g++]),"QuerySnapshot"===f.bundleSource){let a=null;if("object"==typeof c[g]&&tn(c[g])){let b=c[g++];a={next:b.next,error:b.error,complete:b.complete}}else a={next:c[g++],error:c[g++],complete:c[g++]};return tG(e,f,d,a,c[g])}if("DocumentSnapshot"===f.bundleSource){let a=null;if("object"==typeof c[g]&&tn(c[g])){let b=c[g++];a={next:b.next,error:b.error,complete:b.complete}}else a={next:c[g++],error:c[g++],complete:c[g++]};return tF(e,f,d,a,c[g])}throw new ca(bY,`unsupported bundle source: ${f.bundleSource}`)}function tB(a,b){return qP(rr(a=cH(a,rp)),tn(b)?b:{next:b})}function tC(a,b){return qO(rr(a),b)}function tD(a,b,c){let d=c.docs.get(b._key),e=new r0(a);return new s8(a,e,b._key,d,new s7(c.hasPendingWrites,c.fromCache),b.converter)}function tE(a){let b={bundle:"",bundleName:"",bundleSource:""};for(let c of["bundle","bundleName","bundleSource"]){if(!(c in a)){b.error=`snapshotJson missing required field: ${c}`;break}let d=a[c];if("string"!=typeof d){b.error=`snapshotJson field '${c}' must be a string.`;break}if(0===d.length){b.error=`snapshotJson field '${c}' cannot be an empty string.`;break}"bundle"===c?b.bundle=d:"bundleName"===c?b.bundleName=d:"bundleSource"===c&&(b.bundleSource=d)}return b}function tF(a,b,c,d,e){let f,g=!1;return ru(a,b.bundle).then(()=>{g||(f=tz(new rg(a,e||null,cz.fromPath(b.bundleName)),c||{},d))}).catch(a=>(d.error&&d.error(a),()=>{})),()=>{!g&&(g=!0,f&&f())}}function tG(a,b,c,d,e){let f,g=!1;return ru(a,b.bundle).then(()=>rv(a,b.bundleName)).then(a=>{if(a&&!g){let b=a;e&&b.withConverter(e),f=tz(a,c||{},d)}}).catch(a=>(d.error&&d.error(a),()=>{})),()=>{!g&&(g=!0,f&&f())}}function tH(a){return rr(a=cH(a,rp)),new ti(a,b=>tC(a,b))}function tI(a,b){let c=rr(a=cH(a,rp));return c._uninitializedComponentsProvider&&"memory"!==c._uninitializedComponentsProvider._offline.kind?qZ(c,tJ(b)):(bP("Cannot enable indexes when persistence is disabled"),Promise.resolve())}function tJ(a){let b="string"==typeof a?tK(a):a,c=[];if(Array.isArray(b.indexes))for(let a of b.indexes){let b=tL(a,"collectionGroup"),d=[];if(Array.isArray(a.fields))for(let b of a.fields){let a=rY("setIndexConfiguration",tL(b,"fieldPath"));"CONTAINS"===b.arrayConfig?d.push(new cX(a,2)):"ASCENDING"===b.order?d.push(new cX(a,0)):"DESCENDING"===b.order&&d.push(new cX(a,1))}c.push(new cR(cR.UNKNOWN_ID,b,d,cZ.empty()))}return c}function tK(a){try{return JSON.parse(a)}catch(a){throw new ca(bY,"Failed to parse JSON: "+a?.message)}}function tL(a,b){if("string"!=typeof a[b])throw new ca(bY,"Missing string value for: "+b);return a[b]}class tM{constructor(a){this._firestore=a,this.type="PersistentCacheIndexManager"}}function tN(a){a=cH(a,rp);let b=tS.get(a);if(b)return b;let c=rr(a);if(c._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;let d=new tM(a);return tS.set(a,d),d}function tO(a){tR(a,!0)}function tP(a){tR(a,!1)}function tQ(a){q_(rr(a._firestore)).then(a=>bN("deleting all persistent cache indexes succeeded")).catch(a=>bP("deleting all persistent cache indexes failed",a))}function tR(a,b){q$(rr(a._firestore),b).then(a=>bN(`setting persistent cache index auto creation isEnabled=${b} succeeded`)).catch(a=>bP(`setting persistent cache index auto creation isEnabled=${b} failed`,a))}let tS=new WeakMap;class tT{constructor(){throw Error("instances of this class should not be created")}static onExistenceFilterMismatch(a){return tU.instance.onExistenceFilterMismatch(a)}}class tU{constructor(){this.existenceFilterMismatchCallbacksById=new Map}static get instance(){return tV||ik(tV=new tU),tV}notifyOnExistenceFilterMismatch(a){this.existenceFilterMismatchCallbacksById.forEach(b=>b(a))}onExistenceFilterMismatch(a){let b=Symbol(),c=this.existenceFilterMismatchCallbacksById;return c.set(b,a),()=>c.delete(b)}}let tV=null;r3("node"),a.s(["AggregateField",()=>r4,"AggregateQuerySnapshot",()=>r5,"DocumentSnapshot",()=>s8,"PersistentCacheIndexManager",()=>tM,"QueryCompositeFilterConstraint",()=>se,"QueryConstraint",()=>sa,"QueryDocumentSnapshot",()=>ta,"QueryEndAtConstraint",()=>sp,"QueryFieldFilterConstraint",()=>sc,"QueryLimitConstraint",()=>sj,"QueryOrderByConstraint",()=>sh,"QuerySnapshot",()=>tb,"QueryStartAtConstraint",()=>sm,"SnapshotMetadata",()=>s7,"Transaction",()=>tl,"WriteBatch",()=>ti,"_TestingHooks",()=>tT,"addDoc",()=>ty,"aggregateFieldEqual",()=>sK,"aggregateQuerySnapshotEqual",()=>sL,"and",()=>sg,"average",()=>sI,"count",()=>sJ,"deleteAllPersistentCacheIndexes",()=>tQ,"deleteDoc",()=>tx,"disablePersistentCacheIndexAutoCreation",()=>tP,"documentSnapshotFromJSON",()=>s9,"enablePersistentCacheIndexAutoCreation",()=>tO,"endAt",()=>sr,"endBefore",()=>sq,"executeWrite",()=>tC,"getAggregateFromServer",()=>sN,"getCountFromServer",()=>sM,"getDoc",()=>tp,"getDocFromCache",()=>tq,"getDocFromServer",()=>tr,"getDocs",()=>ts,"getDocsFromCache",()=>tt,"getDocsFromServer",()=>tu,"getPersistentCacheIndexManager",()=>tN,"limit",()=>sk,"limitToLast",()=>sl,"memoryEagerGarbageCollector",()=>sT,"memoryLocalCache",()=>sV,"memoryLruGarbageCollector",()=>sU,"onSnapshot",()=>tz,"onSnapshotResume",()=>tA,"onSnapshotsInSync",()=>tB,"or",()=>sf,"orderBy",()=>si,"persistentLocalCache",()=>sW,"persistentMultipleTabManager",()=>s$,"persistentSingleTabManager",()=>sZ,"query",()=>sb,"querySnapshotFromJSON",()=>tc,"runTransaction",()=>tm,"setDoc",()=>tv,"setIndexConfiguration",()=>tI,"snapshotEqual",()=>tf,"startAfter",()=>so,"startAt",()=>sn,"sum",()=>sH,"updateDoc",()=>tw,"where",()=>sd,"writeBatch",()=>tH],43283),a.s([],16575),a.i(43283),a.s(["collection",()=>ri,"getDocs",()=>ts,"getFirestore",()=>rq,"limit",()=>sk,"orderBy",()=>si,"query",()=>sb,"where",()=>sd],97863);let tW="firebasestorage.googleapis.com",tX="storageBucket",tY=12e4,tZ=6e5;class t$ extends M{constructor(a,b,c=0){super(t_(a),`Firebase Storage: ${b} (${t_(a)})`),this.status_=c,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t$.prototype)}get status(){return this.status_}set status(a){this.status_=a}_codeEquals(a){return t_(a)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(a){this.customData.serverResponse=a,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function t_(a){return"storage/"+a}function t0(){let a="An unknown error occurred, please check the error payload for server response.";return new t$(bx.UNKNOWN,a)}function t1(){return new t$(bx.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t2(){return new t$(bx.CANCELED,"User canceled the upload/download.")}function t3(a){return new t$(bx.INVALID_URL,"Invalid URL '"+a+"'.")}function t4(a){return new t$(bx.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+a+"'.")}function t5(a){return new t$(bx.INVALID_ARGUMENT,a)}function t6(){return new t$(bx.APP_DELETED,"The Firebase app was deleted.")}function t7(a){return new t$(bx.INVALID_ROOT_OPERATION,"The operation '"+a+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}!function(a){a.UNKNOWN="unknown",a.OBJECT_NOT_FOUND="object-not-found",a.BUCKET_NOT_FOUND="bucket-not-found",a.PROJECT_NOT_FOUND="project-not-found",a.QUOTA_EXCEEDED="quota-exceeded",a.UNAUTHENTICATED="unauthenticated",a.UNAUTHORIZED="unauthorized",a.UNAUTHORIZED_APP="unauthorized-app",a.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",a.INVALID_CHECKSUM="invalid-checksum",a.CANCELED="canceled",a.INVALID_EVENT_NAME="invalid-event-name",a.INVALID_URL="invalid-url",a.INVALID_DEFAULT_BUCKET="invalid-default-bucket",a.NO_DEFAULT_BUCKET="no-default-bucket",a.CANNOT_SLICE_BLOB="cannot-slice-blob",a.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",a.NO_DOWNLOAD_URL="no-download-url",a.INVALID_ARGUMENT="invalid-argument",a.INVALID_ARGUMENT_COUNT="invalid-argument-count",a.APP_DELETED="app-deleted",a.INVALID_ROOT_OPERATION="invalid-root-operation",a.INVALID_FORMAT="invalid-format",a.INTERNAL_ERROR="internal-error",a.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(bx||(bx={}));class t8{constructor(a,b){this.bucket=a,this.path_=b}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let a=encodeURIComponent;return"/b/"+a(this.bucket)+"/o/"+a(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(a,b){let c;try{c=t8.makeFromUrl(a,b)}catch(b){return new t8(a,"")}if(""===c.path)return c;throw t4(a)}static makeFromUrl(a,b){let c=null,d="([A-Za-z0-9.\\-_]+)";function e(a){"/"===a.path.charAt(a.path.length-1)&&(a.path_=a.path_.slice(0,-1))}let f=RegExp("^gs://"+d+"(/(.*))?$","i"),g={bucket:1,path:3};function h(a){a.path_=decodeURIComponent(a.path)}let i="v[A-Za-z0-9_]+",j=b.replace(/[.]/g,"\\."),k="(/([^?#]*).*)?$",l=RegExp(`^https?://${j}/${i}/b/${d}/o${k}`,"i"),m=b===tW?"(?:storage.googleapis.com|storage.cloud.google.com)":b,n="([^?#]*)",o=[{regex:f,indices:g,postModify:e},{regex:l,indices:{bucket:1,path:3},postModify:h},{regex:RegExp(`^https?://${m}/${d}/${n}`,"i"),indices:{bucket:1,path:2},postModify:h}];for(let b=0;b<o.length;b++){let d=o[b],e=d.regex.exec(a);if(e){let a=e[d.indices.bucket],b=e[d.indices.path];b||(b=""),c=new t8(a,b),d.postModify(c);break}}if(null==c)throw t3(a);return c}}class t9{constructor(a){this.promise_=Promise.reject(a)}getPromise(){return this.promise_}cancel(a=!1){}}function ua(a,b,c){let d=1,e=null,f=null,g=!1,h=0;function i(){return 2===h}let j=!1;function k(...a){j||(j=!0,b.apply(null,a))}function l(b){e=setTimeout(()=>{e=null,a(n,i())},b)}function m(){f&&clearTimeout(f)}function n(a,...b){let c;if(j)return void m();if(a||i()||g){m(),k.call(null,a,...b);return}d<64&&(d*=2),1===h?(h=2,c=0):c=(d+Math.random())*1e3,l(c)}let o=!1;function p(a){o||(o=!0,m(),!j&&(null!==e?(a||(h=2),clearTimeout(e),l(0)):a||(h=1)))}return l(0),f=setTimeout(()=>{g=!0,p(!0)},c),p}function ub(a){a(!1)}function uc(a){return void 0!==a}function ud(a,b,c,d){if(d<b)throw t5(`Invalid value for '${a}'. Expected ${b} or greater.`);if(d>c)throw t5(`Invalid value for '${a}'. Expected ${c} or less.`)}function ue(a){let b=encodeURIComponent,c="?";for(let d in a)a.hasOwnProperty(d)&&(c=c+(b(d)+"=")+b(a[d])+"&");return c.slice(0,-1)}function uf(a,b){let c=a>=500&&a<600,d=-1!==[408,429].indexOf(a),e=-1!==b.indexOf(a);return c||d||e}!function(a){a[a.NO_ERROR=0]="NO_ERROR",a[a.NETWORK_ERROR=1]="NETWORK_ERROR",a[a.ABORT=2]="ABORT"}(by||(by={}));class ug{constructor(a,b,c,d,e,f,g,h,i,j,k,l=!0,m=!1){this.url_=a,this.method_=b,this.headers_=c,this.body_=d,this.successCodes_=e,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=h,this.timeout_=i,this.progressCallback_=j,this.connectionFactory_=k,this.retry=l,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((a,b)=>{this.resolve_=a,this.reject_=b,this.start_()})}start_(){let a=(a,b)=>{if(b)return void a(!1,new uh(!1,null,!0));let c=this.connectionFactory_();this.pendingConnection_=c;let d=a=>{let b=a.loaded,c=a.lengthComputable?a.total:-1;null!==this.progressCallback_&&this.progressCallback_(b,c)};null!==this.progressCallback_&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(d),this.pendingConnection_=null;let b=c.getErrorCode()===by.NO_ERROR,e=c.getStatus();!b||uf(e,this.additionalRetryCodes_)&&this.retry?a(!1,new uh(!1,null,c.getErrorCode()===by.ABORT)):a(!0,new uh(-1!==this.successCodes_.indexOf(e),c))})},b=(a,b)=>{let c=this.resolve_,d=this.reject_,e=b.connection;if(b.wasSuccessCode)try{let a=this.callback_(e,e.getResponse());uc(a)?c(a):c()}catch(a){d(a)}else if(null!==e){let a=t0();a.serverResponse=e.getErrorText(),d(this.errorCallback_?this.errorCallback_(e,a):a)}else d(b.canceled?this.appDelete_?t6():t2():t1())};this.canceled_?b(!1,new uh(!1,null,!0)):this.backoffId_=ua(a,b,this.timeout_)}getPromise(){return this.promise_}cancel(a){this.canceled_=!0,this.appDelete_=a||!1,null!==this.backoffId_&&ub(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class uh{constructor(a,b,c){this.wasSuccessCode=a,this.connection=b,this.canceled=!!c}}function ui(a,b){null!==b&&b.length>0&&(a.Authorization="Firebase "+b)}function uj(a,b){a["X-Firebase-Storage-Version"]="webjs/"+(b??"AppManager")}function uk(a,b){b&&(a["X-Firebase-GMPID"]=b)}function ul(a,b){null!==b&&(a["X-Firebase-AppCheck"]=b)}function um(a,b,c,d,e,f,g=!0,h=!1){let i=ue(a.urlParams),j=a.url+i,k=Object.assign({},a.headers);return uk(k,b),ui(k,c),uj(k,f),ul(k,d),new ug(j,a.method,k,a.body,a.successCodes,a.additionalRetryCodes,a.handler,a.errorHandler,a.timeout,a.progressCallback,e,g,h)}function un(a){if(0===a.length)return null;let b=a.lastIndexOf("/");return -1===b?"":a.slice(0,b)}function uo(a){let b=a.lastIndexOf("/",a.length-2);return -1===b?a:a.slice(b+1)}class up{constructor(a,b){this._service=a,b instanceof t8?this._location=b:this._location=t8.makeFromUrl(b,a.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(a,b){return new up(a,b)}get root(){let a=new t8(this._location.bucket,"");return this._newRef(this._service,a)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uo(this._location.path)}get storage(){return this._service}get parent(){let a=un(this._location.path);if(null===a)return null;let b=new t8(this._location.bucket,a);return new up(this._service,b)}_throwIfRoot(a){if(""===this._location.path)throw t7(a)}}function uq(a,b){let c=b?.[tX];return null==c?null:t8.makeFromBucketSpec(c,a)}function ur(a,b,c,d={}){a.host=`${b}:${c}`;let e=v(b);e&&(w(`https://${a.host}/b`),y("Storage",!0)),a._isUsingEmulator=!0,a._protocol=e?"https":"http";let{mockUserToken:f}=d;f&&(a._overrideAuthToken="string"==typeof f?f:x(f,a.app.options.projectId))}class us{constructor(a,b,c,d,e,f=!1){this.app=a,this._authProvider=b,this._appCheckProvider=c,this._url=d,this._firebaseVersion=e,this._isUsingEmulator=f,this._bucket=null,this._host=tW,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tY,this._maxUploadRetryTime=tZ,this._requests=new Set,null!=d?this._bucket=t8.makeFromBucketSpec(d,this._host):this._bucket=uq(this._host,this.app.options)}get host(){return this._host}set host(a){this._host=a,null!=this._url?this._bucket=t8.makeFromBucketSpec(this._url,a):this._bucket=uq(a,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(a){ud("time",0,1/0,a),this._maxUploadRetryTime=a}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(a){ud("time",0,1/0,a),this._maxOperationRetryTime=a}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let a=this._authProvider.getImmediate({optional:!0});if(a){let b=await a.getToken();if(null!==b)return b.accessToken}return null}async _getAppCheckToken(){if(aZ(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let a=this._appCheckProvider.getImmediate({optional:!0});return a?(await a.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(a=>a.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(a){return new up(this,a)}_makeRequest(a,b,c,d,e=!0){if(this._deleted)return new t9(t6());{let f=um(a,this._appId,c,d,b,this._firebaseVersion,e,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(a,b){let[c,d]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(a,b,c,d).getPromise()}}let ut="@firebase/storage",uu="0.14.0",uv="storage";function uw(a=a6(),b){let c=aV(a=Z(a),uv).getImmediate({identifier:b}),d=s("storage");return d&&ux(c,...d),c}function ux(a,b,c,d={}){ur(a,b,c,d)}function uy(a,{instanceIdentifier:b}){return new us(a.getProvider("app").getImmediate(),a.getProvider("auth-internal"),a.getProvider("app-check-internal"),b,a3)}function uz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}!function(){aU(new $(uv,uy,"PUBLIC").setMultipleInstances(!0)),a9(ut,uu)}();let uA=uz,uB=new N("auth","Firebase",uz()),uC=new aj("@firebase/auth");function uD(a,...b){uC.logLevel<=bs.WARN&&uC.warn(`Auth (${a3}): ${a}`,...b)}function uE(a,...b){uC.logLevel<=bs.ERROR&&uC.error(`Auth (${a3}): ${a}`,...b)}function uF(a,...b){throw uJ(a,...b)}function uG(a,...b){return uJ(a,...b)}function uH(a,b,c){return new N("auth","Firebase",{...uA(),[b]:c}).create(b,{appName:a.name})}function uI(a){return uH(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uJ(a,...b){if("string"!=typeof a){let c=b[0],d=[...b.slice(1)];return d[0]&&(d[0].appName=a.name),a._errorFactory.create(c,...d)}return uB.create(a,...b)}function uK(a,b,...c){if(!a)throw uJ(b,...c)}function uL(a){let b="INTERNAL ASSERTION FAILED: "+a;throw uE(b),Error(b)}function uM(a,b){a||uL(b)}function uN(){return"http:"===uO()||"https:"===uO()}function uO(){return"u">typeof self&&self.location?.protocol||null}function uP(){return!("u">typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(uN()||F()||"connection"in navigator))||navigator.onLine}function uQ(){if("u"<typeof navigator)return null;let a=navigator;return a.languages&&a.languages[0]||a.language||null}class uR{constructor(a,b){this.shortDelay=a,this.longDelay=b,uM(b>a,"Short delay should be less than long delay!"),this.isMobile=A()||G()}get(){return uP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function uS(a,b){uM(a.emulator,"Emulator should always be set here");let{url:c}=a.emulator;return b?`${c}${b.startsWith("/")?b.slice(1):b}`:c}class uT{static initialize(a,b,c){this.fetchImpl=a,b&&(this.headersImpl=b),c&&(this.responseImpl=c)}static fetch(){return this.fetchImpl?this.fetchImpl:"u">typeof self&&"fetch"in self?self.fetch:"u">typeof globalThis&&globalThis.fetch?globalThis.fetch:"u">typeof fetch?fetch:void uL("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"u">typeof self&&"Headers"in self?self.Headers:"u">typeof globalThis&&globalThis.Headers?globalThis.Headers:"u">typeof Headers?Headers:void uL("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"u">typeof self&&"Response"in self?self.Response:"u">typeof globalThis&&globalThis.Response?globalThis.Response:"u">typeof Response?Response:void uL("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let uU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},uV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uW=new uR(3e4,6e4);function uX(a,b){return a.tenantId&&!b.tenantId?{...b,tenantId:a.tenantId}:b}async function uY(a,b,c,d,e={}){return uZ(a,e,async()=>{let e={},f={};d&&("GET"===b?f=d:e={body:JSON.stringify(d)});let g=S({key:a.config.apiKey,...f}).slice(1),h=await a._getAdditionalHeaders();h["Content-Type"]="application/json",a.languageCode&&(h["X-Firebase-Locale"]=a.languageCode);let i={method:b,headers:h,...e};return E()||(i.referrerPolicy="no-referrer"),a.emulatorConfig&&v(a.emulatorConfig.host)&&(i.credentials="include"),uT.fetch()(await u_(a,a.config.apiHost,c,g),i)})}async function uZ(a,b,c){a._canInitEmulator=!1;let d={...uU,...b};try{let b=new u1(a),e=await Promise.race([c(),b.promise]);b.clearNetworkTimeout();let f=await e.json();if("needConfirmation"in f)throw u2(a,"account-exists-with-different-credential",f);if(e.ok&&!("errorMessage"in f))return f;{let[b,c]=(e.ok?f.errorMessage:f.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===b)throw u2(a,"credential-already-in-use",f);if("EMAIL_EXISTS"===b)throw u2(a,"email-already-in-use",f);if("USER_DISABLED"===b)throw u2(a,"user-disabled",f);let g=d[b]||b.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw uH(a,g,c);uF(a,g)}}catch(b){if(b instanceof M)throw b;uF(a,"network-request-failed",{message:String(b)})}}async function u$(a,b,c,d,e={}){let f=await uY(a,b,c,d,e);return"mfaPendingCredential"in f&&uF(a,"multi-factor-auth-required",{_serverResponse:f}),f}async function u_(a,b,c,d){let e=`${b}${c}?${d}`,f=a,g=f.config.emulator?uS(a.config,e):`${a.config.apiScheme}://${e}`;return uV.includes(c)&&(await f._persistenceManagerAvailable,"COOKIE"===f._getPersistenceType())?f._getPersistence()._getFinalTarget(g).toString():g}function u0(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(a){this.auth=a,this.timer=null,this.promise=new Promise((a,b)=>{this.timer=setTimeout(()=>b(uG(this.auth,"network-request-failed")),uW.get())})}}function u2(a,b,c){let d={appName:a.name};c.email&&(d.email=c.email),c.phoneNumber&&(d.phoneNumber=c.phoneNumber);let e=uG(a,b,d);return e.customData._tokenResponse=c,e}function u3(a){return void 0!==a&&void 0!==a.enterprise}class u4{constructor(a){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===a.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=a.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=a.recaptchaEnforcementState}getProviderEnforcementState(a){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let b of this.recaptchaEnforcementState)if(b.provider&&b.provider===a)return u0(b.enforcementState);return null}isProviderEnabled(a){return"ENFORCE"===this.getProviderEnforcementState(a)||"AUDIT"===this.getProviderEnforcementState(a)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u5(a,b){return uY(a,"GET","/v2/recaptchaConfig",uX(a,b))}async function u6(a,b){return uY(a,"POST","/v1/accounts:delete",b)}async function u7(a,b){return uY(a,"POST","/v1/accounts:lookup",b)}function u8(a){if(a)try{let b=new Date(Number(a));if(!isNaN(b.getTime()))return b.toUTCString()}catch(a){}}async function u9(a,b=!1){let c=Z(a),d=await c.getIdToken(b),e=vb(d);uK(e&&e.exp&&e.auth_time&&e.iat,c.auth,"internal-error");let f="object"==typeof e.firebase?e.firebase:void 0,g=f?.sign_in_provider;return{claims:e,token:d,authTime:u8(va(e.auth_time)),issuedAtTime:u8(va(e.iat)),expirationTime:u8(va(e.exp)),signInProvider:g||null,signInSecondFactor:f?.sign_in_second_factor||null}}function va(a){return 1e3*Number(a)}function vb(a){let[b,c,d]=a.split(".");if(void 0===b||void 0===c||void 0===d)return uE("JWT malformed, contained fewer than 3 sections"),null;try{let a=l(c);if(!a)return uE("Failed to decode base64 JWT payload"),null;return JSON.parse(a)}catch(a){return uE("Caught error parsing JWT payload as JSON",a?.toString()),null}}function vc(a){let b=vb(a);return uK(b,"internal-error"),uK(void 0!==b.exp,"internal-error"),uK(void 0!==b.iat,"internal-error"),Number(b.exp)-Number(b.iat)}async function vd(a,b,c=!1){if(c)return b;try{return await b}catch(b){throw b instanceof M&&ve(b)&&a.auth.currentUser===a&&await a.auth.signOut(),b}}function ve({code:a}){return"auth/user-disabled"===a||"auth/user-token-expired"===a}class vf{constructor(a){this.user=a,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(a){if(!a)return this.errorBackoff=3e4,Math.max(0,(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5);{let a=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),a}}schedule(a=!1){if(!this.isRunning)return;let b=this.getInterval(a);this.timerId=setTimeout(async()=>{await this.iteration()},b)}async iteration(){try{await this.user.getIdToken(!0)}catch(a){a?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vg{constructor(a,b){this.createdAt=a,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=u8(this.lastLoginAt),this.creationTime=u8(this.createdAt)}_copy(a){this.createdAt=a.createdAt,this.lastLoginAt=a.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vh(a){let b=a.auth,c=await a.getIdToken(),d=await vd(a,u7(b,{idToken:c}));uK(d?.users.length,b,"internal-error");let e=d.users[0];a._notifyReloadListener(e);let f=e.providerUserInfo?.length?vk(e.providerUserInfo):[],g=vj(a.providerData,f),h=a.isAnonymous,i=!(a.email&&e.passwordHash)&&!g?.length,j=!!h&&i;Object.assign(a,{uid:e.localId,displayName:e.displayName||null,photoURL:e.photoUrl||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,tenantId:e.tenantId||null,providerData:g,metadata:new vg(e.createdAt,e.lastLoginAt),isAnonymous:j})}async function vi(a){let b=Z(a);await vh(b),await b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)}function vj(a,b){return[...a.filter(a=>!b.some(b=>b.providerId===a.providerId)),...b]}function vk(a){return a.map(({providerId:a,...b})=>({providerId:a,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}))}async function vl(a,b){let c=await uZ(a,{},async()=>{let c=S({grant_type:"refresh_token",refresh_token:b}).slice(1),{tokenApiHost:d,apiKey:e}=a.config,f=await u_(a,d,"/v1/token",`key=${e}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";let h={method:"POST",headers:g,body:c};return a.emulatorConfig&&v(a.emulatorConfig.host)&&(h.credentials="include"),uT.fetch()(f,h)});return{accessToken:c.access_token,expiresIn:c.expires_in,refreshToken:c.refresh_token}}async function vm(a,b){return uY(a,"POST","/v2/accounts:revokeToken",uX(a,b))}class vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(a){uK(a.idToken,"internal-error"),uK(void 0!==a.idToken,"internal-error"),uK(void 0!==a.refreshToken,"internal-error");let b="expiresIn"in a&&void 0!==a.expiresIn?Number(a.expiresIn):vc(a.idToken);this.updateTokensAndExpiration(a.idToken,a.refreshToken,b)}updateFromIdToken(a){uK(0!==a.length,"internal-error");let b=vc(a);this.updateTokensAndExpiration(a,null,b)}async getToken(a,b=!1){return b||!this.accessToken||this.isExpired?(uK(this.refreshToken,a,"user-token-expired"),this.refreshToken)?(await this.refresh(a,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(a,b){let{accessToken:c,refreshToken:d,expiresIn:e}=await vl(a,b);this.updateTokensAndExpiration(c,d,Number(e))}updateTokensAndExpiration(a,b,c){this.refreshToken=b||null,this.accessToken=a||null,this.expirationTime=Date.now()+1e3*c}static fromJSON(a,b){let{refreshToken:c,accessToken:d,expirationTime:e}=b,f=new vn;return c&&(uK("string"==typeof c,"internal-error",{appName:a}),f.refreshToken=c),d&&(uK("string"==typeof d,"internal-error",{appName:a}),f.accessToken=d),e&&(uK("number"==typeof e,"internal-error",{appName:a}),f.expirationTime=e),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(a){this.accessToken=a.accessToken,this.refreshToken=a.refreshToken,this.expirationTime=a.expirationTime}_clone(){return Object.assign(new vn,this.toJSON())}_performRefresh(){return uL("not implemented")}}function vo(a,b){uK("string"==typeof a||void 0===a,"internal-error",{appName:b})}class vp{constructor({uid:a,auth:b,stsTokenManager:c,...d}){this.providerId="firebase",this.proactiveRefresh=new vf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=a,this.auth=b,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=d.displayName||null,this.email=d.email||null,this.emailVerified=d.emailVerified||!1,this.phoneNumber=d.phoneNumber||null,this.photoURL=d.photoURL||null,this.isAnonymous=d.isAnonymous||!1,this.tenantId=d.tenantId||null,this.providerData=d.providerData?[...d.providerData]:[],this.metadata=new vg(d.createdAt||void 0,d.lastLoginAt||void 0)}async getIdToken(a){let b=await vd(this,this.stsTokenManager.getToken(this.auth,a));return uK(b,this.auth,"internal-error"),this.accessToken!==b&&(this.accessToken=b,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),b}getIdTokenResult(a){return u9(this,a)}reload(){return vi(this)}_assign(a){this!==a&&(uK(this.uid===a.uid,this.auth,"internal-error"),this.displayName=a.displayName,this.photoURL=a.photoURL,this.email=a.email,this.emailVerified=a.emailVerified,this.phoneNumber=a.phoneNumber,this.isAnonymous=a.isAnonymous,this.tenantId=a.tenantId,this.providerData=a.providerData.map(a=>({...a})),this.metadata._copy(a.metadata),this.stsTokenManager._assign(a.stsTokenManager))}_clone(a){let b=new vp({...this,auth:a,stsTokenManager:this.stsTokenManager._clone()});return b.metadata._copy(this.metadata),b}_onReload(a){uK(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=a,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(a){this.reloadListener?this.reloadListener(a):this.reloadUserInfo=a}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(a,b=!1){let c=!1;a.idToken&&a.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(a),c=!0),b&&await vh(this),await this.auth._persistUserIfCurrent(this),c&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(aZ(this.auth.app))return Promise.reject(uI(this.auth));let a=await this.getIdToken();return await vd(this,u6(this.auth,{idToken:a})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(a=>({...a})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(a,b){let c=b.displayName??void 0,d=b.email??void 0,e=b.phoneNumber??void 0,f=b.photoURL??void 0,g=b.tenantId??void 0,h=b._redirectEventId??void 0,i=b.createdAt??void 0,j=b.lastLoginAt??void 0,{uid:k,emailVerified:l,isAnonymous:m,providerData:n,stsTokenManager:o}=b;uK(k&&o,a,"internal-error");let p=vn.fromJSON(this.name,o);uK("string"==typeof k,a,"internal-error"),vo(c,a.name),vo(d,a.name),uK("boolean"==typeof l,a,"internal-error"),uK("boolean"==typeof m,a,"internal-error"),vo(e,a.name),vo(f,a.name),vo(g,a.name),vo(h,a.name),vo(i,a.name),vo(j,a.name);let q=new vp({uid:k,auth:a,email:d,emailVerified:l,displayName:c,isAnonymous:m,photoURL:f,phoneNumber:e,tenantId:g,stsTokenManager:p,createdAt:i,lastLoginAt:j});return n&&Array.isArray(n)&&(q.providerData=n.map(a=>({...a}))),h&&(q._redirectEventId=h),q}static async _fromIdTokenResponse(a,b,c=!1){let d=new vn;d.updateFromServerResponse(b);let e=new vp({uid:b.localId,auth:a,stsTokenManager:d,isAnonymous:c});return await vh(e),e}static async _fromGetAccountInfoResponse(a,b,c){let d=b.users[0];uK(void 0!==d.localId,"internal-error");let e=void 0!==d.providerUserInfo?vk(d.providerUserInfo):[],f=!(d.email&&d.passwordHash)&&!e?.length,g=new vn;g.updateFromIdToken(c);let h=new vp({uid:d.localId,auth:a,stsTokenManager:g,isAnonymous:f});return Object.assign(h,{uid:d.localId,displayName:d.displayName||null,photoURL:d.photoUrl||null,email:d.email||null,emailVerified:d.emailVerified||!1,phoneNumber:d.phoneNumber||null,tenantId:d.tenantId||null,providerData:e,metadata:new vg(d.createdAt,d.lastLoginAt),isAnonymous:!(d.email&&d.passwordHash)&&!e?.length}),h}}let vq=new Map;function vr(a){uM(a instanceof Function,"Expected a class definition");let b=vq.get(a);return b?uM(b instanceof a,"Instance stored in cache mismatched with class"):(b=new a,vq.set(a,b)),b}class vs{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(a,b){this.storage[a]=b}async _get(a){let b=this.storage[a];return void 0===b?null:b}async _remove(a){delete this.storage[a]}_addListener(a,b){}_removeListener(a,b){}}vs.type="NONE";let vt=vs;function vu(a,b,c){return`firebase:${a}:${b}:${c}`}class vv{constructor(a,b,c){this.persistence=a,this.auth=b,this.userKey=c;const{config:d,name:e}=this.auth;this.fullUserKey=vu(this.userKey,d.apiKey,e),this.fullPersistenceKey=vu("persistence",d.apiKey,e),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(a){return this.persistence._set(this.fullUserKey,a.toJSON())}async getCurrentUser(){let a=await this.persistence._get(this.fullUserKey);if(!a)return null;if("string"==typeof a){let b=await u7(this.auth,{idToken:a}).catch(()=>void 0);return b?vp._fromGetAccountInfoResponse(this.auth,b,a):null}return vp._fromJSON(this.auth,a)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(a){if(this.persistence===a)return;let b=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=a,b)return this.setCurrentUser(b)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(a,b,c="authUser"){if(!b.length)return new vv(vr(vt),a,c);let d=(await Promise.all(b.map(async a=>{if(await a._isAvailable())return a}))).filter(a=>a),e=d[0]||vr(vt),f=vu(c,a.config.apiKey,a.name),g=null;for(let c of b)try{let b=await c._get(f);if(b){let d;if("string"==typeof b){let c=await u7(a,{idToken:b}).catch(()=>void 0);if(!c)break;d=await vp._fromGetAccountInfoResponse(a,c,b)}else d=vp._fromJSON(a,b);c!==e&&(g=d),e=c;break}}catch{}let h=d.filter(a=>a._shouldAllowMigration);return e._shouldAllowMigration&&h.length&&(e=h[0],g&&await e._set(f,g.toJSON()),await Promise.all(b.map(async a=>{if(a!==e)try{await a._remove(f)}catch{}}))),new vv(e,a,c)}}function vw(a){let b=a.toLowerCase();if(b.includes("opera/")||b.includes("opr/")||b.includes("opios/"))return"Opera";{if(vA(b))return"IEMobile";if(b.includes("msie")||b.includes("trident/"))return"IE";if(b.includes("edge/"))return"Edge";if(vx(b))return"Firefox";if(b.includes("silk/"))return"Silk";if(vC(b))return"Blackberry";if(vD(b))return"Webos";if(vy(b))return"Safari";if((b.includes("chrome/")||vz(b))&&!b.includes("edge/"))return"Chrome";if(vB(b))return"Android";let c=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,d=a.match(c);if(d?.length===2)return d[1]}return"Other"}function vx(a=z()){return/firefox\//i.test(a)}function vy(a=z()){let b=a.toLowerCase();return b.includes("safari/")&&!b.includes("chrome/")&&!b.includes("crios/")&&!b.includes("android")}function vz(a=z()){return/crios\//i.test(a)}function vA(a=z()){return/iemobile/i.test(a)}function vB(a=z()){return/android/i.test(a)}function vC(a=z()){return/blackberry/i.test(a)}function vD(a=z()){return/webos/i.test(a)}function vE(a,b=[]){let c;switch(a){case"Browser":c=vw(z());break;case"Worker":c=`${vw(z())}-${a}`;break;default:c=a}let d=b.length?b.join(","):"FirebaseCore-web";return`${c}/JsCore/${a3}/${d}`}class vF{constructor(a){this.auth=a,this.queue=[]}pushCallback(a,b){let c=b=>new Promise((c,d)=>{try{let d=a(b);c(d)}catch(a){d(a)}});c.onAbort=b,this.queue.push(c);let d=this.queue.length-1;return()=>{this.queue[d]=()=>Promise.resolve()}}async runMiddleware(a){if(this.auth.currentUser===a)return;let b=[];try{for(let c of this.queue)await c(a),c.onAbort&&b.push(c.onAbort)}catch(a){for(let a of(b.reverse(),b))try{a()}catch(a){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function vG(a,b={}){return uY(a,"GET","/v2/passwordPolicy",uX(a,b))}let vH=6;class vI{constructor(a){const b=a.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=b.minPasswordLength??vH,b.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=b.maxPasswordLength),void 0!==b.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=b.containsLowercaseCharacter),void 0!==b.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=b.containsUppercaseCharacter),void 0!==b.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=b.containsNumericCharacter),void 0!==b.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=b.containsNonAlphanumericCharacter),this.enforcementState=a.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=a.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=a.forceUpgradeOnSignin??!1,this.schemaVersion=a.schemaVersion}validatePassword(a){let b={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(a,b),this.validatePasswordCharacterOptions(a,b),b.isValid&&(b.isValid=b.meetsMinPasswordLength??!0),b.isValid&&(b.isValid=b.meetsMaxPasswordLength??!0),b.isValid&&(b.isValid=b.containsLowercaseLetter??!0),b.isValid&&(b.isValid=b.containsUppercaseLetter??!0),b.isValid&&(b.isValid=b.containsNumericCharacter??!0),b.isValid&&(b.isValid=b.containsNonAlphanumericCharacter??!0),b}validatePasswordLengthOptions(a,b){let c=this.customStrengthOptions.minPasswordLength,d=this.customStrengthOptions.maxPasswordLength;c&&(b.meetsMinPasswordLength=a.length>=c),d&&(b.meetsMaxPasswordLength=a.length<=d)}validatePasswordCharacterOptions(a,b){let c;this.updatePasswordCharacterOptionsStatuses(b,!1,!1,!1,!1);for(let d=0;d<a.length;d++)c=a.charAt(d),this.updatePasswordCharacterOptionsStatuses(b,c>="a"&&c<="z",c>="A"&&c<="Z",c>="0"&&c<="9",this.allowedNonAlphanumericCharacters.includes(c))}updatePasswordCharacterOptionsStatuses(a,b,c,d,e){this.customStrengthOptions.containsLowercaseLetter&&(a.containsLowercaseLetter||(a.containsLowercaseLetter=b)),this.customStrengthOptions.containsUppercaseLetter&&(a.containsUppercaseLetter||(a.containsUppercaseLetter=c)),this.customStrengthOptions.containsNumericCharacter&&(a.containsNumericCharacter||(a.containsNumericCharacter=d)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(a.containsNonAlphanumericCharacter||(a.containsNonAlphanumericCharacter=e))}}class vJ{constructor(a,b,c,d){this.app=a,this.heartbeatServiceProvider=b,this.appCheckServiceProvider=c,this.config=d,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vL(this),this.idTokenSubscription=new vL(this),this.beforeStateQueue=new vF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=a.name,this.clientVersion=d.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(a,b){return b&&(this._popupRedirectResolver=vr(b)),this._initializationPromise=this.queue(async()=>{if(!this._deleted){if(this.persistenceManager=await vv.create(this,a),this._resolvePersistenceManagerAvailable?.(),!this._deleted){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(b),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let a=await this.assertedPersistence.getCurrentUser();if(this.currentUser||a){if(this.currentUser&&a&&this.currentUser.uid===a.uid){this._currentUser._assign(a),await this.currentUser.getIdToken();return}await this._updateCurrentUser(a,!0)}}async initializeCurrentUserFromIdToken(a){try{let b=await u7(this,{idToken:a}),c=await vp._fromGetAccountInfoResponse(this,b,a);await this.directlySetCurrentUser(c)}catch(a){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",a),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(a){if(aZ(this.app)){let a=this.app.settings.authIdToken;return a?new Promise(b=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(b,b))}):this.directlySetCurrentUser(null)}let b=await this.assertedPersistence.getCurrentUser(),c=b,d=!1;if(a&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let b=this.redirectUser?._redirectEventId,e=c?._redirectEventId,f=await this.tryRedirectSignIn(a);(!b||b===e)&&f?.user&&(c=f.user,d=!0)}if(!c)return this.directlySetCurrentUser(null);if(!c._redirectEventId){if(d)try{await this.beforeStateQueue.runMiddleware(c)}catch(a){c=b,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return c?this.reloadAndSetCurrentUserOrClear(c):this.directlySetCurrentUser(null)}return(uK(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===c._redirectEventId)?this.directlySetCurrentUser(c):this.reloadAndSetCurrentUserOrClear(c)}async tryRedirectSignIn(a){let b=null;try{b=await this._popupRedirectResolver._completeRedirectFn(this,a,!0)}catch(a){await this._setRedirectUser(null)}return b}async reloadAndSetCurrentUserOrClear(a){try{await vh(a)}catch(a){if(a?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(a)}useDeviceLanguage(){this.languageCode=uQ()}async _delete(){this._deleted=!0}async updateCurrentUser(a){if(aZ(this.app))return Promise.reject(uI(this));let b=a?Z(a):null;return b&&uK(b.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(b&&b._clone(this))}async _updateCurrentUser(a,b=!1){if(!this._deleted)return a&&uK(this.tenantId===a.tenantId,this,"tenant-id-mismatch"),b||await this.beforeStateQueue.runMiddleware(a),this.queue(async()=>{await this.directlySetCurrentUser(a),this.notifyAuthListeners()})}async signOut(){return aZ(this.app)?Promise.reject(uI(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(a){return aZ(this.app)?Promise.reject(uI(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vr(a))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(a){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let b=this._getPasswordPolicyInternal();return b.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):b.validatePassword(a)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let a=new vI(await vG(this));null===this.tenantId?this._projectPasswordPolicy=a:this._tenantPasswordPolicies[this.tenantId]=a}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(a){this._errorFactory=new N("auth","Firebase",a())}onAuthStateChanged(a,b,c){return this.registerStateListener(this.authStateSubscription,a,b,c)}beforeAuthStateChanged(a,b){return this.beforeStateQueue.pushCallback(a,b)}onIdTokenChanged(a,b,c){return this.registerStateListener(this.idTokenSubscription,a,b,c)}authStateReady(){return new Promise((a,b)=>{if(this.currentUser)a();else{let c=this.onAuthStateChanged(()=>{c(),a()},b)}})}async revokeAccessToken(a){if(this.currentUser){let b={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:a,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(b.tenantId=this.tenantId),await vm(this,b)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(a,b){let c=await this.getOrInitRedirectPersistenceManager(b);return null===a?c.removeCurrentUser():c.setCurrentUser(a)}async getOrInitRedirectPersistenceManager(a){if(!this.redirectPersistenceManager){let b=a&&vr(a)||this._popupRedirectResolver;uK(b,this,"argument-error"),this.redirectPersistenceManager=await vv.create(this,[vr(b._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(a){return(this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===a)?this._currentUser:this.redirectUser?._redirectEventId===a?this.redirectUser:null}async _persistUserIfCurrent(a){if(a===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(a))}_notifyListenersIfCurrent(a){a===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let a=this.currentUser?.uid??null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(a,b,c,d){if(this._deleted)return()=>{};let e="function"==typeof b?b:b.next.bind(b),f=!1,g=this._isInitialized?Promise.resolve():this._initializationPromise;if(uK(g,this,"internal-error"),g.then(()=>{f||e(this.currentUser)}),"function"==typeof b){let e=a.addObserver(b,c,d);return()=>{f=!0,e()}}{let c=a.addObserver(b);return()=>{f=!0,c()}}}async directlySetCurrentUser(a){this.currentUser&&this.currentUser!==a&&this._currentUser._stopProactiveRefresh(),a&&this.isProactiveRefreshEnabled&&a._startProactiveRefresh(),this.currentUser=a,a?await this.assertedPersistence.setCurrentUser(a):await this.assertedPersistence.removeCurrentUser()}queue(a){return this.operations=this.operations.then(a,a),this.operations}get assertedPersistence(){return uK(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(a){!a||this.frameworks.includes(a)||(this.frameworks.push(a),this.frameworks.sort(),this.clientVersion=vE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let a={"X-Client-Version":this.clientVersion};this.app.options.appId&&(a["X-Firebase-gmpid"]=this.app.options.appId);let b=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();b&&(a["X-Firebase-Client"]=b);let c=await this._getAppCheckToken();return c&&(a["X-Firebase-AppCheck"]=c),a}async _getAppCheckToken(){if(aZ(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let a=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return a?.error&&uD(`Error while retrieving App Check token: ${a.error}`),a?.token}}function vK(a){return Z(a)}class vL{constructor(a){this.auth=a,this.observer=null,this.addObserver=V(a=>this.observer=a)}get next(){return uK(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class vM{constructor(){this.enterprise=new vN}ready(a){a()}execute(a,b){return Promise.resolve("token")}render(a,b){return""}}class vN{ready(a){a()}execute(a,b){return Promise.resolve("token")}render(a,b){return""}}let vO="recaptcha-enterprise",vP="NO_RECAPTCHA";class vQ{constructor(a){this.type=vO,this.auth=vK(a)}async verify(a="verify",b=!1){async function c(a){if(!b){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(b,c)=>{u5(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0===d.recaptchaKey)c(Error("recaptcha Enterprise site key undefined"));else{let c=new u4(d);return null==a.tenantId?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,b(c.siteKey)}}).catch(a=>{c(a)})})}function d(b,c,d){let e=window.grecaptcha;u3(e)?e.enterprise.ready(()=>{e.enterprise.execute(b,{action:a}).then(a=>{c(a)}).catch(()=>{c(vP)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new vM().execute("siteKey",{action:"verify"}):new Promise((a,e)=>{c(this.auth).then(c=>{!b&&u3(window.grecaptcha)?d(c,a,e):e(Error("RecaptchaVerifier is only supported in browser"))}).catch(a=>{e(a)})})}}async function vR(a,b,c,d=!1,e=!1){let f,g=new vQ(a);if(e)f=vP;else try{f=await g.verify(c)}catch(a){f=await g.verify(c,!0)}let h={...b};if("mfaSmsEnrollment"===c||"mfaSmsSignIn"===c){if("phoneEnrollmentInfo"in h){let a=h.phoneEnrollmentInfo.phoneNumber,b=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:b,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){let a=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:a,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return d?Object.assign(h,{captchaResp:f}):Object.assign(h,{captchaResponse:f}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function vS(a,b,c,d,e){if("EMAIL_PASSWORD_PROVIDER"===e)if(!a._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return d(a,b).catch(async e=>{if("auth/missing-recaptcha-token"!==e.code)return Promise.reject(e);{console.log(`${c} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let e=await vR(a,b,c,"getOobCode"===c);return d(a,e)}});else{let e=await vR(a,b,c,"getOobCode"===c);return d(a,e)}if("PHONE_PROVIDER"!==e)return Promise.reject(e+" provider is not supported.");if(a._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let e=await vR(a,b,c);return d(a,e).catch(async e=>{if(a._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&("auth/missing-recaptcha-token"===e.code||"auth/invalid-app-credential"===e.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${c} flow.`);let e=await vR(a,b,c,!1,!0);return d(a,e)}return Promise.reject(e)})}{let e=await vR(a,b,c,!1,!0);return d(a,e)}}function vT(a,b){let c=b?.persistence||[],d=(Array.isArray(c)?c:[c]).map(vr);b?.errorMap&&a._updateErrorMap(b.errorMap),a._initializeWithPersistence(d,b?.popupRedirectResolver)}class vU{constructor(a,b){this.providerId=a,this.signInMethod=b}toJSON(){return uL("not implemented")}_getIdTokenResponse(a){return uL("not implemented")}_linkToIdToken(a,b){return uL("not implemented")}_getReauthenticationResolver(a){return uL("not implemented")}}async function vV(a,b){return uY(a,"POST","/v1/accounts:signUp",b)}async function vW(a,b){return u$(a,"POST","/v1/accounts:signInWithPassword",uX(a,b))}async function vX(a,b){return u$(a,"POST","/v1/accounts:signInWithEmailLink",uX(a,b))}async function vY(a,b){return u$(a,"POST","/v1/accounts:signInWithEmailLink",uX(a,b))}class vZ extends vU{constructor(a,b,c,d=null){super("password",c),this._email=a,this._password=b,this._tenantId=d}static _fromEmailAndPassword(a,b){return new vZ(a,b,"password")}static _fromEmailAndCode(a,b,c=null){return new vZ(a,b,"emailLink",c)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(a){let b="string"==typeof a?JSON.parse(a):a;if(b?.email&&b?.password){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);else if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}async _getIdTokenResponse(a){switch(this.signInMethod){case"password":return vS(a,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",vW,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return vX(a,{email:this._email,oobCode:this._password});default:uF(a,"internal-error")}}async _linkToIdToken(a,b){switch(this.signInMethod){case"password":return vS(a,{idToken:b,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vV,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return vY(a,{idToken:b,email:this._email,oobCode:this._password});default:uF(a,"internal-error")}}_getReauthenticationResolver(a){return this._getIdTokenResponse(a)}}async function v$(a,b){return u$(a,"POST","/v1/accounts:signInWithIdp",uX(a,b))}let v_="http://localhost";class v0 extends vU{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(a){let b=new v0(a.providerId,a.signInMethod);return a.idToken||a.accessToken?(a.idToken&&(b.idToken=a.idToken),a.accessToken&&(b.accessToken=a.accessToken),a.nonce&&!a.pendingToken&&(b.nonce=a.nonce),a.pendingToken&&(b.pendingToken=a.pendingToken)):a.oauthToken&&a.oauthTokenSecret?(b.accessToken=a.oauthToken,b.secret=a.oauthTokenSecret):uF("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(a){let{providerId:b,signInMethod:c,...d}="string"==typeof a?JSON.parse(a):a;if(!b||!c)return null;let e=new v0(b,c);return e.idToken=d.idToken||void 0,e.accessToken=d.accessToken||void 0,e.secret=d.secret,e.nonce=d.nonce,e.pendingToken=d.pendingToken||null,e}_getIdTokenResponse(a){return v$(a,this.buildRequest())}_linkToIdToken(a,b){let c=this.buildRequest();return c.idToken=b,v$(a,c)}_getReauthenticationResolver(a){let b=this.buildRequest();return b.autoCreate=!1,v$(a,b)}buildRequest(){let a={requestUri:v_,returnSecureToken:!0};if(this.pendingToken)a.pendingToken=this.pendingToken;else{let b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),a.postBody=S(b)}return a}}function v1(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function v2(a){let b=T(U(a)).link,c=b?T(U(b)).deep_link_id:null,d=T(U(a)).deep_link_id;return(d?T(U(d)).link:null)||d||c||b||a}class v3{constructor(a){const b=T(U(a)),c=b.apiKey??null,d=b.oobCode??null,e=v1(b.mode??null);uK(c&&d&&e,"argument-error"),this.apiKey=c,this.operation=e,this.code=d,this.continueUrl=b.continueUrl??null,this.languageCode=b.lang??null,this.tenantId=b.tenantId??null}static parseLink(a){let b=v2(a);try{return new v3(b)}catch{return null}}}class v4{constructor(){this.providerId=v4.PROVIDER_ID}static credential(a,b){return vZ._fromEmailAndPassword(a,b)}static credentialWithLink(a,b){let c=v3.parseLink(b);return uK(c,"argument-error"),vZ._fromEmailAndCode(a,c.code,c.tenantId)}}v4.PROVIDER_ID="password",v4.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v4.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class v5{constructor(a){this.providerId=a,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(a){this.defaultLanguageCode=a}setCustomParameters(a){return this.customParameters=a,this}getCustomParameters(){return this.customParameters}}class v6 extends v5{constructor(){super(...arguments),this.scopes=[]}addScope(a){return this.scopes.includes(a)||this.scopes.push(a),this}getScopes(){return[...this.scopes]}}class v7 extends v6{constructor(){super("facebook.com")}static credential(a){return v0._fromParams({providerId:v7.PROVIDER_ID,signInMethod:v7.FACEBOOK_SIGN_IN_METHOD,accessToken:a})}static credentialFromResult(a){return v7.credentialFromTaggedObject(a)}static credentialFromError(a){return v7.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a||!("oauthAccessToken"in a)||!a.oauthAccessToken)return null;try{return v7.credential(a.oauthAccessToken)}catch{return null}}}v7.FACEBOOK_SIGN_IN_METHOD="facebook.com",v7.PROVIDER_ID="facebook.com";class v8 extends v6{constructor(){super("google.com"),this.addScope("profile")}static credential(a,b){return v0._fromParams({providerId:v8.PROVIDER_ID,signInMethod:v8.GOOGLE_SIGN_IN_METHOD,idToken:a,accessToken:b})}static credentialFromResult(a){return v8.credentialFromTaggedObject(a)}static credentialFromError(a){return v8.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;let{oauthIdToken:b,oauthAccessToken:c}=a;if(!b&&!c)return null;try{return v8.credential(b,c)}catch{return null}}}v8.GOOGLE_SIGN_IN_METHOD="google.com",v8.PROVIDER_ID="google.com";class v9 extends v6{constructor(){super("github.com")}static credential(a){return v0._fromParams({providerId:v9.PROVIDER_ID,signInMethod:v9.GITHUB_SIGN_IN_METHOD,accessToken:a})}static credentialFromResult(a){return v9.credentialFromTaggedObject(a)}static credentialFromError(a){return v9.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a||!("oauthAccessToken"in a)||!a.oauthAccessToken)return null;try{return v9.credential(a.oauthAccessToken)}catch{return null}}}v9.GITHUB_SIGN_IN_METHOD="github.com",v9.PROVIDER_ID="github.com";class wa extends v6{constructor(){super("twitter.com")}static credential(a,b){return v0._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.TWITTER_SIGN_IN_METHOD,oauthToken:a,oauthTokenSecret:b})}static credentialFromResult(a){return wa.credentialFromTaggedObject(a)}static credentialFromError(a){return wa.credentialFromTaggedObject(a.customData||{})}static credentialFromTaggedObject({_tokenResponse:a}){if(!a)return null;let{oauthAccessToken:b,oauthTokenSecret:c}=a;if(!b||!c)return null;try{return wa.credential(b,c)}catch{return null}}}wa.TWITTER_SIGN_IN_METHOD="twitter.com",wa.PROVIDER_ID="twitter.com";class wb{constructor(a,b){this.factorId=a,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(a,b){return"phoneInfo"in b?wc._fromServerResponse(a,b):"totpInfo"in b?wd._fromServerResponse(a,b):uF(a,"internal-error")}}class wc extends wb{constructor(a){super("phone",a),this.phoneNumber=a.phoneInfo}static _fromServerResponse(a,b){return new wc(b)}}class wd extends wb{constructor(a){super("totp",a)}static _fromServerResponse(a,b){return new wd(b)}}function we(a,b){return uY(a,"POST","/v2/accounts/mfaEnrollment:start",uX(a,b))}function wf(a,b){return uY(a,"POST","/v2/accounts/mfaEnrollment:finalize",uX(a,b))}new WeakMap;var wg="@firebase/auth",wh="1.12.0";class wi{constructor(a){this.auth=a,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(a){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(a)}:null}addAuthTokenListener(a){if(this.assertAuthConfigured(),this.internalListeners.has(a))return;let b=this.auth.onIdTokenChanged(b=>{a(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(a,b),this.updateProactiveRefresh()}removeAuthTokenListener(a){this.assertAuthConfigured();let b=this.internalListeners.get(a);b&&(this.internalListeners.delete(a),b(),this.updateProactiveRefresh())}assertAuthConfigured(){uK(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function wj(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wk(a){aU(new $("auth",(b,{options:c})=>{let d=b.getProvider("app").getImmediate(),e=b.getProvider("heartbeat"),f=b.getProvider("app-check-internal"),{apiKey:g,authDomain:h}=d.options;uK(g&&!g.includes(":"),"invalid-api-key",{appName:d.name});let i=new vJ(d,e,f,{apiKey:g,authDomain:h,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vE(a)});return vT(i,c),i},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((a,b,c)=>{a.getProvider("auth-internal").initialize()})),aU(new $("auth-internal",a=>new wi(vK(a.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),a9(wg,wh,wj(a)),a9(wg,wh,"esm2020")}function wl(a,b){return uY(a,"POST","/v2/accounts/mfaSignIn:finalize",uX(a,b))}uT.initialize(fetch,Headers,Response),wk("Node"),uG("operation-not-supported-in-this-environment"),vJ.prototype.setPersistence=async()=>{};class wm{constructor(a){this.factorId=a}_process(a,b,c){switch(b.type){case"enroll":return this._finalizeEnroll(a,b.credential,c);case"signin":return this._finalizeSignIn(a,b.credential);default:return uL("unexpected MultiFactorSessionType")}}}class wn{static assertionForEnrollment(a,b){return wo._fromSecret(a,b)}static assertionForSignIn(a,b){return wo._fromEnrollmentId(a,b)}static async generateSecret(a){let b=a;uK(void 0!==b.user?.auth,"internal-error");let c=await we(b.user.auth,{idToken:b.credential,totpEnrollmentInfo:{}});return wp._fromStartTotpMfaEnrollmentResponse(c,b.user.auth)}}wn.FACTOR_ID="totp";class wo extends wm{constructor(a,b,c){super("totp"),this.otp=a,this.enrollmentId=b,this.secret=c}static _fromSecret(a,b){return new wo(b,void 0,a)}static _fromEnrollmentId(a,b){return new wo(b,a)}async _finalizeEnroll(a,b,c){return uK(void 0!==this.secret,a,"argument-error"),wf(a,{idToken:b,displayName:c,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(a,b){uK(void 0!==this.enrollmentId&&void 0!==this.otp,a,"argument-error");let c={verificationCode:this.otp};return wl(a,{mfaPendingCredential:b,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:c})}}class wp{constructor(a,b,c,d,e,f,g){this.sessionInfo=f,this.auth=g,this.secretKey=a,this.hashingAlgorithm=b,this.codeLength=c,this.codeIntervalSeconds=d,this.enrollmentCompletionDeadline=e}static _fromStartTotpMfaEnrollmentResponse(a,b){return new wp(a.totpSessionInfo.sharedSecretKey,a.totpSessionInfo.hashingAlgorithm,a.totpSessionInfo.verificationCodeLength,a.totpSessionInfo.periodSec,new Date(a.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),a.totpSessionInfo.sessionInfo,b)}_makeTotpVerificationInfo(a){return{sessionInfo:this.sessionInfo,verificationCode:a}}generateQrCodeUrl(a,b){let c=!1;return(wq(a)||wq(b))&&(c=!0),c&&(wq(a)&&(a=this.auth.currentUser?.email||"unknownuser"),wq(b)&&(b=this.auth.name)),`otpauth://totp/${b}:${a}?secret=${this.secretKey}&issuer=${b}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function wq(a){return void 0===a||a?.length===0}a.s([],31253),a.i(31253);let wr=Object.freeze({status:"aborted"});function ws(a,b,c){function d(c,d){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:d,constr:g,traits:new Set},enumerable:!1}),c._zod.traits.has(a))return;c._zod.traits.add(a),b(c,d);let e=g.prototype,f=Object.keys(e);for(let a=0;a<f.length;a++){let b=f[a];b in c||(c[b]=e[b].bind(c))}}let e=c?.Parent??Object;class f extends e{}function g(a){var b;let e=c?.Parent?new f:this;for(let c of(d(e,a),(b=e._zod).deferred??(b.deferred=[]),e._zod.deferred))c();return e}return Object.defineProperty(f,"name",{value:a}),Object.defineProperty(g,"init",{value:d}),Object.defineProperty(g,Symbol.hasInstance,{value:b=>!!c?.Parent&&b instanceof c.Parent||b?._zod?.traits?.has(a)}),Object.defineProperty(g,"name",{value:a}),g}let wt=Symbol("zod_brand");class wu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class wv extends Error{constructor(a){super(`Encountered unidirectional transform during encode: ${a}`),this.name="ZodEncodeError"}}let ww={};function wx(a){return a&&Object.assign(ww,a),ww}function wy(a){return a}function wz(a){return a}function wA(a){}function wB(a){throw Error("Unexpected value in exhaustive check")}function wC(a){}function wD(a){let b=Object.values(a).filter(a=>"number"==typeof a);return Object.entries(a).filter(([a,c])=>-1===b.indexOf(+a)).map(([a,b])=>b)}function wE(a,b="|"){return a.map(a=>w6(a)).join(b)}function wF(a,b){return"bigint"==typeof b?b.toString():b}function wG(a){return{get value(){{let b=a();return Object.defineProperty(this,"value",{value:b}),b}}}}function wH(a){return null==a}function wI(a){let b=+!!a.startsWith("^"),c=a.endsWith("$")?a.length-1:a.length;return a.slice(b,c)}function wJ(a,b){let c=(a.toString().split(".")[1]||"").length,d=b.toString(),e=(d.split(".")[1]||"").length;if(0===e&&/\d?e-\d?/.test(d)){let a=d.match(/\d?e-(\d?)/);a?.[1]&&(e=Number.parseInt(a[1]))}let f=c>e?c:e;return Number.parseInt(a.toFixed(f).replace(".",""))%Number.parseInt(b.toFixed(f).replace(".",""))/10**f}a.s(["$ZodAsyncError",()=>wu,"$ZodEncodeError",()=>wv,"$brand",0,wt,"$constructor",()=>ws,"NEVER",0,wr,"config",()=>wx,"globalConfig",0,ww],85679);let wK=Symbol("evaluating");function wL(a,b,c){let d;Object.defineProperty(a,b,{get(){if(d!==wK)return void 0===d&&(d=wK,d=c()),d},set(c){Object.defineProperty(a,b,{value:c})},configurable:!0})}function wM(a){return Object.create(Object.getPrototypeOf(a),Object.getOwnPropertyDescriptors(a))}function wN(a,b,c){Object.defineProperty(a,b,{value:c,writable:!0,enumerable:!0,configurable:!0})}function wO(...a){let b={};for(let c of a)Object.assign(b,Object.getOwnPropertyDescriptors(c));return Object.defineProperties({},b)}function wP(a){return wO(a._zod.def)}function wQ(a,b){return b?b.reduce((a,b)=>a?.[b],a):a}function wR(a){let b=Object.keys(a);return Promise.all(b.map(b=>a[b])).then(a=>{let c={};for(let d=0;d<b.length;d++)c[b[d]]=a[d];return c})}function wS(a=10){let b="abcdefghijklmnopqrstuvwxyz",c="";for(let d=0;d<a;d++)c+=b[Math.floor(Math.random()*b.length)];return c}function wT(a){return JSON.stringify(a)}function wU(a){return a.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}let wV="captureStackTrace"in Error?Error.captureStackTrace:(...a)=>{};function wW(a){return"object"==typeof a&&null!==a&&!Array.isArray(a)}let wX=wG(()=>{if("u">typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(a){return!1}});function wY(a){if(!1===wW(a))return!1;let b=a.constructor;if(void 0===b||"function"!=typeof b)return!0;let c=b.prototype;return!1!==wW(c)&&!1!==Object.prototype.hasOwnProperty.call(c,"isPrototypeOf")}function wZ(a){return wY(a)?{...a}:Array.isArray(a)?[...a]:a}function w$(a){let b=0;for(let c in a)Object.prototype.hasOwnProperty.call(a,c)&&b++;return b}let w_=a=>{let b=typeof a;switch(b){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(a)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(a))return"array";if(null===a)return"null";if(a.then&&"function"==typeof a.then&&a.catch&&"function"==typeof a.catch)return"promise";if("u">typeof Map&&a instanceof Map)return"map";if("u">typeof Set&&a instanceof Set)return"set";if("u">typeof Date&&a instanceof Date)return"date";if("u">typeof File&&a instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${b}`)}},w0=new Set(["string","number","symbol"]),w1=new Set(["string","number","bigint","boolean","symbol","undefined"]);function w2(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w3(a,b,c){let d=new a._zod.constr(b??a._zod.def);return(!b||c?.parent)&&(d._zod.parent=a),d}function w4(a){let b=a;if(!b)return{};if("string"==typeof b)return{error:()=>b};if(b?.message!==void 0){if(b?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");b.error=b.message}return(delete b.message,"string"==typeof b.error)?{...b,error:()=>b.error}:b}function w5(a){let b;return new Proxy({},{get:(c,d,e)=>(b??(b=a()),Reflect.get(b,d,e)),set:(c,d,e,f)=>(b??(b=a()),Reflect.set(b,d,e,f)),has:(c,d)=>(b??(b=a()),Reflect.has(b,d)),deleteProperty:(c,d)=>(b??(b=a()),Reflect.deleteProperty(b,d)),ownKeys:c=>(b??(b=a()),Reflect.ownKeys(b)),getOwnPropertyDescriptor:(c,d)=>(b??(b=a()),Reflect.getOwnPropertyDescriptor(b,d)),defineProperty:(c,d,e)=>(b??(b=a()),Reflect.defineProperty(b,d,e))})}function w6(a){return"bigint"==typeof a?a.toString()+"n":"string"==typeof a?`"${a}"`:`${a}`}function w7(a){return Object.keys(a).filter(b=>"optional"===a[b]._zod.optin&&"optional"===a[b]._zod.optout)}let w8={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},w9={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function xa(a,b){let c=a._zod.def,d=c.checks;if(d&&d.length>0)throw Error(".pick() cannot be used on object schemas containing refinements");let e=wO(a._zod.def,{get shape(){let a={};for(let d in b){if(!(d in c.shape))throw Error(`Unrecognized key: "${d}"`);b[d]&&(a[d]=c.shape[d])}return wN(this,"shape",a),a},checks:[]});return w3(a,e)}function xb(a,b){let c=a._zod.def,d=c.checks;if(d&&d.length>0)throw Error(".omit() cannot be used on object schemas containing refinements");let e=wO(a._zod.def,{get shape(){let d={...a._zod.def.shape};for(let a in b){if(!(a in c.shape))throw Error(`Unrecognized key: "${a}"`);b[a]&&delete d[a]}return wN(this,"shape",d),d},checks:[]});return w3(a,e)}function xc(a,b){if(!wY(b))throw Error("Invalid input to extend: expected a plain object");let c=a._zod.def.checks;if(c&&c.length>0){let c=a._zod.def.shape;for(let a in b)if(void 0!==Object.getOwnPropertyDescriptor(c,a))throw Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let d=wO(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b};return wN(this,"shape",c),c}});return w3(a,d)}function xd(a,b){if(!wY(b))throw Error("Invalid input to safeExtend: expected a plain object");let c=wO(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b};return wN(this,"shape",c),c}});return w3(a,c)}function xe(a,b){let c=wO(a._zod.def,{get shape(){let c={...a._zod.def.shape,...b._zod.def.shape};return wN(this,"shape",c),c},get catchall(){return b._zod.def.catchall},checks:[]});return w3(a,c)}function xf(a,b,c){let d=b._zod.def.checks;if(d&&d.length>0)throw Error(".partial() cannot be used on object schemas containing refinements");let e=wO(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in d))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=a?new a({type:"optional",innerType:d[b]}):d[b])}else for(let b in d)e[b]=a?new a({type:"optional",innerType:d[b]}):d[b];return wN(this,"shape",e),e},checks:[]});return w3(b,e)}function xg(a,b,c){let d=wO(b._zod.def,{get shape(){let d=b._zod.def.shape,e={...d};if(c)for(let b in c){if(!(b in e))throw Error(`Unrecognized key: "${b}"`);c[b]&&(e[b]=new a({type:"nonoptional",innerType:d[b]}))}else for(let b in d)e[b]=new a({type:"nonoptional",innerType:d[b]});return wN(this,"shape",e),e}});return w3(b,d)}function xh(a,b=0){if(!0===a.aborted)return!0;for(let c=b;c<a.issues.length;c++)if(a.issues[c]?.continue!==!0)return!0;return!1}function xi(a,b){return b.map(b=>{var c;return(c=b).path??(c.path=[]),b.path.unshift(a),b})}function xj(a){return"string"==typeof a?a:a?.message}function xk(a,b,c){let d={...a,path:a.path??[]};return a.message||(d.message=xj(a.inst?._zod.def?.error?.(a))??xj(b?.error?.(a))??xj(c.customError?.(a))??xj(c.localeError?.(a))??"Invalid input"),delete d.inst,delete d.continue,b?.reportInput||delete d.input,d}function xl(a){return a instanceof Set?"set":a instanceof Map?"map":a instanceof File?"file":"unknown"}function xm(a){return Array.isArray(a)?"array":"string"==typeof a?"string":"unknown"}function xn(a){let b=typeof a;switch(b){case"number":return Number.isNaN(a)?"nan":"number";case"object":{if(null===a)return"null";if(Array.isArray(a))return"array";let b=a;if(b&&Object.getPrototypeOf(b)!==Object.prototype&&"constructor"in b&&b.constructor)return b.constructor.name}}return b}function xo(...a){let[b,c,d]=a;return"string"==typeof b?{message:b,code:"custom",input:c,inst:d}:{...b}}function xp(a){return Object.entries(a).filter(([a,b])=>Number.isNaN(Number.parseInt(a,10))).map(a=>a[1])}function xq(a){let b=atob(a),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}function xr(a){let b="";for(let c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return btoa(b)}function xs(a){let b=a.replace(/-/g,"+").replace(/_/g,"/"),c="=".repeat((4-b.length%4)%4);return xq(b+c)}function xt(a){return xr(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function xu(a){let b=a.replace(/^0x/,"");if(b.length%2!=0)throw Error("Invalid hex string length");let c=new Uint8Array(b.length/2);for(let a=0;a<b.length;a+=2)c[a/2]=Number.parseInt(b.slice(a,a+2),16);return c}function xv(a){return Array.from(a).map(a=>a.toString(16).padStart(2,"0")).join("")}class xw{constructor(...a){}}a.s(["BIGINT_FORMAT_RANGES",0,w9,"Class",()=>xw,"NUMBER_FORMAT_RANGES",0,w8,"aborted",()=>xh,"allowsEval",0,wX,"assert",()=>wC,"assertEqual",()=>wy,"assertIs",()=>wA,"assertNever",()=>wB,"assertNotEqual",()=>wz,"assignProp",()=>wN,"base64ToUint8Array",()=>xq,"base64urlToUint8Array",()=>xs,"cached",()=>wG,"captureStackTrace",0,wV,"cleanEnum",()=>xp,"cleanRegex",()=>wI,"clone",()=>w3,"cloneDef",()=>wP,"createTransparentProxy",()=>w5,"defineLazy",()=>wL,"esc",()=>wT,"escapeRegex",()=>w2,"extend",()=>xc,"finalizeIssue",()=>xk,"floatSafeRemainder",()=>wJ,"getElementAtPath",()=>wQ,"getEnumValues",()=>wD,"getLengthableOrigin",()=>xm,"getParsedType",0,w_,"getSizableOrigin",()=>xl,"hexToUint8Array",()=>xu,"isObject",()=>wW,"isPlainObject",()=>wY,"issue",()=>xo,"joinValues",()=>wE,"jsonStringifyReplacer",()=>wF,"merge",()=>xe,"mergeDefs",()=>wO,"normalizeParams",()=>w4,"nullish",()=>wH,"numKeys",()=>w$,"objectClone",()=>wM,"omit",()=>xb,"optionalKeys",()=>w7,"parsedType",()=>xn,"partial",()=>xf,"pick",()=>xa,"prefixIssues",()=>xi,"primitiveTypes",0,w1,"promiseAllObject",()=>wR,"propertyKeyTypes",0,w0,"randomString",()=>wS,"required",()=>xg,"safeExtend",()=>xd,"shallowClone",()=>wZ,"slugify",()=>wU,"stringifyPrimitive",()=>w6,"uint8ArrayToBase64",()=>xr,"uint8ArrayToBase64url",()=>xt,"uint8ArrayToHex",()=>xv,"unwrapMessage",()=>xj],49660);let xx=(a,b)=>{a.name="$ZodError",Object.defineProperty(a,"_zod",{value:a._zod,enumerable:!1}),Object.defineProperty(a,"issues",{value:b,enumerable:!1}),a.message=JSON.stringify(b,wF,2),Object.defineProperty(a,"toString",{value:()=>a.message,enumerable:!1})},xy=ws("$ZodError",xx),xz=ws("$ZodError",xx,{Parent:Error});function xA(a,b=a=>a.message){let c={},d=[];for(let e of a.issues)e.path.length>0?(c[e.path[0]]=c[e.path[0]]||[],c[e.path[0]].push(b(e))):d.push(b(e));return{formErrors:d,fieldErrors:c}}function xB(a,b=a=>a.message){let c={_errors:[]},d=a=>{for(let e of a.issues)if("invalid_union"===e.code&&e.errors.length)e.errors.map(a=>d({issues:a}));else if("invalid_key"===e.code)d({issues:e.issues});else if("invalid_element"===e.code)d({issues:e.issues});else if(0===e.path.length)c._errors.push(b(e));else{let a=c,d=0;for(;d<e.path.length;){let c=e.path[d];d===e.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(b(e))):a[c]=a[c]||{_errors:[]},a=a[c],d++}}};return d(a),c}function xC(a,b=a=>a.message){let c={errors:[]},d=(a,e=[])=>{var f,g;for(let h of a.issues)if("invalid_union"===h.code&&h.errors.length)h.errors.map(a=>d({issues:a},h.path));else if("invalid_key"===h.code)d({issues:h.issues},h.path);else if("invalid_element"===h.code)d({issues:h.issues},h.path);else{let a=[...e,...h.path];if(0===a.length){c.errors.push(b(h));continue}let d=c,i=0;for(;i<a.length;){let c=a[i],e=i===a.length-1;"string"==typeof c?(d.properties??(d.properties={}),(f=d.properties)[c]??(f[c]={errors:[]}),d=d.properties[c]):(d.items??(d.items=[]),(g=d.items)[c]??(g[c]={errors:[]}),d=d.items[c]),e&&d.errors.push(b(h)),i++}}};return d(a),c}function xD(a){let b=[];for(let c of a.map(a=>"object"==typeof a?a.key:a))"number"==typeof c?b.push(`[${c}]`):"symbol"==typeof c?b.push(`[${JSON.stringify(String(c))}]`):/[^\w$]/.test(c)?b.push(`[${JSON.stringify(c)}]`):(b.length&&b.push("."),b.push(c));return b.join("")}function xE(a){let b=[];for(let c of[...a.issues].sort((a,b)=>(a.path??[]).length-(b.path??[]).length))b.push(`âœ– ${c.message}`),c.path?.length&&b.push(`  â†’ at ${xD(c.path)}`);return b.join("\n")}a.s(["$ZodError",0,xy,"$ZodRealError",0,xz,"flattenError",()=>xA,"formatError",()=>xB,"prettifyError",()=>xE,"toDotPath",()=>xD,"treeifyError",()=>xC],13399);let xF=a=>(b,c,d,e)=>{let f=d?Object.assign(d,{async:!1}):{async:!1},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise)throw new wu;if(g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>xk(a,f,wx())));throw wV(b,e?.callee),b}return g.value},xG=xF(xz),xH=a=>async(b,c,d,e)=>{let f=d?Object.assign(d,{async:!0}):{async:!0},g=b._zod.run({value:c,issues:[]},f);if(g instanceof Promise&&(g=await g),g.issues.length){let b=new(e?.Err??a)(g.issues.map(a=>xk(a,f,wx())));throw wV(b,e?.callee),b}return g.value},xI=xH(xz),xJ=a=>(b,c,d)=>{let e=d?{...d,async:!1}:{async:!1},f=b._zod.run({value:c,issues:[]},e);if(f instanceof Promise)throw new wu;return f.issues.length?{success:!1,error:new(a??xy)(f.issues.map(a=>xk(a,e,wx())))}:{success:!0,data:f.value}},xK=xJ(xz),xL=a=>async(b,c,d)=>{let e=d?Object.assign(d,{async:!0}):{async:!0},f=b._zod.run({value:c,issues:[]},e);return f instanceof Promise&&(f=await f),f.issues.length?{success:!1,error:new a(f.issues.map(a=>xk(a,e,wx())))}:{success:!0,data:f.value}},xM=xL(xz),xN=a=>(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return xF(a)(b,c,e)},xO=xN(xz),xP=a=>(b,c,d)=>xF(a)(b,c,d),xQ=xP(xz),xR=a=>async(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return xH(a)(b,c,e)},xS=xR(xz),xT=a=>async(b,c,d)=>xH(a)(b,c,d),xU=xT(xz),xV=a=>(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return xJ(a)(b,c,e)},xW=xV(xz),xX=a=>(b,c,d)=>xJ(a)(b,c,d),xY=xX(xz),xZ=a=>async(b,c,d)=>{let e=d?Object.assign(d,{direction:"backward"}):{direction:"backward"};return xL(a)(b,c,e)},x$=xZ(xz),x_=a=>async(b,c,d)=>xL(a)(b,c,d),x0=x_(xz);a.s(["_decode",0,xP,"_decodeAsync",0,xT,"_encode",0,xN,"_encodeAsync",0,xR,"_parse",0,xF,"_parseAsync",0,xH,"_safeDecode",0,xX,"_safeDecodeAsync",0,x_,"_safeEncode",0,xV,"_safeEncodeAsync",0,xZ,"_safeParse",0,xJ,"_safeParseAsync",0,xL,"decode",0,xQ,"decodeAsync",0,xU,"encode",0,xO,"encodeAsync",0,xS,"parse",0,xG,"parseAsync",0,xI,"safeDecode",0,xY,"safeDecodeAsync",0,x0,"safeEncode",0,xW,"safeEncodeAsync",0,x$,"safeParse",0,xK,"safeParseAsync",0,xM],51152);let x1=/^[cC][^\s-]{8,}$/,x2=/^[0-9a-z]+$/,x3=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,x4=/^[0-9a-vA-V]{20}$/,x5=/^[A-Za-z0-9]{27}$/,x6=/^[a-zA-Z0-9_-]{21}$/,x7=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,x8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,x9=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ya=a=>a?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${a}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,yb=ya(4),yc=ya(6),yd=ya(7),ye=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,yf=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yg=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,yh=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,yi=yh,yj=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,yk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function yl(){return RegExp(yk,"u")}let ym=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,yn=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,yo=a=>{let b=w2(a??":");return RegExp(`^(?:[0-9A-F]{2}${b}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${b}){5}[0-9a-f]{2}$`)},yp=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,yq=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yr=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ys=/^[A-Za-z0-9_-]*$/,yt=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,yu=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,yv=/^\+[1-9]\d{6,14}$/,yw="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",yx=RegExp(`^${yw}$`);function yy(a){let b="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof a.precision?-1===a.precision?`${b}`:0===a.precision?`${b}:[0-5]\\d`:`${b}:[0-5]\\d\\.\\d{${a.precision}}`:`${b}(?::[0-5]\\d(?:\\.\\d+)?)?`}function yz(a){return RegExp(`^${yy(a)}$`)}function yA(a){let b=yy({precision:a.precision}),c=["Z"];a.local&&c.push(""),a.offset&&c.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let d=`${b}(?:${c.join("|")})`;return RegExp(`^${yw}T(?:${d})$`)}let yB=a=>{let b=a?`[\\s\\S]{${a?.minimum??0},${a?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${b}$`)},yC=/^-?\d+n?$/,yD=/^-?\d+$/,yE=/^-?\d+(?:\.\d+)?$/,yF=/^(?:true|false)$/i,yG=/^null$/i,yH=/^undefined$/i,yI=/^[^A-Z]*$/,yJ=/^[^a-z]*$/,yK=/^[0-9a-fA-F]*$/;function yL(a,b){return RegExp(`^[A-Za-z0-9+/]{${a}}${b}$`)}function yM(a){return RegExp(`^[A-Za-z0-9_-]{${a}}$`)}let yN=/^[0-9a-fA-F]{32}$/,yO=yL(22,"=="),yP=yM(22),yQ=/^[0-9a-fA-F]{40}$/,yR=yL(27,"="),yS=yM(27),yT=/^[0-9a-fA-F]{64}$/,yU=yL(43,"="),yV=yM(43),yW=/^[0-9a-fA-F]{96}$/,yX=yL(64,""),yY=yM(64),yZ=/^[0-9a-fA-F]{128}$/,y$=yL(86,"=="),y_=yM(86);a.s(["base64",0,yr,"base64url",0,ys,"bigint",0,yC,"boolean",0,yF,"browserEmail",0,yj,"cidrv4",0,yp,"cidrv6",0,yq,"cuid",0,x1,"cuid2",0,x2,"date",0,yx,"datetime",()=>yA,"domain",0,yu,"duration",0,x7,"e164",0,yv,"email",0,ye,"emoji",()=>yl,"extendedDuration",0,x8,"guid",0,x9,"hex",0,yK,"hostname",0,yt,"html5Email",0,yf,"idnEmail",0,yi,"integer",0,yD,"ipv4",0,ym,"ipv6",0,yn,"ksuid",0,x5,"lowercase",0,yI,"mac",0,yo,"md5_base64",0,yO,"md5_base64url",0,yP,"md5_hex",0,yN,"nanoid",0,x6,"null",()=>yG,"number",0,yE,"rfc5322Email",0,yg,"sha1_base64",0,yR,"sha1_base64url",0,yS,"sha1_hex",0,yQ,"sha256_base64",0,yU,"sha256_base64url",0,yV,"sha256_hex",0,yT,"sha384_base64",0,yX,"sha384_base64url",0,yY,"sha384_hex",0,yW,"sha512_base64",0,y$,"sha512_base64url",0,y_,"sha512_hex",0,yZ,"string",0,yB,"time",()=>yz,"ulid",0,x3,"undefined",()=>yH,"unicodeEmail",0,yh,"uppercase",0,yJ,"uuid",0,ya,"uuid4",0,yb,"uuid6",0,yc,"uuid7",0,yd,"xid",0,x4],20559);let y0=ws("$ZodCheck",(a,b)=>{var c;a._zod??(a._zod={}),a._zod.def=b,(c=a._zod).onattach??(c.onattach=[])}),y1={number:"number",bigint:"bigint",object:"date"},y2=ws("$ZodCheckLessThan",(a,b)=>{y0.init(a,b);let c=y1[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.maximum:c.exclusiveMaximum)??1/0;b.value<d&&(b.inclusive?c.maximum=b.value:c.exclusiveMaximum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value<=b.value:d.value<b.value)||d.issues.push({origin:c,code:"too_big",maximum:"object"==typeof b.value?b.value.getTime():b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),y3=ws("$ZodCheckGreaterThan",(a,b)=>{y0.init(a,b);let c=y1[typeof b.value];a._zod.onattach.push(a=>{let c=a._zod.bag,d=(b.inclusive?c.minimum:c.exclusiveMinimum)??-1/0;b.value>d&&(b.inclusive?c.minimum=b.value:c.exclusiveMinimum=b.value)}),a._zod.check=d=>{(b.inclusive?d.value>=b.value:d.value>b.value)||d.issues.push({origin:c,code:"too_small",minimum:"object"==typeof b.value?b.value.getTime():b.value,input:d.value,inclusive:b.inclusive,inst:a,continue:!b.abort})}}),y4=ws("$ZodCheckMultipleOf",(a,b)=>{y0.init(a,b),a._zod.onattach.push(a=>{var c;(c=a._zod.bag).multipleOf??(c.multipleOf=b.value)}),a._zod.check=c=>{if(typeof c.value!=typeof b.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof c.value?c.value%b.value===BigInt(0):0===wJ(c.value,b.value))||c.issues.push({origin:typeof c.value,code:"not_multiple_of",divisor:b.value,input:c.value,inst:a,continue:!b.abort})}}),y5=ws("$ZodCheckNumberFormat",(a,b)=>{y0.init(a,b),b.format=b.format||"float64";let c=b.format?.includes("int"),d=c?"int":"number",[e,f]=w8[b.format];a._zod.onattach.push(a=>{let d=a._zod.bag;d.format=b.format,d.minimum=e,d.maximum=f,c&&(d.pattern=yD)}),a._zod.check=g=>{let h=g.value;if(c){if(!Number.isInteger(h))return void g.issues.push({expected:d,format:b.format,code:"invalid_type",continue:!1,input:h,inst:a});if(!Number.isSafeInteger(h))return void(h>0?g.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,inclusive:!0,continue:!b.abort}):g.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:a,origin:d,inclusive:!0,continue:!b.abort}))}h<e&&g.issues.push({origin:"number",input:h,code:"too_small",minimum:e,inclusive:!0,inst:a,continue:!b.abort}),h>f&&g.issues.push({origin:"number",input:h,code:"too_big",maximum:f,inclusive:!0,inst:a,continue:!b.abort})}}),y6=ws("$ZodCheckBigIntFormat",(a,b)=>{y0.init(a,b);let[c,d]=w9[b.format];a._zod.onattach.push(a=>{let e=a._zod.bag;e.format=b.format,e.minimum=c,e.maximum=d}),a._zod.check=e=>{let f=e.value;f<c&&e.issues.push({origin:"bigint",input:f,code:"too_small",minimum:c,inclusive:!0,inst:a,continue:!b.abort}),f>d&&e.issues.push({origin:"bigint",input:f,code:"too_big",maximum:d,inclusive:!0,inst:a,continue:!b.abort})}}),y7=ws("$ZodCheckMaxSize",(a,b)=>{var c;y0.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!wH(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;d.size<=b.maximum||c.issues.push({origin:xl(d),code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),y8=ws("$ZodCheckMinSize",(a,b)=>{var c;y0.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!wH(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;d.size>=b.minimum||c.issues.push({origin:xl(d),code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),y9=ws("$ZodCheckSizeEquals",(a,b)=>{var c;y0.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!wH(b)&&void 0!==b.size}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.size,c.maximum=b.size,c.size=b.size}),a._zod.check=c=>{let d=c.value,e=d.size;if(e===b.size)return;let f=e>b.size;c.issues.push({origin:xl(d),...f?{code:"too_big",maximum:b.size}:{code:"too_small",minimum:b.size},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),za=ws("$ZodCheckMaxLength",(a,b)=>{var c;y0.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!wH(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.maximum??1/0;b.maximum<c&&(a._zod.bag.maximum=b.maximum)}),a._zod.check=c=>{let d=c.value;if(d.length<=b.maximum)return;let e=xm(d);c.issues.push({origin:e,code:"too_big",maximum:b.maximum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),zb=ws("$ZodCheckMinLength",(a,b)=>{var c;y0.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!wH(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag.minimum??-1/0;b.minimum>c&&(a._zod.bag.minimum=b.minimum)}),a._zod.check=c=>{let d=c.value;if(d.length>=b.minimum)return;let e=xm(d);c.issues.push({origin:e,code:"too_small",minimum:b.minimum,inclusive:!0,input:d,inst:a,continue:!b.abort})}}),zc=ws("$ZodCheckLengthEquals",(a,b)=>{var c;y0.init(a,b),(c=a._zod.def).when??(c.when=a=>{let b=a.value;return!wH(b)&&void 0!==b.length}),a._zod.onattach.push(a=>{let c=a._zod.bag;c.minimum=b.length,c.maximum=b.length,c.length=b.length}),a._zod.check=c=>{let d=c.value,e=d.length;if(e===b.length)return;let f=xm(d),g=e>b.length;c.issues.push({origin:f,...g?{code:"too_big",maximum:b.length}:{code:"too_small",minimum:b.length},inclusive:!0,exact:!0,input:c.value,inst:a,continue:!b.abort})}}),zd=ws("$ZodCheckStringFormat",(a,b)=>{var c,d;y0.init(a,b),a._zod.onattach.push(a=>{let c=a._zod.bag;c.format=b.format,b.pattern&&(c.patterns??(c.patterns=new Set),c.patterns.add(b.pattern))}),b.pattern?(c=a._zod).check??(c.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:b.format,input:c.value,...b.pattern?{pattern:b.pattern.toString()}:{},inst:a,continue:!b.abort})}):(d=a._zod).check??(d.check=()=>{})}),ze=ws("$ZodCheckRegex",(a,b)=>{zd.init(a,b),a._zod.check=c=>{b.pattern.lastIndex=0,b.pattern.test(c.value)||c.issues.push({origin:"string",code:"invalid_format",format:"regex",input:c.value,pattern:b.pattern.toString(),inst:a,continue:!b.abort})}}),zf=ws("$ZodCheckLowerCase",(a,b)=>{b.pattern??(b.pattern=yI),zd.init(a,b)}),zg=ws("$ZodCheckUpperCase",(a,b)=>{b.pattern??(b.pattern=yJ),zd.init(a,b)}),zh=ws("$ZodCheckIncludes",(a,b)=>{y0.init(a,b);let c=w2(b.includes),d=new RegExp("number"==typeof b.position?`^.{${b.position}}${c}`:c);b.pattern=d,a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(d)}),a._zod.check=c=>{c.value.includes(b.includes,b.position)||c.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:b.includes,input:c.value,inst:a,continue:!b.abort})}}),zi=ws("$ZodCheckStartsWith",(a,b)=>{y0.init(a,b);let c=RegExp(`^${w2(b.prefix)}.*`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.startsWith(b.prefix)||c.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:b.prefix,input:c.value,inst:a,continue:!b.abort})}}),zj=ws("$ZodCheckEndsWith",(a,b)=>{y0.init(a,b);let c=RegExp(`.*${w2(b.suffix)}$`);b.pattern??(b.pattern=c),a._zod.onattach.push(a=>{let b=a._zod.bag;b.patterns??(b.patterns=new Set),b.patterns.add(c)}),a._zod.check=c=>{c.value.endsWith(b.suffix)||c.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:b.suffix,input:c.value,inst:a,continue:!b.abort})}});function zk(a,b,c){a.issues.length&&b.issues.push(...xi(c,a.issues))}let zl=ws("$ZodCheckProperty",(a,b)=>{y0.init(a,b),a._zod.check=a=>{let c=b.schema._zod.run({value:a.value[b.property],issues:[]},{});if(c instanceof Promise)return c.then(c=>zk(c,a,b.property));zk(c,a,b.property)}}),zm=ws("$ZodCheckMimeType",(a,b)=>{y0.init(a,b);let c=new Set(b.mime);a._zod.onattach.push(a=>{a._zod.bag.mime=b.mime}),a._zod.check=d=>{c.has(d.value.type)||d.issues.push({code:"invalid_value",values:b.mime,input:d.value.type,inst:a,continue:!b.abort})}}),zn=ws("$ZodCheckOverwrite",(a,b)=>{y0.init(a,b),a._zod.check=a=>{a.value=b.tx(a.value)}});a.s(["$ZodCheck",0,y0,"$ZodCheckBigIntFormat",0,y6,"$ZodCheckEndsWith",0,zj,"$ZodCheckGreaterThan",0,y3,"$ZodCheckIncludes",0,zh,"$ZodCheckLengthEquals",0,zc,"$ZodCheckLessThan",0,y2,"$ZodCheckLowerCase",0,zf,"$ZodCheckMaxLength",0,za,"$ZodCheckMaxSize",0,y7,"$ZodCheckMimeType",0,zm,"$ZodCheckMinLength",0,zb,"$ZodCheckMinSize",0,y8,"$ZodCheckMultipleOf",0,y4,"$ZodCheckNumberFormat",0,y5,"$ZodCheckOverwrite",0,zn,"$ZodCheckProperty",0,zl,"$ZodCheckRegex",0,ze,"$ZodCheckSizeEquals",0,y9,"$ZodCheckStartsWith",0,zi,"$ZodCheckStringFormat",0,zd,"$ZodCheckUpperCase",0,zg],61802);class zo{constructor(a=[]){this.content=[],this.indent=0,this&&(this.args=a)}indented(a){this.indent+=1,a(this),this.indent-=1}write(a){if("function"==typeof a){a(this,{execution:"sync"}),a(this,{execution:"async"});return}let b=a.split("\n").filter(a=>a),c=Math.min(...b.map(a=>a.length-a.trimStart().length));for(let a of b.map(a=>a.slice(c)).map(a=>" ".repeat(2*this.indent)+a))this.content.push(a)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(a=>`  ${a}`)].join("\n"))}}a.s(["Doc",()=>zo],66004);let zp={major:4,minor:3,patch:6};a.s(["version",0,zp],72385);let zq=ws("$ZodType",(a,b)=>{var c;a??(a={}),a._zod.def=b,a._zod.bag=a._zod.bag||{},a._zod.version=zp;let d=[...a._zod.def.checks??[]];for(let b of(a._zod.traits.has("$ZodCheck")&&d.unshift(a),d))for(let c of b._zod.onattach)c(a);if(0===d.length)(c=a._zod).deferred??(c.deferred=[]),a._zod.deferred?.push(()=>{a._zod.run=a._zod.parse});else{let b=(a,b,c)=>{let d,e=xh(a);for(let f of b){if(f._zod.def.when){if(!f._zod.def.when(a))continue}else if(e)continue;let b=a.issues.length,g=f._zod.check(a);if(g instanceof Promise&&c?.async===!1)throw new wu;if(d||g instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await g,a.issues.length!==b&&(e||(e=xh(a,b)))});else{if(a.issues.length===b)continue;e||(e=xh(a,b))}}return d?d.then(()=>a):a},c=(c,e,f)=>{if(xh(c))return c.aborted=!0,c;let g=b(e,d,f);if(g instanceof Promise){if(!1===f.async)throw new wu;return g.then(b=>a._zod.parse(b,f))}return a._zod.parse(g,f)};a._zod.run=(e,f)=>{if(f.skipChecks)return a._zod.parse(e,f);if("backward"===f.direction){let b=a._zod.parse({value:e.value,issues:[]},{...f,skipChecks:!0});return b instanceof Promise?b.then(a=>c(a,e,f)):c(b,e,f)}let g=a._zod.parse(e,f);if(g instanceof Promise){if(!1===f.async)throw new wu;return g.then(a=>b(a,d,f))}return b(g,d,f)}}wL(a,"~standard",()=>({validate:b=>{try{let c=xK(a,b);return c.success?{value:c.data}:{issues:c.error?.issues}}catch(c){return xM(a,b).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),zr=ws("$ZodString",(a,b)=>{zq.init(a,b),a._zod.pattern=[...a?._zod.bag?.patterns??[]].pop()??yB(a._zod.bag),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=String(c.value)}catch(a){}return"string"==typeof c.value||c.issues.push({expected:"string",code:"invalid_type",input:c.value,inst:a}),c}}),zs=ws("$ZodStringFormat",(a,b)=>{zd.init(a,b),zr.init(a,b)}),zt=ws("$ZodGUID",(a,b)=>{b.pattern??(b.pattern=x9),zs.init(a,b)}),zu=ws("$ZodUUID",(a,b)=>{if(b.version){let a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[b.version];if(void 0===a)throw Error(`Invalid UUID version: "${b.version}"`);b.pattern??(b.pattern=ya(a))}else b.pattern??(b.pattern=ya());zs.init(a,b)}),zv=ws("$ZodEmail",(a,b)=>{b.pattern??(b.pattern=ye),zs.init(a,b)}),zw=ws("$ZodURL",(a,b)=>{zs.init(a,b),a._zod.check=c=>{try{let d=c.value.trim(),e=new URL(d);b.hostname&&(b.hostname.lastIndex=0,b.hostname.test(e.hostname)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:b.hostname.source,input:c.value,inst:a,continue:!b.abort})),b.protocol&&(b.protocol.lastIndex=0,b.protocol.test(e.protocol.endsWith(":")?e.protocol.slice(0,-1):e.protocol)||c.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:b.protocol.source,input:c.value,inst:a,continue:!b.abort})),b.normalize?c.value=e.href:c.value=d;return}catch(d){c.issues.push({code:"invalid_format",format:"url",input:c.value,inst:a,continue:!b.abort})}}}),zx=ws("$ZodEmoji",(a,b)=>{b.pattern??(b.pattern=yl()),zs.init(a,b)}),zy=ws("$ZodNanoID",(a,b)=>{b.pattern??(b.pattern=x6),zs.init(a,b)}),zz=ws("$ZodCUID",(a,b)=>{b.pattern??(b.pattern=x1),zs.init(a,b)}),zA=ws("$ZodCUID2",(a,b)=>{b.pattern??(b.pattern=x2),zs.init(a,b)}),zB=ws("$ZodULID",(a,b)=>{b.pattern??(b.pattern=x3),zs.init(a,b)}),zC=ws("$ZodXID",(a,b)=>{b.pattern??(b.pattern=x4),zs.init(a,b)}),zD=ws("$ZodKSUID",(a,b)=>{b.pattern??(b.pattern=x5),zs.init(a,b)}),zE=ws("$ZodISODateTime",(a,b)=>{b.pattern??(b.pattern=yA(b)),zs.init(a,b)}),zF=ws("$ZodISODate",(a,b)=>{b.pattern??(b.pattern=yx),zs.init(a,b)}),zG=ws("$ZodISOTime",(a,b)=>{b.pattern??(b.pattern=yz(b)),zs.init(a,b)}),zH=ws("$ZodISODuration",(a,b)=>{b.pattern??(b.pattern=x7),zs.init(a,b)}),zI=ws("$ZodIPv4",(a,b)=>{b.pattern??(b.pattern=ym),zs.init(a,b),a._zod.bag.format="ipv4"}),zJ=ws("$ZodIPv6",(a,b)=>{b.pattern??(b.pattern=yn),zs.init(a,b),a._zod.bag.format="ipv6",a._zod.check=c=>{try{new URL(`http://[${c.value}]`)}catch{c.issues.push({code:"invalid_format",format:"ipv6",input:c.value,inst:a,continue:!b.abort})}}}),zK=ws("$ZodMAC",(a,b)=>{b.pattern??(b.pattern=yo(b.delimiter)),zs.init(a,b),a._zod.bag.format="mac"}),zL=ws("$ZodCIDRv4",(a,b)=>{b.pattern??(b.pattern=yp),zs.init(a,b)}),zM=ws("$ZodCIDRv6",(a,b)=>{b.pattern??(b.pattern=yq),zs.init(a,b),a._zod.check=c=>{let d=c.value.split("/");try{if(2!==d.length)throw Error();let[a,b]=d;if(!b)throw Error();let c=Number(b);if(`${c}`!==b||c<0||c>128)throw Error();new URL(`http://[${a}]`)}catch{c.issues.push({code:"invalid_format",format:"cidrv6",input:c.value,inst:a,continue:!b.abort})}}});function zN(a){if(""===a)return!0;if(a.length%4!=0)return!1;try{return atob(a),!0}catch{return!1}}let zO=ws("$ZodBase64",(a,b)=>{b.pattern??(b.pattern=yr),zs.init(a,b),a._zod.bag.contentEncoding="base64",a._zod.check=c=>{zN(c.value)||c.issues.push({code:"invalid_format",format:"base64",input:c.value,inst:a,continue:!b.abort})}});function zP(a){if(!ys.test(a))return!1;let b=a.replace(/[-_]/g,a=>"-"===a?"+":"/");return zN(b.padEnd(4*Math.ceil(b.length/4),"="))}let zQ=ws("$ZodBase64URL",(a,b)=>{b.pattern??(b.pattern=ys),zs.init(a,b),a._zod.bag.contentEncoding="base64url",a._zod.check=c=>{zP(c.value)||c.issues.push({code:"invalid_format",format:"base64url",input:c.value,inst:a,continue:!b.abort})}}),zR=ws("$ZodE164",(a,b)=>{b.pattern??(b.pattern=yv),zs.init(a,b)});function zS(a,b=null){try{let c=a.split(".");if(3!==c.length)return!1;let[d]=c;if(!d)return!1;let e=JSON.parse(atob(d));if("typ"in e&&e?.typ!=="JWT"||!e.alg||b&&(!("alg"in e)||e.alg!==b))return!1;return!0}catch{return!1}}let zT=ws("$ZodJWT",(a,b)=>{zs.init(a,b),a._zod.check=c=>{zS(c.value,b.alg)||c.issues.push({code:"invalid_format",format:"jwt",input:c.value,inst:a,continue:!b.abort})}}),zU=ws("$ZodCustomStringFormat",(a,b)=>{zs.init(a,b),a._zod.check=c=>{b.fn(c.value)||c.issues.push({code:"invalid_format",format:b.format,input:c.value,inst:a,continue:!b.abort})}}),zV=ws("$ZodNumber",(a,b)=>{zq.init(a,b),a._zod.pattern=a._zod.bag.pattern??yE,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=Number(c.value)}catch(a){}let e=c.value;if("number"==typeof e&&!Number.isNaN(e)&&Number.isFinite(e))return c;let f="number"==typeof e?Number.isNaN(e)?"NaN":Number.isFinite(e)?void 0:"Infinity":void 0;return c.issues.push({expected:"number",code:"invalid_type",input:e,inst:a,...f?{received:f}:{}}),c}}),zW=ws("$ZodNumberFormat",(a,b)=>{y5.init(a,b),zV.init(a,b)}),zX=ws("$ZodBoolean",(a,b)=>{zq.init(a,b),a._zod.pattern=yF,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=!!c.value}catch(a){}let e=c.value;return"boolean"==typeof e||c.issues.push({expected:"boolean",code:"invalid_type",input:e,inst:a}),c}}),zY=ws("$ZodBigInt",(a,b)=>{zq.init(a,b),a._zod.pattern=yC,a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=BigInt(c.value)}catch(a){}return"bigint"==typeof c.value||c.issues.push({expected:"bigint",code:"invalid_type",input:c.value,inst:a}),c}}),zZ=ws("$ZodBigIntFormat",(a,b)=>{y6.init(a,b),zY.init(a,b)}),z$=ws("$ZodSymbol",(a,b)=>{zq.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return"symbol"==typeof d||b.issues.push({expected:"symbol",code:"invalid_type",input:d,inst:a}),b}}),z_=ws("$ZodUndefined",(a,b)=>{zq.init(a,b),a._zod.pattern=yH,a._zod.values=new Set([void 0]),a._zod.optin="optional",a._zod.optout="optional",a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"undefined",code:"invalid_type",input:d,inst:a}),b}}),z0=ws("$ZodNull",(a,b)=>{zq.init(a,b),a._zod.pattern=yG,a._zod.values=new Set([null]),a._zod.parse=(b,c)=>{let d=b.value;return null===d||b.issues.push({expected:"null",code:"invalid_type",input:d,inst:a}),b}}),z1=ws("$ZodAny",(a,b)=>{zq.init(a,b),a._zod.parse=a=>a}),z2=ws("$ZodUnknown",(a,b)=>{zq.init(a,b),a._zod.parse=a=>a}),z3=ws("$ZodNever",(a,b)=>{zq.init(a,b),a._zod.parse=(b,c)=>(b.issues.push({expected:"never",code:"invalid_type",input:b.value,inst:a}),b)}),z4=ws("$ZodVoid",(a,b)=>{zq.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return void 0===d||b.issues.push({expected:"void",code:"invalid_type",input:d,inst:a}),b}}),z5=ws("$ZodDate",(a,b)=>{zq.init(a,b),a._zod.parse=(c,d)=>{if(b.coerce)try{c.value=new Date(c.value)}catch(a){}let e=c.value,f=e instanceof Date;return f&&!Number.isNaN(e.getTime())||c.issues.push({expected:"date",code:"invalid_type",input:e,...f?{received:"Invalid Date"}:{},inst:a}),c}});function z6(a,b,c){a.issues.length&&b.issues.push(...xi(c,a.issues)),b.value[c]=a.value}let z7=ws("$ZodArray",(a,b)=>{zq.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!Array.isArray(e))return c.issues.push({expected:"array",code:"invalid_type",input:e,inst:a}),c;c.value=Array(e.length);let f=[];for(let a=0;a<e.length;a++){let g=e[a],h=b.element._zod.run({value:g,issues:[]},d);h instanceof Promise?f.push(h.then(b=>z6(b,c,a))):z6(h,c,a)}return f.length?Promise.all(f).then(()=>c):c}});function z8(a,b,c,d,e){if(a.issues.length){if(e&&!(c in d))return;b.issues.push(...xi(c,a.issues))}void 0===a.value?c in d&&(b.value[c]=void 0):b.value[c]=a.value}function z9(a){let b=Object.keys(a.shape);for(let c of b)if(!a.shape?.[c]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${c}": expected a Zod schema`);let c=w7(a.shape);return{...a,keys:b,keySet:new Set(b),numKeys:b.length,optionalKeys:new Set(c)}}function Aa(a,b,c,d,e,f){let g=[],h=e.keySet,i=e.catchall._zod,j=i.def.type,k="optional"===i.optout;for(let e in b){if(h.has(e))continue;if("never"===j){g.push(e);continue}let f=i.run({value:b[e],issues:[]},d);f instanceof Promise?a.push(f.then(a=>z8(a,c,e,b,k))):z8(f,c,e,b,k)}return(g.length&&c.issues.push({code:"unrecognized_keys",keys:g,input:b,inst:f}),a.length)?Promise.all(a).then(()=>c):c}let Ab=ws("$ZodObject",(a,b)=>{let c;zq.init(a,b);let d=Object.getOwnPropertyDescriptor(b,"shape");if(!d?.get){let a=b.shape;Object.defineProperty(b,"shape",{get:()=>{let c={...a};return Object.defineProperty(b,"shape",{value:c}),c}})}let e=wG(()=>z9(b));wL(a._zod,"propValues",()=>{let a=b.shape,c={};for(let b in a){let d=a[b]._zod;if(d.values)for(let a of(c[b]??(c[b]=new Set),d.values))c[b].add(a)}return c});let f=wW,g=b.catchall;a._zod.parse=(b,d)=>{c??(c=e.value);let h=b.value;if(!f(h))return b.issues.push({expected:"object",code:"invalid_type",input:h,inst:a}),b;b.value={};let i=[],j=c.shape;for(let a of c.keys){let c=j[a],e="optional"===c._zod.optout,f=c._zod.run({value:h[a],issues:[]},d);f instanceof Promise?i.push(f.then(c=>z8(c,b,a,h,e))):z8(f,b,a,h,e)}return g?Aa(i,h,b,d,e.value,a):i.length?Promise.all(i).then(()=>b):b}}),Ac=ws("$ZodObjectJIT",(a,b)=>{let c,d;Ab.init(a,b);let e=a._zod.parse,f=wG(()=>z9(b)),g=a=>{let b=new zo(["shape","payload","ctx"]),c=f.value,d=a=>{let b=wT(a);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};b.write("const input = payload.value;");let e=Object.create(null),g=0;for(let a of c.keys)e[a]=`key_${g++}`;for(let f of(b.write("const newResult = {};"),c.keys)){let c=e[f],g=wT(f),h=a[f],i=h?._zod?.optout==="optional";b.write(`const ${c} = ${d(f)};`),i?b.write(`
        if (${c}.issues.length) {
          if (${g} in input) {
            payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${g}, ...iss.path] : [${g}]
            })));
          }
        }
        
        if (${c}.value === undefined) {
          if (${g} in input) {
            newResult[${g}] = undefined;
          }
        } else {
          newResult[${g}] = ${c}.value;
        }
        
      `):b.write(`
        if (${c}.issues.length) {
          payload.issues = payload.issues.concat(${c}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${g}, ...iss.path] : [${g}]
          })));
        }
        
        if (${c}.value === undefined) {
          if (${g} in input) {
            newResult[${g}] = undefined;
          }
        } else {
          newResult[${g}] = ${c}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");let h=b.compile();return(b,c)=>h(a,b,c)},h=wW,i=!ww.jitless,j=wX,k=i&&j.value,l=b.catchall;a._zod.parse=(j,m)=>{d??(d=f.value);let n=j.value;return h(n)?i&&k&&m?.async===!1&&!0!==m.jitless?(c||(c=g(b.shape)),j=c(j,m),l)?Aa([],n,j,m,d,a):j:e(j,m):(j.issues.push({expected:"object",code:"invalid_type",input:n,inst:a}),j)}});function Ad(a,b,c,d){for(let c of a)if(0===c.issues.length)return b.value=c.value,b;let e=a.filter(a=>!xh(a));return 1===e.length?(b.value=e[0].value,e[0]):(b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>xk(a,d,wx())))}),b)}let Ae=ws("$ZodUnion",(a,b)=>{zq.init(a,b),wL(a._zod,"optin",()=>b.options.some(a=>"optional"===a._zod.optin)?"optional":void 0),wL(a._zod,"optout",()=>b.options.some(a=>"optional"===a._zod.optout)?"optional":void 0),wL(a._zod,"values",()=>{if(b.options.every(a=>a._zod.values))return new Set(b.options.flatMap(a=>Array.from(a._zod.values)))}),wL(a._zod,"pattern",()=>{if(b.options.every(a=>a._zod.pattern)){let a=b.options.map(a=>a._zod.pattern);return RegExp(`^(${a.map(a=>wI(a.source)).join("|")})$`)}});let c=1===b.options.length,d=b.options[0]._zod.run;a._zod.parse=(e,f)=>{if(c)return d(e,f);let g=!1,h=[];for(let a of b.options){let b=a._zod.run({value:e.value,issues:[]},f);if(b instanceof Promise)h.push(b),g=!0;else{if(0===b.issues.length)return b;h.push(b)}}return g?Promise.all(h).then(b=>Ad(b,e,a,f)):Ad(h,e,a,f)}});function Af(a,b,c,d){let e=a.filter(a=>0===a.issues.length);return 1===e.length?b.value=e[0].value:0===e.length?b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:a.map(a=>a.issues.map(a=>xk(a,d,wx())))}):b.issues.push({code:"invalid_union",input:b.value,inst:c,errors:[],inclusive:!1}),b}let Ag=ws("$ZodXor",(a,b)=>{Ae.init(a,b),b.inclusive=!1;let c=1===b.options.length,d=b.options[0]._zod.run;a._zod.parse=(e,f)=>{if(c)return d(e,f);let g=!1,h=[];for(let a of b.options){let b=a._zod.run({value:e.value,issues:[]},f);b instanceof Promise?(h.push(b),g=!0):h.push(b)}return g?Promise.all(h).then(b=>Af(b,e,a,f)):Af(h,e,a,f)}}),Ah=ws("$ZodDiscriminatedUnion",(a,b)=>{b.inclusive=!1,Ae.init(a,b);let c=a._zod.parse;wL(a._zod,"propValues",()=>{let a={};for(let c of b.options){let d=c._zod.propValues;if(!d||0===Object.keys(d).length)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(c)}"`);for(let[b,c]of Object.entries(d))for(let d of(a[b]||(a[b]=new Set),c))a[b].add(d)}return a});let d=wG(()=>{let a=b.options,c=new Map;for(let d of a){let a=d._zod.propValues?.[b.discriminator];if(!a||0===a.size)throw Error(`Invalid discriminated union option at index "${b.options.indexOf(d)}"`);for(let b of a){if(c.has(b))throw Error(`Duplicate discriminator value "${String(b)}"`);c.set(b,d)}}return c});a._zod.parse=(e,f)=>{let g=e.value;if(!wW(g))return e.issues.push({code:"invalid_type",expected:"object",input:g,inst:a}),e;let h=d.value.get(g?.[b.discriminator]);return h?h._zod.run(e,f):b.unionFallback?c(e,f):(e.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:b.discriminator,input:g,path:[b.discriminator],inst:a}),e)}}),Ai=ws("$ZodIntersection",(a,b)=>{zq.init(a,b),a._zod.parse=(a,c)=>{let d=a.value,e=b.left._zod.run({value:d,issues:[]},c),f=b.right._zod.run({value:d,issues:[]},c);return e instanceof Promise||f instanceof Promise?Promise.all([e,f]).then(([b,c])=>Ak(a,b,c)):Ak(a,e,f)}});function Aj(a,b){if(a===b||a instanceof Date&&b instanceof Date&&+a==+b)return{valid:!0,data:a};if(wY(a)&&wY(b)){let c=Object.keys(b),d=Object.keys(a).filter(a=>-1!==c.indexOf(a)),e={...a,...b};for(let c of d){let d=Aj(a[c],b[c]);if(!d.valid)return{valid:!1,mergeErrorPath:[c,...d.mergeErrorPath]};e[c]=d.data}return{valid:!0,data:e}}if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return{valid:!1,mergeErrorPath:[]};let c=[];for(let d=0;d<a.length;d++){let e=Aj(a[d],b[d]);if(!e.valid)return{valid:!1,mergeErrorPath:[d,...e.mergeErrorPath]};c.push(e.data)}return{valid:!0,data:c}}return{valid:!1,mergeErrorPath:[]}}function Ak(a,b,c){let d,e=new Map;for(let c of b.issues)if("unrecognized_keys"===c.code)for(let a of(d??(d=c),c.keys))e.has(a)||e.set(a,{}),e.get(a).l=!0;else a.issues.push(c);for(let b of c.issues)if("unrecognized_keys"===b.code)for(let a of b.keys)e.has(a)||e.set(a,{}),e.get(a).r=!0;else a.issues.push(b);let f=[...e].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(f.length&&d&&a.issues.push({...d,keys:f}),xh(a))return a;let g=Aj(b.value,c.value);if(!g.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(g.mergeErrorPath)}`);return a.value=g.data,a}let Al=ws("$ZodTuple",(a,b)=>{zq.init(a,b);let c=b.items;a._zod.parse=(d,e)=>{let f=d.value;if(!Array.isArray(f))return d.issues.push({input:f,inst:a,expected:"tuple",code:"invalid_type"}),d;d.value=[];let g=[],h=[...c].reverse().findIndex(a=>"optional"!==a._zod.optin),i=-1===h?0:c.length-h;if(!b.rest){let b=f.length>c.length,e=f.length<i-1;if(b||e)return d.issues.push({...b?{code:"too_big",maximum:c.length,inclusive:!0}:{code:"too_small",minimum:c.length},input:f,inst:a,origin:"array"}),d}let j=-1;for(let a of c){if(++j>=f.length&&j>=i)continue;let b=a._zod.run({value:f[j],issues:[]},e);b instanceof Promise?g.push(b.then(a=>Am(a,d,j))):Am(b,d,j)}if(b.rest)for(let a of f.slice(c.length)){j++;let c=b.rest._zod.run({value:a,issues:[]},e);c instanceof Promise?g.push(c.then(a=>Am(a,d,j))):Am(c,d,j)}return g.length?Promise.all(g).then(()=>d):d}});function Am(a,b,c){a.issues.length&&b.issues.push(...xi(c,a.issues)),b.value[c]=a.value}let An=ws("$ZodRecord",(a,b)=>{zq.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!wY(e))return c.issues.push({expected:"record",code:"invalid_type",input:e,inst:a}),c;let f=[],g=b.keyType._zod.values;if(g){let h;c.value={};let i=new Set;for(let a of g)if("string"==typeof a||"number"==typeof a||"symbol"==typeof a){i.add("number"==typeof a?a.toString():a);let g=b.valueType._zod.run({value:e[a],issues:[]},d);g instanceof Promise?f.push(g.then(b=>{b.issues.length&&c.issues.push(...xi(a,b.issues)),c.value[a]=b.value})):(g.issues.length&&c.issues.push(...xi(a,g.issues)),c.value[a]=g.value)}for(let a in e)i.has(a)||(h=h??[]).push(a);h&&h.length>0&&c.issues.push({code:"unrecognized_keys",input:e,inst:a,keys:h})}else for(let g of(c.value={},Reflect.ownKeys(e))){if("__proto__"===g)continue;let h=b.keyType._zod.run({value:g,issues:[]},d);if(h instanceof Promise)throw Error("Async schemas not supported in object keys currently");if("string"==typeof g&&yE.test(g)&&h.issues.length){let a=b.keyType._zod.run({value:Number(g),issues:[]},d);if(a instanceof Promise)throw Error("Async schemas not supported in object keys currently");0===a.issues.length&&(h=a)}if(h.issues.length){"loose"===b.mode?c.value[g]=e[g]:c.issues.push({code:"invalid_key",origin:"record",issues:h.issues.map(a=>xk(a,d,wx())),input:g,path:[g],inst:a});continue}let i=b.valueType._zod.run({value:e[g],issues:[]},d);i instanceof Promise?f.push(i.then(a=>{a.issues.length&&c.issues.push(...xi(g,a.issues)),c.value[h.value]=a.value})):(i.issues.length&&c.issues.push(...xi(g,i.issues)),c.value[h.value]=i.value)}return f.length?Promise.all(f).then(()=>c):c}}),Ao=ws("$ZodMap",(a,b)=>{zq.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Map))return c.issues.push({expected:"map",code:"invalid_type",input:e,inst:a}),c;let f=[];for(let[g,h]of(c.value=new Map,e)){let i=b.keyType._zod.run({value:g,issues:[]},d),j=b.valueType._zod.run({value:h,issues:[]},d);i instanceof Promise||j instanceof Promise?f.push(Promise.all([i,j]).then(([b,f])=>{Ap(b,f,c,g,e,a,d)})):Ap(i,j,c,g,e,a,d)}return f.length?Promise.all(f).then(()=>c):c}});function Ap(a,b,c,d,e,f,g){a.issues.length&&(w0.has(typeof d)?c.issues.push(...xi(d,a.issues)):c.issues.push({code:"invalid_key",origin:"map",input:e,inst:f,issues:a.issues.map(a=>xk(a,g,wx()))})),b.issues.length&&(w0.has(typeof d)?c.issues.push(...xi(d,b.issues)):c.issues.push({origin:"map",code:"invalid_element",input:e,inst:f,key:d,issues:b.issues.map(a=>xk(a,g,wx()))})),c.value.set(a.value,b.value)}let Aq=ws("$ZodSet",(a,b)=>{zq.init(a,b),a._zod.parse=(c,d)=>{let e=c.value;if(!(e instanceof Set))return c.issues.push({input:e,inst:a,expected:"set",code:"invalid_type"}),c;let f=[];for(let a of(c.value=new Set,e)){let e=b.valueType._zod.run({value:a,issues:[]},d);e instanceof Promise?f.push(e.then(a=>Ar(a,c))):Ar(e,c)}return f.length?Promise.all(f).then(()=>c):c}});function Ar(a,b){a.issues.length&&b.issues.push(...a.issues),b.value.add(a.value)}let As=ws("$ZodEnum",(a,b)=>{zq.init(a,b);let c=wD(b.entries),d=new Set(c);a._zod.values=d,a._zod.pattern=RegExp(`^(${c.filter(a=>w0.has(typeof a)).map(a=>"string"==typeof a?w2(a):a.toString()).join("|")})$`),a._zod.parse=(b,e)=>{let f=b.value;return d.has(f)||b.issues.push({code:"invalid_value",values:c,input:f,inst:a}),b}}),At=ws("$ZodLiteral",(a,b)=>{if(zq.init(a,b),0===b.values.length)throw Error("Cannot create literal schema with no valid values");let c=new Set(b.values);a._zod.values=c,a._zod.pattern=RegExp(`^(${b.values.map(a=>"string"==typeof a?w2(a):a?w2(a.toString()):String(a)).join("|")})$`),a._zod.parse=(d,e)=>{let f=d.value;return c.has(f)||d.issues.push({code:"invalid_value",values:b.values,input:f,inst:a}),d}}),Au=ws("$ZodFile",(a,b)=>{zq.init(a,b),a._zod.parse=(b,c)=>{let d=b.value;return d instanceof File||b.issues.push({expected:"file",code:"invalid_type",input:d,inst:a}),b}}),Av=ws("$ZodTransform",(a,b)=>{zq.init(a,b),a._zod.parse=(c,d)=>{if("backward"===d.direction)throw new wv(a.constructor.name);let e=b.transform(c.value,c);if(d.async)return(e instanceof Promise?e:Promise.resolve(e)).then(a=>(c.value=a,c));if(e instanceof Promise)throw new wu;return c.value=e,c}});function Aw(a,b){return a.issues.length&&void 0===b?{issues:[],value:void 0}:a}let Ax=ws("$ZodOptional",(a,b)=>{zq.init(a,b),a._zod.optin="optional",a._zod.optout="optional",wL(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,void 0]):void 0),wL(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${wI(a.source)})?$`):void 0}),a._zod.parse=(a,c)=>{if("optional"===b.innerType._zod.optin){let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>Aw(b,a.value)):Aw(d,a.value)}return void 0===a.value?a:b.innerType._zod.run(a,c)}}),Ay=ws("$ZodExactOptional",(a,b)=>{Ax.init(a,b),wL(a._zod,"values",()=>b.innerType._zod.values),wL(a._zod,"pattern",()=>b.innerType._zod.pattern),a._zod.parse=(a,c)=>b.innerType._zod.run(a,c)}),Az=ws("$ZodNullable",(a,b)=>{zq.init(a,b),wL(a._zod,"optin",()=>b.innerType._zod.optin),wL(a._zod,"optout",()=>b.innerType._zod.optout),wL(a._zod,"pattern",()=>{let a=b.innerType._zod.pattern;return a?RegExp(`^(${wI(a.source)}|null)$`):void 0}),wL(a._zod,"values",()=>b.innerType._zod.values?new Set([...b.innerType._zod.values,null]):void 0),a._zod.parse=(a,c)=>null===a.value?a:b.innerType._zod.run(a,c)}),AA=ws("$ZodDefault",(a,b)=>{zq.init(a,b),a._zod.optin="optional",wL(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);if(void 0===a.value)return a.value=b.defaultValue,a;let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(a=>AB(a,b)):AB(d,b)}});function AB(a,b){return void 0===a.value&&(a.value=b.defaultValue),a}let AC=ws("$ZodPrefault",(a,b)=>{zq.init(a,b),a._zod.optin="optional",wL(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>("backward"===c.direction||void 0===a.value&&(a.value=b.defaultValue),b.innerType._zod.run(a,c))}),AD=ws("$ZodNonOptional",(a,b)=>{zq.init(a,b),wL(a._zod,"values",()=>{let a=b.innerType._zod.values;return a?new Set([...a].filter(a=>void 0!==a)):void 0}),a._zod.parse=(c,d)=>{let e=b.innerType._zod.run(c,d);return e instanceof Promise?e.then(b=>AE(b,a)):AE(e,a)}});function AE(a,b){return a.issues.length||void 0!==a.value||a.issues.push({code:"invalid_type",expected:"nonoptional",input:a.value,inst:b}),a}let AF=ws("$ZodSuccess",(a,b)=>{zq.init(a,b),a._zod.parse=(a,c)=>{if("backward"===c.direction)throw new wv("ZodSuccess");let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(b=>(a.value=0===b.issues.length,a)):(a.value=0===d.issues.length,a)}}),AG=ws("$ZodCatch",(a,b)=>{zq.init(a,b),wL(a._zod,"optin",()=>b.innerType._zod.optin),wL(a._zod,"optout",()=>b.innerType._zod.optout),wL(a._zod,"values",()=>b.innerType._zod.values),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(d=>(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>xk(a,c,wx()))},input:a.value}),a.issues=[]),a)):(a.value=d.value,d.issues.length&&(a.value=b.catchValue({...a,error:{issues:d.issues.map(a=>xk(a,c,wx()))},input:a.value}),a.issues=[]),a)}}),AH=ws("$ZodNaN",(a,b)=>{zq.init(a,b),a._zod.parse=(b,c)=>("number"==typeof b.value&&Number.isNaN(b.value)||b.issues.push({input:b.value,inst:a,expected:"nan",code:"invalid_type"}),b)}),AI=ws("$ZodPipe",(a,b)=>{zq.init(a,b),wL(a._zod,"values",()=>b.in._zod.values),wL(a._zod,"optin",()=>b.in._zod.optin),wL(a._zod,"optout",()=>b.out._zod.optout),wL(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{if("backward"===c.direction){let d=b.out._zod.run(a,c);return d instanceof Promise?d.then(a=>AJ(a,b.in,c)):AJ(d,b.in,c)}let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>AJ(a,b.out,c)):AJ(d,b.out,c)}});function AJ(a,b,c){return a.issues.length?(a.aborted=!0,a):b._zod.run({value:a.value,issues:a.issues},c)}let AK=ws("$ZodCodec",(a,b)=>{zq.init(a,b),wL(a._zod,"values",()=>b.in._zod.values),wL(a._zod,"optin",()=>b.in._zod.optin),wL(a._zod,"optout",()=>b.out._zod.optout),wL(a._zod,"propValues",()=>b.in._zod.propValues),a._zod.parse=(a,c)=>{if("forward"===(c.direction||"forward")){let d=b.in._zod.run(a,c);return d instanceof Promise?d.then(a=>AL(a,b,c)):AL(d,b,c)}{let d=b.out._zod.run(a,c);return d instanceof Promise?d.then(a=>AL(a,b,c)):AL(d,b,c)}}});function AL(a,b,c){if(a.issues.length)return a.aborted=!0,a;if("forward"===(c.direction||"forward")){let d=b.transform(a.value,a);return d instanceof Promise?d.then(d=>AM(a,d,b.out,c)):AM(a,d,b.out,c)}{let d=b.reverseTransform(a.value,a);return d instanceof Promise?d.then(d=>AM(a,d,b.in,c)):AM(a,d,b.in,c)}}function AM(a,b,c,d){return a.issues.length?(a.aborted=!0,a):c._zod.run({value:b,issues:a.issues},d)}let AN=ws("$ZodReadonly",(a,b)=>{zq.init(a,b),wL(a._zod,"propValues",()=>b.innerType._zod.propValues),wL(a._zod,"values",()=>b.innerType._zod.values),wL(a._zod,"optin",()=>b.innerType?._zod?.optin),wL(a._zod,"optout",()=>b.innerType?._zod?.optout),a._zod.parse=(a,c)=>{if("backward"===c.direction)return b.innerType._zod.run(a,c);let d=b.innerType._zod.run(a,c);return d instanceof Promise?d.then(AO):AO(d)}});function AO(a){return a.value=Object.freeze(a.value),a}let AP=ws("$ZodTemplateLiteral",(a,b)=>{zq.init(a,b);let c=[];for(let a of b.parts)if("object"==typeof a&&null!==a){if(!a._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...a._zod.traits].shift()}`);let b=a._zod.pattern instanceof RegExp?a._zod.pattern.source:a._zod.pattern;if(!b)throw Error(`Invalid template literal part: ${a._zod.traits}`);let d=+!!b.startsWith("^"),e=b.endsWith("$")?b.length-1:b.length;c.push(b.slice(d,e))}else if(null===a||w1.has(typeof a))c.push(w2(`${a}`));else throw Error(`Invalid template literal part: ${a}`);a._zod.pattern=RegExp(`^${c.join("")}$`),a._zod.parse=(c,d)=>("string"!=typeof c.value?c.issues.push({input:c.value,inst:a,expected:"string",code:"invalid_type"}):(a._zod.pattern.lastIndex=0,a._zod.pattern.test(c.value)||c.issues.push({input:c.value,inst:a,code:"invalid_format",format:b.format??"template_literal",pattern:a._zod.pattern.source})),c)}),AQ=ws("$ZodFunction",(a,b)=>(zq.init(a,b),a._def=b,a._zod.def=b,a.implement=b=>{if("function"!=typeof b)throw Error("implement() must be called with a function");return function(...c){let d=Reflect.apply(b,this,a._def.input?xG(a._def.input,c):c);return a._def.output?xG(a._def.output,d):d}},a.implementAsync=b=>{if("function"!=typeof b)throw Error("implementAsync() must be called with a function");return async function(...c){let d=a._def.input?await xI(a._def.input,c):c,e=await Reflect.apply(b,this,d);return a._def.output?await xI(a._def.output,e):e}},a._zod.parse=(b,c)=>("function"!=typeof b.value?b.issues.push({code:"invalid_type",expected:"function",input:b.value,inst:a}):a._def.output&&"promise"===a._def.output._zod.def.type?b.value=a.implementAsync(b.value):b.value=a.implement(b.value),b),a.input=(...b)=>{let c=a.constructor;return new c(Array.isArray(b[0])?{type:"function",input:new Al({type:"tuple",items:b[0],rest:b[1]}),output:a._def.output}:{type:"function",input:b[0],output:a._def.output})},a.output=b=>new a.constructor({type:"function",input:a._def.input,output:b}),a)),AR=ws("$ZodPromise",(a,b)=>{zq.init(a,b),a._zod.parse=(a,c)=>Promise.resolve(a.value).then(a=>b.innerType._zod.run({value:a,issues:[]},c))}),AS=ws("$ZodLazy",(a,b)=>{zq.init(a,b),wL(a._zod,"innerType",()=>b.getter()),wL(a._zod,"pattern",()=>a._zod.innerType?._zod?.pattern),wL(a._zod,"propValues",()=>a._zod.innerType?._zod?.propValues),wL(a._zod,"optin",()=>a._zod.innerType?._zod?.optin??void 0),wL(a._zod,"optout",()=>a._zod.innerType?._zod?.optout??void 0),a._zod.parse=(b,c)=>a._zod.innerType._zod.run(b,c)}),AT=ws("$ZodCustom",(a,b)=>{y0.init(a,b),zq.init(a,b),a._zod.parse=(a,b)=>a,a._zod.check=c=>{let d=c.value,e=b.fn(d);if(e instanceof Promise)return e.then(b=>AU(b,c,d,a));AU(e,c,d,a)}});function AU(a,b,c,d){if(!a){let a={code:"custom",input:c,inst:d,path:[...d._zod.def.path??[]],continue:!d._zod.def.abort};d._zod.def.params&&(a.params=d._zod.def.params),b.issues.push(xo(a))}}a.s(["$ZodAny",0,z1,"$ZodArray",0,z7,"$ZodBase64",0,zO,"$ZodBase64URL",0,zQ,"$ZodBigInt",0,zY,"$ZodBigIntFormat",0,zZ,"$ZodBoolean",0,zX,"$ZodCIDRv4",0,zL,"$ZodCIDRv6",0,zM,"$ZodCUID",0,zz,"$ZodCUID2",0,zA,"$ZodCatch",0,AG,"$ZodCodec",0,AK,"$ZodCustom",0,AT,"$ZodCustomStringFormat",0,zU,"$ZodDate",0,z5,"$ZodDefault",0,AA,"$ZodDiscriminatedUnion",0,Ah,"$ZodE164",0,zR,"$ZodEmail",0,zv,"$ZodEmoji",0,zx,"$ZodEnum",0,As,"$ZodExactOptional",0,Ay,"$ZodFile",0,Au,"$ZodFunction",0,AQ,"$ZodGUID",0,zt,"$ZodIPv4",0,zI,"$ZodIPv6",0,zJ,"$ZodISODate",0,zF,"$ZodISODateTime",0,zE,"$ZodISODuration",0,zH,"$ZodISOTime",0,zG,"$ZodIntersection",0,Ai,"$ZodJWT",0,zT,"$ZodKSUID",0,zD,"$ZodLazy",0,AS,"$ZodLiteral",0,At,"$ZodMAC",0,zK,"$ZodMap",0,Ao,"$ZodNaN",0,AH,"$ZodNanoID",0,zy,"$ZodNever",0,z3,"$ZodNonOptional",0,AD,"$ZodNull",0,z0,"$ZodNullable",0,Az,"$ZodNumber",0,zV,"$ZodNumberFormat",0,zW,"$ZodObject",0,Ab,"$ZodObjectJIT",0,Ac,"$ZodOptional",0,Ax,"$ZodPipe",0,AI,"$ZodPrefault",0,AC,"$ZodPromise",0,AR,"$ZodReadonly",0,AN,"$ZodRecord",0,An,"$ZodSet",0,Aq,"$ZodString",0,zr,"$ZodStringFormat",0,zs,"$ZodSuccess",0,AF,"$ZodSymbol",0,z$,"$ZodTemplateLiteral",0,AP,"$ZodTransform",0,Av,"$ZodTuple",0,Al,"$ZodType",0,zq,"$ZodULID",0,zB,"$ZodURL",0,zw,"$ZodUUID",0,zu,"$ZodUndefined",0,z_,"$ZodUnion",0,Ae,"$ZodUnknown",0,z2,"$ZodVoid",0,z4,"$ZodXID",0,zC,"$ZodXor",0,Ag,"isValidBase64",()=>zN,"isValidBase64URL",()=>zP,"isValidJWT",()=>zS],84516);let AV=()=>{let a={string:{unit:"Ø­Ø±Ù",verb:"Ø£Ù† ÙŠØ­ÙˆÙŠ"},file:{unit:"Ø¨Ø§ÙŠØª",verb:"Ø£Ù† ÙŠØ­ÙˆÙŠ"},array:{unit:"Ø¹Ù†ØµØ±",verb:"Ø£Ù† ÙŠØ­ÙˆÙŠ"},set:{unit:"Ø¹Ù†ØµØ±",verb:"Ø£Ù† ÙŠØ­ÙˆÙŠ"}};function b(b){return a[b]??null}let c={regex:"Ù…Ø¯Ø®Ù„",email:"Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",url:"Ø±Ø§Ø¨Ø·",emoji:"Ø¥ÙŠÙ…ÙˆØ¬ÙŠ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø¨Ù…Ø¹ÙŠØ§Ø± ISO",date:"ØªØ§Ø±ÙŠØ® Ø¨Ù…Ø¹ÙŠØ§Ø± ISO",time:"ÙˆÙ‚Øª Ø¨Ù…Ø¹ÙŠØ§Ø± ISO",duration:"Ù…Ø¯Ø© Ø¨Ù…Ø¹ÙŠØ§Ø± ISO",ipv4:"Ø¹Ù†ÙˆØ§Ù† IPv4",ipv6:"Ø¹Ù†ÙˆØ§Ù† IPv6",cidrv4:"Ù…Ø¯Ù‰ Ø¹Ù†Ø§ÙˆÙŠÙ† Ø¨ØµÙŠØºØ© IPv4",cidrv6:"Ù…Ø¯Ù‰ Ø¹Ù†Ø§ÙˆÙŠÙ† Ø¨ØµÙŠØºØ© IPv6",base64:"Ù†ÙŽØµ Ø¨ØªØ±Ù…ÙŠØ² base64-encoded",base64url:"Ù†ÙŽØµ Ø¨ØªØ±Ù…ÙŠØ² base64url-encoded",json_string:"Ù†ÙŽØµ Ø¹Ù„Ù‰ Ù‡ÙŠØ¦Ø© JSON",e164:"Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø¨Ù…Ø¹ÙŠØ§Ø± E.164",jwt:"JWT",template_literal:"Ù…Ø¯Ø®Ù„"},d={nan:"NaN"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Ù…Ø¯Ø®Ù„Ø§Øª ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„Ø©: ÙŠÙØªØ±Ø¶ Ø¥Ø¯Ø®Ø§Ù„ instanceof ${a.expected}ØŒ ÙˆÙ„ÙƒÙ† ØªÙ… Ø¥Ø¯Ø®Ø§Ù„ ${e}`;return`Ù…Ø¯Ø®Ù„Ø§Øª ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„Ø©: ÙŠÙØªØ±Ø¶ Ø¥Ø¯Ø®Ø§Ù„ ${b}ØŒ ÙˆÙ„ÙƒÙ† ØªÙ… Ø¥Ø¯Ø®Ø§Ù„ ${e}`}case"invalid_value":if(1===a.values.length)return`Ù…Ø¯Ø®Ù„Ø§Øª ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„Ø©: ÙŠÙØªØ±Ø¶ Ø¥Ø¯Ø®Ø§Ù„ ${w6(a.values[0])}`;return`Ø§Ø®ØªÙŠØ§Ø± ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„: ÙŠØªÙˆÙ‚Ø¹ Ø§Ù†ØªÙ‚Ø§Ø¡ Ø£Ø­Ø¯ Ù‡Ø°Ù‡ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª: ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return` Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù„Ø§Ø²Ù…: ÙŠÙØªØ±Ø¶ Ø£Ù† ØªÙƒÙˆÙ† ${a.origin??"Ø§Ù„Ù‚ÙŠÙ…Ø©"} ${c} ${a.maximum.toString()} ${d.unit??"Ø¹Ù†ØµØ±"}`;return`Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù„Ø§Ø²Ù…: ÙŠÙØªØ±Ø¶ Ø£Ù† ØªÙƒÙˆÙ† ${a.origin??"Ø§Ù„Ù‚ÙŠÙ…Ø©"} ${c} ${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Ø£ØµØºØ± Ù…Ù† Ø§Ù„Ù„Ø§Ø²Ù…: ÙŠÙØªØ±Ø¶ Ù„Ù€ ${a.origin} Ø£Ù† ÙŠÙƒÙˆÙ† ${c} ${a.minimum.toString()} ${d.unit}`;return`Ø£ØµØºØ± Ù…Ù† Ø§Ù„Ù„Ø§Ø²Ù…: ÙŠÙØªØ±Ø¶ Ù„Ù€ ${a.origin} Ø£Ù† ÙŠÙƒÙˆÙ† ${c} ${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Ù†ÙŽØµ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„: ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ù€ "${a.prefix}"`;if("ends_with"===b.format)return`Ù†ÙŽØµ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„: ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ "${b.suffix}"`;if("includes"===b.format)return`Ù†ÙŽØµ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„: ÙŠØ¬Ø¨ Ø£Ù† ÙŠØªØ¶Ù…Ù‘ÙŽÙ† "${b.includes}"`;if("regex"===b.format)return`Ù†ÙŽØµ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„: ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ·Ø§Ø¨Ù‚ Ø§Ù„Ù†Ù…Ø· ${b.pattern}`;return`${c[b.format]??a.format} ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„`}case"not_multiple_of":return`Ø±Ù‚Ù… ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„: ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù…Ù† Ù…Ø¶Ø§Ø¹ÙØ§Øª ${a.divisor}`;case"unrecognized_keys":return`Ù…Ø¹Ø±Ù${a.keys.length>1?"Ø§Øª":""} ØºØ±ÙŠØ¨${a.keys.length>1?"Ø©":""}: ${wE(a.keys,"ØŒ ")}`;case"invalid_key":return`Ù…Ø¹Ø±Ù ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„ ÙÙŠ ${a.origin}`;case"invalid_union":default:return"Ù…Ø¯Ø®Ù„ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„";case"invalid_element":return`Ù…Ø¯Ø®Ù„ ØºÙŠØ± Ù…Ù‚Ø¨ÙˆÙ„ ÙÙŠ ${a.origin}`}}};function AW(){return{localeError:AV()}}let AX=()=>{let a={string:{unit:"simvol",verb:"olmalÄ±dÄ±r"},file:{unit:"bayt",verb:"olmalÄ±dÄ±r"},array:{unit:"element",verb:"olmalÄ±dÄ±r"},set:{unit:"element",verb:"olmalÄ±dÄ±r"}};function b(b){return a[b]??null}let c={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},d={nan:"NaN"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`YanlÄ±ÅŸ dÉ™yÉ™r: g\xf6zlÉ™nilÉ™n instanceof ${a.expected}, daxil olan ${e}`;return`YanlÄ±ÅŸ dÉ™yÉ™r: g\xf6zlÉ™nilÉ™n ${b}, daxil olan ${e}`}case"invalid_value":if(1===a.values.length)return`YanlÄ±ÅŸ dÉ™yÉ™r: g\xf6zlÉ™nilÉ™n ${w6(a.values[0])}`;return`YanlÄ±ÅŸ se\xe7im: aÅŸaÄŸÄ±dakÄ±lardan biri olmalÄ±dÄ±r: ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`\xc7ox b\xf6y\xfck: g\xf6zlÉ™nilÉ™n ${a.origin??"dÉ™yÉ™r"} ${c}${a.maximum.toString()} ${d.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlÉ™nilÉ™n ${a.origin??"dÉ™yÉ™r"} ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`\xc7ox ki\xe7ik: g\xf6zlÉ™nilÉ™n ${a.origin} ${c}${a.minimum.toString()} ${d.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlÉ™nilÉ™n ${a.origin} ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`YanlÄ±ÅŸ mÉ™tn: "${b.prefix}" ilÉ™ baÅŸlamalÄ±dÄ±r`;if("ends_with"===b.format)return`YanlÄ±ÅŸ mÉ™tn: "${b.suffix}" ilÉ™ bitmÉ™lidir`;if("includes"===b.format)return`YanlÄ±ÅŸ mÉ™tn: "${b.includes}" daxil olmalÄ±dÄ±r`;if("regex"===b.format)return`YanlÄ±ÅŸ mÉ™tn: ${b.pattern} ÅŸablonuna uyÄŸun olmalÄ±dÄ±r`;return`YanlÄ±ÅŸ ${c[b.format]??a.format}`}case"not_multiple_of":return`YanlÄ±ÅŸ É™dÉ™d: ${a.divisor} ilÉ™ b\xf6l\xfcnÉ™ bilÉ™n olmalÄ±dÄ±r`;case"unrecognized_keys":return`TanÄ±nmayan a\xe7ar${a.keys.length>1?"lar":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`${a.origin} daxilindÉ™ yanlÄ±ÅŸ a\xe7ar`;case"invalid_union":return"YanlÄ±ÅŸ dÉ™yÉ™r";case"invalid_element":return`${a.origin} daxilindÉ™ yanlÄ±ÅŸ dÉ™yÉ™r`;default:return`YanlÄ±ÅŸ dÉ™yÉ™r`}}};function AY(){return{localeError:AX()}}function AZ(a,b,c,d){let e=Math.abs(a),f=e%10,g=e%100;return g>=11&&g<=19?d:1===f?b:f>=2&&f<=4?c:d}let A$=()=>{let a={string:{unit:{one:"ÑÑ–Ð¼Ð²Ð°Ð»",few:"ÑÑ–Ð¼Ð²Ð°Ð»Ñ‹",many:"ÑÑ–Ð¼Ð²Ð°Ð»Ð°Ñž"},verb:"Ð¼ÐµÑ†ÑŒ"},array:{unit:{one:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚",few:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹",many:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ñž"},verb:"Ð¼ÐµÑ†ÑŒ"},set:{unit:{one:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚",few:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹",many:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°Ñž"},verb:"Ð¼ÐµÑ†ÑŒ"},file:{unit:{one:"Ð±Ð°Ð¹Ñ‚",few:"Ð±Ð°Ð¹Ñ‚Ñ‹",many:"Ð±Ð°Ð¹Ñ‚Ð°Ñž"},verb:"Ð¼ÐµÑ†ÑŒ"}};function b(b){return a[b]??null}let c={regex:"ÑƒÐ²Ð¾Ð´",email:"email Ð°Ð´Ñ€Ð°Ñ",url:"URL",emoji:"ÑÐ¼Ð¾Ð´Ð·Ñ–",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO Ð´Ð°Ñ‚Ð° Ñ– Ñ‡Ð°Ñ",date:"ISO Ð´Ð°Ñ‚Ð°",time:"ISO Ñ‡Ð°Ñ",duration:"ISO Ð¿Ñ€Ð°Ñ†ÑÐ³Ð»Ð°ÑÑ†ÑŒ",ipv4:"IPv4 Ð°Ð´Ñ€Ð°Ñ",ipv6:"IPv6 Ð°Ð´Ñ€Ð°Ñ",cidrv4:"IPv4 Ð´Ñ‹ÑÐ¿Ð°Ð·Ð¾Ð½",cidrv6:"IPv6 Ð´Ñ‹ÑÐ¿Ð°Ð·Ð¾Ð½",base64:"Ñ€Ð°Ð´Ð¾Ðº Ñƒ Ñ„Ð°Ñ€Ð¼Ð°Ñ†Ðµ base64",base64url:"Ñ€Ð°Ð´Ð¾Ðº Ñƒ Ñ„Ð°Ñ€Ð¼Ð°Ñ†Ðµ base64url",json_string:"JSON Ñ€Ð°Ð´Ð¾Ðº",e164:"Ð½ÑƒÐ¼Ð°Ñ€ E.164",jwt:"JWT",template_literal:"ÑƒÐ²Ð¾Ð´"},d={nan:"NaN",number:"Ð»Ñ–Ðº",array:"Ð¼Ð°ÑÑ–Ñž"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ÑžÐ²Ð¾Ð´: Ñ‡Ð°ÐºÐ°ÑžÑÑ instanceof ${a.expected}, Ð°Ñ‚Ñ€Ñ‹Ð¼Ð°Ð½Ð° ${e}`;return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ÑžÐ²Ð¾Ð´: Ñ‡Ð°ÐºÐ°ÑžÑÑ ${b}, Ð°Ñ‚Ñ€Ñ‹Ð¼Ð°Ð½Ð° ${e}`}case"invalid_value":if(1===a.values.length)return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ÑžÐ²Ð¾Ð´: Ñ‡Ð°ÐºÐ°Ð»Ð°ÑÑ ${w6(a.values[0])}`;return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ Ð²Ð°Ñ€Ñ‹ÑÐ½Ñ‚: Ñ‡Ð°ÐºÐ°ÑžÑÑ Ð°Ð´Ð·Ñ–Ð½ Ð· ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d){let b=AZ(Number(a.maximum),d.unit.one,d.unit.few,d.unit.many);return`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð° Ð²ÑÐ»Ñ–ÐºÑ–: Ñ‡Ð°ÐºÐ°Ð»Ð°ÑÑ, ÑˆÑ‚Ð¾ ${a.origin??"Ð·Ð½Ð°Ñ‡ÑÐ½Ð½Ðµ"} Ð¿Ð°Ð²Ñ–Ð½Ð½Ð° ${d.verb} ${c}${a.maximum.toString()} ${b}`}return`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð° Ð²ÑÐ»Ñ–ÐºÑ–: Ñ‡Ð°ÐºÐ°Ð»Ð°ÑÑ, ÑˆÑ‚Ð¾ ${a.origin??"Ð·Ð½Ð°Ñ‡ÑÐ½Ð½Ðµ"} Ð¿Ð°Ð²Ñ–Ð½Ð½Ð° Ð±Ñ‹Ñ†ÑŒ ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d){let b=AZ(Number(a.minimum),d.unit.one,d.unit.few,d.unit.many);return`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð° Ð¼Ð°Ð»Ñ‹: Ñ‡Ð°ÐºÐ°Ð»Ð°ÑÑ, ÑˆÑ‚Ð¾ ${a.origin} Ð¿Ð°Ð²Ñ–Ð½Ð½Ð° ${d.verb} ${c}${a.minimum.toString()} ${b}`}return`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð° Ð¼Ð°Ð»Ñ‹: Ñ‡Ð°ÐºÐ°Ð»Ð°ÑÑ, ÑˆÑ‚Ð¾ ${a.origin} Ð¿Ð°Ð²Ñ–Ð½Ð½Ð° Ð±Ñ‹Ñ†ÑŒ ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ Ñ€Ð°Ð´Ð¾Ðº: Ð¿Ð°Ð²Ñ–Ð½ÐµÐ½ Ð¿Ð°Ñ‡Ñ‹Ð½Ð°Ñ†Ñ†Ð° Ð· "${b.prefix}"`;if("ends_with"===b.format)return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ Ñ€Ð°Ð´Ð¾Ðº: Ð¿Ð°Ð²Ñ–Ð½ÐµÐ½ Ð·Ð°ÐºÐ°Ð½Ñ‡Ð²Ð°Ñ†Ñ†Ð° Ð½Ð° "${b.suffix}"`;if("includes"===b.format)return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ Ñ€Ð°Ð´Ð¾Ðº: Ð¿Ð°Ð²Ñ–Ð½ÐµÐ½ Ð·Ð¼ÑÑˆÑ‡Ð°Ñ†ÑŒ "${b.includes}"`;if("regex"===b.format)return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ Ñ€Ð°Ð´Ð¾Ðº: Ð¿Ð°Ð²Ñ–Ð½ÐµÐ½ Ð°Ð´Ð¿Ð°Ð²ÑÐ´Ð°Ñ†ÑŒ ÑˆÐ°Ð±Ð»Ð¾Ð½Ñƒ ${b.pattern}`;return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ${c[b.format]??a.format}`}case"not_multiple_of":return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ Ð»Ñ–Ðº: Ð¿Ð°Ð²Ñ–Ð½ÐµÐ½ Ð±Ñ‹Ñ†ÑŒ ÐºÑ€Ð°Ñ‚Ð½Ñ‹Ð¼ ${a.divisor}`;case"unrecognized_keys":return`ÐÐµÑ€Ð°ÑÐ¿Ð°Ð·Ð½Ð°Ð½Ñ‹ ${a.keys.length>1?"ÐºÐ»ÑŽÑ‡Ñ‹":"ÐºÐ»ÑŽÑ‡"}: ${wE(a.keys,", ")}`;case"invalid_key":return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ÐºÐ»ÑŽÑ‡ Ñƒ ${a.origin}`;case"invalid_union":return"ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ÑžÐ²Ð¾Ð´";case"invalid_element":return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ð°Ðµ Ð·Ð½Ð°Ñ‡ÑÐ½Ð½Ðµ Ñž ${a.origin}`;default:return`ÐÑÐ¿Ñ€Ð°Ð²Ñ–Ð»ÑŒÐ½Ñ‹ ÑžÐ²Ð¾Ð´`}}};function A_(){return{localeError:A$()}}let A0=()=>{let a={string:{unit:"ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°",verb:"Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð°"},file:{unit:"Ð±Ð°Ð¹Ñ‚Ð°",verb:"Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð°"},array:{unit:"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°",verb:"Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð°"},set:{unit:"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°",verb:"Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð°"}};function b(b){return a[b]??null}let c={regex:"Ð²Ñ…Ð¾Ð´",email:"Ð¸Ð¼ÐµÐ¹Ð» Ð°Ð´Ñ€ÐµÑ",url:"URL",emoji:"ÐµÐ¼Ð¾Ð´Ð¶Ð¸",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO Ð²Ñ€ÐµÐ¼Ðµ",date:"ISO Ð´Ð°Ñ‚Ð°",time:"ISO Ð²Ñ€ÐµÐ¼Ðµ",duration:"ISO Ð¿Ñ€Ð¾Ð´ÑŠÐ»Ð¶Ð¸Ñ‚ÐµÐ»Ð½Ð¾ÑÑ‚",ipv4:"IPv4 Ð°Ð´Ñ€ÐµÑ",ipv6:"IPv6 Ð°Ð´Ñ€ÐµÑ",cidrv4:"IPv4 Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½",cidrv6:"IPv6 Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½",base64:"base64-ÐºÐ¾Ð´Ð¸Ñ€Ð°Ð½ Ð½Ð¸Ð·",base64url:"base64url-ÐºÐ¾Ð´Ð¸Ñ€Ð°Ð½ Ð½Ð¸Ð·",json_string:"JSON Ð½Ð¸Ð·",e164:"E.164 Ð½Ð¾Ð¼ÐµÑ€",jwt:"JWT",template_literal:"Ð²Ñ…Ð¾Ð´"},d={nan:"NaN",number:"Ñ‡Ð¸ÑÐ»Ð¾",array:"Ð¼Ð°ÑÐ¸Ð²"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð²Ñ…Ð¾Ð´: Ð¾Ñ‡Ð°ÐºÐ²Ð°Ð½ instanceof ${a.expected}, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½ ${e}`;return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð²Ñ…Ð¾Ð´: Ð¾Ñ‡Ð°ÐºÐ²Ð°Ð½ ${b}, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½ ${e}`}case"invalid_value":if(1===a.values.length)return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð²Ñ…Ð¾Ð´: Ð¾Ñ‡Ð°ÐºÐ²Ð°Ð½ ${w6(a.values[0])}`;return`ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð° Ð¾Ð¿Ñ†Ð¸Ñ: Ð¾Ñ‡Ð°ÐºÐ²Ð°Ð½Ð¾ ÐµÐ´Ð½Ð¾ Ð¾Ñ‚ ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Ð¢Ð²ÑŠÑ€Ð´Ðµ Ð³Ð¾Ð»ÑÐ¼Ð¾: Ð¾Ñ‡Ð°ÐºÐ²Ð° ÑÐµ ${a.origin??"ÑÑ‚Ð¾Ð¹Ð½Ð¾ÑÑ‚"} Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð° ${c}${a.maximum.toString()} ${d.unit??"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°"}`;return`Ð¢Ð²ÑŠÑ€Ð´Ðµ Ð³Ð¾Ð»ÑÐ¼Ð¾: Ð¾Ñ‡Ð°ÐºÐ²Ð° ÑÐµ ${a.origin??"ÑÑ‚Ð¾Ð¹Ð½Ð¾ÑÑ‚"} Ð´Ð° Ð±ÑŠÐ´Ðµ ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Ð¢Ð²ÑŠÑ€Ð´Ðµ Ð¼Ð°Ð»ÐºÐ¾: Ð¾Ñ‡Ð°ÐºÐ²Ð° ÑÐµ ${a.origin} Ð´Ð° ÑÑŠÐ´ÑŠÑ€Ð¶Ð° ${c}${a.minimum.toString()} ${d.unit}`;return`Ð¢Ð²ÑŠÑ€Ð´Ðµ Ð¼Ð°Ð»ÐºÐ¾: Ð¾Ñ‡Ð°ÐºÐ²Ð° ÑÐµ ${a.origin} Ð´Ð° Ð±ÑŠÐ´Ðµ ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð½Ð¸Ð·: Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð·Ð°Ð¿Ð¾Ñ‡Ð²Ð° Ñ "${b.prefix}"`;if("ends_with"===b.format)return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð½Ð¸Ð·: Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð·Ð°Ð²ÑŠÑ€ÑˆÐ²Ð° Ñ "${b.suffix}"`;if("includes"===b.format)return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð½Ð¸Ð·: Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð²ÐºÐ»ÑŽÑ‡Ð²Ð° "${b.includes}"`;if("regex"===b.format)return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð½Ð¸Ð·: Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° ÑÑŠÐ²Ð¿Ð°Ð´Ð° Ñ ${b.pattern}`;let d="ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½";return"emoji"===b.format&&(d="ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð¾"),"datetime"===b.format&&(d="ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð¾"),"date"===b.format&&(d="ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð°"),"time"===b.format&&(d="ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð¾"),"duration"===b.format&&(d="ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð°"),`${d} ${c[b.format]??a.format}`}case"not_multiple_of":return`ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð¾ Ñ‡Ð¸ÑÐ»Ð¾: Ñ‚Ñ€ÑÐ±Ð²Ð° Ð´Ð° Ð±ÑŠÐ´Ðµ ÐºÑ€Ð°Ñ‚Ð½Ð¾ Ð½Ð° ${a.divisor}`;case"unrecognized_keys":return`ÐÐµÑ€Ð°Ð·Ð¿Ð¾Ð·Ð½Ð°Ñ‚${a.keys.length>1?"Ð¸":""} ÐºÐ»ÑŽÑ‡${a.keys.length>1?"Ð¾Ð²Ðµ":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ ÐºÐ»ÑŽÑ‡ Ð² ${a.origin}`;case"invalid_union":return"ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð²Ñ…Ð¾Ð´";case"invalid_element":return`ÐÐµÐ²Ð°Ð»Ð¸Ð´Ð½Ð° ÑÑ‚Ð¾Ð¹Ð½Ð¾ÑÑ‚ Ð² ${a.origin}`;default:return`ÐÐµÐ²Ð°Ð»Ð¸Ð´ÐµÐ½ Ð²Ñ…Ð¾Ð´`}}};function A1(){return{localeError:A0()}}let A2=()=>{let a={string:{unit:"carÃ cters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function b(b){return a[b]??null}let c={regex:"entrada",email:"adreÃ§a electrÃ²nica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adreÃ§a IPv4",ipv6:"adreÃ§a IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nÃºmero E.164",jwt:"JWT",template_literal:"entrada"},d={nan:"NaN"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Tipus inv\xe0lid: s'esperava instanceof ${a.expected}, s'ha rebut ${e}`;return`Tipus inv\xe0lid: s'esperava ${b}, s'ha rebut ${e}`}case"invalid_value":if(1===a.values.length)return`Valor inv\xe0lid: s'esperava ${w6(a.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${wE(a.values," o ")}`;case"too_big":{let c=a.inclusive?"com a mÃ xim":"menys de",d=b(a.origin);if(d)return`Massa gran: s'esperava que ${a.origin??"el valor"} contingu\xe9s ${c} ${a.maximum.toString()} ${d.unit??"elements"}`;return`Massa gran: s'esperava que ${a.origin??"el valor"} fos ${c} ${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?"com a mÃ­nim":"mÃ©s de",d=b(a.origin);if(d)return`Massa petit: s'esperava que ${a.origin} contingu\xe9s ${c} ${a.minimum.toString()} ${d.unit}`;return`Massa petit: s'esperava que ${a.origin} fos ${c} ${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${b.prefix}"`;if("ends_with"===b.format)return`Format inv\xe0lid: ha d'acabar amb "${b.suffix}"`;if("includes"===b.format)return`Format inv\xe0lid: ha d'incloure "${b.includes}"`;if("regex"===b.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${b.pattern}`;return`Format inv\xe0lid per a ${c[b.format]??a.format}`}case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${a.divisor}`;case"unrecognized_keys":return`Clau${a.keys.length>1?"s":""} no reconeguda${a.keys.length>1?"s":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${a.origin}`;case"invalid_union":return"Entrada invÃ lida";case"invalid_element":return`Element inv\xe0lid a ${a.origin}`;default:return`Entrada inv\xe0lida`}}};function A3(){return{localeError:A2()}}let A4=()=>{let a={string:{unit:"znakÅ¯",verb:"mÃ­t"},file:{unit:"bajtÅ¯",verb:"mÃ­t"},array:{unit:"prvkÅ¯",verb:"mÃ­t"},set:{unit:"prvkÅ¯",verb:"mÃ­t"}};function b(b){return a[b]??null}let c={regex:"regulÃ¡rnÃ­ vÃ½raz",email:"e-mailovÃ¡ adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a Äas ve formÃ¡tu ISO",date:"datum ve formÃ¡tu ISO",time:"Äas ve formÃ¡tu ISO",duration:"doba trvÃ¡nÃ­ ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"Å™etÄ›zec zakÃ³dovanÃ½ ve formÃ¡tu base64",base64url:"Å™etÄ›zec zakÃ³dovanÃ½ ve formÃ¡tu base64url",json_string:"Å™etÄ›zec ve formÃ¡tu JSON",e164:"ÄÃ­slo E.164",jwt:"JWT",template_literal:"vstup"},d={nan:"NaN",number:"ÄÃ­slo",string:"Å™etÄ›zec",function:"funkce",array:"pole"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Neplatn\xfd vstup: oÄek\xe1v\xe1no instanceof ${a.expected}, obdrÅ¾eno ${e}`;return`Neplatn\xfd vstup: oÄek\xe1v\xe1no ${b}, obdrÅ¾eno ${e}`}case"invalid_value":if(1===a.values.length)return`Neplatn\xfd vstup: oÄek\xe1v\xe1no ${w6(a.values[0])}`;return`Neplatn\xe1 moÅ¾nost: oÄek\xe1v\xe1na jedna z hodnot ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Hodnota je pÅ™\xedliÅ¡ velk\xe1: ${a.origin??"hodnota"} mus\xed m\xedt ${c}${a.maximum.toString()} ${d.unit??"prvkÅ¯"}`;return`Hodnota je pÅ™\xedliÅ¡ velk\xe1: ${a.origin??"hodnota"} mus\xed b\xfdt ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Hodnota je pÅ™\xedliÅ¡ mal\xe1: ${a.origin??"hodnota"} mus\xed m\xedt ${c}${a.minimum.toString()} ${d.unit??"prvkÅ¯"}`;return`Hodnota je pÅ™\xedliÅ¡ mal\xe1: ${a.origin??"hodnota"} mus\xed b\xfdt ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Neplatn\xfd Å™etÄ›zec: mus\xed zaÄ\xednat na "${b.prefix}"`;if("ends_with"===b.format)return`Neplatn\xfd Å™etÄ›zec: mus\xed konÄit na "${b.suffix}"`;if("includes"===b.format)return`Neplatn\xfd Å™etÄ›zec: mus\xed obsahovat "${b.includes}"`;if("regex"===b.format)return`Neplatn\xfd Å™etÄ›zec: mus\xed odpov\xeddat vzoru ${b.pattern}`;return`Neplatn\xfd form\xe1t ${c[b.format]??a.format}`}case"not_multiple_of":return`Neplatn\xe9 Ä\xedslo: mus\xed b\xfdt n\xe1sobkem ${a.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xedÄe: ${wE(a.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xedÄ v ${a.origin}`;case"invalid_union":return"NeplatnÃ½ vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${a.origin}`;default:return`Neplatn\xfd vstup`}}};function A5(){return{localeError:A4()}}let A6=()=>{let a={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}};function b(b){return a[b]??null}let c={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslÃ¦t",date:"ISO-dato",time:"ISO-klokkeslÃ¦t",duration:"ISO-varighed",ipv4:"IPv4-omrÃ¥de",ipv6:"IPv6-omrÃ¥de",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},d={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"sÃ¦t",file:"fil"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Ugyldigt input: forventede instanceof ${a.expected}, fik ${e}`;return`Ugyldigt input: forventede ${b}, fik ${e}`}case"invalid_value":if(1===a.values.length)return`Ugyldig v\xe6rdi: forventede ${w6(a.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",e=b(a.origin),f=d[a.origin]??a.origin;if(e)return`For stor: forventede ${f??"value"} ${e.verb} ${c} ${a.maximum.toString()} ${e.unit??"elementer"}`;return`For stor: forventede ${f??"value"} havde ${c} ${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",e=b(a.origin),f=d[a.origin]??a.origin;if(e)return`For lille: forventede ${f} ${e.verb} ${c} ${a.minimum.toString()} ${e.unit}`;return`For lille: forventede ${f} havde ${c} ${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Ugyldig streng: skal starte med "${b.prefix}"`;if("ends_with"===b.format)return`Ugyldig streng: skal ende med "${b.suffix}"`;if("includes"===b.format)return`Ugyldig streng: skal indeholde "${b.includes}"`;if("regex"===b.format)return`Ugyldig streng: skal matche m\xf8nsteret ${b.pattern}`;return`Ugyldig ${c[b.format]??a.format}`}case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${a.divisor}`;case"unrecognized_keys":return`${a.keys.length>1?"Ukendte nÃ¸gler":"Ukendt nÃ¸gle"}: ${wE(a.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${a.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${a.origin}`;default:return"Ugyldigt input"}}};function A7(){return{localeError:A6()}}let A8=()=>{let a={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function b(b){return a[b]??null}let c={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},d={nan:"NaN",number:"Zahl",array:"Array"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Ung\xfcltige Eingabe: erwartet instanceof ${a.expected}, erhalten ${e}`;return`Ung\xfcltige Eingabe: erwartet ${b}, erhalten ${e}`}case"invalid_value":if(1===a.values.length)return`Ung\xfcltige Eingabe: erwartet ${w6(a.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Zu gro\xdf: erwartet, dass ${a.origin??"Wert"} ${c}${a.maximum.toString()} ${d.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${a.origin??"Wert"} ${c}${a.maximum.toString()} ist`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Zu klein: erwartet, dass ${a.origin} ${c}${a.minimum.toString()} ${d.unit} hat`;return`Zu klein: erwartet, dass ${a.origin} ${c}${a.minimum.toString()} ist`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Ung\xfcltiger String: muss mit "${b.prefix}" beginnen`;if("ends_with"===b.format)return`Ung\xfcltiger String: muss mit "${b.suffix}" enden`;if("includes"===b.format)return`Ung\xfcltiger String: muss "${b.includes}" enthalten`;if("regex"===b.format)return`Ung\xfcltiger String: muss dem Muster ${b.pattern} entsprechen`;return`Ung\xfcltig: ${c[b.format]??a.format}`}case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${a.divisor} sein`;case"unrecognized_keys":return`${a.keys.length>1?"Unbekannte SchlÃ¼ssel":"Unbekannter SchlÃ¼ssel"}: ${wE(a.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${a.origin}`;case"invalid_union":return"UngÃ¼ltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${a.origin}`;default:return`Ung\xfcltige Eingabe`}}};function A9(){return{localeError:A8()}}let Ba=()=>{let a={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}};function b(b){return a[b]??null}let c={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},d={nan:"NaN"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;return`Invalid input: expected ${b}, received ${e}`}case"invalid_value":if(1===a.values.length)return`Invalid input: expected ${w6(a.values[0])}`;return`Invalid option: expected one of ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Too big: expected ${a.origin??"value"} to have ${c}${a.maximum.toString()} ${d.unit??"elements"}`;return`Too big: expected ${a.origin??"value"} to be ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Too small: expected ${a.origin} to have ${c}${a.minimum.toString()} ${d.unit}`;return`Too small: expected ${a.origin} to be ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Invalid string: must start with "${b.prefix}"`;if("ends_with"===b.format)return`Invalid string: must end with "${b.suffix}"`;if("includes"===b.format)return`Invalid string: must include "${b.includes}"`;if("regex"===b.format)return`Invalid string: must match pattern ${b.pattern}`;return`Invalid ${c[b.format]??a.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${a.divisor}`;case"unrecognized_keys":return`Unrecognized key${a.keys.length>1?"s":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`Invalid key in ${a.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${a.origin}`}}};function Bb(){return{localeError:Ba()}}let Bc=()=>{let a={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function b(b){return a[b]??null}let c={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoÄio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daÅ­ro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},d={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Nevalida enigo: atendiÄis instanceof ${a.expected}, riceviÄis ${e}`;return`Nevalida enigo: atendiÄis ${b}, riceviÄis ${e}`}case"invalid_value":if(1===a.values.length)return`Nevalida enigo: atendiÄis ${w6(a.values[0])}`;return`Nevalida opcio: atendiÄis unu el ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Tro granda: atendiÄis ke ${a.origin??"valoro"} havu ${c}${a.maximum.toString()} ${d.unit??"elementojn"}`;return`Tro granda: atendiÄis ke ${a.origin??"valoro"} havu ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Tro malgranda: atendiÄis ke ${a.origin} havu ${c}${a.minimum.toString()} ${d.unit}`;return`Tro malgranda: atendiÄis ke ${a.origin} estu ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Nevalida karaktraro: devas komenciÄi per "${b.prefix}"`;if("ends_with"===b.format)return`Nevalida karaktraro: devas finiÄi per "${b.suffix}"`;if("includes"===b.format)return`Nevalida karaktraro: devas inkluzivi "${b.includes}"`;if("regex"===b.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${b.pattern}`;return`Nevalida ${c[b.format]??a.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${a.divisor}`;case"unrecognized_keys":return`Nekonata${a.keys.length>1?"j":""} Ålosilo${a.keys.length>1?"j":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`Nevalida Ålosilo en ${a.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${a.origin}`}}};function Bd(){return{localeError:Bc()}}let Be=()=>{let a={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function b(b){return a[b]??null}let c={regex:"entrada",email:"direcciÃ³n de correo electrÃ³nico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duraciÃ³n ISO",ipv4:"direcciÃ³n IPv4",ipv6:"direcciÃ³n IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nÃºmero E.164",jwt:"JWT",template_literal:"entrada"},d={nan:"NaN",string:"texto",number:"nÃºmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nÃºmero grande",symbol:"sÃ­mbolo",undefined:"indefinido",null:"nulo",function:"funciÃ³n",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeraciÃ³n",union:"uniÃ³n",literal:"literal",promise:"promesa",void:"vacÃ­o",never:"nunca",unknown:"desconocido",any:"cualquiera"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Entrada inv\xe1lida: se esperaba instanceof ${a.expected}, recibido ${e}`;return`Entrada inv\xe1lida: se esperaba ${b}, recibido ${e}`}case"invalid_value":if(1===a.values.length)return`Entrada inv\xe1lida: se esperaba ${w6(a.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",e=b(a.origin),f=d[a.origin]??a.origin;if(e)return`Demasiado grande: se esperaba que ${f??"valor"} tuviera ${c}${a.maximum.toString()} ${e.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${f??"valor"} fuera ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",e=b(a.origin),f=d[a.origin]??a.origin;if(e)return`Demasiado peque\xf1o: se esperaba que ${f} tuviera ${c}${a.minimum.toString()} ${e.unit}`;return`Demasiado peque\xf1o: se esperaba que ${f} fuera ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Cadena inv\xe1lida: debe comenzar con "${b.prefix}"`;if("ends_with"===b.format)return`Cadena inv\xe1lida: debe terminar en "${b.suffix}"`;if("includes"===b.format)return`Cadena inv\xe1lida: debe incluir "${b.includes}"`;if("regex"===b.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${b.pattern}`;return`Inv\xe1lido ${c[b.format]??a.format}`}case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${a.divisor}`;case"unrecognized_keys":return`Llave${a.keys.length>1?"s":""} desconocida${a.keys.length>1?"s":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${d[a.origin]??a.origin}`;case"invalid_union":return"Entrada invÃ¡lida";case"invalid_element":return`Valor inv\xe1lido en ${d[a.origin]??a.origin}`;default:return`Entrada inv\xe1lida`}}};function Bf(){return{localeError:Be()}}let Bg=()=>{let a={string:{unit:"Ú©Ø§Ø±Ø§Ú©ØªØ±",verb:"Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯"},file:{unit:"Ø¨Ø§ÛŒØª",verb:"Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯"},array:{unit:"Ø¢ÛŒØªÙ…",verb:"Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯"},set:{unit:"Ø¢ÛŒØªÙ…",verb:"Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯"}};function b(b){return a[b]??null}let c={regex:"ÙˆØ±ÙˆØ¯ÛŒ",email:"Ø¢Ø¯Ø±Ø³ Ø§ÛŒÙ…ÛŒÙ„",url:"URL",emoji:"Ø§ÛŒÙ…ÙˆØ¬ÛŒ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ØªØ§Ø±ÛŒØ® Ùˆ Ø²Ù…Ø§Ù† Ø§ÛŒØ²Ùˆ",date:"ØªØ§Ø±ÛŒØ® Ø§ÛŒØ²Ùˆ",time:"Ø²Ù…Ø§Ù† Ø§ÛŒØ²Ùˆ",duration:"Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø§ÛŒØ²Ùˆ",ipv4:"IPv4 Ø¢Ø¯Ø±Ø³",ipv6:"IPv6 Ø¢Ø¯Ø±Ø³",cidrv4:"IPv4 Ø¯Ø§Ù…Ù†Ù‡",cidrv6:"IPv6 Ø¯Ø§Ù…Ù†Ù‡",base64:"base64-encoded Ø±Ø´ØªÙ‡",base64url:"base64url-encoded Ø±Ø´ØªÙ‡",json_string:"JSON Ø±Ø´ØªÙ‡",e164:"E.164 Ø¹Ø¯Ø¯",jwt:"JWT",template_literal:"ÙˆØ±ÙˆØ¯ÛŒ"},d={nan:"NaN",number:"Ø¹Ø¯Ø¯",array:"Ø¢Ø±Ø§ÛŒÙ‡"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ù…ÛŒâ€ŒØ¨Ø§ÛŒØ³Øª instanceof ${a.expected} Ù…ÛŒâ€ŒØ¨ÙˆØ¯ØŒ ${e} Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯`;return`ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ù…ÛŒâ€ŒØ¨Ø§ÛŒØ³Øª ${b} Ù…ÛŒâ€ŒØ¨ÙˆØ¯ØŒ ${e} Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯`}case"invalid_value":if(1===a.values.length)return`ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ù…ÛŒâ€ŒØ¨Ø§ÛŒØ³Øª ${w6(a.values[0])} Ù…ÛŒâ€ŒØ¨ÙˆØ¯`;return`Ú¯Ø²ÛŒÙ†Ù‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ù…ÛŒâ€ŒØ¨Ø§ÛŒØ³Øª ÛŒÚ©ÛŒ Ø§Ø² ${wE(a.values,"|")} Ù…ÛŒâ€ŒØ¨ÙˆØ¯`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Ø®ÛŒÙ„ÛŒ Ø¨Ø²Ø±Ú¯: ${a.origin??"Ù…Ù‚Ø¯Ø§Ø±"} Ø¨Ø§ÛŒØ¯ ${c}${a.maximum.toString()} ${d.unit??"Ø¹Ù†ØµØ±"} Ø¨Ø§Ø´Ø¯`;return`Ø®ÛŒÙ„ÛŒ Ø¨Ø²Ø±Ú¯: ${a.origin??"Ù…Ù‚Ø¯Ø§Ø±"} Ø¨Ø§ÛŒØ¯ ${c}${a.maximum.toString()} Ø¨Ø§Ø´Ø¯`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Ø®ÛŒÙ„ÛŒ Ú©ÙˆÚ†Ú©: ${a.origin} Ø¨Ø§ÛŒØ¯ ${c}${a.minimum.toString()} ${d.unit} Ø¨Ø§Ø´Ø¯`;return`Ø®ÛŒÙ„ÛŒ Ú©ÙˆÚ†Ú©: ${a.origin} Ø¨Ø§ÛŒØ¯ ${c}${a.minimum.toString()} Ø¨Ø§Ø´Ø¯`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Ø±Ø´ØªÙ‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ø¨Ø§ÛŒØ¯ Ø¨Ø§ "${b.prefix}" Ø´Ø±ÙˆØ¹ Ø´ÙˆØ¯`;if("ends_with"===b.format)return`Ø±Ø´ØªÙ‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ø¨Ø§ÛŒØ¯ Ø¨Ø§ "${b.suffix}" ØªÙ…Ø§Ù… Ø´ÙˆØ¯`;if("includes"===b.format)return`Ø±Ø´ØªÙ‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ø¨Ø§ÛŒØ¯ Ø´Ø§Ù…Ù„ "${b.includes}" Ø¨Ø§Ø´Ø¯`;if("regex"===b.format)return`Ø±Ø´ØªÙ‡ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ø§Ù„Ú¯ÙˆÛŒ ${b.pattern} Ù…Ø·Ø§Ø¨Ù‚Øª Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯`;return`${c[b.format]??a.format} Ù†Ø§Ù…Ø¹ØªØ¨Ø±`}case"not_multiple_of":return`Ø¹Ø¯Ø¯ Ù†Ø§Ù…Ø¹ØªØ¨Ø±: Ø¨Ø§ÛŒØ¯ Ù…Ø¶Ø±Ø¨ ${a.divisor} Ø¨Ø§Ø´Ø¯`;case"unrecognized_keys":return`Ú©Ù„ÛŒØ¯${a.keys.length>1?"Ù‡Ø§ÛŒ":""} Ù†Ø§Ø´Ù†Ø§Ø³: ${wE(a.keys,", ")}`;case"invalid_key":return`Ú©Ù„ÛŒØ¯ Ù†Ø§Ø´Ù†Ø§Ø³ Ø¯Ø± ${a.origin}`;case"invalid_union":default:return`ÙˆØ±ÙˆØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø±`;case"invalid_element":return`Ù…Ù‚Ø¯Ø§Ø± Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø¯Ø± ${a.origin}`}}};function Bh(){return{localeError:Bg()}}let Bi=()=>{let a={string:{unit:"merkkiÃ¤",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pÃ¤ivÃ¤mÃ¤Ã¤rÃ¤n"}};function b(b){return a[b]??null}let c={regex:"sÃ¤Ã¤nnÃ¶llinen lauseke",email:"sÃ¤hkÃ¶postiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pÃ¤ivÃ¤mÃ¤Ã¤rÃ¤",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},d={nan:"NaN"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Virheellinen tyyppi: odotettiin instanceof ${a.expected}, oli ${e}`;return`Virheellinen tyyppi: odotettiin ${b}, oli ${e}`}case"invalid_value":if(1===a.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${w6(a.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Liian suuri: ${d.subject} t\xe4ytyy olla ${c}${a.maximum.toString()} ${d.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Liian pieni: ${d.subject} t\xe4ytyy olla ${c}${a.minimum.toString()} ${d.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${b.prefix}"`;if("ends_with"===b.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${b.suffix}"`;if("includes"===b.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${b.includes}"`;if("regex"===b.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${b.pattern}`;return`Virheellinen ${c[b.format]??a.format}`}case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${a.divisor} monikerta`;case"unrecognized_keys":return`${a.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${wE(a.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}}};function Bj(){return{localeError:Bi()}}let Bk=()=>{let a={string:{unit:"caractÃ¨res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"Ã©lÃ©ments",verb:"avoir"},set:{unit:"Ã©lÃ©ments",verb:"avoir"}};function b(b){return a[b]??null}let c={regex:"entrÃ©e",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"durÃ©e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaÃ®ne encodÃ©e en base64",base64url:"chaÃ®ne encodÃ©e en base64url",json_string:"chaÃ®ne JSON",e164:"numÃ©ro E.164",jwt:"JWT",template_literal:"entrÃ©e"},d={nan:"NaN",number:"nombre",array:"tableau"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Entr\xe9e invalide : instanceof ${a.expected} attendu, ${e} re\xe7u`;return`Entr\xe9e invalide : ${b} attendu, ${e} re\xe7u`}case"invalid_value":if(1===a.values.length)return`Entr\xe9e invalide : ${w6(a.values[0])} attendu`;return`Option invalide : une valeur parmi ${wE(a.values,"|")} attendue`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Trop grand : ${a.origin??"valeur"} doit ${d.verb} ${c}${a.maximum.toString()} ${d.unit??"Ã©lÃ©ment(s)"}`;return`Trop grand : ${a.origin??"valeur"} doit \xeatre ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Trop petit : ${a.origin} doit ${d.verb} ${c}${a.minimum.toString()} ${d.unit}`;return`Trop petit : ${a.origin} doit \xeatre ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Cha\xeene invalide : doit commencer par "${b.prefix}"`;if("ends_with"===b.format)return`Cha\xeene invalide : doit se terminer par "${b.suffix}"`;if("includes"===b.format)return`Cha\xeene invalide : doit inclure "${b.includes}"`;if("regex"===b.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${b.pattern}`;return`${c[b.format]??a.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${a.divisor}`;case"unrecognized_keys":return`Cl\xe9${a.keys.length>1?"s":""} non reconnue${a.keys.length>1?"s":""} : ${wE(a.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${a.origin}`;case"invalid_union":return"EntrÃ©e invalide";case"invalid_element":return`Valeur invalide dans ${a.origin}`;default:return`Entr\xe9e invalide`}}};function Bl(){return{localeError:Bk()}}let Bm=()=>{let a={string:{unit:"caractÃ¨res",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"Ã©lÃ©ments",verb:"avoir"},set:{unit:"Ã©lÃ©ments",verb:"avoir"}};function b(b){return a[b]??null}let c={regex:"entrÃ©e",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"durÃ©e ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaÃ®ne encodÃ©e en base64",base64url:"chaÃ®ne encodÃ©e en base64url",json_string:"chaÃ®ne JSON",e164:"numÃ©ro E.164",jwt:"JWT",template_literal:"entrÃ©e"},d={nan:"NaN"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Entr\xe9e invalide : attendu instanceof ${a.expected}, re\xe7u ${e}`;return`Entr\xe9e invalide : attendu ${b}, re\xe7u ${e}`}case"invalid_value":if(1===a.values.length)return`Entr\xe9e invalide : attendu ${w6(a.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"â‰¤":"<",d=b(a.origin);if(d)return`Trop grand : attendu que ${a.origin??"la valeur"} ait ${c}${a.maximum.toString()} ${d.unit}`;return`Trop grand : attendu que ${a.origin??"la valeur"} soit ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?"â‰¥":">",d=b(a.origin);if(d)return`Trop petit : attendu que ${a.origin} ait ${c}${a.minimum.toString()} ${d.unit}`;return`Trop petit : attendu que ${a.origin} soit ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Cha\xeene invalide : doit commencer par "${b.prefix}"`;if("ends_with"===b.format)return`Cha\xeene invalide : doit se terminer par "${b.suffix}"`;if("includes"===b.format)return`Cha\xeene invalide : doit inclure "${b.includes}"`;if("regex"===b.format)return`Cha\xeene invalide : doit correspondre au motif ${b.pattern}`;return`${c[b.format]??a.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${a.divisor}`;case"unrecognized_keys":return`Cl\xe9${a.keys.length>1?"s":""} non reconnue${a.keys.length>1?"s":""} : ${wE(a.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${a.origin}`;case"invalid_union":return"EntrÃ©e invalide";case"invalid_element":return`Valeur invalide dans ${a.origin}`;default:return`Entr\xe9e invalide`}}};function Bn(){return{localeError:Bm()}}let Bo=()=>{let a={string:{label:"×ž×—×¨×•×–×ª",gender:"f"},number:{label:"×ž×¡×¤×¨",gender:"m"},boolean:{label:"×¢×¨×š ×‘×•×œ×™×× ×™",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"×ª××¨×™×š",gender:"m"},array:{label:"×ž×¢×¨×š",gender:"m"},object:{label:"××•×‘×™×™×§×˜",gender:"m"},null:{label:"×¢×¨×š ×¨×™×§ (null)",gender:"m"},undefined:{label:"×¢×¨×š ×œ× ×ž×•×’×“×¨ (undefined)",gender:"m"},symbol:{label:"×¡×™×ž×‘×•×œ (Symbol)",gender:"m"},function:{label:"×¤×•× ×§×¦×™×”",gender:"f"},map:{label:"×ž×¤×” (Map)",gender:"f"},set:{label:"×§×‘×•×¦×” (Set)",gender:"f"},file:{label:"×§×•×‘×¥",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"×¢×¨×š ×œ× ×™×“×•×¢",gender:"m"},value:{label:"×¢×¨×š",gender:"m"}},b={string:{unit:"×ª×•×•×™×",shortLabel:"×§×¦×¨",longLabel:"××¨×•×š"},file:{unit:"×‘×™×™×˜×™×",shortLabel:"×§×˜×Ÿ",longLabel:"×’×“×•×œ"},array:{unit:"×¤×¨×™×˜×™×",shortLabel:"×§×˜×Ÿ",longLabel:"×’×“×•×œ"},set:{unit:"×¤×¨×™×˜×™×",shortLabel:"×§×˜×Ÿ",longLabel:"×’×“×•×œ"},number:{unit:"",shortLabel:"×§×˜×Ÿ",longLabel:"×’×“×•×œ"}},c=b=>b?a[b]:void 0,d=b=>{let d=c(b);return d?d.label:b??a.unknown.label},e=a=>`×”${d(a)}`,f=a=>{let b=c(a);return"f"===(b?.gender??"m")?"×¦×¨×™×›×” ×œ×”×™×•×ª":"×¦×¨×™×š ×œ×”×™×•×ª"},g=a=>a?b[a]??null:null,h={regex:{label:"×§×œ×˜",gender:"m"},email:{label:"×›×ª×•×‘×ª ××™×ž×™×™×œ",gender:"f"},url:{label:"×›×ª×•×‘×ª ×¨×©×ª",gender:"f"},emoji:{label:"××™×ž×•×’'×™",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"×ª××¨×™×š ×•×–×ž×Ÿ ISO",gender:"m"},date:{label:"×ª××¨×™×š ISO",gender:"m"},time:{label:"×–×ž×Ÿ ISO",gender:"m"},duration:{label:"×ž×©×š ×–×ž×Ÿ ISO",gender:"m"},ipv4:{label:"×›×ª×•×‘×ª IPv4",gender:"f"},ipv6:{label:"×›×ª×•×‘×ª IPv6",gender:"f"},cidrv4:{label:"×˜×•×•×— IPv4",gender:"m"},cidrv6:{label:"×˜×•×•×— IPv6",gender:"m"},base64:{label:"×ž×—×¨×•×–×ª ×‘×‘×¡×™×¡ 64",gender:"f"},base64url:{label:"×ž×—×¨×•×–×ª ×‘×‘×¡×™×¡ 64 ×œ×›×ª×•×‘×•×ª ×¨×©×ª",gender:"f"},json_string:{label:"×ž×—×¨×•×–×ª JSON",gender:"f"},e164:{label:"×ž×¡×¤×¨ E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"×§×œ×˜",gender:"m"},includes:{label:"×§×œ×˜",gender:"m"},lowercase:{label:"×§×œ×˜",gender:"m"},starts_with:{label:"×§×œ×˜",gender:"m"},uppercase:{label:"×§×œ×˜",gender:"m"}},i={nan:"NaN"};return b=>{switch(b.code){case"invalid_type":{let c=b.expected,e=i[c??""]??d(c),f=xn(b.input),g=i[f]??a[f]?.label??f;if(/^[A-Z]/.test(b.expected))return`×§×œ×˜ ×œ× ×ª×§×™×Ÿ: ×¦×¨×™×š ×œ×”×™×•×ª instanceof ${b.expected}, ×”×ª×§×‘×œ ${g}`;return`×§×œ×˜ ×œ× ×ª×§×™×Ÿ: ×¦×¨×™×š ×œ×”×™×•×ª ${e}, ×”×ª×§×‘×œ ${g}`}case"invalid_value":{if(1===b.values.length)return`×¢×¨×š ×œ× ×ª×§×™×Ÿ: ×”×¢×¨×š ×—×™×™×‘ ×œ×”×™×•×ª ${w6(b.values[0])}`;let a=b.values.map(a=>w6(a));if(2===b.values.length)return`×¢×¨×š ×œ× ×ª×§×™×Ÿ: ×”××¤×©×¨×•×™×•×ª ×”×ž×ª××™×ž×•×ª ×”×Ÿ ${a[0]} ××• ${a[1]}`;let c=a[a.length-1],d=a.slice(0,-1).join(", ");return`×¢×¨×š ×œ× ×ª×§×™×Ÿ: ×”××¤×©×¨×•×™×•×ª ×”×ž×ª××™×ž×•×ª ×”×Ÿ ${d} ××• ${c}`}case"too_big":{let a=g(b.origin),c=e(b.origin??"value");if("string"===b.origin)return`${a?.longLabel??"××¨×•×š"} ×ž×“×™: ${c} ×¦×¨×™×›×” ×œ×”×›×™×œ ${b.maximum.toString()} ${a?.unit??""} ${b.inclusive?"××• ×¤×—×•×ª":"×œ×›×œ ×”×™×•×ª×¨"}`.trim();if("number"===b.origin){let a=b.inclusive?`×§×˜×Ÿ ××• ×©×•×•×” ×œ-${b.maximum}`:`×§×˜×Ÿ ×ž-${b.maximum}`;return`×’×“×•×œ ×ž×“×™: ${c} ×¦×¨×™×š ×œ×”×™×•×ª ${a}`}if("array"===b.origin||"set"===b.origin){let d="set"===b.origin?"×¦×¨×™×›×”":"×¦×¨×™×š",e=b.inclusive?`${b.maximum} ${a?.unit??""} ××• ×¤×—×•×ª`:`×¤×—×•×ª ×ž-${b.maximum} ${a?.unit??""}`;return`×’×“×•×œ ×ž×“×™: ${c} ${d} ×œ×”×›×™×œ ${e}`.trim()}let d=b.inclusive?"<=":"<",h=f(b.origin??"value");if(a?.unit)return`${a.longLabel} ×ž×“×™: ${c} ${h} ${d}${b.maximum.toString()} ${a.unit}`;return`${a?.longLabel??"×’×“×•×œ"} ×ž×“×™: ${c} ${h} ${d}${b.maximum.toString()}`}case"too_small":{let a=g(b.origin),c=e(b.origin??"value");if("string"===b.origin)return`${a?.shortLabel??"×§×¦×¨"} ×ž×“×™: ${c} ×¦×¨×™×›×” ×œ×”×›×™×œ ${b.minimum.toString()} ${a?.unit??""} ${b.inclusive?"××• ×™×•×ª×¨":"×œ×¤×—×•×ª"}`.trim();if("number"===b.origin){let a=b.inclusive?`×’×“×•×œ ××• ×©×•×•×” ×œ-${b.minimum}`:`×’×“×•×œ ×ž-${b.minimum}`;return`×§×˜×Ÿ ×ž×“×™: ${c} ×¦×¨×™×š ×œ×”×™×•×ª ${a}`}if("array"===b.origin||"set"===b.origin){let d="set"===b.origin?"×¦×¨×™×›×”":"×¦×¨×™×š";if(1===b.minimum&&b.inclusive){let a=(b.origin,"×œ×¤×—×•×ª ×¤×¨×™×˜ ××—×“");return`×§×˜×Ÿ ×ž×“×™: ${c} ${d} ×œ×”×›×™×œ ${a}`}let e=b.inclusive?`${b.minimum} ${a?.unit??""} ××• ×™×•×ª×¨`:`×™×•×ª×¨ ×ž-${b.minimum} ${a?.unit??""}`;return`×§×˜×Ÿ ×ž×“×™: ${c} ${d} ×œ×”×›×™×œ ${e}`.trim()}let d=b.inclusive?">=":">",h=f(b.origin??"value");if(a?.unit)return`${a.shortLabel} ×ž×“×™: ${c} ${h} ${d}${b.minimum.toString()} ${a.unit}`;return`${a?.shortLabel??"×§×˜×Ÿ"} ×ž×“×™: ${c} ${h} ${d}${b.minimum.toString()}`}case"invalid_format":{let a=b;if("starts_with"===a.format)return`×”×ž×—×¨×•×–×ª ×—×™×™×‘×ª ×œ×”×ª×—×™×œ ×‘ "${a.prefix}"`;if("ends_with"===a.format)return`×”×ž×—×¨×•×–×ª ×—×™×™×‘×ª ×œ×”×¡×ª×™×™× ×‘ "${a.suffix}"`;if("includes"===a.format)return`×”×ž×—×¨×•×–×ª ×—×™×™×‘×ª ×œ×›×œ×•×œ "${a.includes}"`;if("regex"===a.format)return`×”×ž×—×¨×•×–×ª ×—×™×™×‘×ª ×œ×”×ª××™× ×œ×ª×‘× ×™×ª ${a.pattern}`;let c=h[a.format],d=c?.label??a.format,e="f"===(c?.gender??"m")?"×ª×§×™× ×”":"×ª×§×™×Ÿ";return`${d} ×œ× ${e}`}case"not_multiple_of":return`×ž×¡×¤×¨ ×œ× ×ª×§×™×Ÿ: ×—×™×™×‘ ×œ×”×™×•×ª ×ž×›×¤×œ×” ×©×œ ${b.divisor}`;case"unrecognized_keys":return`×ž×¤×ª×—${b.keys.length>1?"×•×ª":""} ×œ× ×ž×–×•×”${b.keys.length>1?"×™×":"×”"}: ${wE(b.keys,", ")}`;case"invalid_key":return`×©×“×” ×œ× ×ª×§×™×Ÿ ×‘××•×‘×™×™×§×˜`;case"invalid_union":return"×§×œ×˜ ×œ× ×ª×§×™×Ÿ";case"invalid_element":{let a=e(b.origin??"array");return`×¢×¨×š ×œ× ×ª×§×™×Ÿ ×‘${a}`}default:return`×§×œ×˜ ×œ× ×ª×§×™×Ÿ`}}};function Bp(){return{localeError:Bo()}}let Bq=()=>{let a={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function b(b){return a[b]??null}let c={regex:"bemenet",email:"email cÃ­m",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idÅ‘bÃ©lyeg",date:"ISO dÃ¡tum",time:"ISO idÅ‘",duration:"ISO idÅ‘intervallum",ipv4:"IPv4 cÃ­m",ipv6:"IPv6 cÃ­m",cidrv4:"IPv4 tartomÃ¡ny",cidrv6:"IPv6 tartomÃ¡ny",base64:"base64-kÃ³dolt string",base64url:"base64url-kÃ³dolt string",json_string:"JSON string",e164:"E.164 szÃ¡m",jwt:"JWT",template_literal:"bemenet"},d={nan:"NaN",number:"szÃ¡m",array:"tÃ¶mb"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k instanceof ${a.expected}, a kapott \xe9rt\xe9k ${e}`;return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${b}, a kapott \xe9rt\xe9k ${e}`}case"invalid_value":if(1===a.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${w6(a.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`T\xfal nagy: ${a.origin??"Ã©rtÃ©k"} m\xe9rete t\xfal nagy ${c}${a.maximum.toString()} ${d.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${a.origin??"Ã©rtÃ©k"} t\xfal nagy: ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${a.origin} m\xe9rete t\xfal kicsi ${c}${a.minimum.toString()} ${d.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${a.origin} t\xfal kicsi ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`\xc9rv\xe9nytelen string: "${b.prefix}" \xe9rt\xe9kkel kell kezdÅ‘dnie`;if("ends_with"===b.format)return`\xc9rv\xe9nytelen string: "${b.suffix}" \xe9rt\xe9kkel kell v\xe9gzÅ‘dnie`;if("includes"===b.format)return`\xc9rv\xe9nytelen string: "${b.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===b.format)return`\xc9rv\xe9nytelen string: ${b.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${c[b.format]??a.format}`}case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${a.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${a.keys.length>1?"s":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${a.origin}`;case"invalid_union":return"Ã‰rvÃ©nytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${a.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}}};function Br(){return{localeError:Bq()}}function Bs(a,b,c){return 1===Math.abs(a)?b:c}function Bt(a){if(!a)return"";let b=["Õ¡","Õ¥","Õ¨","Õ«","Õ¸","Õ¸Ö‚","Ö…"],c=a[a.length-1];return a+(b.includes(c)?"Õ¶":"Õ¨")}let Bu=()=>{let a={string:{unit:{one:"Õ¶Õ·Õ¡Õ¶",many:"Õ¶Õ·Õ¡Õ¶Õ¶Õ¥Ö€"},verb:"Õ¸Ö‚Õ¶Õ¥Õ¶Õ¡Õ¬"},file:{unit:{one:"Õ¢Õ¡ÕµÕ©",many:"Õ¢Õ¡ÕµÕ©Õ¥Ö€"},verb:"Õ¸Ö‚Õ¶Õ¥Õ¶Õ¡Õ¬"},array:{unit:{one:"Õ¿Õ¡Ö€Ö€",many:"Õ¿Õ¡Ö€Ö€Õ¥Ö€"},verb:"Õ¸Ö‚Õ¶Õ¥Õ¶Õ¡Õ¬"},set:{unit:{one:"Õ¿Õ¡Ö€Ö€",many:"Õ¿Õ¡Ö€Ö€Õ¥Ö€"},verb:"Õ¸Ö‚Õ¶Õ¥Õ¶Õ¡Õ¬"}};function b(b){return a[b]??null}let c={regex:"Õ´Õ¸Ö‚Õ¿Ö„",email:"Õ§Õ¬. Õ°Õ¡Õ½ÖÕ¥",url:"URL",emoji:"Õ§Õ´Õ¸Õ»Õ«",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO Õ¡Õ´Õ½Õ¡Õ©Õ«Õ¾ Ö‡ ÕªÕ¡Õ´",date:"ISO Õ¡Õ´Õ½Õ¡Õ©Õ«Õ¾",time:"ISO ÕªÕ¡Õ´",duration:"ISO Õ¿Ö‡Õ¸Õ²Õ¸Ö‚Õ©ÕµÕ¸Ö‚Õ¶",ipv4:"IPv4 Õ°Õ¡Õ½ÖÕ¥",ipv6:"IPv6 Õ°Õ¡Õ½ÖÕ¥",cidrv4:"IPv4 Õ´Õ«Õ»Õ¡Õ¯Õ¡ÕµÖ„",cidrv6:"IPv6 Õ´Õ«Õ»Õ¡Õ¯Õ¡ÕµÖ„",base64:"base64 Õ±Ö‡Õ¡Õ¹Õ¡ÖƒÕ¸Õ¾ Õ¿Õ¸Õ²",base64url:"base64url Õ±Ö‡Õ¡Õ¹Õ¡ÖƒÕ¸Õ¾ Õ¿Õ¸Õ²",json_string:"JSON Õ¿Õ¸Õ²",e164:"E.164 Õ°Õ¡Õ´Õ¡Ö€",jwt:"JWT",template_literal:"Õ´Õ¸Ö‚Õ¿Ö„"},d={nan:"NaN",number:"Õ©Õ«Õ¾",array:"Õ¦Õ¡Õ¶Õ£Õ¾Õ¡Õ®"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`ÕÕ­Õ¡Õ¬ Õ´Õ¸Ö‚Õ¿Ö„Õ¡Õ£Ö€Õ¸Ö‚Õ´â€¤ Õ½ÕºÕ¡Õ½Õ¾Õ¸Ö‚Õ´ Õ§Ö€ instanceof ${a.expected}, Õ½Õ¿Õ¡ÖÕ¾Õ¥Õ¬ Õ§ ${e}`;return`ÕÕ­Õ¡Õ¬ Õ´Õ¸Ö‚Õ¿Ö„Õ¡Õ£Ö€Õ¸Ö‚Õ´â€¤ Õ½ÕºÕ¡Õ½Õ¾Õ¸Ö‚Õ´ Õ§Ö€ ${b}, Õ½Õ¿Õ¡ÖÕ¾Õ¥Õ¬ Õ§ ${e}`}case"invalid_value":if(1===a.values.length)return`ÕÕ­Õ¡Õ¬ Õ´Õ¸Ö‚Õ¿Ö„Õ¡Õ£Ö€Õ¸Ö‚Õ´â€¤ Õ½ÕºÕ¡Õ½Õ¾Õ¸Ö‚Õ´ Õ§Ö€ ${w6(a.values[1])}`;return`ÕÕ­Õ¡Õ¬ Õ¿Õ¡Ö€Õ¢Õ¥Ö€Õ¡Õ¯â€¤ Õ½ÕºÕ¡Õ½Õ¾Õ¸Ö‚Õ´ Õ§Ö€ Õ°Õ¥Õ¿Ö‡ÕµÕ¡Õ¬Õ¶Õ¥Ö€Õ«Ö Õ´Õ¥Õ¯Õ¨Õ ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d){let b=Bs(Number(a.maximum),d.unit.one,d.unit.many);return`Õ‰Õ¡ÖƒÕ¡Õ¦Õ¡Õ¶Ö Õ´Õ¥Õ® Õ¡Ö€ÕªÕ¥Ö„â€¤ Õ½ÕºÕ¡Õ½Õ¾Õ¸Ö‚Õ´ Õ§, Õ¸Ö€ ${Bt(a.origin??"Õ¡Ö€ÕªÕ¥Ö„")} Õ¯Õ¸Ö‚Õ¶Õ¥Õ¶Õ¡ ${c}${a.maximum.toString()} ${b}`}return`Õ‰Õ¡ÖƒÕ¡Õ¦Õ¡Õ¶Ö Õ´Õ¥Õ® Õ¡Ö€ÕªÕ¥Ö„â€¤ Õ½ÕºÕ¡Õ½Õ¾Õ¸Ö‚Õ´ Õ§, Õ¸Ö€ ${Bt(a.origin??"Õ¡Ö€ÕªÕ¥Ö„")} Õ¬Õ«Õ¶Õ« ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d){let b=Bs(Number(a.minimum),d.unit.one,d.unit.many);return`Õ‰Õ¡ÖƒÕ¡Õ¦Õ¡Õ¶Ö ÖƒÕ¸Ö„Ö€ Õ¡Ö€ÕªÕ¥Ö„â€¤ Õ½ÕºÕ¡Õ½Õ¾Õ¸Ö‚Õ´ Õ§, Õ¸Ö€ ${Bt(a.origin)} Õ¯Õ¸Ö‚Õ¶Õ¥Õ¶Õ¡ ${c}${a.minimum.toString()} ${b}`}return`Õ‰Õ¡ÖƒÕ¡Õ¦Õ¡Õ¶Ö ÖƒÕ¸Ö„Ö€ Õ¡Ö€ÕªÕ¥Ö„â€¤ Õ½ÕºÕ¡Õ½Õ¾Õ¸Ö‚Õ´ Õ§, Õ¸Ö€ ${Bt(a.origin)} Õ¬Õ«Õ¶Õ« ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`ÕÕ­Õ¡Õ¬ Õ¿Õ¸Õ²â€¤ ÕºÕ¥Õ¿Ö„ Õ§ Õ½Õ¯Õ½Õ¾Õ« "${b.prefix}"-Õ¸Õ¾`;if("ends_with"===b.format)return`ÕÕ­Õ¡Õ¬ Õ¿Õ¸Õ²â€¤ ÕºÕ¥Õ¿Ö„ Õ§ Õ¡Õ¾Õ¡Ö€Õ¿Õ¾Õ« "${b.suffix}"-Õ¸Õ¾`;if("includes"===b.format)return`ÕÕ­Õ¡Õ¬ Õ¿Õ¸Õ²â€¤ ÕºÕ¥Õ¿Ö„ Õ§ ÕºÕ¡Ö€Õ¸Ö‚Õ¶Õ¡Õ¯Õ« "${b.includes}"`;if("regex"===b.format)return`ÕÕ­Õ¡Õ¬ Õ¿Õ¸Õ²â€¤ ÕºÕ¥Õ¿Ö„ Õ§ Õ°Õ¡Õ´Õ¡ÕºÕ¡Õ¿Õ¡Õ½Õ­Õ¡Õ¶Õ« ${b.pattern} Õ±Ö‡Õ¡Õ¹Õ¡ÖƒÕ«Õ¶`;return`ÕÕ­Õ¡Õ¬ ${c[b.format]??a.format}`}case"not_multiple_of":return`ÕÕ­Õ¡Õ¬ Õ©Õ«Õ¾â€¤ ÕºÕ¥Õ¿Ö„ Õ§ Õ¢Õ¡Õ¦Õ´Õ¡ÕºÕ¡Õ¿Õ«Õ¯ Õ¬Õ«Õ¶Õ« ${a.divisor}-Õ«`;case"unrecognized_keys":return`Õ‰Õ³Õ¡Õ¶Õ¡Õ¹Õ¾Õ¡Õ® Õ¢Õ¡Õ¶Õ¡Õ¬Õ«${a.keys.length>1?"Õ¶Õ¥Ö€":""}. ${wE(a.keys,", ")}`;case"invalid_key":return`ÕÕ­Õ¡Õ¬ Õ¢Õ¡Õ¶Õ¡Õ¬Õ« ${Bt(a.origin)}-Õ¸Ö‚Õ´`;case"invalid_union":return"ÕÕ­Õ¡Õ¬ Õ´Õ¸Ö‚Õ¿Ö„Õ¡Õ£Ö€Õ¸Ö‚Õ´";case"invalid_element":return`ÕÕ­Õ¡Õ¬ Õ¡Ö€ÕªÕ¥Ö„ ${Bt(a.origin)}-Õ¸Ö‚Õ´`;default:return`ÕÕ­Õ¡Õ¬ Õ´Õ¸Ö‚Õ¿Ö„Õ¡Õ£Ö€Õ¸Ö‚Õ´`}}};function Bv(){return{localeError:Bu()}}let Bw=()=>{let a={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function b(b){return a[b]??null}let c={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},d={nan:"NaN"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Input tidak valid: diharapkan instanceof ${a.expected}, diterima ${e}`;return`Input tidak valid: diharapkan ${b}, diterima ${e}`}case"invalid_value":if(1===a.values.length)return`Input tidak valid: diharapkan ${w6(a.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Terlalu besar: diharapkan ${a.origin??"value"} memiliki ${c}${a.maximum.toString()} ${d.unit??"elemen"}`;return`Terlalu besar: diharapkan ${a.origin??"value"} menjadi ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Terlalu kecil: diharapkan ${a.origin} memiliki ${c}${a.minimum.toString()} ${d.unit}`;return`Terlalu kecil: diharapkan ${a.origin} menjadi ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`String tidak valid: harus dimulai dengan "${b.prefix}"`;if("ends_with"===b.format)return`String tidak valid: harus berakhir dengan "${b.suffix}"`;if("includes"===b.format)return`String tidak valid: harus menyertakan "${b.includes}"`;if("regex"===b.format)return`String tidak valid: harus sesuai pola ${b.pattern}`;return`${c[b.format]??a.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${a.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${a.keys.length>1?"s":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${a.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${a.origin}`}}};function Bx(){return{localeError:Bw()}}let By=()=>{let a={string:{unit:"stafi",verb:"aÃ° hafa"},file:{unit:"bÃ¦ti",verb:"aÃ° hafa"},array:{unit:"hluti",verb:"aÃ° hafa"},set:{unit:"hluti",verb:"aÃ° hafa"}};function b(b){return a[b]??null}let c={regex:"gildi",email:"netfang",url:"vefslÃ³Ã°",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tÃ­mi",date:"ISO dagsetning",time:"ISO tÃ­mi",duration:"ISO tÃ­malengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tÃ¶lugildi",jwt:"JWT",template_literal:"gildi"},d={nan:"NaN",number:"nÃºmer",array:"fylki"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Rangt gildi: \xde\xfa sl\xf3st inn ${e} \xfear sem \xe1 a\xf0 vera instanceof ${a.expected}`;return`Rangt gildi: \xde\xfa sl\xf3st inn ${e} \xfear sem \xe1 a\xf0 vera ${b}`}case"invalid_value":if(1===a.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${w6(a.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${a.origin??"gildi"} hafi ${c}${a.maximum.toString()} ${d.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${a.origin??"gildi"} s\xe9 ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${a.origin} hafi ${c}${a.minimum.toString()} ${d.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${a.origin} s\xe9 ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${b.prefix}"`;if("ends_with"===b.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${b.suffix}"`;if("includes"===b.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${b.includes}"`;if("regex"===b.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${b.pattern}`;return`Rangt ${c[b.format]??a.format}`}case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${a.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${a.keys.length>1?"ir lyklar":"ur lykill"}: ${wE(a.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${a.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${a.origin}`}}};function Bz(){return{localeError:By()}}let BA=()=>{let a={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function b(b){return a[b]??null}let c={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},d={nan:"NaN",number:"numero",array:"vettore"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Input non valido: atteso instanceof ${a.expected}, ricevuto ${e}`;return`Input non valido: atteso ${b}, ricevuto ${e}`}case"invalid_value":if(1===a.values.length)return`Input non valido: atteso ${w6(a.values[0])}`;return`Opzione non valida: atteso uno tra ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Troppo grande: ${a.origin??"valore"} deve avere ${c}${a.maximum.toString()} ${d.unit??"elementi"}`;return`Troppo grande: ${a.origin??"valore"} deve essere ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Troppo piccolo: ${a.origin} deve avere ${c}${a.minimum.toString()} ${d.unit}`;return`Troppo piccolo: ${a.origin} deve essere ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Stringa non valida: deve iniziare con "${b.prefix}"`;if("ends_with"===b.format)return`Stringa non valida: deve terminare con "${b.suffix}"`;if("includes"===b.format)return`Stringa non valida: deve includere "${b.includes}"`;if("regex"===b.format)return`Stringa non valida: deve corrispondere al pattern ${b.pattern}`;return`Invalid ${c[b.format]??a.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${a.divisor}`;case"unrecognized_keys":return`Chiav${a.keys.length>1?"i":"e"} non riconosciut${a.keys.length>1?"e":"a"}: ${wE(a.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${a.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${a.origin}`}}};function BB(){return{localeError:BA()}}let BC=()=>{let a={string:{unit:"æ–‡å­—",verb:"ã§ã‚ã‚‹"},file:{unit:"ãƒã‚¤ãƒˆ",verb:"ã§ã‚ã‚‹"},array:{unit:"è¦ç´ ",verb:"ã§ã‚ã‚‹"},set:{unit:"è¦ç´ ",verb:"ã§ã‚ã‚‹"}};function b(b){return a[b]??null}let c={regex:"å…¥åŠ›å€¤",email:"ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",url:"URL",emoji:"çµµæ–‡å­—",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISOæ—¥æ™‚",date:"ISOæ—¥ä»˜",time:"ISOæ™‚åˆ»",duration:"ISOæœŸé–“",ipv4:"IPv4ã‚¢ãƒ‰ãƒ¬ã‚¹",ipv6:"IPv6ã‚¢ãƒ‰ãƒ¬ã‚¹",cidrv4:"IPv4ç¯„å›²",cidrv6:"IPv6ç¯„å›²",base64:"base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰æ–‡å­—åˆ—",base64url:"base64urlã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰æ–‡å­—åˆ—",json_string:"JSONæ–‡å­—åˆ—",e164:"E.164ç•ªå·",jwt:"JWT",template_literal:"å…¥åŠ›å€¤"},d={nan:"NaN",number:"æ•°å€¤",array:"é…åˆ—"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`ç„¡åŠ¹ãªå…¥åŠ›: instanceof ${a.expected}ãŒæœŸå¾…ã•ã‚Œã¾ã—ãŸãŒã€${e}ãŒå…¥åŠ›ã•ã‚Œã¾ã—ãŸ`;return`ç„¡åŠ¹ãªå…¥åŠ›: ${b}ãŒæœŸå¾…ã•ã‚Œã¾ã—ãŸãŒã€${e}ãŒå…¥åŠ›ã•ã‚Œã¾ã—ãŸ`}case"invalid_value":if(1===a.values.length)return`ç„¡åŠ¹ãªå…¥åŠ›: ${w6(a.values[0])}ãŒæœŸå¾…ã•ã‚Œã¾ã—ãŸ`;return`ç„¡åŠ¹ãªé¸æŠž: ${wE(a.values,"ã€")}ã®ã„ãšã‚Œã‹ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™`;case"too_big":{let c=a.inclusive?"ä»¥ä¸‹ã§ã‚ã‚‹":"ã‚ˆã‚Šå°ã•ã„",d=b(a.origin);if(d)return`å¤§ãã™ãŽã‚‹å€¤: ${a.origin??"å€¤"}ã¯${a.maximum.toString()}${d.unit??"è¦ç´ "}${c}å¿…è¦ãŒã‚ã‚Šã¾ã™`;return`å¤§ãã™ãŽã‚‹å€¤: ${a.origin??"å€¤"}ã¯${a.maximum.toString()}${c}å¿…è¦ãŒã‚ã‚Šã¾ã™`}case"too_small":{let c=a.inclusive?"ä»¥ä¸Šã§ã‚ã‚‹":"ã‚ˆã‚Šå¤§ãã„",d=b(a.origin);if(d)return`å°ã•ã™ãŽã‚‹å€¤: ${a.origin}ã¯${a.minimum.toString()}${d.unit}${c}å¿…è¦ãŒã‚ã‚Šã¾ã™`;return`å°ã•ã™ãŽã‚‹å€¤: ${a.origin}ã¯${a.minimum.toString()}${c}å¿…è¦ãŒã‚ã‚Šã¾ã™`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`ç„¡åŠ¹ãªæ–‡å­—åˆ—: "${b.prefix}"ã§å§‹ã¾ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™`;if("ends_with"===b.format)return`ç„¡åŠ¹ãªæ–‡å­—åˆ—: "${b.suffix}"ã§çµ‚ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™`;if("includes"===b.format)return`ç„¡åŠ¹ãªæ–‡å­—åˆ—: "${b.includes}"ã‚’å«ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™`;if("regex"===b.format)return`ç„¡åŠ¹ãªæ–‡å­—åˆ—: ãƒ‘ã‚¿ãƒ¼ãƒ³${b.pattern}ã«ä¸€è‡´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™`;return`ç„¡åŠ¹ãª${c[b.format]??a.format}`}case"not_multiple_of":return`ç„¡åŠ¹ãªæ•°å€¤: ${a.divisor}ã®å€æ•°ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™`;case"unrecognized_keys":return`èªè­˜ã•ã‚Œã¦ã„ãªã„ã‚­ãƒ¼${a.keys.length>1?"ç¾¤":""}: ${wE(a.keys,"ã€")}`;case"invalid_key":return`${a.origin}å†…ã®ç„¡åŠ¹ãªã‚­ãƒ¼`;case"invalid_union":return"ç„¡åŠ¹ãªå…¥åŠ›";case"invalid_element":return`${a.origin}å†…ã®ç„¡åŠ¹ãªå€¤`;default:return`ç„¡åŠ¹ãªå…¥åŠ›`}}};function BD(){return{localeError:BC()}}let BE=()=>{let a={string:{unit:"áƒ¡áƒ˜áƒ›áƒ‘áƒáƒšáƒ",verb:"áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡"},file:{unit:"áƒ‘áƒáƒ˜áƒ¢áƒ˜",verb:"áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡"},array:{unit:"áƒ”áƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒ˜",verb:"áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡"},set:{unit:"áƒ”áƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒ˜",verb:"áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡"}};function b(b){return a[b]??null}let c={regex:"áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ",email:"áƒ”áƒš-áƒ¤áƒáƒ¡áƒ¢áƒ˜áƒ¡ áƒ›áƒ˜áƒ¡áƒáƒ›áƒáƒ áƒ—áƒ˜",url:"URL",emoji:"áƒ”áƒ›áƒáƒ¯áƒ˜",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"áƒ—áƒáƒ áƒ˜áƒ¦áƒ˜-áƒ“áƒ áƒ",date:"áƒ—áƒáƒ áƒ˜áƒ¦áƒ˜",time:"áƒ“áƒ áƒ",duration:"áƒ®áƒáƒœáƒ’áƒ áƒ«áƒšáƒ˜áƒ•áƒáƒ‘áƒ",ipv4:"IPv4 áƒ›áƒ˜áƒ¡áƒáƒ›áƒáƒ áƒ—áƒ˜",ipv6:"IPv6 áƒ›áƒ˜áƒ¡áƒáƒ›áƒáƒ áƒ—áƒ˜",cidrv4:"IPv4 áƒ“áƒ˜áƒáƒžáƒáƒ–áƒáƒœáƒ˜",cidrv6:"IPv6 áƒ“áƒ˜áƒáƒžáƒáƒ–áƒáƒœáƒ˜",base64:"base64-áƒ™áƒáƒ“áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜",base64url:"base64url-áƒ™áƒáƒ“áƒ˜áƒ áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜",json_string:"JSON áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜",e164:"E.164 áƒœáƒáƒ›áƒ”áƒ áƒ˜",jwt:"JWT",template_literal:"áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ"},d={nan:"NaN",number:"áƒ áƒ˜áƒªáƒ®áƒ•áƒ˜",string:"áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜",boolean:"áƒ‘áƒ£áƒšáƒ”áƒáƒœáƒ˜",function:"áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ",array:"áƒ›áƒáƒ¡áƒ˜áƒ•áƒ˜"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ instanceof ${a.expected}, áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜ ${e}`;return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ ${b}, áƒ›áƒ˜áƒ¦áƒ”áƒ‘áƒ£áƒšáƒ˜ ${e}`}case"invalid_value":if(1===a.values.length)return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ ${w6(a.values[0])}`;return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ•áƒáƒ áƒ˜áƒáƒœáƒ¢áƒ˜: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜áƒ áƒ”áƒ áƒ—-áƒ”áƒ áƒ—áƒ˜ ${wE(a.values,"|")}-áƒ“áƒáƒœ`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`áƒ–áƒ”áƒ“áƒ›áƒ”áƒ¢áƒáƒ“ áƒ“áƒ˜áƒ“áƒ˜: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ ${a.origin??"áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ"} ${d.verb} ${c}${a.maximum.toString()} ${d.unit}`;return`áƒ–áƒ”áƒ“áƒ›áƒ”áƒ¢áƒáƒ“ áƒ“áƒ˜áƒ“áƒ˜: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ ${a.origin??"áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ"} áƒ˜áƒ§áƒáƒ¡ ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`áƒ–áƒ”áƒ“áƒ›áƒ”áƒ¢áƒáƒ“ áƒžáƒáƒ¢áƒáƒ áƒ: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ ${a.origin} ${d.verb} ${c}${a.minimum.toString()} ${d.unit}`;return`áƒ–áƒ”áƒ“áƒ›áƒ”áƒ¢áƒáƒ“ áƒžáƒáƒ¢áƒáƒ áƒ: áƒ›áƒáƒ¡áƒáƒšáƒáƒ“áƒœáƒ”áƒšáƒ˜ ${a.origin} áƒ˜áƒ§áƒáƒ¡ ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜: áƒ£áƒœáƒ“áƒ áƒ˜áƒ¬áƒ§áƒ”áƒ‘áƒáƒ“áƒ”áƒ¡ "${b.prefix}"-áƒ˜áƒ—`;if("ends_with"===b.format)return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜: áƒ£áƒœáƒ“áƒ áƒ›áƒ—áƒáƒ•áƒ áƒ“áƒ”áƒ‘áƒáƒ“áƒ”áƒ¡ "${b.suffix}"-áƒ˜áƒ—`;if("includes"===b.format)return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜: áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ˜áƒªáƒáƒ•áƒ“áƒ”áƒ¡ "${b.includes}"-áƒ¡`;if("regex"===b.format)return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¡áƒ¢áƒ áƒ˜áƒœáƒ’áƒ˜: áƒ£áƒœáƒ“áƒ áƒ¨áƒ”áƒ”áƒ¡áƒáƒ‘áƒáƒ›áƒ”áƒ‘áƒáƒ“áƒ”áƒ¡ áƒ¨áƒáƒ‘áƒšáƒáƒœáƒ¡ ${b.pattern}`;return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ ${c[b.format]??a.format}`}case"not_multiple_of":return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ áƒ˜áƒªáƒ®áƒ•áƒ˜: áƒ£áƒœáƒ“áƒ áƒ˜áƒ§áƒáƒ¡ ${a.divisor}-áƒ˜áƒ¡ áƒ¯áƒ”áƒ áƒáƒ“áƒ˜`;case"unrecognized_keys":return`áƒ£áƒªáƒœáƒáƒ‘áƒ˜ áƒ’áƒáƒ¡áƒáƒ¦áƒ”áƒ‘${a.keys.length>1?"áƒ”áƒ‘áƒ˜":"áƒ˜"}: ${wE(a.keys,", ")}`;case"invalid_key":return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ’áƒáƒ¡áƒáƒ¦áƒ”áƒ‘áƒ˜ ${a.origin}-áƒ¨áƒ˜`;case"invalid_union":return"áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ";case"invalid_element":return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ‘áƒ ${a.origin}-áƒ¨áƒ˜`;default:return`áƒáƒ áƒáƒ¡áƒ¬áƒáƒ áƒ˜ áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ`}}};function BF(){return{localeError:BE()}}let BG=()=>{let a={string:{unit:"ážáž½áž¢áž€áŸ’ážŸážš",verb:"áž‚áž½ážšáž˜áž¶áž“"},file:{unit:"áž”áŸƒ",verb:"áž‚áž½ážšáž˜áž¶áž“"},array:{unit:"áž’áž¶ážáž»",verb:"áž‚áž½ážšáž˜áž¶áž“"},set:{unit:"áž’áž¶ážáž»",verb:"áž‚áž½ážšáž˜áž¶áž“"}};function b(b){return a[b]??null}let c={regex:"áž‘áž·áž“áŸ’áž“áž“áŸáž™áž”áž‰áŸ’áž…áž¼áž›",email:"áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“áž¢áŸŠáž¸áž˜áŸ‚áž›",url:"URL",emoji:"ážŸáž‰áŸ’áž‰áž¶áž¢áž¶ážšáž˜áŸ’áž˜ážŽáŸ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"áž€áž¶áž›áž”ážšáž·áž…áŸ’áž†áŸáž‘ áž“áž·áž„áž˜áŸ‰áŸ„áž„ ISO",date:"áž€áž¶áž›áž”ážšáž·áž…áŸ’áž†áŸáž‘ ISO",time:"áž˜áŸ‰áŸ„áž„ ISO",duration:"ážšáž™áŸˆáž–áŸáž› ISO",ipv4:"áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“ IPv4",ipv6:"áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“ IPv6",cidrv4:"ážŠáŸ‚áž“áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“ IPv4",cidrv6:"ážŠáŸ‚áž“áž¢áž¶ážŸáž™ážŠáŸ’áž‹áž¶áž“ IPv6",base64:"ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážšáž¢áŸŠáž·áž€áž¼ážŠ base64",base64url:"ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážšáž¢áŸŠáž·áž€áž¼ážŠ base64url",json_string:"ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážš JSON",e164:"áž›áŸáž E.164",jwt:"JWT",template_literal:"áž‘áž·áž“áŸ’áž“áž“áŸáž™áž”áž‰áŸ’áž…áž¼áž›"},d={nan:"NaN",number:"áž›áŸáž",array:"áž¢áž¶ážšáŸ (Array)",null:"áž‚áŸ’áž˜áž¶áž“ážáž˜áŸ’áž›áŸƒ (null)"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`áž‘áž·áž“áŸ’áž“áž“áŸáž™áž”áž‰áŸ’áž…áž¼áž›áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš instanceof ${a.expected} áž”áŸ‰áž»áž“áŸ’ážáŸ‚áž‘áž‘áž½áž›áž”áž¶áž“ ${e}`;return`áž‘áž·áž“áŸ’áž“áž“áŸáž™áž”áž‰áŸ’áž…áž¼áž›áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš ${b} áž”áŸ‰áž»áž“áŸ’ážáŸ‚áž‘áž‘áž½áž›áž”áž¶áž“ ${e}`}case"invalid_value":if(1===a.values.length)return`áž‘áž·áž“áŸ’áž“áž“áŸáž™áž”áž‰áŸ’áž…áž¼áž›áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš ${w6(a.values[0])}`;return`áž‡áž˜áŸ’ážšáž¾ážŸáž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž‡áž¶áž˜áž½áž™áž€áŸ’áž“áž»áž„áž…áŸ†ážŽáŸ„áž˜ ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`áž’áŸ†áž–áŸáž€áŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš ${a.origin??"ážáž˜áŸ’áž›áŸƒ"} ${c} ${a.maximum.toString()} ${d.unit??"áž’áž¶ážáž»"}`;return`áž’áŸ†áž–áŸáž€áŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš ${a.origin??"ážáž˜áŸ’áž›áŸƒ"} ${c} ${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`ážáž¼áž…áž–áŸáž€áŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš ${a.origin} ${c} ${a.minimum.toString()} ${d.unit}`;return`ážáž¼áž…áž–áŸáž€áŸ– ážáŸ’ážšáž¼ážœáž€áž¶ážš ${a.origin} ${c} ${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážšáž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž…áž¶áž”áŸ‹áž•áŸ’ážáž¾áž˜ážŠáŸ„áž™ "${b.prefix}"`;if("ends_with"===b.format)return`ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážšáž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž”áž‰áŸ’áž…áž”áŸ‹ážŠáŸ„áž™ "${b.suffix}"`;if("includes"===b.format)return`ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážšáž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœáž˜áž¶áž“ "${b.includes}"`;if("regex"===b.format)return`ážáŸ’ážŸáŸ‚áž¢áž€áŸ’ážŸážšáž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœážáŸ‚áž•áŸ’áž‚áž¼áž•áŸ’áž‚áž„áž“áž¹áž„áž‘áž˜áŸ’ážšáž„áŸ‹ážŠáŸ‚áž›áž”áž¶áž“áž€áŸ†ážŽážáŸ‹ ${b.pattern}`;return`áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ${c[b.format]??a.format}`}case"not_multiple_of":return`áž›áŸážáž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáŸ– ážáŸ’ážšáž¼ážœážáŸ‚áž‡áž¶áž–áž áž»áž‚áž»ážŽáž“áŸƒ ${a.divisor}`;case"unrecognized_keys":return`ážšáž€ážƒáž¾áž‰ážŸáŸ„áž˜áž·áž“ážŸáŸ’áž‚áž¶áž›áŸ‹áŸ– ${wE(a.keys,", ")}`;case"invalid_key":return`ážŸáŸ„áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáž“áŸ…áž€áŸ’áž“áž»áž„ ${a.origin}`;case"invalid_union":default:return`áž‘áž·áž“áŸ’áž“áž“áŸáž™áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœ`;case"invalid_element":return`áž‘áž·áž“áŸ’áž“áž“áŸáž™áž˜áž·áž“ážáŸ’ážšáž¹áž˜ážáŸ’ážšáž¼ážœáž“áŸ…áž€áŸ’áž“áž»áž„ ${a.origin}`}}};function BH(){return{localeError:BG()}}function BI(){return BH()}let BJ=()=>{let a={string:{unit:"ë¬¸ìž",verb:"to have"},file:{unit:"ë°”ì´íŠ¸",verb:"to have"},array:{unit:"ê°œ",verb:"to have"},set:{unit:"ê°œ",verb:"to have"}};function b(b){return a[b]??null}let c={regex:"ìž…ë ¥",email:"ì´ë©”ì¼ ì£¼ì†Œ",url:"URL",emoji:"ì´ëª¨ì§€",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ë‚ ì§œì‹œê°„",date:"ISO ë‚ ì§œ",time:"ISO ì‹œê°„",duration:"ISO ê¸°ê°„",ipv4:"IPv4 ì£¼ì†Œ",ipv6:"IPv6 ì£¼ì†Œ",cidrv4:"IPv4 ë²”ìœ„",cidrv6:"IPv6 ë²”ìœ„",base64:"base64 ì¸ì½”ë”© ë¬¸ìžì—´",base64url:"base64url ì¸ì½”ë”© ë¬¸ìžì—´",json_string:"JSON ë¬¸ìžì—´",e164:"E.164 ë²ˆí˜¸",jwt:"JWT",template_literal:"ìž…ë ¥"},d={nan:"NaN"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`ìž˜ëª»ëœ ìž…ë ¥: ì˜ˆìƒ íƒ€ìž…ì€ instanceof ${a.expected}, ë°›ì€ íƒ€ìž…ì€ ${e}ìž…ë‹ˆë‹¤`;return`ìž˜ëª»ëœ ìž…ë ¥: ì˜ˆìƒ íƒ€ìž…ì€ ${b}, ë°›ì€ íƒ€ìž…ì€ ${e}ìž…ë‹ˆë‹¤`}case"invalid_value":if(1===a.values.length)return`ìž˜ëª»ëœ ìž…ë ¥: ê°’ì€ ${w6(a.values[0])} ì´ì–´ì•¼ í•©ë‹ˆë‹¤`;return`ìž˜ëª»ëœ ì˜µì…˜: ${wE(a.values,"ë˜ëŠ” ")} ì¤‘ í•˜ë‚˜ì—¬ì•¼ í•©ë‹ˆë‹¤`;case"too_big":{let c=a.inclusive?"ì´í•˜":"ë¯¸ë§Œ",d="ë¯¸ë§Œ"===c?"ì´ì–´ì•¼ í•©ë‹ˆë‹¤":"ì—¬ì•¼ í•©ë‹ˆë‹¤",e=b(a.origin),f=e?.unit??"ìš”ì†Œ";if(e)return`${a.origin??"ê°’"}ì´ ë„ˆë¬´ í½ë‹ˆë‹¤: ${a.maximum.toString()}${f} ${c}${d}`;return`${a.origin??"ê°’"}ì´ ë„ˆë¬´ í½ë‹ˆë‹¤: ${a.maximum.toString()} ${c}${d}`}case"too_small":{let c=a.inclusive?"ì´ìƒ":"ì´ˆê³¼",d="ì´ìƒ"===c?"ì´ì–´ì•¼ í•©ë‹ˆë‹¤":"ì—¬ì•¼ í•©ë‹ˆë‹¤",e=b(a.origin),f=e?.unit??"ìš”ì†Œ";if(e)return`${a.origin??"ê°’"}ì´ ë„ˆë¬´ ìž‘ìŠµë‹ˆë‹¤: ${a.minimum.toString()}${f} ${c}${d}`;return`${a.origin??"ê°’"}ì´ ë„ˆë¬´ ìž‘ìŠµë‹ˆë‹¤: ${a.minimum.toString()} ${c}${d}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`ìž˜ëª»ëœ ë¬¸ìžì—´: "${b.prefix}"(ìœ¼)ë¡œ ì‹œìž‘í•´ì•¼ í•©ë‹ˆë‹¤`;if("ends_with"===b.format)return`ìž˜ëª»ëœ ë¬¸ìžì—´: "${b.suffix}"(ìœ¼)ë¡œ ëë‚˜ì•¼ í•©ë‹ˆë‹¤`;if("includes"===b.format)return`ìž˜ëª»ëœ ë¬¸ìžì—´: "${b.includes}"ì„(ë¥¼) í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤`;if("regex"===b.format)return`ìž˜ëª»ëœ ë¬¸ìžì—´: ì •ê·œì‹ ${b.pattern} íŒ¨í„´ê³¼ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤`;return`ìž˜ëª»ëœ ${c[b.format]??a.format}`}case"not_multiple_of":return`ìž˜ëª»ëœ ìˆ«ìž: ${a.divisor}ì˜ ë°°ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤`;case"unrecognized_keys":return`ì¸ì‹í•  ìˆ˜ ì—†ëŠ” í‚¤: ${wE(a.keys,", ")}`;case"invalid_key":return`ìž˜ëª»ëœ í‚¤: ${a.origin}`;case"invalid_union":default:return`ìž˜ëª»ëœ ìž…ë ¥`;case"invalid_element":return`ìž˜ëª»ëœ ê°’: ${a.origin}`}}};function BK(){return{localeError:BJ()}}let BL=a=>a.charAt(0).toUpperCase()+a.slice(1);function BM(a){let b=Math.abs(a),c=b%10,d=b%100;return d>=11&&d<=19||0===c?"many":1===c?"one":"few"}let BN=()=>{let a={string:{unit:{one:"simbolis",few:"simboliai",many:"simboliÅ³"},verb:{smaller:{inclusive:"turi bÅ«ti ne ilgesnÄ— kaip",notInclusive:"turi bÅ«ti trumpesnÄ— kaip"},bigger:{inclusive:"turi bÅ«ti ne trumpesnÄ— kaip",notInclusive:"turi bÅ«ti ilgesnÄ— kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"baitÅ³"},verb:{smaller:{inclusive:"turi bÅ«ti ne didesnis kaip",notInclusive:"turi bÅ«ti maÅ¾esnis kaip"},bigger:{inclusive:"turi bÅ«ti ne maÅ¾esnis kaip",notInclusive:"turi bÅ«ti didesnis kaip"}}},array:{unit:{one:"elementÄ…",few:"elementus",many:"elementÅ³"},verb:{smaller:{inclusive:"turi turÄ—ti ne daugiau kaip",notInclusive:"turi turÄ—ti maÅ¾iau kaip"},bigger:{inclusive:"turi turÄ—ti ne maÅ¾iau kaip",notInclusive:"turi turÄ—ti daugiau kaip"}}},set:{unit:{one:"elementÄ…",few:"elementus",many:"elementÅ³"},verb:{smaller:{inclusive:"turi turÄ—ti ne daugiau kaip",notInclusive:"turi turÄ—ti maÅ¾iau kaip"},bigger:{inclusive:"turi turÄ—ti ne maÅ¾iau kaip",notInclusive:"turi turÄ—ti daugiau kaip"}}}};function b(b,c,d,e){let f=a[b]??null;return null===f?f:{unit:f.unit[c],verb:f.verb[e][d?"inclusive":"notInclusive"]}}let c={regex:"Ä¯vestis",email:"el. paÅ¡to adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukmÄ—",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 uÅ¾koduota eilutÄ—",base64url:"base64url uÅ¾koduota eilutÄ—",json_string:"JSON eilutÄ—",e164:"E.164 numeris",jwt:"JWT",template_literal:"Ä¯vestis"},d={nan:"NaN",number:"skaiÄius",bigint:"sveikasis skaiÄius",string:"eilutÄ—",boolean:"loginÄ— reikÅ¡mÄ—",undefined:"neapibrÄ—Å¾ta reikÅ¡mÄ—",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulinÄ— reikÅ¡mÄ—"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Gautas tipas ${e}, o tikÄ—tasi - instanceof ${a.expected}`;return`Gautas tipas ${e}, o tikÄ—tasi - ${b}`}case"invalid_value":if(1===a.values.length)return`Privalo bÅ«ti ${w6(a.values[0])}`;return`Privalo bÅ«ti vienas iÅ¡ ${wE(a.values,"|")} pasirinkimÅ³`;case"too_big":{let c=d[a.origin]??a.origin,e=b(a.origin,BM(Number(a.maximum)),a.inclusive??!1,"smaller");if(e?.verb)return`${BL(c??a.origin??"reikÅ¡mÄ—")} ${e.verb} ${a.maximum.toString()} ${e.unit??"elementÅ³"}`;let f=a.inclusive?"ne didesnis kaip":"maÅ¾esnis kaip";return`${BL(c??a.origin??"reikÅ¡mÄ—")} turi bÅ«ti ${f} ${a.maximum.toString()} ${e?.unit}`}case"too_small":{let c=d[a.origin]??a.origin,e=b(a.origin,BM(Number(a.minimum)),a.inclusive??!1,"bigger");if(e?.verb)return`${BL(c??a.origin??"reikÅ¡mÄ—")} ${e.verb} ${a.minimum.toString()} ${e.unit??"elementÅ³"}`;let f=a.inclusive?"ne maÅ¾esnis kaip":"didesnis kaip";return`${BL(c??a.origin??"reikÅ¡mÄ—")} turi bÅ«ti ${f} ${a.minimum.toString()} ${e?.unit}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`EilutÄ— privalo prasidÄ—ti "${b.prefix}"`;if("ends_with"===b.format)return`EilutÄ— privalo pasibaigti "${b.suffix}"`;if("includes"===b.format)return`EilutÄ— privalo Ä¯traukti "${b.includes}"`;if("regex"===b.format)return`EilutÄ— privalo atitikti ${b.pattern}`;return`Neteisingas ${c[b.format]??a.format}`}case"not_multiple_of":return`SkaiÄius privalo bÅ«ti ${a.divisor} kartotinis.`;case"unrecognized_keys":return`NeatpaÅ¾int${a.keys.length>1?"i":"as"} rakt${a.keys.length>1?"ai":"as"}: ${wE(a.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga Ä¯vestis";case"invalid_element":{let b=d[a.origin]??a.origin;return`${BL(b??a.origin??"reikÅ¡mÄ—")} turi klaidingÄ… Ä¯vestÄ¯`}}}};function BO(){return{localeError:BN()}}let BP=()=>{let a={string:{unit:"Ð·Ð½Ð°Ñ†Ð¸",verb:"Ð´Ð° Ð¸Ð¼Ð°Ð°Ñ‚"},file:{unit:"Ð±Ð°Ñ˜Ñ‚Ð¸",verb:"Ð´Ð° Ð¸Ð¼Ð°Ð°Ñ‚"},array:{unit:"ÑÑ‚Ð°Ð²ÐºÐ¸",verb:"Ð´Ð° Ð¸Ð¼Ð°Ð°Ñ‚"},set:{unit:"ÑÑ‚Ð°Ð²ÐºÐ¸",verb:"Ð´Ð° Ð¸Ð¼Ð°Ð°Ñ‚"}};function b(b){return a[b]??null}let c={regex:"Ð²Ð½ÐµÑ",email:"Ð°Ð´Ñ€ÐµÑÐ° Ð½Ð° Ðµ-Ð¿Ð¾ÑˆÑ‚Ð°",url:"URL",emoji:"ÐµÐ¼Ð¾ÑŸÐ¸",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO Ð´Ð°Ñ‚ÑƒÐ¼ Ð¸ Ð²Ñ€ÐµÐ¼Ðµ",date:"ISO Ð´Ð°Ñ‚ÑƒÐ¼",time:"ISO Ð²Ñ€ÐµÐ¼Ðµ",duration:"ISO Ð²Ñ€ÐµÐ¼ÐµÑ‚Ñ€Ð°ÐµÑšÐµ",ipv4:"IPv4 Ð°Ð´Ñ€ÐµÑÐ°",ipv6:"IPv6 Ð°Ð´Ñ€ÐµÑÐ°",cidrv4:"IPv4 Ð¾Ð¿ÑÐµÐ³",cidrv6:"IPv6 Ð¾Ð¿ÑÐµÐ³",base64:"base64-ÐµÐ½ÐºÐ¾Ð´Ð¸Ñ€Ð°Ð½Ð° Ð½Ð¸Ð·Ð°",base64url:"base64url-ÐµÐ½ÐºÐ¾Ð´Ð¸Ñ€Ð°Ð½Ð° Ð½Ð¸Ð·Ð°",json_string:"JSON Ð½Ð¸Ð·Ð°",e164:"E.164 Ð±Ñ€Ð¾Ñ˜",jwt:"JWT",template_literal:"Ð²Ð½ÐµÑ"},d={nan:"NaN",number:"Ð±Ñ€Ð¾Ñ˜",array:"Ð½Ð¸Ð·Ð°"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Ð“Ñ€ÐµÑˆÐµÐ½ Ð²Ð½ÐµÑ: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° instanceof ${a.expected}, Ð¿Ñ€Ð¸Ð¼ÐµÐ½Ð¾ ${e}`;return`Ð“Ñ€ÐµÑˆÐµÐ½ Ð²Ð½ÐµÑ: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° ${b}, Ð¿Ñ€Ð¸Ð¼ÐµÐ½Ð¾ ${e}`}case"invalid_value":if(1===a.values.length)return`Invalid input: expected ${w6(a.values[0])}`;return`Ð“Ñ€ÐµÑˆÐ°Ð½Ð° Ð¾Ð¿Ñ†Ð¸Ñ˜Ð°: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° ÐµÐ´Ð½Ð° ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`ÐŸÑ€ÐµÐ¼Ð½Ð¾Ð³Ñƒ Ð³Ð¾Ð»ÐµÐ¼: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° ${a.origin??"Ð²Ñ€ÐµÐ´Ð½Ð¾ÑÑ‚Ð°"} Ð´Ð° Ð¸Ð¼Ð° ${c}${a.maximum.toString()} ${d.unit??"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¸"}`;return`ÐŸÑ€ÐµÐ¼Ð½Ð¾Ð³Ñƒ Ð³Ð¾Ð»ÐµÐ¼: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° ${a.origin??"Ð²Ñ€ÐµÐ´Ð½Ð¾ÑÑ‚Ð°"} Ð´Ð° Ð±Ð¸Ð´Ðµ ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`ÐŸÑ€ÐµÐ¼Ð½Ð¾Ð³Ñƒ Ð¼Ð°Ð»: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° ${a.origin} Ð´Ð° Ð¸Ð¼Ð° ${c}${a.minimum.toString()} ${d.unit}`;return`ÐŸÑ€ÐµÐ¼Ð½Ð¾Ð³Ñƒ Ð¼Ð°Ð»: ÑÐµ Ð¾Ñ‡ÐµÐºÑƒÐ²Ð° ${a.origin} Ð´Ð° Ð±Ð¸Ð´Ðµ ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`ÐÐµÐ²Ð°Ð¶ÐµÑ‡ÐºÐ° Ð½Ð¸Ð·Ð°: Ð¼Ð¾Ñ€Ð° Ð´Ð° Ð·Ð°Ð¿Ð¾Ñ‡Ð½ÑƒÐ²Ð° ÑÐ¾ "${b.prefix}"`;if("ends_with"===b.format)return`ÐÐµÐ²Ð°Ð¶ÐµÑ‡ÐºÐ° Ð½Ð¸Ð·Ð°: Ð¼Ð¾Ñ€Ð° Ð´Ð° Ð·Ð°Ð²Ñ€ÑˆÑƒÐ²Ð° ÑÐ¾ "${b.suffix}"`;if("includes"===b.format)return`ÐÐµÐ²Ð°Ð¶ÐµÑ‡ÐºÐ° Ð½Ð¸Ð·Ð°: Ð¼Ð¾Ñ€Ð° Ð´Ð° Ð²ÐºÐ»ÑƒÑ‡ÑƒÐ²Ð° "${b.includes}"`;if("regex"===b.format)return`ÐÐµÐ²Ð°Ð¶ÐµÑ‡ÐºÐ° Ð½Ð¸Ð·Ð°: Ð¼Ð¾Ñ€Ð° Ð´Ð° Ð¾Ð´Ð³Ð¾Ð°Ñ€Ð° Ð½Ð° Ð¿Ð°Ñ‚ÐµÑ€Ð½Ð¾Ñ‚ ${b.pattern}`;return`Invalid ${c[b.format]??a.format}`}case"not_multiple_of":return`Ð“Ñ€ÐµÑˆÐµÐ½ Ð±Ñ€Ð¾Ñ˜: Ð¼Ð¾Ñ€Ð° Ð´Ð° Ð±Ð¸Ð´Ðµ Ð´ÐµÐ»Ð¸Ð² ÑÐ¾ ${a.divisor}`;case"unrecognized_keys":return`${a.keys.length>1?"ÐÐµÐ¿Ñ€ÐµÐ¿Ð¾Ð·Ð½Ð°ÐµÐ½Ð¸ ÐºÐ»ÑƒÑ‡ÐµÐ²Ð¸":"ÐÐµÐ¿Ñ€ÐµÐ¿Ð¾Ð·Ð½Ð°ÐµÐ½ ÐºÐ»ÑƒÑ‡"}: ${wE(a.keys,", ")}`;case"invalid_key":return`Ð“Ñ€ÐµÑˆÐµÐ½ ÐºÐ»ÑƒÑ‡ Ð²Ð¾ ${a.origin}`;case"invalid_union":return"Ð“Ñ€ÐµÑˆÐµÐ½ Ð²Ð½ÐµÑ";case"invalid_element":return`Ð“Ñ€ÐµÑˆÐ½Ð° Ð²Ñ€ÐµÐ´Ð½Ð¾ÑÑ‚ Ð²Ð¾ ${a.origin}`;default:return`Ð“Ñ€ÐµÑˆÐµÐ½ Ð²Ð½ÐµÑ`}}};function BQ(){return{localeError:BP()}}let BR=()=>{let a={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function b(b){return a[b]??null}let c={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},d={nan:"NaN",number:"nombor"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Input tidak sah: dijangka instanceof ${a.expected}, diterima ${e}`;return`Input tidak sah: dijangka ${b}, diterima ${e}`}case"invalid_value":if(1===a.values.length)return`Input tidak sah: dijangka ${w6(a.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Terlalu besar: dijangka ${a.origin??"nilai"} ${d.verb} ${c}${a.maximum.toString()} ${d.unit??"elemen"}`;return`Terlalu besar: dijangka ${a.origin??"nilai"} adalah ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Terlalu kecil: dijangka ${a.origin} ${d.verb} ${c}${a.minimum.toString()} ${d.unit}`;return`Terlalu kecil: dijangka ${a.origin} adalah ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`String tidak sah: mesti bermula dengan "${b.prefix}"`;if("ends_with"===b.format)return`String tidak sah: mesti berakhir dengan "${b.suffix}"`;if("includes"===b.format)return`String tidak sah: mesti mengandungi "${b.includes}"`;if("regex"===b.format)return`String tidak sah: mesti sepadan dengan corak ${b.pattern}`;return`${c[b.format]??a.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${a.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${wE(a.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${a.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${a.origin}`}}};function BS(){return{localeError:BR()}}let BT=()=>{let a={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}};function b(b){return a[b]??null}let c={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},d={nan:"NaN",number:"getal"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Ongeldige invoer: verwacht instanceof ${a.expected}, ontving ${e}`;return`Ongeldige invoer: verwacht ${b}, ontving ${e}`}case"invalid_value":if(1===a.values.length)return`Ongeldige invoer: verwacht ${w6(a.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin),e="date"===a.origin?"laat":"string"===a.origin?"lang":"groot";if(d)return`Te ${e}: verwacht dat ${a.origin??"waarde"} ${c}${a.maximum.toString()} ${d.unit??"elementen"} ${d.verb}`;return`Te ${e}: verwacht dat ${a.origin??"waarde"} ${c}${a.maximum.toString()} is`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin),e="date"===a.origin?"vroeg":"string"===a.origin?"kort":"klein";if(d)return`Te ${e}: verwacht dat ${a.origin} ${c}${a.minimum.toString()} ${d.unit} ${d.verb}`;return`Te ${e}: verwacht dat ${a.origin} ${c}${a.minimum.toString()} is`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Ongeldige tekst: moet met "${b.prefix}" beginnen`;if("ends_with"===b.format)return`Ongeldige tekst: moet op "${b.suffix}" eindigen`;if("includes"===b.format)return`Ongeldige tekst: moet "${b.includes}" bevatten`;if("regex"===b.format)return`Ongeldige tekst: moet overeenkomen met patroon ${b.pattern}`;return`Ongeldig: ${c[b.format]??a.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${a.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${a.keys.length>1?"s":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${a.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${a.origin}`}}};function BU(){return{localeError:BT()}}let BV=()=>{let a={string:{unit:"tegn",verb:"Ã¥ ha"},file:{unit:"bytes",verb:"Ã¥ ha"},array:{unit:"elementer",verb:"Ã¥ inneholde"},set:{unit:"elementer",verb:"Ã¥ inneholde"}};function b(b){return a[b]??null}let c={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrÃ¥de",ipv6:"IPv6-omrÃ¥de",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},d={nan:"NaN",number:"tall",array:"liste"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Ugyldig input: forventet instanceof ${a.expected}, fikk ${e}`;return`Ugyldig input: forventet ${b}, fikk ${e}`}case"invalid_value":if(1===a.values.length)return`Ugyldig verdi: forventet ${w6(a.values[0])}`;return`Ugyldig valg: forventet en av ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`For stor(t): forventet ${a.origin??"value"} til \xe5 ha ${c}${a.maximum.toString()} ${d.unit??"elementer"}`;return`For stor(t): forventet ${a.origin??"value"} til \xe5 ha ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`For lite(n): forventet ${a.origin} til \xe5 ha ${c}${a.minimum.toString()} ${d.unit}`;return`For lite(n): forventet ${a.origin} til \xe5 ha ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Ugyldig streng: m\xe5 starte med "${b.prefix}"`;if("ends_with"===b.format)return`Ugyldig streng: m\xe5 ende med "${b.suffix}"`;if("includes"===b.format)return`Ugyldig streng: m\xe5 inneholde "${b.includes}"`;if("regex"===b.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${b.pattern}`;return`Ugyldig ${c[b.format]??a.format}`}case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${a.divisor}`;case"unrecognized_keys":return`${a.keys.length>1?"Ukjente nÃ¸kler":"Ukjent nÃ¸kkel"}: ${wE(a.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${a.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${a.origin}`}}};function BW(){return{localeError:BV()}}let BX=()=>{let a={string:{unit:"harf",verb:"olmalÄ±dÄ±r"},file:{unit:"bayt",verb:"olmalÄ±dÄ±r"},array:{unit:"unsur",verb:"olmalÄ±dÄ±r"},set:{unit:"unsur",verb:"olmalÄ±dÄ±r"}};function b(b){return a[b]??null}let c={regex:"giren",email:"epostagÃ¢h",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengÃ¢mÄ±",date:"ISO tarihi",time:"ISO zamanÄ±",duration:"ISO mÃ¼ddeti",ipv4:"IPv4 niÅŸÃ¢nÄ±",ipv6:"IPv6 niÅŸÃ¢nÄ±",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ÅŸifreli metin",base64url:"base64url-ÅŸifreli metin",json_string:"JSON metin",e164:"E.164 sayÄ±sÄ±",jwt:"JWT",template_literal:"giren"},d={nan:"NaN",number:"numara",array:"saf",null:"gayb"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`F\xe2sit giren: umulan instanceof ${a.expected}, alÄ±nan ${e}`;return`F\xe2sit giren: umulan ${b}, alÄ±nan ${e}`}case"invalid_value":if(1===a.values.length)return`F\xe2sit giren: umulan ${w6(a.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Fazla b\xfcy\xfck: ${a.origin??"value"}, ${c}${a.maximum.toString()} ${d.unit??"elements"} sahip olmalÄ±ydÄ±.`;return`Fazla b\xfcy\xfck: ${a.origin??"value"}, ${c}${a.maximum.toString()} olmalÄ±ydÄ±.`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Fazla k\xfc\xe7\xfck: ${a.origin}, ${c}${a.minimum.toString()} ${d.unit} sahip olmalÄ±ydÄ±.`;return`Fazla k\xfc\xe7\xfck: ${a.origin}, ${c}${a.minimum.toString()} olmalÄ±ydÄ±.`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`F\xe2sit metin: "${b.prefix}" ile baÅŸlamalÄ±.`;if("ends_with"===b.format)return`F\xe2sit metin: "${b.suffix}" ile bitmeli.`;if("includes"===b.format)return`F\xe2sit metin: "${b.includes}" ihtiv\xe2 etmeli.`;if("regex"===b.format)return`F\xe2sit metin: ${b.pattern} nakÅŸÄ±na uymalÄ±.`;return`F\xe2sit ${c[b.format]??a.format}`}case"not_multiple_of":return`F\xe2sit sayÄ±: ${a.divisor} katÄ± olmalÄ±ydÄ±.`;case"unrecognized_keys":return`TanÄ±nmayan anahtar ${a.keys.length>1?"s":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`${a.origin} i\xe7in tanÄ±nmayan anahtar var.`;case"invalid_union":return"Giren tanÄ±namadÄ±.";case"invalid_element":return`${a.origin} i\xe7in tanÄ±nmayan kÄ±ymet var.`;default:return`KÄ±ymet tanÄ±namadÄ±.`}}};function BY(){return{localeError:BX()}}let BZ=()=>{let a={string:{unit:"ØªÙˆÚ©ÙŠ",verb:"ÙˆÙ„Ø±ÙŠ"},file:{unit:"Ø¨Ø§ÛŒÙ¼Ø³",verb:"ÙˆÙ„Ø±ÙŠ"},array:{unit:"ØªÙˆÚ©ÙŠ",verb:"ÙˆÙ„Ø±ÙŠ"},set:{unit:"ØªÙˆÚ©ÙŠ",verb:"ÙˆÙ„Ø±ÙŠ"}};function b(b){return a[b]??null}let c={regex:"ÙˆØ±ÙˆØ¯ÙŠ",email:"Ø¨Ø±ÛŒÚšÙ†Ø§Ù„ÛŒÚ©",url:"ÛŒÙˆ Ø¢Ø± Ø§Ù„",emoji:"Ø§ÛŒÙ…ÙˆØ¬ÙŠ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"Ù†ÛŒÙ¼Ù‡ Ø§Ùˆ ÙˆØ®Øª",date:"Ù†ÛÙ¼Ù‡",time:"ÙˆØ®Øª",duration:"Ù…ÙˆØ¯Ù‡",ipv4:"Ø¯ IPv4 Ù¾ØªÙ‡",ipv6:"Ø¯ IPv6 Ù¾ØªÙ‡",cidrv4:"Ø¯ IPv4 Ø³Ø§Ø­Ù‡",cidrv6:"Ø¯ IPv6 Ø³Ø§Ø­Ù‡",base64:"base64-encoded Ù…ØªÙ†",base64url:"base64url-encoded Ù…ØªÙ†",json_string:"JSON Ù…ØªÙ†",e164:"Ø¯ E.164 Ø´Ù…ÛØ±Ù‡",jwt:"JWT",template_literal:"ÙˆØ±ÙˆØ¯ÙŠ"},d={nan:"NaN",number:"Ø¹Ø¯Ø¯",array:"Ø§Ø±Û"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Ù†Ø§Ø³Ù… ÙˆØ±ÙˆØ¯ÙŠ: Ø¨Ø§ÛŒØ¯ instanceof ${a.expected} ÙˆØ§ÛŒ, Ù…Ú«Ø± ${e} ØªØ±Ù„Ø§Ø³Ù‡ Ø´Ùˆ`;return`Ù†Ø§Ø³Ù… ÙˆØ±ÙˆØ¯ÙŠ: Ø¨Ø§ÛŒØ¯ ${b} ÙˆØ§ÛŒ, Ù…Ú«Ø± ${e} ØªØ±Ù„Ø§Ø³Ù‡ Ø´Ùˆ`}case"invalid_value":if(1===a.values.length)return`Ù†Ø§Ø³Ù… ÙˆØ±ÙˆØ¯ÙŠ: Ø¨Ø§ÛŒØ¯ ${w6(a.values[0])} ÙˆØ§ÛŒ`;return`Ù†Ø§Ø³Ù… Ø§Ù†ØªØ®Ø§Ø¨: Ø¨Ø§ÛŒØ¯ ÛŒÙˆ Ù„Ù‡ ${wE(a.values,"|")} Ú…Ø®Ù‡ ÙˆØ§ÛŒ`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Ú‰ÛŒØ± Ù„ÙˆÛŒ: ${a.origin??"Ø§Ø±Ø²ÚšØª"} Ø¨Ø§ÛŒØ¯ ${c}${a.maximum.toString()} ${d.unit??"Ø¹Ù†ØµØ±ÙˆÙ†Ù‡"} ÙˆÙ„Ø±ÙŠ`;return`Ú‰ÛŒØ± Ù„ÙˆÛŒ: ${a.origin??"Ø§Ø±Ø²ÚšØª"} Ø¨Ø§ÛŒØ¯ ${c}${a.maximum.toString()} ÙˆÙŠ`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Ú‰ÛŒØ± Ú©ÙˆÚ†Ù†ÛŒ: ${a.origin} Ø¨Ø§ÛŒØ¯ ${c}${a.minimum.toString()} ${d.unit} ÙˆÙ„Ø±ÙŠ`;return`Ú‰ÛŒØ± Ú©ÙˆÚ†Ù†ÛŒ: ${a.origin} Ø¨Ø§ÛŒØ¯ ${c}${a.minimum.toString()} ÙˆÙŠ`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Ù†Ø§Ø³Ù… Ù…ØªÙ†: Ø¨Ø§ÛŒØ¯ Ø¯ "${b.prefix}" Ø³Ø±Ù‡ Ù¾ÛŒÙ„ Ø´ÙŠ`;if("ends_with"===b.format)return`Ù†Ø§Ø³Ù… Ù…ØªÙ†: Ø¨Ø§ÛŒØ¯ Ø¯ "${b.suffix}" Ø³Ø±Ù‡ Ù¾Ø§ÛŒ ØªÙ‡ ÙˆØ±Ø³ÙŠÚ–ÙŠ`;if("includes"===b.format)return`Ù†Ø§Ø³Ù… Ù…ØªÙ†: Ø¨Ø§ÛŒØ¯ "${b.includes}" ÙˆÙ„Ø±ÙŠ`;if("regex"===b.format)return`Ù†Ø§Ø³Ù… Ù…ØªÙ†: Ø¨Ø§ÛŒØ¯ Ø¯ ${b.pattern} Ø³Ø±Ù‡ Ù…Ø·Ø§Ø¨Ù‚Øª ÙˆÙ„Ø±ÙŠ`;return`${c[b.format]??a.format} Ù†Ø§Ø³Ù… Ø¯ÛŒ`}case"not_multiple_of":return`Ù†Ø§Ø³Ù… Ø¹Ø¯Ø¯: Ø¨Ø§ÛŒØ¯ Ø¯ ${a.divisor} Ù…Ø¶Ø±Ø¨ ÙˆÙŠ`;case"unrecognized_keys":return`Ù†Ø§Ø³Ù… ${a.keys.length>1?"Ú©Ù„ÛŒÚ‰ÙˆÙ†Ù‡":"Ú©Ù„ÛŒÚ‰"}: ${wE(a.keys,", ")}`;case"invalid_key":return`Ù†Ø§Ø³Ù… Ú©Ù„ÛŒÚ‰ Ù¾Ù‡ ${a.origin} Ú©Û`;case"invalid_union":default:return`Ù†Ø§Ø³Ù…Ù‡ ÙˆØ±ÙˆØ¯ÙŠ`;case"invalid_element":return`Ù†Ø§Ø³Ù… Ø¹Ù†ØµØ± Ù¾Ù‡ ${a.origin} Ú©Û`}}};function B$(){return{localeError:BZ()}}let B_=()=>{let a={string:{unit:"znakÃ³w",verb:"mieÄ‡"},file:{unit:"bajtÃ³w",verb:"mieÄ‡"},array:{unit:"elementÃ³w",verb:"mieÄ‡"},set:{unit:"elementÃ³w",verb:"mieÄ‡"}};function b(b){return a[b]??null}let c={regex:"wyraÅ¼enie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciÄ…g znakÃ³w zakodowany w formacie base64",base64url:"ciÄ…g znakÃ³w zakodowany w formacie base64url",json_string:"ciÄ…g znakÃ³w w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejÅ›cie"},d={nan:"NaN",number:"liczba",array:"tablica"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`NieprawidÅ‚owe dane wejÅ›ciowe: oczekiwano instanceof ${a.expected}, otrzymano ${e}`;return`NieprawidÅ‚owe dane wejÅ›ciowe: oczekiwano ${b}, otrzymano ${e}`}case"invalid_value":if(1===a.values.length)return`NieprawidÅ‚owe dane wejÅ›ciowe: oczekiwano ${w6(a.values[0])}`;return`NieprawidÅ‚owa opcja: oczekiwano jednej z wartoÅ›ci ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Za duÅ¼a wartoÅ›Ä‡: oczekiwano, Å¼e ${a.origin??"wartoÅ›Ä‡"} bÄ™dzie mieÄ‡ ${c}${a.maximum.toString()} ${d.unit??"elementÃ³w"}`;return`Zbyt duÅ¼(y/a/e): oczekiwano, Å¼e ${a.origin??"wartoÅ›Ä‡"} bÄ™dzie wynosiÄ‡ ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Za maÅ‚a wartoÅ›Ä‡: oczekiwano, Å¼e ${a.origin??"wartoÅ›Ä‡"} bÄ™dzie mieÄ‡ ${c}${a.minimum.toString()} ${d.unit??"elementÃ³w"}`;return`Zbyt maÅ‚(y/a/e): oczekiwano, Å¼e ${a.origin??"wartoÅ›Ä‡"} bÄ™dzie wynosiÄ‡ ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`NieprawidÅ‚owy ciÄ…g znak\xf3w: musi zaczynaÄ‡ siÄ™ od "${b.prefix}"`;if("ends_with"===b.format)return`NieprawidÅ‚owy ciÄ…g znak\xf3w: musi koÅ„czyÄ‡ siÄ™ na "${b.suffix}"`;if("includes"===b.format)return`NieprawidÅ‚owy ciÄ…g znak\xf3w: musi zawieraÄ‡ "${b.includes}"`;if("regex"===b.format)return`NieprawidÅ‚owy ciÄ…g znak\xf3w: musi odpowiadaÄ‡ wzorcowi ${b.pattern}`;return`NieprawidÅ‚ow(y/a/e) ${c[b.format]??a.format}`}case"not_multiple_of":return`NieprawidÅ‚owa liczba: musi byÄ‡ wielokrotnoÅ›ciÄ… ${a.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${a.keys.length>1?"s":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`NieprawidÅ‚owy klucz w ${a.origin}`;case"invalid_union":return"NieprawidÅ‚owe dane wejÅ›ciowe";case"invalid_element":return`NieprawidÅ‚owa wartoÅ›Ä‡ w ${a.origin}`;default:return`NieprawidÅ‚owe dane wejÅ›ciowe`}}};function B0(){return{localeError:B_()}}let B1=()=>{let a={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function b(b){return a[b]??null}let c={regex:"padrÃ£o",email:"endereÃ§o de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"duraÃ§Ã£o ISO",ipv4:"endereÃ§o IPv4",ipv6:"endereÃ§o IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nÃºmero E.164",jwt:"JWT",template_literal:"entrada"},d={nan:"NaN",number:"nÃºmero",null:"nulo"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Tipo inv\xe1lido: esperado instanceof ${a.expected}, recebido ${e}`;return`Tipo inv\xe1lido: esperado ${b}, recebido ${e}`}case"invalid_value":if(1===a.values.length)return`Entrada inv\xe1lida: esperado ${w6(a.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Muito grande: esperado que ${a.origin??"valor"} tivesse ${c}${a.maximum.toString()} ${d.unit??"elementos"}`;return`Muito grande: esperado que ${a.origin??"valor"} fosse ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Muito pequeno: esperado que ${a.origin} tivesse ${c}${a.minimum.toString()} ${d.unit}`;return`Muito pequeno: esperado que ${a.origin} fosse ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Texto inv\xe1lido: deve come\xe7ar com "${b.prefix}"`;if("ends_with"===b.format)return`Texto inv\xe1lido: deve terminar com "${b.suffix}"`;if("includes"===b.format)return`Texto inv\xe1lido: deve incluir "${b.includes}"`;if("regex"===b.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${b.pattern}`;return`${c[b.format]??a.format} inv\xe1lido`}case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${a.divisor}`;case"unrecognized_keys":return`Chave${a.keys.length>1?"s":""} desconhecida${a.keys.length>1?"s":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${a.origin}`;case"invalid_union":return"Entrada invÃ¡lida";case"invalid_element":return`Valor inv\xe1lido em ${a.origin}`;default:return`Campo inv\xe1lido`}}};function B2(){return{localeError:B1()}}function B3(a,b,c,d){let e=Math.abs(a),f=e%10,g=e%100;return g>=11&&g<=19?d:1===f?b:f>=2&&f<=4?c:d}let B4=()=>{let a={string:{unit:{one:"ÑÐ¸Ð¼Ð²Ð¾Ð»",few:"ÑÐ¸Ð¼Ð²Ð¾Ð»Ð°",many:"ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"},verb:"Ð¸Ð¼ÐµÑ‚ÑŒ"},file:{unit:{one:"Ð±Ð°Ð¹Ñ‚",few:"Ð±Ð°Ð¹Ñ‚Ð°",many:"Ð±Ð°Ð¹Ñ‚"},verb:"Ð¸Ð¼ÐµÑ‚ÑŒ"},array:{unit:{one:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚",few:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°",many:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²"},verb:"Ð¸Ð¼ÐµÑ‚ÑŒ"},set:{unit:{one:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚",few:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð°",many:"ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¾Ð²"},verb:"Ð¸Ð¼ÐµÑ‚ÑŒ"}};function b(b){return a[b]??null}let c={regex:"Ð²Ð²Ð¾Ð´",email:"email Ð°Ð´Ñ€ÐµÑ",url:"URL",emoji:"ÑÐ¼Ð¾Ð´Ð·Ð¸",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO Ð´Ð°Ñ‚Ð° Ð¸ Ð²Ñ€ÐµÐ¼Ñ",date:"ISO Ð´Ð°Ñ‚Ð°",time:"ISO Ð²Ñ€ÐµÐ¼Ñ",duration:"ISO Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ",ipv4:"IPv4 Ð°Ð´Ñ€ÐµÑ",ipv6:"IPv6 Ð°Ð´Ñ€ÐµÑ",cidrv4:"IPv4 Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½",cidrv6:"IPv6 Ð´Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½",base64:"ÑÑ‚Ñ€Ð¾ÐºÐ° Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ base64",base64url:"ÑÑ‚Ñ€Ð¾ÐºÐ° Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ base64url",json_string:"JSON ÑÑ‚Ñ€Ð¾ÐºÐ°",e164:"Ð½Ð¾Ð¼ÐµÑ€ E.164",jwt:"JWT",template_literal:"Ð²Ð²Ð¾Ð´"},d={nan:"NaN",number:"Ñ‡Ð¸ÑÐ»Ð¾",array:"Ð¼Ð°ÑÑÐ¸Ð²"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð²Ð²Ð¾Ð´: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ instanceof ${a.expected}, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ ${e}`;return`ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð²Ð²Ð¾Ð´: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ ${b}, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¾ ${e}`}case"invalid_value":if(1===a.values.length)return`ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð²Ð²Ð¾Ð´: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ ${w6(a.values[0])}`;return`ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ Ð¾Ð´Ð½Ð¾ Ð¸Ð· ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d){let b=B3(Number(a.maximum),d.unit.one,d.unit.few,d.unit.many);return`Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ, Ñ‡Ñ‚Ð¾ ${a.origin??"Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ"} Ð±ÑƒÐ´ÐµÑ‚ Ð¸Ð¼ÐµÑ‚ÑŒ ${c}${a.maximum.toString()} ${b}`}return`Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ, Ñ‡Ñ‚Ð¾ ${a.origin??"Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ"} Ð±ÑƒÐ´ÐµÑ‚ ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d){let b=B3(Number(a.minimum),d.unit.one,d.unit.few,d.unit.many);return`Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ, Ñ‡Ñ‚Ð¾ ${a.origin} Ð±ÑƒÐ´ÐµÑ‚ Ð¸Ð¼ÐµÑ‚ÑŒ ${c}${a.minimum.toString()} ${b}`}return`Ð¡Ð»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼Ð°Ð»ÐµÐ½ÑŒÐºÐ¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: Ð¾Ð¶Ð¸Ð´Ð°Ð»Ð¾ÑÑŒ, Ñ‡Ñ‚Ð¾ ${a.origin} Ð±ÑƒÐ´ÐµÑ‚ ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`ÐÐµÐ²ÐµÑ€Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°: Ð´Ð¾Ð»Ð¶Ð½Ð° Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ‚ÑŒÑÑ Ñ "${b.prefix}"`;if("ends_with"===b.format)return`ÐÐµÐ²ÐµÑ€Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°: Ð´Ð¾Ð»Ð¶Ð½Ð° Ð·Ð°ÐºÐ°Ð½Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° "${b.suffix}"`;if("includes"===b.format)return`ÐÐµÐ²ÐµÑ€Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°: Ð´Ð¾Ð»Ð¶Ð½Ð° ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ "${b.includes}"`;if("regex"===b.format)return`ÐÐµÐ²ÐµÑ€Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°: Ð´Ð¾Ð»Ð¶Ð½Ð° ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¾Ð²Ð°Ñ‚ÑŒ ÑˆÐ°Ð±Ð»Ð¾Ð½Ñƒ ${b.pattern}`;return`ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ ${c[b.format]??a.format}`}case"not_multiple_of":return`ÐÐµÐ²ÐµÑ€Ð½Ð¾Ðµ Ñ‡Ð¸ÑÐ»Ð¾: Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ ÐºÑ€Ð°Ñ‚Ð½Ñ‹Ð¼ ${a.divisor}`;case"unrecognized_keys":return`ÐÐµÑ€Ð°ÑÐ¿Ð¾Ð·Ð½Ð°Ð½Ð½${a.keys.length>1?"Ñ‹Ðµ":"Ñ‹Ð¹"} ÐºÐ»ÑŽÑ‡${a.keys.length>1?"Ð¸":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ Ð² ${a.origin}`;case"invalid_union":return"ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ";case"invalid_element":return`ÐÐµÐ²ÐµÑ€Ð½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð² ${a.origin}`;default:return`ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ðµ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ`}}};function B5(){return{localeError:B4()}}let B6=()=>{let a={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function b(b){return a[b]??null}let c={regex:"vnos",email:"e-poÅ¡tni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in Äas",date:"ISO datum",time:"ISO Äas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 Å¡tevilka",jwt:"JWT",template_literal:"vnos"},d={nan:"NaN",number:"Å¡tevilo",array:"tabela"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Neveljaven vnos: priÄakovano instanceof ${a.expected}, prejeto ${e}`;return`Neveljaven vnos: priÄakovano ${b}, prejeto ${e}`}case"invalid_value":if(1===a.values.length)return`Neveljaven vnos: priÄakovano ${w6(a.values[0])}`;return`Neveljavna moÅ¾nost: priÄakovano eno izmed ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Preveliko: priÄakovano, da bo ${a.origin??"vrednost"} imelo ${c}${a.maximum.toString()} ${d.unit??"elementov"}`;return`Preveliko: priÄakovano, da bo ${a.origin??"vrednost"} ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Premajhno: priÄakovano, da bo ${a.origin} imelo ${c}${a.minimum.toString()} ${d.unit}`;return`Premajhno: priÄakovano, da bo ${a.origin} ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Neveljaven niz: mora se zaÄeti z "${b.prefix}"`;if("ends_with"===b.format)return`Neveljaven niz: mora se konÄati z "${b.suffix}"`;if("includes"===b.format)return`Neveljaven niz: mora vsebovati "${b.includes}"`;if("regex"===b.format)return`Neveljaven niz: mora ustrezati vzorcu ${b.pattern}`;return`Neveljaven ${c[b.format]??a.format}`}case"not_multiple_of":return`Neveljavno Å¡tevilo: mora biti veÄkratnik ${a.divisor}`;case"unrecognized_keys":return`Neprepoznan${a.keys.length>1?"i kljuÄi":" kljuÄ"}: ${wE(a.keys,", ")}`;case"invalid_key":return`Neveljaven kljuÄ v ${a.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${a.origin}`}}};function B7(){return{localeError:B6()}}let B8=()=>{let a={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehÃ¥lla"},set:{unit:"objekt",verb:"att innehÃ¥lla"}};function b(b){return a[b]??null}let c={regex:"reguljÃ¤rt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strÃ¤ng",base64url:"base64url-kodad strÃ¤ng",json_string:"JSON-strÃ¤ng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},d={nan:"NaN",number:"antal",array:"lista"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Ogiltig inmatning: f\xf6rv\xe4ntat instanceof ${a.expected}, fick ${e}`;return`Ogiltig inmatning: f\xf6rv\xe4ntat ${b}, fick ${e}`}case"invalid_value":if(1===a.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${w6(a.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${a.origin??"vÃ¤rdet"} att ha ${c}${a.maximum.toString()} ${d.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${a.origin??"vÃ¤rdet"} att ha ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${a.origin??"vÃ¤rdet"} att ha ${c}${a.minimum.toString()} ${d.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${a.origin??"vÃ¤rdet"} att ha ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${b.prefix}"`;if("ends_with"===b.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${b.suffix}"`;if("includes"===b.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${b.includes}"`;if("regex"===b.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${b.pattern}"`;return`Ogiltig(t) ${c[b.format]??a.format}`}case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${a.divisor}`;case"unrecognized_keys":return`${a.keys.length>1?"OkÃ¤nda nycklar":"OkÃ¤nd nyckel"}: ${wE(a.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${a.origin??"vÃ¤rdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${a.origin??"vÃ¤rdet"}`}}};function B9(){return{localeError:B8()}}let Ca=()=>{let a={string:{unit:"à®Žà®´à¯à®¤à¯à®¤à¯à®•à¯à®•à®³à¯",verb:"à®•à¯Šà®£à¯à®Ÿà®¿à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯"},file:{unit:"à®ªà¯ˆà®Ÿà¯à®Ÿà¯à®•à®³à¯",verb:"à®•à¯Šà®£à¯à®Ÿà®¿à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯"},array:{unit:"à®‰à®±à¯à®ªà¯à®ªà¯à®•à®³à¯",verb:"à®•à¯Šà®£à¯à®Ÿà®¿à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯"},set:{unit:"à®‰à®±à¯à®ªà¯à®ªà¯à®•à®³à¯",verb:"à®•à¯Šà®£à¯à®Ÿà®¿à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯"}};function b(b){return a[b]??null}let c={regex:"à®‰à®³à¯à®³à¯€à®Ÿà¯",email:"à®®à®¿à®©à¯à®©à®žà¯à®šà®²à¯ à®®à¯à®•à®µà®°à®¿",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO à®¤à¯‡à®¤à®¿ à®¨à¯‡à®°à®®à¯",date:"ISO à®¤à¯‡à®¤à®¿",time:"ISO à®¨à¯‡à®°à®®à¯",duration:"ISO à®•à®¾à®² à®…à®³à®µà¯",ipv4:"IPv4 à®®à¯à®•à®µà®°à®¿",ipv6:"IPv6 à®®à¯à®•à®µà®°à®¿",cidrv4:"IPv4 à®µà®°à®®à¯à®ªà¯",cidrv6:"IPv6 à®µà®°à®®à¯à®ªà¯",base64:"base64-encoded à®šà®°à®®à¯",base64url:"base64url-encoded à®šà®°à®®à¯",json_string:"JSON à®šà®°à®®à¯",e164:"E.164 à®Žà®£à¯",jwt:"JWT",template_literal:"input"},d={nan:"NaN",number:"à®Žà®£à¯",array:"à®…à®£à®¿",null:"à®µà¯†à®±à¯à®®à¯ˆ"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`à®¤à®µà®±à®¾à®© à®‰à®³à¯à®³à¯€à®Ÿà¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ instanceof ${a.expected}, à®ªà¯†à®±à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${e}`;return`à®¤à®µà®±à®¾à®© à®‰à®³à¯à®³à¯€à®Ÿà¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${b}, à®ªà¯†à®±à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${e}`}case"invalid_value":if(1===a.values.length)return`à®¤à®µà®±à®¾à®© à®‰à®³à¯à®³à¯€à®Ÿà¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${w6(a.values[0])}`;return`à®¤à®µà®±à®¾à®© à®µà®¿à®°à¯à®ªà¯à®ªà®®à¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${wE(a.values,"|")} à®‡à®²à¯ à®’à®©à¯à®±à¯`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`à®®à®¿à®• à®ªà¯†à®°à®¿à®¯à®¤à¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${a.origin??"à®®à®¤à®¿à®ªà¯à®ªà¯"} ${c}${a.maximum.toString()} ${d.unit??"à®‰à®±à¯à®ªà¯à®ªà¯à®•à®³à¯"} à®†à®• à®‡à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`;return`à®®à®¿à®• à®ªà¯†à®°à®¿à®¯à®¤à¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${a.origin??"à®®à®¤à®¿à®ªà¯à®ªà¯"} ${c}${a.maximum.toString()} à®†à®• à®‡à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`à®®à®¿à®•à®šà¯ à®šà®¿à®±à®¿à®¯à®¤à¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${a.origin} ${c}${a.minimum.toString()} ${d.unit} à®†à®• à®‡à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`;return`à®®à®¿à®•à®šà¯ à®šà®¿à®±à®¿à®¯à®¤à¯: à®Žà®¤à®¿à®°à¯à®ªà®¾à®°à¯à®•à¯à®•à®ªà¯à®ªà®Ÿà¯à®Ÿà®¤à¯ ${a.origin} ${c}${a.minimum.toString()} à®†à®• à®‡à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`à®¤à®µà®±à®¾à®© à®šà®°à®®à¯: "${b.prefix}" à®‡à®²à¯ à®¤à¯Šà®Ÿà®™à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`;if("ends_with"===b.format)return`à®¤à®µà®±à®¾à®© à®šà®°à®®à¯: "${b.suffix}" à®‡à®²à¯ à®®à¯à®Ÿà®¿à®µà®Ÿà¯ˆà®¯ à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`;if("includes"===b.format)return`à®¤à®µà®±à®¾à®© à®šà®°à®®à¯: "${b.includes}" à® à®‰à®³à¯à®³à®Ÿà®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`;if("regex"===b.format)return`à®¤à®µà®±à®¾à®© à®šà®°à®®à¯: ${b.pattern} à®®à¯à®±à¯ˆà®ªà®¾à®Ÿà¯à®Ÿà¯à®Ÿà®©à¯ à®ªà¯Šà®°à¯à®¨à¯à®¤ à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`;return`à®¤à®µà®±à®¾à®© ${c[b.format]??a.format}`}case"not_multiple_of":return`à®¤à®µà®±à®¾à®© à®Žà®£à¯: ${a.divisor} à®‡à®©à¯ à®ªà®²à®®à®¾à®• à®‡à®°à¯à®•à¯à®• à®µà¯‡à®£à¯à®Ÿà¯à®®à¯`;case"unrecognized_keys":return`à®…à®Ÿà¯ˆà®¯à®¾à®³à®®à¯ à®¤à¯†à®°à®¿à®¯à®¾à®¤ à®µà®¿à®šà¯ˆ${a.keys.length>1?"à®•à®³à¯":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`${a.origin} à®‡à®²à¯ à®¤à®µà®±à®¾à®© à®µà®¿à®šà¯ˆ`;case"invalid_union":return"à®¤à®µà®±à®¾à®© à®‰à®³à¯à®³à¯€à®Ÿà¯";case"invalid_element":return`${a.origin} à®‡à®²à¯ à®¤à®µà®±à®¾à®© à®®à®¤à®¿à®ªà¯à®ªà¯`;default:return`à®¤à®µà®±à®¾à®© à®‰à®³à¯à®³à¯€à®Ÿà¯`}}};function Cb(){return{localeError:Ca()}}let Cc=()=>{let a={string:{unit:"à¸•à¸±à¸§à¸­à¸±à¸à¸©à¸£",verb:"à¸„à¸§à¸£à¸¡à¸µ"},file:{unit:"à¹„à¸šà¸•à¹Œ",verb:"à¸„à¸§à¸£à¸¡à¸µ"},array:{unit:"à¸£à¸²à¸¢à¸à¸²à¸£",verb:"à¸„à¸§à¸£à¸¡à¸µ"},set:{unit:"à¸£à¸²à¸¢à¸à¸²à¸£",verb:"à¸„à¸§à¸£à¸¡à¸µ"}};function b(b){return a[b]??null}let c={regex:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸›à¹‰à¸­à¸™",email:"à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆà¸­à¸µà¹€à¸¡à¸¥",url:"URL",emoji:"à¸­à¸´à¹‚à¸¡à¸ˆà¸´",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¹€à¸§à¸¥à¸²à¹à¸šà¸š ISO",date:"à¸§à¸±à¸™à¸—à¸µà¹ˆà¹à¸šà¸š ISO",time:"à¹€à¸§à¸¥à¸²à¹à¸šà¸š ISO",duration:"à¸Šà¹ˆà¸§à¸‡à¹€à¸§à¸¥à¸²à¹à¸šà¸š ISO",ipv4:"à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ IPv4",ipv6:"à¸—à¸µà¹ˆà¸­à¸¢à¸¹à¹ˆ IPv6",cidrv4:"à¸Šà¹ˆà¸§à¸‡ IP à¹à¸šà¸š IPv4",cidrv6:"à¸Šà¹ˆà¸§à¸‡ IP à¹à¸šà¸š IPv6",base64:"à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹à¸šà¸š Base64",base64url:"à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹à¸šà¸š Base64 à¸ªà¸³à¸«à¸£à¸±à¸š URL",json_string:"à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¹à¸šà¸š JSON",e164:"à¹€à¸šà¸­à¸£à¹Œà¹‚à¸—à¸£à¸¨à¸±à¸žà¸—à¹Œà¸£à¸°à¸«à¸§à¹ˆà¸²à¸‡à¸›à¸£à¸°à¹€à¸—à¸¨ (E.164)",jwt:"à¹‚à¸—à¹€à¸„à¸™ JWT",template_literal:"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¸—à¸µà¹ˆà¸›à¹‰à¸­à¸™"},d={nan:"NaN",number:"à¸•à¸±à¸§à¹€à¸¥à¸‚",array:"à¸­à¸²à¸£à¹Œà¹€à¸£à¸¢à¹Œ (Array)",null:"à¹„à¸¡à¹ˆà¸¡à¸µà¸„à¹ˆà¸² (null)"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`à¸›à¸£à¸°à¹€à¸ à¸—à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸„à¸§à¸£à¹€à¸›à¹‡à¸™ instanceof ${a.expected} à¹à¸•à¹ˆà¹„à¸”à¹‰à¸£à¸±à¸š ${e}`;return`à¸›à¸£à¸°à¹€à¸ à¸—à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸„à¸§à¸£à¹€à¸›à¹‡à¸™ ${b} à¹à¸•à¹ˆà¹„à¸”à¹‰à¸£à¸±à¸š ${e}`}case"invalid_value":if(1===a.values.length)return`à¸„à¹ˆà¸²à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸„à¸§à¸£à¹€à¸›à¹‡à¸™ ${w6(a.values[0])}`;return`à¸•à¸±à¸§à¹€à¸¥à¸·à¸­à¸à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸„à¸§à¸£à¹€à¸›à¹‡à¸™à¸«à¸™à¸¶à¹ˆà¸‡à¹ƒà¸™ ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™":"à¸™à¹‰à¸­à¸¢à¸à¸§à¹ˆà¸²",d=b(a.origin);if(d)return`à¹€à¸à¸´à¸™à¸à¸³à¸«à¸™à¸”: ${a.origin??"à¸„à¹ˆà¸²"} à¸„à¸§à¸£à¸¡à¸µ${c} ${a.maximum.toString()} ${d.unit??"à¸£à¸²à¸¢à¸à¸²à¸£"}`;return`à¹€à¸à¸´à¸™à¸à¸³à¸«à¸™à¸”: ${a.origin??"à¸„à¹ˆà¸²"} à¸„à¸§à¸£à¸¡à¸µ${c} ${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?"à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢":"à¸¡à¸²à¸à¸à¸§à¹ˆà¸²",d=b(a.origin);if(d)return`à¸™à¹‰à¸­à¸¢à¸à¸§à¹ˆà¸²à¸à¸³à¸«à¸™à¸”: ${a.origin} à¸„à¸§à¸£à¸¡à¸µ${c} ${a.minimum.toString()} ${d.unit}`;return`à¸™à¹‰à¸­à¸¢à¸à¸§à¹ˆà¸²à¸à¸³à¸«à¸™à¸”: ${a.origin} à¸„à¸§à¸£à¸¡à¸µ${c} ${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`à¸£à¸¹à¸›à¹à¸šà¸šà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸‚à¸¶à¹‰à¸™à¸•à¹‰à¸™à¸”à¹‰à¸§à¸¢ "${b.prefix}"`;if("ends_with"===b.format)return`à¸£à¸¹à¸›à¹à¸šà¸šà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸¥à¸‡à¸—à¹‰à¸²à¸¢à¸”à¹‰à¸§à¸¢ "${b.suffix}"`;if("includes"===b.format)return`à¸£à¸¹à¸›à¹à¸šà¸šà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡à¸•à¹‰à¸­à¸‡à¸¡à¸µ "${b.includes}" à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡`;if("regex"===b.format)return`à¸£à¸¹à¸›à¹à¸šà¸šà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸•à¹‰à¸­à¸‡à¸•à¸£à¸‡à¸à¸±à¸šà¸£à¸¹à¸›à¹à¸šà¸šà¸—à¸µà¹ˆà¸à¸³à¸«à¸™à¸” ${b.pattern}`;return`à¸£à¸¹à¸›à¹à¸šà¸šà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: ${c[b.format]??a.format}`}case"not_multiple_of":return`à¸•à¸±à¸§à¹€à¸¥à¸‚à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¸•à¹‰à¸­à¸‡à¹€à¸›à¹‡à¸™à¸ˆà¸³à¸™à¸§à¸™à¸—à¸µà¹ˆà¸«à¸²à¸£à¸”à¹‰à¸§à¸¢ ${a.divisor} à¹„à¸”à¹‰à¸¥à¸‡à¸•à¸±à¸§`;case"unrecognized_keys":return`à¸žà¸šà¸„à¸µà¸¢à¹Œà¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸£à¸¹à¹‰à¸ˆà¸±à¸: ${wE(a.keys,", ")}`;case"invalid_key":return`à¸„à¸µà¸¢à¹Œà¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¹ƒà¸™ ${a.origin}`;case"invalid_union":return"à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡: à¹„à¸¡à¹ˆà¸•à¸£à¸‡à¸à¸±à¸šà¸£à¸¹à¸›à¹à¸šà¸šà¸¢à¸¹à¹€à¸™à¸µà¸¢à¸™à¸—à¸µà¹ˆà¸à¸³à¸«à¸™à¸”à¹„à¸§à¹‰";case"invalid_element":return`à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¹ƒà¸™ ${a.origin}`;default:return`à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹„à¸¡à¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡`}}};function Cd(){return{localeError:Cc()}}let Ce=()=>{let a={string:{unit:"karakter",verb:"olmalÄ±"},file:{unit:"bayt",verb:"olmalÄ±"},array:{unit:"Ã¶ÄŸe",verb:"olmalÄ±"},set:{unit:"Ã¶ÄŸe",verb:"olmalÄ±"}};function b(b){return a[b]??null}let c={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sÃ¼re",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralÄ±ÄŸÄ±",cidrv6:"IPv6 aralÄ±ÄŸÄ±",base64:"base64 ile ÅŸifrelenmiÅŸ metin",base64url:"base64url ile ÅŸifrelenmiÅŸ metin",json_string:"JSON dizesi",e164:"E.164 sayÄ±sÄ±",jwt:"JWT",template_literal:"Åžablon dizesi"},d={nan:"NaN"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Ge\xe7ersiz deÄŸer: beklenen instanceof ${a.expected}, alÄ±nan ${e}`;return`Ge\xe7ersiz deÄŸer: beklenen ${b}, alÄ±nan ${e}`}case"invalid_value":if(1===a.values.length)return`Ge\xe7ersiz deÄŸer: beklenen ${w6(a.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aÅŸaÄŸÄ±dakilerden biri olmalÄ±: ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`\xc7ok b\xfcy\xfck: beklenen ${a.origin??"deÄŸer"} ${c}${a.maximum.toString()} ${d.unit??"Ã¶ÄŸe"}`;return`\xc7ok b\xfcy\xfck: beklenen ${a.origin??"deÄŸer"} ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`\xc7ok k\xfc\xe7\xfck: beklenen ${a.origin} ${c}${a.minimum.toString()} ${d.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${a.origin} ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Ge\xe7ersiz metin: "${b.prefix}" ile baÅŸlamalÄ±`;if("ends_with"===b.format)return`Ge\xe7ersiz metin: "${b.suffix}" ile bitmeli`;if("includes"===b.format)return`Ge\xe7ersiz metin: "${b.includes}" i\xe7ermeli`;if("regex"===b.format)return`Ge\xe7ersiz metin: ${b.pattern} desenine uymalÄ±`;return`Ge\xe7ersiz ${c[b.format]??a.format}`}case"not_multiple_of":return`Ge\xe7ersiz sayÄ±: ${a.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`TanÄ±nmayan anahtar${a.keys.length>1?"lar":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`${a.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"GeÃ§ersiz deÄŸer";case"invalid_element":return`${a.origin} i\xe7inde ge\xe7ersiz deÄŸer`;default:return`Ge\xe7ersiz deÄŸer`}}};function Cf(){return{localeError:Ce()}}let Cg=()=>{let a={string:{unit:"ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ–Ð²",verb:"Ð¼Ð°Ñ‚Ð¸Ð¼Ðµ"},file:{unit:"Ð±Ð°Ð¹Ñ‚Ñ–Ð²",verb:"Ð¼Ð°Ñ‚Ð¸Ð¼Ðµ"},array:{unit:"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ–Ð²",verb:"Ð¼Ð°Ñ‚Ð¸Ð¼Ðµ"},set:{unit:"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ–Ð²",verb:"Ð¼Ð°Ñ‚Ð¸Ð¼Ðµ"}};function b(b){return a[b]??null}let c={regex:"Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–",email:"Ð°Ð´Ñ€ÐµÑÐ° ÐµÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ñ— Ð¿Ð¾ÑˆÑ‚Ð¸",url:"URL",emoji:"ÐµÐ¼Ð¾Ð´Ð·Ñ–",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"Ð´Ð°Ñ‚Ð° Ñ‚Ð° Ñ‡Ð°Ñ ISO",date:"Ð´Ð°Ñ‚Ð° ISO",time:"Ñ‡Ð°Ñ ISO",duration:"Ñ‚Ñ€Ð¸Ð²Ð°Ð»Ñ–ÑÑ‚ÑŒ ISO",ipv4:"Ð°Ð´Ñ€ÐµÑÐ° IPv4",ipv6:"Ð°Ð´Ñ€ÐµÑÐ° IPv6",cidrv4:"Ð´Ñ–Ð°Ð¿Ð°Ð·Ð¾Ð½ IPv4",cidrv6:"Ð´Ñ–Ð°Ð¿Ð°Ð·Ð¾Ð½ IPv6",base64:"Ñ€ÑÐ´Ð¾Ðº Ñƒ ÐºÐ¾Ð´ÑƒÐ²Ð°Ð½Ð½Ñ– base64",base64url:"Ñ€ÑÐ´Ð¾Ðº Ñƒ ÐºÐ¾Ð´ÑƒÐ²Ð°Ð½Ð½Ñ– base64url",json_string:"Ñ€ÑÐ´Ð¾Ðº JSON",e164:"Ð½Ð¾Ð¼ÐµÑ€ E.164",jwt:"JWT",template_literal:"Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–"},d={nan:"NaN",number:"Ñ‡Ð¸ÑÐ»Ð¾",array:"Ð¼Ð°ÑÐ¸Ð²"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ instanceof ${a.expected}, Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð¾ ${e}`;return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ ${b}, Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð¾ ${e}`}case"invalid_value":if(1===a.values.length)return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ ${w6(a.values[0])}`;return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð° Ð¾Ð¿Ñ†Ñ–Ñ: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ Ð¾Ð´Ð½Ðµ Ð· ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð¾ Ð²ÐµÐ»Ð¸ÐºÐµ: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ, Ñ‰Ð¾ ${a.origin??"Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ"} ${d.verb} ${c}${a.maximum.toString()} ${d.unit??"ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ–Ð²"}`;return`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð¾ Ð²ÐµÐ»Ð¸ÐºÐµ: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ, Ñ‰Ð¾ ${a.origin??"Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ"} Ð±ÑƒÐ´Ðµ ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð¾ Ð¼Ð°Ð»Ðµ: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ, Ñ‰Ð¾ ${a.origin} ${d.verb} ${c}${a.minimum.toString()} ${d.unit}`;return`Ð—Ð°Ð½Ð°Ð´Ñ‚Ð¾ Ð¼Ð°Ð»Ðµ: Ð¾Ñ‡Ñ–ÐºÑƒÑ”Ñ‚ÑŒÑÑ, Ñ‰Ð¾ ${a.origin} Ð±ÑƒÐ´Ðµ ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ Ñ€ÑÐ´Ð¾Ðº: Ð¿Ð¾Ð²Ð¸Ð½ÐµÐ½ Ð¿Ð¾Ñ‡Ð¸Ð½Ð°Ñ‚Ð¸ÑÑ Ð· "${b.prefix}"`;if("ends_with"===b.format)return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ Ñ€ÑÐ´Ð¾Ðº: Ð¿Ð¾Ð²Ð¸Ð½ÐµÐ½ Ð·Ð°ÐºÑ–Ð½Ñ‡ÑƒÐ²Ð°Ñ‚Ð¸ÑÑ Ð½Ð° "${b.suffix}"`;if("includes"===b.format)return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ Ñ€ÑÐ´Ð¾Ðº: Ð¿Ð¾Ð²Ð¸Ð½ÐµÐ½ Ð¼Ñ–ÑÑ‚Ð¸Ñ‚Ð¸ "${b.includes}"`;if("regex"===b.format)return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ Ñ€ÑÐ´Ð¾Ðº: Ð¿Ð¾Ð²Ð¸Ð½ÐµÐ½ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ð°Ñ‚Ð¸ ÑˆÐ°Ð±Ð»Ð¾Ð½Ñƒ ${b.pattern}`;return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ ${c[b.format]??a.format}`}case"not_multiple_of":return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ðµ Ñ‡Ð¸ÑÐ»Ð¾: Ð¿Ð¾Ð²Ð¸Ð½Ð½Ð¾ Ð±ÑƒÑ‚Ð¸ ÐºÑ€Ð°Ñ‚Ð½Ð¸Ð¼ ${a.divisor}`;case"unrecognized_keys":return`ÐÐµÑ€Ð¾Ð·Ð¿Ñ–Ð·Ð½Ð°Ð½Ð¸Ð¹ ÐºÐ»ÑŽÑ‡${a.keys.length>1?"Ñ–":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¸Ð¹ ÐºÐ»ÑŽÑ‡ Ñƒ ${a.origin}`;case"invalid_union":return"ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–";case"invalid_element":return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ Ñƒ ${a.origin}`;default:return`ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ–`}}};function Ch(){return{localeError:Cg()}}function Ci(){return Ch()}let Cj=()=>{let a={string:{unit:"Ø­Ø±ÙˆÙ",verb:"ÛÙˆÙ†Ø§"},file:{unit:"Ø¨Ø§Ø¦Ù¹Ø³",verb:"ÛÙˆÙ†Ø§"},array:{unit:"Ø¢Ø¦Ù¹Ù…Ø²",verb:"ÛÙˆÙ†Ø§"},set:{unit:"Ø¢Ø¦Ù¹Ù…Ø²",verb:"ÛÙˆÙ†Ø§"}};function b(b){return a[b]??null}let c={regex:"Ø§Ù† Ù¾Ù¹",email:"Ø§ÛŒ Ù…ÛŒÙ„ Ø§ÛŒÚˆØ±ÛŒØ³",url:"ÛŒÙˆ Ø¢Ø± Ø§ÛŒÙ„",emoji:"Ø§ÛŒÙ…ÙˆØ¬ÛŒ",uuid:"ÛŒÙˆ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ",uuidv4:"ÛŒÙˆ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ ÙˆÛŒ 4",uuidv6:"ÛŒÙˆ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ ÙˆÛŒ 6",nanoid:"Ù†ÛŒÙ†Ùˆ Ø¢Ø¦ÛŒ ÚˆÛŒ",guid:"Ø¬ÛŒ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ",cuid:"Ø³ÛŒ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ",cuid2:"Ø³ÛŒ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ 2",ulid:"ÛŒÙˆ Ø§ÛŒÙ„ Ø¢Ø¦ÛŒ ÚˆÛŒ",xid:"Ø§ÛŒÚ©Ø³ Ø¢Ø¦ÛŒ ÚˆÛŒ",ksuid:"Ú©Û’ Ø§ÛŒØ³ ÛŒÙˆ Ø¢Ø¦ÛŒ ÚˆÛŒ",datetime:"Ø¢Ø¦ÛŒ Ø§ÛŒØ³ Ø§Ùˆ ÚˆÛŒÙ¹ Ù¹Ø§Ø¦Ù…",date:"Ø¢Ø¦ÛŒ Ø§ÛŒØ³ Ø§Ùˆ ØªØ§Ø±ÛŒØ®",time:"Ø¢Ø¦ÛŒ Ø§ÛŒØ³ Ø§Ùˆ ÙˆÙ‚Øª",duration:"Ø¢Ø¦ÛŒ Ø§ÛŒØ³ Ø§Ùˆ Ù…Ø¯Øª",ipv4:"Ø¢Ø¦ÛŒ Ù¾ÛŒ ÙˆÛŒ 4 Ø§ÛŒÚˆØ±ÛŒØ³",ipv6:"Ø¢Ø¦ÛŒ Ù¾ÛŒ ÙˆÛŒ 6 Ø§ÛŒÚˆØ±ÛŒØ³",cidrv4:"Ø¢Ø¦ÛŒ Ù¾ÛŒ ÙˆÛŒ 4 Ø±ÛŒÙ†Ø¬",cidrv6:"Ø¢Ø¦ÛŒ Ù¾ÛŒ ÙˆÛŒ 6 Ø±ÛŒÙ†Ø¬",base64:"Ø¨ÛŒØ³ 64 Ø§Ù† Ú©ÙˆÚˆÚˆ Ø³Ù¹Ø±Ù†Ú¯",base64url:"Ø¨ÛŒØ³ 64 ÛŒÙˆ Ø¢Ø± Ø§ÛŒÙ„ Ø§Ù† Ú©ÙˆÚˆÚˆ Ø³Ù¹Ø±Ù†Ú¯",json_string:"Ø¬Û’ Ø§ÛŒØ³ Ø§Ùˆ Ø§ÛŒÙ† Ø³Ù¹Ø±Ù†Ú¯",e164:"Ø§ÛŒ 164 Ù†Ù…Ø¨Ø±",jwt:"Ø¬Û’ ÚˆØ¨Ù„ÛŒÙˆ Ù¹ÛŒ",template_literal:"Ø§Ù† Ù¾Ù¹"},d={nan:"NaN",number:"Ù†Ù…Ø¨Ø±",array:"Ø¢Ø±Û’",null:"Ù†Ù„"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`ØºÙ„Ø· Ø§Ù† Ù¾Ù¹: instanceof ${a.expected} Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Ø§ØŒ ${e} Ù…ÙˆØµÙˆÙ„ ÛÙˆØ§`;return`ØºÙ„Ø· Ø§Ù† Ù¾Ù¹: ${b} Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Ø§ØŒ ${e} Ù…ÙˆØµÙˆÙ„ ÛÙˆØ§`}case"invalid_value":if(1===a.values.length)return`ØºÙ„Ø· Ø§Ù† Ù¾Ù¹: ${w6(a.values[0])} Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Ø§`;return`ØºÙ„Ø· Ø¢Ù¾Ø´Ù†: ${wE(a.values,"|")} Ù…ÛŒÚº Ø³Û’ Ø§ÛŒÚ© Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Ø§`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Ø¨ÛØª Ø¨Ú‘Ø§: ${a.origin??"ÙˆÛŒÙ„ÛŒÙˆ"} Ú©Û’ ${c}${a.maximum.toString()} ${d.unit??"Ø¹Ù†Ø§ØµØ±"} ÛÙˆÙ†Û’ Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Û’`;return`Ø¨ÛØª Ø¨Ú‘Ø§: ${a.origin??"ÙˆÛŒÙ„ÛŒÙˆ"} Ú©Ø§ ${c}${a.maximum.toString()} ÛÙˆÙ†Ø§ Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Ø§`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Ø¨ÛØª Ú†Ú¾ÙˆÙ¹Ø§: ${a.origin} Ú©Û’ ${c}${a.minimum.toString()} ${d.unit} ÛÙˆÙ†Û’ Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Û’`;return`Ø¨ÛØª Ú†Ú¾ÙˆÙ¹Ø§: ${a.origin} Ú©Ø§ ${c}${a.minimum.toString()} ÛÙˆÙ†Ø§ Ù…ØªÙˆÙ‚Ø¹ ØªÚ¾Ø§`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`ØºÙ„Ø· Ø³Ù¹Ø±Ù†Ú¯: "${b.prefix}" Ø³Û’ Ø´Ø±ÙˆØ¹ ÛÙˆÙ†Ø§ Ú†Ø§ÛÛŒÛ’`;if("ends_with"===b.format)return`ØºÙ„Ø· Ø³Ù¹Ø±Ù†Ú¯: "${b.suffix}" Ù¾Ø± Ø®ØªÙ… ÛÙˆÙ†Ø§ Ú†Ø§ÛÛŒÛ’`;if("includes"===b.format)return`ØºÙ„Ø· Ø³Ù¹Ø±Ù†Ú¯: "${b.includes}" Ø´Ø§Ù…Ù„ ÛÙˆÙ†Ø§ Ú†Ø§ÛÛŒÛ’`;if("regex"===b.format)return`ØºÙ„Ø· Ø³Ù¹Ø±Ù†Ú¯: Ù¾ÛŒÙ¹Ø±Ù† ${b.pattern} Ø³Û’ Ù…ÛŒÚ† ÛÙˆÙ†Ø§ Ú†Ø§ÛÛŒÛ’`;return`ØºÙ„Ø· ${c[b.format]??a.format}`}case"not_multiple_of":return`ØºÙ„Ø· Ù†Ù…Ø¨Ø±: ${a.divisor} Ú©Ø§ Ù…Ø¶Ø§Ø¹Ù ÛÙˆÙ†Ø§ Ú†Ø§ÛÛŒÛ’`;case"unrecognized_keys":return`ØºÛŒØ± ØªØ³Ù„ÛŒÙ… Ø´Ø¯Û Ú©ÛŒ${a.keys.length>1?"Ø²":""}: ${wE(a.keys,"ØŒ ")}`;case"invalid_key":return`${a.origin} Ù…ÛŒÚº ØºÙ„Ø· Ú©ÛŒ`;case"invalid_union":return"ØºÙ„Ø· Ø§Ù† Ù¾Ù¹";case"invalid_element":return`${a.origin} Ù…ÛŒÚº ØºÙ„Ø· ÙˆÛŒÙ„ÛŒÙˆ`;default:return`ØºÙ„Ø· Ø§Ù† Ù¾Ù¹`}}};function Ck(){return{localeError:Cj()}}let Cl=()=>{let a={string:{unit:"belgi",verb:"boâ€˜lishi kerak"},file:{unit:"bayt",verb:"boâ€˜lishi kerak"},array:{unit:"element",verb:"boâ€˜lishi kerak"},set:{unit:"element",verb:"boâ€˜lishi kerak"}};function b(b){return a[b]??null}let c={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},d={nan:"NaN",number:"raqam",array:"massiv"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Notoâ€˜gâ€˜ri kirish: kutilgan instanceof ${a.expected}, qabul qilingan ${e}`;return`Notoâ€˜gâ€˜ri kirish: kutilgan ${b}, qabul qilingan ${e}`}case"invalid_value":if(1===a.values.length)return`Notoâ€˜gâ€˜ri kirish: kutilgan ${w6(a.values[0])}`;return`Notoâ€˜gâ€˜ri variant: quyidagilardan biri kutilgan ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Juda katta: kutilgan ${a.origin??"qiymat"} ${c}${a.maximum.toString()} ${d.unit} ${d.verb}`;return`Juda katta: kutilgan ${a.origin??"qiymat"} ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Juda kichik: kutilgan ${a.origin} ${c}${a.minimum.toString()} ${d.unit} ${d.verb}`;return`Juda kichik: kutilgan ${a.origin} ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Notoâ€˜gâ€˜ri satr: "${b.prefix}" bilan boshlanishi kerak`;if("ends_with"===b.format)return`Notoâ€˜gâ€˜ri satr: "${b.suffix}" bilan tugashi kerak`;if("includes"===b.format)return`Notoâ€˜gâ€˜ri satr: "${b.includes}" ni oâ€˜z ichiga olishi kerak`;if("regex"===b.format)return`Notoâ€˜gâ€˜ri satr: ${b.pattern} shabloniga mos kelishi kerak`;return`Notoâ€˜gâ€˜ri ${c[b.format]??a.format}`}case"not_multiple_of":return`Notoâ€˜gâ€˜ri raqam: ${a.divisor} ning karralisi boâ€˜lishi kerak`;case"unrecognized_keys":return`Nomaâ€™lum kalit${a.keys.length>1?"lar":""}: ${wE(a.keys,", ")}`;case"invalid_key":return`${a.origin} dagi kalit notoâ€˜gâ€˜ri`;case"invalid_union":return"Notoâ€˜gâ€˜ri kirish";case"invalid_element":return`${a.origin} da notoâ€˜gâ€˜ri qiymat`;default:return`Notoâ€˜gâ€˜ri kirish`}}};function Cm(){return{localeError:Cl()}}let Cn=()=>{let a={string:{unit:"kÃ½ tá»±",verb:"cÃ³"},file:{unit:"byte",verb:"cÃ³"},array:{unit:"pháº§n tá»­",verb:"cÃ³"},set:{unit:"pháº§n tá»­",verb:"cÃ³"}};function b(b){return a[b]??null}let c={regex:"Ä‘áº§u vÃ o",email:"Ä‘á»‹a chá»‰ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngÃ y giá» ISO",date:"ngÃ y ISO",time:"giá» ISO",duration:"khoáº£ng thá»i gian ISO",ipv4:"Ä‘á»‹a chá»‰ IPv4",ipv6:"Ä‘á»‹a chá»‰ IPv6",cidrv4:"dáº£i IPv4",cidrv6:"dáº£i IPv6",base64:"chuá»—i mÃ£ hÃ³a base64",base64url:"chuá»—i mÃ£ hÃ³a base64url",json_string:"chuá»—i JSON",e164:"sá»‘ E.164",jwt:"JWT",template_literal:"Ä‘áº§u vÃ o"},d={nan:"NaN",number:"sá»‘",array:"máº£ng"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`Äáº§u v\xe0o kh\xf4ng há»£p lá»‡: mong Ä‘á»£i instanceof ${a.expected}, nháº­n Ä‘Æ°á»£c ${e}`;return`Äáº§u v\xe0o kh\xf4ng há»£p lá»‡: mong Ä‘á»£i ${b}, nháº­n Ä‘Æ°á»£c ${e}`}case"invalid_value":if(1===a.values.length)return`Äáº§u v\xe0o kh\xf4ng há»£p lá»‡: mong Ä‘á»£i ${w6(a.values[0])}`;return`T\xf9y chá»n kh\xf4ng há»£p lá»‡: mong Ä‘á»£i má»™t trong c\xe1c gi\xe1 trá»‹ ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`Qu\xe1 lá»›n: mong Ä‘á»£i ${a.origin??"giÃ¡ trá»‹"} ${d.verb} ${c}${a.maximum.toString()} ${d.unit??"pháº§n tá»­"}`;return`Qu\xe1 lá»›n: mong Ä‘á»£i ${a.origin??"giÃ¡ trá»‹"} ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`Qu\xe1 nhá»: mong Ä‘á»£i ${a.origin} ${d.verb} ${c}${a.minimum.toString()} ${d.unit}`;return`Qu\xe1 nhá»: mong Ä‘á»£i ${a.origin} ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`Chuá»—i kh\xf4ng há»£p lá»‡: pháº£i báº¯t Ä‘áº§u báº±ng "${b.prefix}"`;if("ends_with"===b.format)return`Chuá»—i kh\xf4ng há»£p lá»‡: pháº£i káº¿t th\xfac báº±ng "${b.suffix}"`;if("includes"===b.format)return`Chuá»—i kh\xf4ng há»£p lá»‡: pháº£i bao gá»“m "${b.includes}"`;if("regex"===b.format)return`Chuá»—i kh\xf4ng há»£p lá»‡: pháº£i khá»›p vá»›i máº«u ${b.pattern}`;return`${c[b.format]??a.format} kh\xf4ng há»£p lá»‡`}case"not_multiple_of":return`Sá»‘ kh\xf4ng há»£p lá»‡: pháº£i l\xe0 bá»™i sá»‘ cá»§a ${a.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng Ä‘Æ°á»£c nháº­n dáº¡ng: ${wE(a.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng há»£p lá»‡ trong ${a.origin}`;case"invalid_union":return"Äáº§u vÃ o khÃ´ng há»£p lá»‡";case"invalid_element":return`Gi\xe1 trá»‹ kh\xf4ng há»£p lá»‡ trong ${a.origin}`;default:return`Äáº§u v\xe0o kh\xf4ng há»£p lá»‡`}}};function Co(){return{localeError:Cn()}}let Cp=()=>{let a={string:{unit:"å­—ç¬¦",verb:"åŒ…å«"},file:{unit:"å­—èŠ‚",verb:"åŒ…å«"},array:{unit:"é¡¹",verb:"åŒ…å«"},set:{unit:"é¡¹",verb:"åŒ…å«"}};function b(b){return a[b]??null}let c={regex:"è¾“å…¥",email:"ç”µå­é‚®ä»¶",url:"URL",emoji:"è¡¨æƒ…ç¬¦å·",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISOæ—¥æœŸæ—¶é—´",date:"ISOæ—¥æœŸ",time:"ISOæ—¶é—´",duration:"ISOæ—¶é•¿",ipv4:"IPv4åœ°å€",ipv6:"IPv6åœ°å€",cidrv4:"IPv4ç½‘æ®µ",cidrv6:"IPv6ç½‘æ®µ",base64:"base64ç¼–ç å­—ç¬¦ä¸²",base64url:"base64urlç¼–ç å­—ç¬¦ä¸²",json_string:"JSONå­—ç¬¦ä¸²",e164:"E.164å·ç ",jwt:"JWT",template_literal:"è¾“å…¥"},d={nan:"NaN",number:"æ•°å­—",array:"æ•°ç»„",null:"ç©ºå€¼(null)"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`æ— æ•ˆè¾“å…¥ï¼šæœŸæœ› instanceof ${a.expected}ï¼Œå®žé™…æŽ¥æ”¶ ${e}`;return`æ— æ•ˆè¾“å…¥ï¼šæœŸæœ› ${b}ï¼Œå®žé™…æŽ¥æ”¶ ${e}`}case"invalid_value":if(1===a.values.length)return`æ— æ•ˆè¾“å…¥ï¼šæœŸæœ› ${w6(a.values[0])}`;return`æ— æ•ˆé€‰é¡¹ï¼šæœŸæœ›ä»¥ä¸‹ä¹‹ä¸€ ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`æ•°å€¼è¿‡å¤§ï¼šæœŸæœ› ${a.origin??"å€¼"} ${c}${a.maximum.toString()} ${d.unit??"ä¸ªå…ƒç´ "}`;return`æ•°å€¼è¿‡å¤§ï¼šæœŸæœ› ${a.origin??"å€¼"} ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`æ•°å€¼è¿‡å°ï¼šæœŸæœ› ${a.origin} ${c}${a.minimum.toString()} ${d.unit}`;return`æ•°å€¼è¿‡å°ï¼šæœŸæœ› ${a.origin} ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`æ— æ•ˆå­—ç¬¦ä¸²ï¼šå¿…é¡»ä»¥ "${b.prefix}" å¼€å¤´`;if("ends_with"===b.format)return`æ— æ•ˆå­—ç¬¦ä¸²ï¼šå¿…é¡»ä»¥ "${b.suffix}" ç»“å°¾`;if("includes"===b.format)return`æ— æ•ˆå­—ç¬¦ä¸²ï¼šå¿…é¡»åŒ…å« "${b.includes}"`;if("regex"===b.format)return`æ— æ•ˆå­—ç¬¦ä¸²ï¼šå¿…é¡»æ»¡è¶³æ­£åˆ™è¡¨è¾¾å¼ ${b.pattern}`;return`æ— æ•ˆ${c[b.format]??a.format}`}case"not_multiple_of":return`æ— æ•ˆæ•°å­—ï¼šå¿…é¡»æ˜¯ ${a.divisor} çš„å€æ•°`;case"unrecognized_keys":return`å‡ºçŽ°æœªçŸ¥çš„é”®(key): ${wE(a.keys,", ")}`;case"invalid_key":return`${a.origin} ä¸­çš„é”®(key)æ— æ•ˆ`;case"invalid_union":return"æ— æ•ˆè¾“å…¥";case"invalid_element":return`${a.origin} ä¸­åŒ…å«æ— æ•ˆå€¼(value)`;default:return`æ— æ•ˆè¾“å…¥`}}};function Cq(){return{localeError:Cp()}}let Cr=()=>{let a={string:{unit:"å­—å…ƒ",verb:"æ“æœ‰"},file:{unit:"ä½å…ƒçµ„",verb:"æ“æœ‰"},array:{unit:"é …ç›®",verb:"æ“æœ‰"},set:{unit:"é …ç›®",verb:"æ“æœ‰"}};function b(b){return a[b]??null}let c={regex:"è¼¸å…¥",email:"éƒµä»¶åœ°å€",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO æ—¥æœŸæ™‚é–“",date:"ISO æ—¥æœŸ",time:"ISO æ™‚é–“",duration:"ISO æœŸé–“",ipv4:"IPv4 ä½å€",ipv6:"IPv6 ä½å€",cidrv4:"IPv4 ç¯„åœ",cidrv6:"IPv6 ç¯„åœ",base64:"base64 ç·¨ç¢¼å­—ä¸²",base64url:"base64url ç·¨ç¢¼å­—ä¸²",json_string:"JSON å­—ä¸²",e164:"E.164 æ•¸å€¼",jwt:"JWT",template_literal:"è¼¸å…¥"},d={nan:"NaN"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`ç„¡æ•ˆçš„è¼¸å…¥å€¼ï¼šé æœŸç‚º instanceof ${a.expected}ï¼Œä½†æ”¶åˆ° ${e}`;return`ç„¡æ•ˆçš„è¼¸å…¥å€¼ï¼šé æœŸç‚º ${b}ï¼Œä½†æ”¶åˆ° ${e}`}case"invalid_value":if(1===a.values.length)return`ç„¡æ•ˆçš„è¼¸å…¥å€¼ï¼šé æœŸç‚º ${w6(a.values[0])}`;return`ç„¡æ•ˆçš„é¸é …ï¼šé æœŸç‚ºä»¥ä¸‹å…¶ä¸­ä¹‹ä¸€ ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`æ•¸å€¼éŽå¤§ï¼šé æœŸ ${a.origin??"å€¼"} æ‡‰ç‚º ${c}${a.maximum.toString()} ${d.unit??"å€‹å…ƒç´ "}`;return`æ•¸å€¼éŽå¤§ï¼šé æœŸ ${a.origin??"å€¼"} æ‡‰ç‚º ${c}${a.maximum.toString()}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`æ•¸å€¼éŽå°ï¼šé æœŸ ${a.origin} æ‡‰ç‚º ${c}${a.minimum.toString()} ${d.unit}`;return`æ•¸å€¼éŽå°ï¼šé æœŸ ${a.origin} æ‡‰ç‚º ${c}${a.minimum.toString()}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`ç„¡æ•ˆçš„å­—ä¸²ï¼šå¿…é ˆä»¥ "${b.prefix}" é–‹é ­`;if("ends_with"===b.format)return`ç„¡æ•ˆçš„å­—ä¸²ï¼šå¿…é ˆä»¥ "${b.suffix}" çµå°¾`;if("includes"===b.format)return`ç„¡æ•ˆçš„å­—ä¸²ï¼šå¿…é ˆåŒ…å« "${b.includes}"`;if("regex"===b.format)return`ç„¡æ•ˆçš„å­—ä¸²ï¼šå¿…é ˆç¬¦åˆæ ¼å¼ ${b.pattern}`;return`ç„¡æ•ˆçš„ ${c[b.format]??a.format}`}case"not_multiple_of":return`ç„¡æ•ˆçš„æ•¸å­—ï¼šå¿…é ˆç‚º ${a.divisor} çš„å€æ•¸`;case"unrecognized_keys":return`ç„¡æ³•è­˜åˆ¥çš„éµå€¼${a.keys.length>1?"å€‘":""}ï¼š${wE(a.keys,"ã€")}`;case"invalid_key":return`${a.origin} ä¸­æœ‰ç„¡æ•ˆçš„éµå€¼`;case"invalid_union":return"ç„¡æ•ˆçš„è¼¸å…¥å€¼";case"invalid_element":return`${a.origin} ä¸­æœ‰ç„¡æ•ˆçš„å€¼`;default:return`ç„¡æ•ˆçš„è¼¸å…¥å€¼`}}};function Cs(){return{localeError:Cr()}}let Ct=()=>{let a={string:{unit:"Ã mi",verb:"nÃ­"},file:{unit:"bytes",verb:"nÃ­"},array:{unit:"nkan",verb:"nÃ­"},set:{unit:"nkan",verb:"nÃ­"}};function b(b){return a[b]??null}let c={regex:"áº¹Ì€rá» Ã¬bÃ¡wá»lÃ©",email:"Ã dÃ­ráº¹ÌsÃ¬ Ã¬máº¹ÌlÃ¬",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"Ã kÃ³kÃ² ISO",date:"á»já»Ì ISO",time:"Ã kÃ³kÃ² ISO",duration:"Ã kÃ³kÃ² tÃ³ pÃ© ISO",ipv4:"Ã dÃ­ráº¹ÌsÃ¬ IPv4",ipv6:"Ã dÃ­ráº¹ÌsÃ¬ IPv6",cidrv4:"Ã gbÃ¨gbÃ¨ IPv4",cidrv6:"Ã gbÃ¨gbÃ¨ IPv6",base64:"á»Ì€rá»Ì€ tÃ­ a ká»Ì nÃ­ base64",base64url:"á»Ì€rá»Ì€ base64url",json_string:"á»Ì€rá»Ì€ JSON",e164:"ná»ÌmbÃ  E.164",jwt:"JWT",template_literal:"áº¹Ì€rá» Ã¬bÃ¡wá»lÃ©"},d={nan:"NaN",number:"ná»ÌmbÃ ",array:"akopá»"};return a=>{switch(a.code){case"invalid_type":{let b=d[a.expected]??a.expected,c=xn(a.input),e=d[c]??c;if(/^[A-Z]/.test(a.expected))return`\xccb\xe1wá»l\xe9 aá¹£\xecá¹£e: a n\xed l\xe1ti fi instanceof ${a.expected}, \xe0má»Ì€ a r\xed ${e}`;return`\xccb\xe1wá»l\xe9 aá¹£\xecá¹£e: a n\xed l\xe1ti fi ${b}, \xe0má»Ì€ a r\xed ${e}`}case"invalid_value":if(1===a.values.length)return`\xccb\xe1wá»l\xe9 aá¹£\xecá¹£e: a n\xed l\xe1ti fi ${w6(a.values[0])}`;return`\xc0á¹£\xe0y\xe0n aá¹£\xecá¹£e: yan á»Ì€kan l\xe1ra ${wE(a.values,"|")}`;case"too_big":{let c=a.inclusive?"<=":"<",d=b(a.origin);if(d)return`T\xf3 pá»Ì€ j\xf9: a n\xed l\xe1ti jáº¹Ì p\xe9 ${a.origin??"iye"} ${d.verb} ${c}${a.maximum} ${d.unit}`;return`T\xf3 pá»Ì€ j\xf9: a n\xed l\xe1ti jáº¹Ì ${c}${a.maximum}`}case"too_small":{let c=a.inclusive?">=":">",d=b(a.origin);if(d)return`K\xe9r\xe9 ju: a n\xed l\xe1ti jáº¹Ì p\xe9 ${a.origin} ${d.verb} ${c}${a.minimum} ${d.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti jáº¹Ì ${c}${a.minimum}`}case"invalid_format":{let b=a;if("starts_with"===b.format)return`á»ŒÌ€rá»Ì€ aá¹£\xecá¹£e: gbá»Ìdá»Ì€ báº¹Ì€ráº¹Ì€ páº¹Ì€l\xfa "${b.prefix}"`;if("ends_with"===b.format)return`á»ŒÌ€rá»Ì€ aá¹£\xecá¹£e: gbá»Ìdá»Ì€ par\xed páº¹Ì€l\xfa "${b.suffix}"`;if("includes"===b.format)return`á»ŒÌ€rá»Ì€ aá¹£\xecá¹£e: gbá»Ìdá»Ì€ n\xed "${b.includes}"`;if("regex"===b.format)return`á»ŒÌ€rá»Ì€ aá¹£\xecá¹£e: gbá»Ìdá»Ì€ b\xe1 \xe0páº¹áº¹ráº¹ mu ${b.pattern}`;return`Aá¹£\xecá¹£e: ${c[b.format]??a.format}`}case"not_multiple_of":return`Ná»Ìmb\xe0 aá¹£\xecá¹£e: gbá»Ìdá»Ì€ jáº¹Ì \xe8y\xe0 p\xedp\xedn ti ${a.divisor}`;case"unrecognized_keys":return`Bá»t\xecn\xec \xe0\xecmá»Ì€: ${wE(a.keys,", ")}`;case"invalid_key":return`Bá»t\xecn\xec aá¹£\xecá¹£e n\xedn\xfa ${a.origin}`;case"invalid_union":default:return"ÃŒbÃ¡wá»lÃ© aá¹£Ã¬á¹£e";case"invalid_element":return`Iye aá¹£\xecá¹£e n\xedn\xfa ${a.origin}`}}};function Cu(){return{localeError:Ct()}}a.s([],94551);let Cv=Symbol("ZodOutput"),Cw=Symbol("ZodInput");class Cx{constructor(){this._map=new WeakMap,this._idmap=new Map}add(a,...b){let c=b[0];return this._map.set(a,c),c&&"object"==typeof c&&"id"in c&&this._idmap.set(c.id,a),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(a){let b=this._map.get(a);return b&&"object"==typeof b&&"id"in b&&this._idmap.delete(b.id),this._map.delete(a),this}get(a){let b=a._zod.parent;if(b){let c={...this.get(b)??{}};delete c.id;let d={...c,...this._map.get(a)};return Object.keys(d).length?d:void 0}return this._map.get(a)}has(a){return this._map.has(a)}}function Cy(){return new Cx}(bz=globalThis).__zod_globalRegistry??(bz.__zod_globalRegistry=Cy());let Cz=globalThis.__zod_globalRegistry;function CA(a,b){return new a({type:"string",...w4(b)})}function CB(a,b){return new a({type:"string",coerce:!0,...w4(b)})}function CC(a,b){return new a({type:"string",format:"email",check:"string_format",abort:!1,...w4(b)})}function CD(a,b){return new a({type:"string",format:"guid",check:"string_format",abort:!1,...w4(b)})}function CE(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,...w4(b)})}function CF(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...w4(b)})}function CG(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...w4(b)})}function CH(a,b){return new a({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...w4(b)})}function CI(a,b){return new a({type:"string",format:"url",check:"string_format",abort:!1,...w4(b)})}function CJ(a,b){return new a({type:"string",format:"emoji",check:"string_format",abort:!1,...w4(b)})}function CK(a,b){return new a({type:"string",format:"nanoid",check:"string_format",abort:!1,...w4(b)})}function CL(a,b){return new a({type:"string",format:"cuid",check:"string_format",abort:!1,...w4(b)})}function CM(a,b){return new a({type:"string",format:"cuid2",check:"string_format",abort:!1,...w4(b)})}function CN(a,b){return new a({type:"string",format:"ulid",check:"string_format",abort:!1,...w4(b)})}function CO(a,b){return new a({type:"string",format:"xid",check:"string_format",abort:!1,...w4(b)})}function CP(a,b){return new a({type:"string",format:"ksuid",check:"string_format",abort:!1,...w4(b)})}function CQ(a,b){return new a({type:"string",format:"ipv4",check:"string_format",abort:!1,...w4(b)})}function CR(a,b){return new a({type:"string",format:"ipv6",check:"string_format",abort:!1,...w4(b)})}function CS(a,b){return new a({type:"string",format:"mac",check:"string_format",abort:!1,...w4(b)})}function CT(a,b){return new a({type:"string",format:"cidrv4",check:"string_format",abort:!1,...w4(b)})}function CU(a,b){return new a({type:"string",format:"cidrv6",check:"string_format",abort:!1,...w4(b)})}function CV(a,b){return new a({type:"string",format:"base64",check:"string_format",abort:!1,...w4(b)})}function CW(a,b){return new a({type:"string",format:"base64url",check:"string_format",abort:!1,...w4(b)})}function CX(a,b){return new a({type:"string",format:"e164",check:"string_format",abort:!1,...w4(b)})}function CY(a,b){return new a({type:"string",format:"jwt",check:"string_format",abort:!1,...w4(b)})}a.s(["$ZodRegistry",()=>Cx,"$input",0,Cw,"$output",0,Cv,"globalRegistry",0,Cz,"registry",()=>Cy],64166);let CZ={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function C$(a,b){return new a({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...w4(b)})}function C_(a,b){return new a({type:"string",format:"date",check:"string_format",...w4(b)})}function C0(a,b){return new a({type:"string",format:"time",check:"string_format",precision:null,...w4(b)})}function C1(a,b){return new a({type:"string",format:"duration",check:"string_format",...w4(b)})}function C2(a,b){return new a({type:"number",checks:[],...w4(b)})}function C3(a,b){return new a({type:"number",coerce:!0,checks:[],...w4(b)})}function C4(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"safeint",...w4(b)})}function C5(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float32",...w4(b)})}function C6(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"float64",...w4(b)})}function C7(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"int32",...w4(b)})}function C8(a,b){return new a({type:"number",check:"number_format",abort:!1,format:"uint32",...w4(b)})}function C9(a,b){return new a({type:"boolean",...w4(b)})}function Da(a,b){return new a({type:"boolean",coerce:!0,...w4(b)})}function Db(a,b){return new a({type:"bigint",...w4(b)})}function Dc(a,b){return new a({type:"bigint",coerce:!0,...w4(b)})}function Dd(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...w4(b)})}function De(a,b){return new a({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...w4(b)})}function Df(a,b){return new a({type:"symbol",...w4(b)})}function Dg(a,b){return new a({type:"undefined",...w4(b)})}function Dh(a,b){return new a({type:"null",...w4(b)})}function Di(a){return new a({type:"any"})}function Dj(a){return new a({type:"unknown"})}function Dk(a,b){return new a({type:"never",...w4(b)})}function Dl(a,b){return new a({type:"void",...w4(b)})}function Dm(a,b){return new a({type:"date",...w4(b)})}function Dn(a,b){return new a({type:"date",coerce:!0,...w4(b)})}function Do(a,b){return new a({type:"nan",...w4(b)})}function Dp(a,b){return new y2({check:"less_than",...w4(b),value:a,inclusive:!1})}function Dq(a,b){return new y2({check:"less_than",...w4(b),value:a,inclusive:!0})}function Dr(a,b){return new y3({check:"greater_than",...w4(b),value:a,inclusive:!1})}function Ds(a,b){return new y3({check:"greater_than",...w4(b),value:a,inclusive:!0})}function Dt(a){return Dr(0,a)}function Du(a){return Dp(0,a)}function Dv(a){return Dq(0,a)}function Dw(a){return Ds(0,a)}function Dx(a,b){return new y4({check:"multiple_of",...w4(b),value:a})}function Dy(a,b){return new y7({check:"max_size",...w4(b),maximum:a})}function Dz(a,b){return new y8({check:"min_size",...w4(b),minimum:a})}function DA(a,b){return new y9({check:"size_equals",...w4(b),size:a})}function DB(a,b){return new za({check:"max_length",...w4(b),maximum:a})}function DC(a,b){return new zb({check:"min_length",...w4(b),minimum:a})}function DD(a,b){return new zc({check:"length_equals",...w4(b),length:a})}function DE(a,b){return new ze({check:"string_format",format:"regex",...w4(b),pattern:a})}function DF(a){return new zf({check:"string_format",format:"lowercase",...w4(a)})}function DG(a){return new zg({check:"string_format",format:"uppercase",...w4(a)})}function DH(a,b){return new zh({check:"string_format",format:"includes",...w4(b),includes:a})}function DI(a,b){return new zi({check:"string_format",format:"starts_with",...w4(b),prefix:a})}function DJ(a,b){return new zj({check:"string_format",format:"ends_with",...w4(b),suffix:a})}function DK(a,b,c){return new zl({check:"property",property:a,schema:b,...w4(c)})}function DL(a,b){return new zm({check:"mime_type",mime:a,...w4(b)})}function DM(a){return new zn({check:"overwrite",tx:a})}function DN(a){return DM(b=>b.normalize(a))}function DO(){return DM(a=>a.trim())}function DP(){return DM(a=>a.toLowerCase())}function DQ(){return DM(a=>a.toUpperCase())}function DR(){return DM(a=>wU(a))}function DS(a,b,c){return new a({type:"array",element:b,...w4(c)})}function DT(a,b,c){return new a({type:"union",options:b,...w4(c)})}function DU(a,b,c){return new a({type:"union",options:b,inclusive:!1,...w4(c)})}function DV(a,b,c,d){return new a({type:"union",options:c,discriminator:b,...w4(d)})}function DW(a,b,c){return new a({type:"intersection",left:b,right:c})}function DX(a,b,c,d){let e=c instanceof zq,f=e?d:c;return new a({type:"tuple",items:b,rest:e?c:null,...w4(f)})}function DY(a,b,c,d){return new a({type:"record",keyType:b,valueType:c,...w4(d)})}function DZ(a,b,c,d){return new a({type:"map",keyType:b,valueType:c,...w4(d)})}function D$(a,b,c){return new a({type:"set",valueType:b,...w4(c)})}function D_(a,b,c){return new a({type:"enum",entries:Array.isArray(b)?Object.fromEntries(b.map(a=>[a,a])):b,...w4(c)})}function D0(a,b,c){return new a({type:"enum",entries:b,...w4(c)})}function D1(a,b,c){return new a({type:"literal",values:Array.isArray(b)?b:[b],...w4(c)})}function D2(a,b){return new a({type:"file",...w4(b)})}function D3(a,b){return new a({type:"transform",transform:b})}function D4(a,b){return new a({type:"optional",innerType:b})}function D5(a,b){return new a({type:"nullable",innerType:b})}function D6(a,b,c){return new a({type:"default",innerType:b,get defaultValue(){return"function"==typeof c?c():wZ(c)}})}function D7(a,b,c){return new a({type:"nonoptional",innerType:b,...w4(c)})}function D8(a,b){return new a({type:"success",innerType:b})}function D9(a,b,c){return new a({type:"catch",innerType:b,catchValue:"function"==typeof c?c:()=>c})}function Ea(a,b,c){return new a({type:"pipe",in:b,out:c})}function Eb(a,b){return new a({type:"readonly",innerType:b})}function Ec(a,b,c){return new a({type:"template_literal",parts:b,...w4(c)})}function Ed(a,b){return new a({type:"lazy",getter:b})}function Ee(a,b){return new a({type:"promise",innerType:b})}function Ef(a,b,c){let d=w4(c);return d.abort??(d.abort=!0),new a({type:"custom",check:"custom",fn:b,...d})}function Eg(a,b,c){return new a({type:"custom",check:"custom",fn:b,...w4(c)})}function Eh(a){let b=Ei(c=>(c.addIssue=a=>{if("string"==typeof a)c.issues.push(xo(a,c.value,b._zod.def));else{let d=a;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=c.value),d.inst??(d.inst=b),d.continue??(d.continue=!b._zod.def.abort),c.issues.push(xo(d))}},a(c.value,c)));return b}function Ei(a,b){let c=new y0({check:"custom",...w4(b)});return c._zod.check=a,c}function Ej(a){let b=new y0({check:"describe"});return b._zod.onattach=[b=>{let c=Cz.get(b)??{};Cz.add(b,{...c,description:a})}],b._zod.check=()=>{},b}function Ek(a){let b=new y0({check:"meta"});return b._zod.onattach=[b=>{let c=Cz.get(b)??{};Cz.add(b,{...c,...a})}],b._zod.check=()=>{},b}function El(a,b){let c=w4(b),d=c.truthy??["true","1","yes","on","y","enabled"],e=c.falsy??["false","0","no","off","n","disabled"];"sensitive"!==c.case&&(d=d.map(a=>"string"==typeof a?a.toLowerCase():a),e=e.map(a=>"string"==typeof a?a.toLowerCase():a));let f=new Set(d),g=new Set(e),h=a.Codec??AK,i=a.Boolean??zX,j=new h({type:"pipe",in:new(a.String??zr)({type:"string",error:c.error}),out:new i({type:"boolean",error:c.error}),transform:(a,b)=>{let d=a;return"sensitive"!==c.case&&(d=d.toLowerCase()),!!f.has(d)||!g.has(d)&&(b.issues.push({code:"invalid_value",expected:"stringbool",values:[...f,...g],input:b.value,inst:j,continue:!1}),{})},reverseTransform:(a,b)=>!0===a?d[0]||"true":e[0]||"false",error:c.error});return j}function Em(a,b,c,d={}){let e=w4(d),f={...w4(d),check:"string_format",type:"string",format:b,fn:"function"==typeof c?c:a=>c.test(a),...e};return c instanceof RegExp&&(f.pattern=c),new a(f)}function En(a){let b=a?.target??"draft-2020-12";return"draft-4"===b&&(b="draft-04"),"draft-7"===b&&(b="draft-07"),{processors:a.processors??{},metadataRegistry:a?.metadata??Cz,target:b,unrepresentable:a?.unrepresentable??"throw",override:a?.override??(()=>{}),io:a?.io??"output",counter:0,seen:new Map,cycles:a?.cycles??"ref",reused:a?.reused??"inline",external:a?.external??void 0}}function Eo(a,b,c={path:[],schemaPath:[]}){var d;let e=a._zod.def,f=b.seen.get(a);if(f)return f.count++,c.schemaPath.includes(a)&&(f.cycle=c.path),f.schema;let g={schema:{},count:1,cycle:void 0,path:c.path};b.seen.set(a,g);let h=a._zod.toJSONSchema?.();if(h)g.schema=h;else{let d={...c,schemaPath:[...c.schemaPath,a],path:c.path};if(a._zod.processJSONSchema)a._zod.processJSONSchema(b,g.schema,d);else{let c=g.schema,f=b.processors[e.type];if(!f)throw Error(`[toJSONSchema]: Non-representable type encountered: ${e.type}`);f(a,b,c,d)}let f=a._zod.parent;f&&(g.ref||(g.ref=f),Eo(f,b,d),b.seen.get(f).isParent=!0)}let i=b.metadataRegistry.get(a);return i&&Object.assign(g.schema,i),"input"===b.io&&Er(a)&&(delete g.schema.examples,delete g.schema.default),"input"===b.io&&g.schema._prefault&&((d=g.schema).default??(d.default=g.schema._prefault)),delete g.schema._prefault,b.seen.get(a).schema}function Ep(a,b){let c=a.seen.get(b);if(!c)throw Error("Unprocessed schema. This is a bug in Zod.");let d=new Map;for(let b of a.seen.entries()){let c=a.metadataRegistry.get(b[0])?.id;if(c){let a=d.get(c);if(a&&a!==b[0])throw Error(`Duplicate schema id "${c}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);d.set(c,b[0])}}let e=b=>{let d="draft-2020-12"===a.target?"$defs":"definitions";if(a.external){let c=a.external.registry.get(b[0])?.id,e=a.external.uri??(a=>a);if(c)return{ref:e(c)};let f=b[1].defId??b[1].schema.id??`schema${a.counter++}`;return b[1].defId=f,{defId:f,ref:`${e("__shared")}#/${d}/${f}`}}if(b[1]===c)return{ref:"#"};let e="#",f=`${e}/${d}/`,g=b[1].schema.id??`__schema${a.counter++}`;return{defId:g,ref:f+g}},f=a=>{if(a[1].schema.$ref)return;let b=a[1],{ref:c,defId:d}=e(a);b.def={...b.schema},d&&(b.defId=d);let f=b.schema;for(let a in f)delete f[a];f.$ref=c};if("throw"===a.cycles)for(let b of a.seen.entries()){let a=b[1];if(a.cycle)throw Error(`Cycle detected: #/${a.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let c of a.seen.entries()){let d=c[1];if(b===c[0]){f(c);continue}if(a.external){let d=a.external.registry.get(c[0])?.id;if(b!==c[0]&&d){f(c);continue}}if(a.metadataRegistry.get(c[0])?.id||d.cycle||d.count>1&&"ref"===a.reused){f(c);continue}}}function Eq(a,b){let c=a.seen.get(b);if(!c)throw Error("Unprocessed schema. This is a bug in Zod.");let d=b=>{let c=a.seen.get(b);if(null===c.ref)return;let e=c.def??c.schema,f={...e},g=c.ref;if(c.ref=null,g){d(g);let c=a.seen.get(g),h=c.schema;if(h.$ref&&("draft-07"===a.target||"draft-04"===a.target||"openapi-3.0"===a.target)?(e.allOf=e.allOf??[],e.allOf.push(h)):Object.assign(e,h),Object.assign(e,f),b._zod.parent===g)for(let a in e)"$ref"!==a&&"allOf"!==a&&(a in f||delete e[a]);if(h.$ref&&c.def)for(let a in e)"$ref"!==a&&"allOf"!==a&&a in c.def&&JSON.stringify(e[a])===JSON.stringify(c.def[a])&&delete e[a]}let h=b._zod.parent;if(h&&h!==g){d(h);let b=a.seen.get(h);if(b?.schema.$ref&&(e.$ref=b.schema.$ref,b.def))for(let a in e)"$ref"!==a&&"allOf"!==a&&a in b.def&&JSON.stringify(e[a])===JSON.stringify(b.def[a])&&delete e[a]}a.override({zodSchema:b,jsonSchema:e,path:c.path??[]})};for(let b of[...a.seen.entries()].reverse())d(b[0]);let e={};if("draft-2020-12"===a.target?e.$schema="https://json-schema.org/draft/2020-12/schema":"draft-07"===a.target?e.$schema="http://json-schema.org/draft-07/schema#":"draft-04"===a.target?e.$schema="http://json-schema.org/draft-04/schema#":a.target,a.external?.uri){let c=a.external.registry.get(b)?.id;if(!c)throw Error("Schema is missing an `id` property");e.$id=a.external.uri(c)}Object.assign(e,c.def??c.schema);let f=a.external?.defs??{};for(let b of a.seen.entries()){let a=b[1];a.def&&a.defId&&(f[a.defId]=a.def)}a.external||Object.keys(f).length>0&&("draft-2020-12"===a.target?e.$defs=f:e.definitions=f);try{let c=JSON.parse(JSON.stringify(e));return Object.defineProperty(c,"~standard",{value:{...b["~standard"],jsonSchema:{input:Et(b,"input",a.processors),output:Et(b,"output",a.processors)}},enumerable:!1,writable:!1}),c}catch(a){throw Error("Error converting schema to JSON.")}}function Er(a,b){let c=b??{seen:new Set};if(c.seen.has(a))return!1;c.seen.add(a);let d=a._zod.def;if("transform"===d.type)return!0;if("array"===d.type)return Er(d.element,c);if("set"===d.type)return Er(d.valueType,c);if("lazy"===d.type)return Er(d.getter(),c);if("promise"===d.type||"optional"===d.type||"nonoptional"===d.type||"nullable"===d.type||"readonly"===d.type||"default"===d.type||"prefault"===d.type)return Er(d.innerType,c);if("intersection"===d.type)return Er(d.left,c)||Er(d.right,c);if("record"===d.type||"map"===d.type)return Er(d.keyType,c)||Er(d.valueType,c);if("pipe"===d.type)return Er(d.in,c)||Er(d.out,c);if("object"===d.type){for(let a in d.shape)if(Er(d.shape[a],c))return!0;return!1}if("union"===d.type){for(let a of d.options)if(Er(a,c))return!0;return!1}if("tuple"===d.type){for(let a of d.items)if(Er(a,c))return!0;if(d.rest&&Er(d.rest,c))return!0}return!1}a.s(["TimePrecision",0,CZ,"_any",()=>Di,"_array",()=>DS,"_base64",()=>CV,"_base64url",()=>CW,"_bigint",()=>Db,"_boolean",()=>C9,"_catch",()=>D9,"_check",()=>Ei,"_cidrv4",()=>CT,"_cidrv6",()=>CU,"_coercedBigint",()=>Dc,"_coercedBoolean",()=>Da,"_coercedDate",()=>Dn,"_coercedNumber",()=>C3,"_coercedString",()=>CB,"_cuid",()=>CL,"_cuid2",()=>CM,"_custom",()=>Ef,"_date",()=>Dm,"_default",()=>D6,"_discriminatedUnion",()=>DV,"_e164",()=>CX,"_email",()=>CC,"_emoji",()=>CJ,"_endsWith",()=>DJ,"_enum",()=>D_,"_file",()=>D2,"_float32",()=>C5,"_float64",()=>C6,"_gt",()=>Dr,"_gte",()=>Ds,"_guid",()=>CD,"_includes",()=>DH,"_int",()=>C4,"_int32",()=>C7,"_int64",()=>Dd,"_intersection",()=>DW,"_ipv4",()=>CQ,"_ipv6",()=>CR,"_isoDate",()=>C_,"_isoDateTime",()=>C$,"_isoDuration",()=>C1,"_isoTime",()=>C0,"_jwt",()=>CY,"_ksuid",()=>CP,"_lazy",()=>Ed,"_length",()=>DD,"_literal",()=>D1,"_lowercase",()=>DF,"_lt",()=>Dp,"_lte",()=>Dq,"_mac",()=>CS,"_map",()=>DZ,"_max",()=>Dq,"_maxLength",()=>DB,"_maxSize",()=>Dy,"_mime",()=>DL,"_min",()=>Ds,"_minLength",()=>DC,"_minSize",()=>Dz,"_multipleOf",()=>Dx,"_nan",()=>Do,"_nanoid",()=>CK,"_nativeEnum",()=>D0,"_negative",()=>Du,"_never",()=>Dk,"_nonnegative",()=>Dw,"_nonoptional",()=>D7,"_nonpositive",()=>Dv,"_normalize",()=>DN,"_null",()=>Dh,"_nullable",()=>D5,"_number",()=>C2,"_optional",()=>D4,"_overwrite",()=>DM,"_pipe",()=>Ea,"_positive",()=>Dt,"_promise",()=>Ee,"_property",()=>DK,"_readonly",()=>Eb,"_record",()=>DY,"_refine",()=>Eg,"_regex",()=>DE,"_set",()=>D$,"_size",()=>DA,"_slugify",()=>DR,"_startsWith",()=>DI,"_string",()=>CA,"_stringFormat",()=>Em,"_stringbool",()=>El,"_success",()=>D8,"_superRefine",()=>Eh,"_symbol",()=>Df,"_templateLiteral",()=>Ec,"_toLowerCase",()=>DP,"_toUpperCase",()=>DQ,"_transform",()=>D3,"_trim",()=>DO,"_tuple",()=>DX,"_uint32",()=>C8,"_uint64",()=>De,"_ulid",()=>CN,"_undefined",()=>Dg,"_union",()=>DT,"_unknown",()=>Dj,"_uppercase",()=>DG,"_url",()=>CI,"_uuid",()=>CE,"_uuidv4",()=>CF,"_uuidv6",()=>CG,"_uuidv7",()=>CH,"_void",()=>Dl,"_xid",()=>CO,"_xor",()=>DU,"describe",()=>Ej,"meta",()=>Ek],63571);let Es=(a,b={})=>c=>{let d=En({...c,processors:b});return Eo(a,d),Ep(d,a),Eq(d,a)},Et=(a,b,c={})=>d=>{let{libraryOptions:e,target:f}=d??{},g=En({...e??{},target:f,io:b,processors:c});return Eo(a,g),Ep(g,a),Eq(g,a)};a.s(["createStandardJSONSchemaMethod",0,Et,"createToJSONSchemaMethod",0,Es,"extractDefs",()=>Ep,"finalize",()=>Eq,"initializeContext",()=>En,"process",()=>Eo],76403);let Eu={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Ev=(a,b,c,d)=>{let e=c;e.type="string";let{minimum:f,maximum:g,format:h,patterns:i,contentEncoding:j}=a._zod.bag;if("number"==typeof f&&(e.minLength=f),"number"==typeof g&&(e.maxLength=g),h&&(e.format=Eu[h]??h,""===e.format&&delete e.format,"time"===h&&delete e.format),j&&(e.contentEncoding=j),i&&i.size>0){let a=[...i];1===a.length?e.pattern=a[0].source:a.length>1&&(e.allOf=[...a.map(a=>({..."draft-07"===b.target||"draft-04"===b.target||"openapi-3.0"===b.target?{type:"string"}:{},pattern:a.source}))])}},Ew=(a,b,c,d)=>{let e=c,{minimum:f,maximum:g,format:h,multipleOf:i,exclusiveMaximum:j,exclusiveMinimum:k}=a._zod.bag;"string"==typeof h&&h.includes("int")?e.type="integer":e.type="number","number"==typeof k&&("draft-04"===b.target||"openapi-3.0"===b.target?(e.minimum=k,e.exclusiveMinimum=!0):e.exclusiveMinimum=k),"number"==typeof f&&(e.minimum=f,"number"==typeof k&&"draft-04"!==b.target&&(k>=f?delete e.minimum:delete e.exclusiveMinimum)),"number"==typeof j&&("draft-04"===b.target||"openapi-3.0"===b.target?(e.maximum=j,e.exclusiveMaximum=!0):e.exclusiveMaximum=j),"number"==typeof g&&(e.maximum=g,"number"==typeof j&&"draft-04"!==b.target&&(j<=g?delete e.maximum:delete e.exclusiveMaximum)),"number"==typeof i&&(e.multipleOf=i)},Ex=(a,b,c,d)=>{c.type="boolean"},Ey=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema")},Ez=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema")},EA=(a,b,c,d)=>{"openapi-3.0"===b.target?(c.type="string",c.nullable=!0,c.enum=[null]):c.type="null"},EB=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema")},EC=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Void cannot be represented in JSON Schema")},ED=(a,b,c,d)=>{c.not={}},EE=(a,b,c,d)=>{},EF=(a,b,c,d)=>{},EG=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Date cannot be represented in JSON Schema")},EH=(a,b,c,d)=>{let e=wD(a._zod.def.entries);e.every(a=>"number"==typeof a)&&(c.type="number"),e.every(a=>"string"==typeof a)&&(c.type="string"),c.enum=e},EI=(a,b,c,d)=>{let e=a._zod.def,f=[];for(let a of e.values)if(void 0===a){if("throw"===b.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof a)if("throw"===b.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else f.push(Number(a));else f.push(a);if(0===f.length);else if(1===f.length){let a=f[0];c.type=null===a?"null":typeof a,"draft-04"===b.target||"openapi-3.0"===b.target?c.enum=[a]:c.const=a}else f.every(a=>"number"==typeof a)&&(c.type="number"),f.every(a=>"string"==typeof a)&&(c.type="string"),f.every(a=>"boolean"==typeof a)&&(c.type="boolean"),f.every(a=>null===a)&&(c.type="null"),c.enum=f},EJ=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("NaN cannot be represented in JSON Schema")},EK=(a,b,c,d)=>{let e=c,f=a._zod.pattern;if(!f)throw Error("Pattern not found in template literal");e.type="string",e.pattern=f.source},EL=(a,b,c,d)=>{let e=c,f={type:"string",format:"binary",contentEncoding:"binary"},{minimum:g,maximum:h,mime:i}=a._zod.bag;void 0!==g&&(f.minLength=g),void 0!==h&&(f.maxLength=h),i?1===i.length?(f.contentMediaType=i[0],Object.assign(e,f)):(Object.assign(e,f),e.anyOf=i.map(a=>({contentMediaType:a}))):Object.assign(e,f)},EM=(a,b,c,d)=>{c.type="boolean"},EN=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema")},EO=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")},EP=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema")},EQ=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Map cannot be represented in JSON Schema")},ER=(a,b,c,d)=>{if("throw"===b.unrepresentable)throw Error("Set cannot be represented in JSON Schema")},ES=(a,b,c,d)=>{let e=c,f=a._zod.def,{minimum:g,maximum:h}=a._zod.bag;"number"==typeof g&&(e.minItems=g),"number"==typeof h&&(e.maxItems=h),e.type="array",e.items=Eo(f.element,b,{...d,path:[...d.path,"items"]})},ET=(a,b,c,d)=>{let e=c,f=a._zod.def;e.type="object",e.properties={};let g=f.shape;for(let a in g)e.properties[a]=Eo(g[a],b,{...d,path:[...d.path,"properties",a]});let h=new Set([...new Set(Object.keys(g))].filter(a=>{let c=f.shape[a]._zod;return"input"===b.io?void 0===c.optin:void 0===c.optout}));h.size>0&&(e.required=Array.from(h)),f.catchall?._zod.def.type==="never"?e.additionalProperties=!1:f.catchall?f.catchall&&(e.additionalProperties=Eo(f.catchall,b,{...d,path:[...d.path,"additionalProperties"]})):"output"===b.io&&(e.additionalProperties=!1)},EU=(a,b,c,d)=>{let e=a._zod.def,f=!1===e.inclusive,g=e.options.map((a,c)=>Eo(a,b,{...d,path:[...d.path,f?"oneOf":"anyOf",c]}));f?c.oneOf=g:c.anyOf=g},EV=(a,b,c,d)=>{let e=a._zod.def,f=Eo(e.left,b,{...d,path:[...d.path,"allOf",0]}),g=Eo(e.right,b,{...d,path:[...d.path,"allOf",1]}),h=a=>"allOf"in a&&1===Object.keys(a).length;c.allOf=[...h(f)?f.allOf:[f],...h(g)?g.allOf:[g]]},EW=(a,b,c,d)=>{let e=c,f=a._zod.def;e.type="array";let g="draft-2020-12"===b.target?"prefixItems":"items",h="draft-2020-12"===b.target||"openapi-3.0"===b.target?"items":"additionalItems",i=f.items.map((a,c)=>Eo(a,b,{...d,path:[...d.path,g,c]})),j=f.rest?Eo(f.rest,b,{...d,path:[...d.path,h,..."openapi-3.0"===b.target?[f.items.length]:[]]}):null;"draft-2020-12"===b.target?(e.prefixItems=i,j&&(e.items=j)):"openapi-3.0"===b.target?(e.items={anyOf:i},j&&e.items.anyOf.push(j),e.minItems=i.length,j||(e.maxItems=i.length)):(e.items=i,j&&(e.additionalItems=j));let{minimum:k,maximum:l}=a._zod.bag;"number"==typeof k&&(e.minItems=k),"number"==typeof l&&(e.maxItems=l)},EX=(a,b,c,d)=>{let e=c,f=a._zod.def;e.type="object";let g=f.keyType,h=g._zod.bag,i=h?.patterns;if("loose"===f.mode&&i&&i.size>0){let a=Eo(f.valueType,b,{...d,path:[...d.path,"patternProperties","*"]});for(let b of(e.patternProperties={},i))e.patternProperties[b.source]=a}else("draft-07"===b.target||"draft-2020-12"===b.target)&&(e.propertyNames=Eo(f.keyType,b,{...d,path:[...d.path,"propertyNames"]})),e.additionalProperties=Eo(f.valueType,b,{...d,path:[...d.path,"additionalProperties"]});let j=g._zod.values;if(j){let a=[...j].filter(a=>"string"==typeof a||"number"==typeof a);a.length>0&&(e.required=a)}},EY=(a,b,c,d)=>{let e=a._zod.def,f=Eo(e.innerType,b,d),g=b.seen.get(a);"openapi-3.0"===b.target?(g.ref=e.innerType,c.nullable=!0):c.anyOf=[f,{type:"null"}]},EZ=(a,b,c,d)=>{let e=a._zod.def;Eo(e.innerType,b,d),b.seen.get(a).ref=e.innerType},E$=(a,b,c,d)=>{let e=a._zod.def;Eo(e.innerType,b,d),b.seen.get(a).ref=e.innerType,c.default=JSON.parse(JSON.stringify(e.defaultValue))},E_=(a,b,c,d)=>{let e=a._zod.def;Eo(e.innerType,b,d),b.seen.get(a).ref=e.innerType,"input"===b.io&&(c._prefault=JSON.parse(JSON.stringify(e.defaultValue)))},E0=(a,b,c,d)=>{let e,f=a._zod.def;Eo(f.innerType,b,d),b.seen.get(a).ref=f.innerType;try{e=f.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}c.default=e},E1=(a,b,c,d)=>{let e=a._zod.def,f="input"===b.io?"transform"===e.in._zod.def.type?e.out:e.in:e.out;Eo(f,b,d),b.seen.get(a).ref=f},E2=(a,b,c,d)=>{let e=a._zod.def;Eo(e.innerType,b,d),b.seen.get(a).ref=e.innerType,c.readOnly=!0},E3=(a,b,c,d)=>{let e=a._zod.def;Eo(e.innerType,b,d),b.seen.get(a).ref=e.innerType},E4=(a,b,c,d)=>{let e=a._zod.def;Eo(e.innerType,b,d),b.seen.get(a).ref=e.innerType},E5=(a,b,c,d)=>{let e=a._zod.innerType;Eo(e,b,d),b.seen.get(a).ref=e},E6={string:Ev,number:Ew,boolean:Ex,bigint:Ey,symbol:Ez,null:EA,undefined:EB,void:EC,never:ED,any:EE,unknown:EF,date:EG,enum:EH,literal:EI,nan:EJ,template_literal:EK,file:EL,success:EM,custom:EN,function:EO,transform:EP,map:EQ,set:ER,array:ES,object:ET,union:EU,intersection:EV,tuple:EW,record:EX,nullable:EY,nonoptional:EZ,default:E$,prefault:E_,catch:E0,pipe:E1,readonly:E2,promise:E3,optional:E4,lazy:E5};function E7(a,b){if("_idmap"in a){let c=a,d=En({...b,processors:E6}),e={};for(let a of c._idmap.entries()){let[b,c]=a;Eo(c,d)}let f={};for(let a of(d.external={registry:c,uri:b?.uri,defs:e},c._idmap.entries())){let[b,c]=a;Ep(d,c),f[b]=Eq(d,c)}return Object.keys(e).length>0&&(f.__shared={["draft-2020-12"===d.target?"$defs":"definitions"]:e}),{schemas:f}}let c=En({...b,processors:E6});return Eo(a,c),Ep(c,a),Eq(c,a)}class E8{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(a){this.ctx.counter=a}get seen(){return this.ctx.seen}constructor(a){let b=a?.target??"draft-2020-12";"draft-4"===b&&(b="draft-04"),"draft-7"===b&&(b="draft-07"),this.ctx=En({processors:E6,target:b,...a?.metadata&&{metadata:a.metadata},...a?.unrepresentable&&{unrepresentable:a.unrepresentable},...a?.override&&{override:a.override},...a?.io&&{io:a.io}})}process(a,b={path:[],schemaPath:[]}){return Eo(a,this.ctx,b)}emit(a,b){b&&(b.cycles&&(this.ctx.cycles=b.cycles),b.reused&&(this.ctx.reused=b.reused),b.external&&(this.ctx.external=b.external)),Ep(this.ctx,a);let{"~standard":c,...d}=Eq(this.ctx,a);return d}}a.s([],95288),a.s([],38005),a.s(["ZodAny",()=>GJ,"ZodArray",()=>GT,"ZodBase64",()=>Gb,"ZodBase64URL",()=>Gd,"ZodBigInt",()=>Gy,"ZodBigIntFormat",()=>GA,"ZodBoolean",()=>Gw,"ZodCIDRv4",()=>F7,"ZodCIDRv6",()=>F9,"ZodCUID",()=>FT,"ZodCUID2",()=>FV,"ZodCatch",()=>HE,"ZodCodec",()=>HK,"ZodCustom",()=>HW,"ZodCustomStringFormat",()=>Gj,"ZodDate",()=>GR,"ZodDefault",()=>Hw,"ZodDiscriminatedUnion",()=>G2,"ZodE164",()=>Gf,"ZodEmail",()=>FD,"ZodEmoji",()=>FP,"ZodEnum",()=>Hg,"ZodExactOptional",()=>Hr,"ZodFile",()=>Hl,"ZodFunction",()=>HU,"ZodGUID",()=>FF,"ZodIPv4",()=>F1,"ZodIPv6",()=>F5,"ZodIntersection",()=>G4,"ZodJWT",()=>Gh,"ZodKSUID",()=>F_,"ZodLazy",()=>HQ,"ZodLiteral",()=>Hj,"ZodMAC",()=>F3,"ZodMap",()=>Hc,"ZodNaN",()=>HG,"ZodNanoID",()=>FR,"ZodNever",()=>GN,"ZodNonOptional",()=>HA,"ZodNull",()=>GH,"ZodNullable",()=>Ht,"ZodNumber",()=>Go,"ZodNumberFormat",()=>Gq,"ZodObject",()=>GW,"ZodOptional",()=>Hp,"ZodPipe",()=>HI,"ZodPrefault",()=>Hy,"ZodPromise",()=>HS,"ZodReadonly",()=>HM,"ZodRecord",()=>G8,"ZodSet",()=>He,"ZodString",()=>FA,"ZodStringFormat",()=>FC,"ZodSuccess",()=>HC,"ZodSymbol",()=>GD,"ZodTemplateLiteral",()=>HO,"ZodTransform",()=>Hn,"ZodTuple",()=>G6,"ZodType",()=>Fy,"ZodULID",()=>FX,"ZodURL",()=>FM,"ZodUUID",()=>FH,"ZodUndefined",()=>GF,"ZodUnion",()=>G$,"ZodUnknown",()=>GL,"ZodVoid",()=>GP,"ZodXID",()=>FZ,"ZodXor",()=>G0,"_ZodString",()=>Fz,"_default",()=>Hx,"_function",()=>HV,"any",()=>GK,"array",()=>GU,"base64",()=>Gc,"base64url",()=>Ge,"bigint",()=>Gz,"boolean",()=>Gx,"catch",()=>HF,"check",()=>HX,"cidrv4",()=>F8,"cidrv6",()=>Ga,"codec",()=>HL,"cuid",()=>FU,"cuid2",()=>FW,"custom",()=>HY,"date",()=>GS,"describe",()=>H_,"discriminatedUnion",()=>G3,"e164",()=>Gg,"email",()=>FE,"emoji",()=>FQ,"enum",()=>Hh,"exactOptional",()=>Hs,"file",()=>Hm,"float32",()=>Gs,"float64",()=>Gt,"function",()=>HV,"guid",()=>FG,"hash",()=>Gn,"hex",()=>Gm,"hostname",()=>Gl,"httpUrl",()=>FO,"instanceof",()=>H1,"int",()=>Gr,"int32",()=>Gu,"int64",()=>GB,"intersection",()=>G5,"ipv4",()=>F2,"ipv6",()=>F6,"json",()=>H3,"jwt",()=>Gi,"keyof",()=>GV,"ksuid",()=>F0,"lazy",()=>HR,"literal",()=>Hk,"looseObject",()=>GZ,"looseRecord",()=>Hb,"mac",()=>F4,"map",()=>Hd,"meta",()=>H0,"nan",()=>HH,"nanoid",()=>FS,"nativeEnum",()=>Hi,"never",()=>GO,"nonoptional",()=>HB,"null",()=>GI,"nullable",()=>Hu,"nullish",()=>Hv,"number",()=>Gp,"object",()=>GX,"optional",()=>Hq,"partialRecord",()=>Ha,"pipe",()=>HJ,"prefault",()=>Hz,"preprocess",()=>H4,"promise",()=>HT,"readonly",()=>HN,"record",()=>G9,"refine",()=>HZ,"set",()=>Hf,"strictObject",()=>GY,"string",()=>FB,"stringFormat",()=>Gk,"stringbool",()=>H2,"success",()=>HD,"superRefine",()=>H$,"symbol",()=>GE,"templateLiteral",()=>HP,"transform",()=>Ho,"tuple",()=>G7,"uint32",()=>Gv,"uint64",()=>GC,"ulid",()=>FY,"undefined",()=>GG,"union",()=>G_,"unknown",()=>GM,"url",()=>FN,"uuid",()=>FI,"uuidv4",()=>FJ,"uuidv6",()=>FK,"uuidv7",()=>FL,"void",()=>GQ,"xid",()=>F$,"xor",()=>G1],94219),a.i(84516),a.s(["$ZodAny",0,z1,"$ZodArray",0,z7,"$ZodBase64",0,zO,"$ZodBase64URL",0,zQ,"$ZodBigInt",0,zY,"$ZodBigIntFormat",0,zZ,"$ZodBoolean",0,zX,"$ZodCIDRv4",0,zL,"$ZodCIDRv6",0,zM,"$ZodCUID",0,zz,"$ZodCUID2",0,zA,"$ZodCatch",0,AG,"$ZodCodec",0,AK,"$ZodCustom",0,AT,"$ZodCustomStringFormat",0,zU,"$ZodDate",0,z5,"$ZodDefault",0,AA,"$ZodDiscriminatedUnion",0,Ah,"$ZodE164",0,zR,"$ZodEmail",0,zv,"$ZodEmoji",0,zx,"$ZodEnum",0,As,"$ZodExactOptional",0,Ay,"$ZodFile",0,Au,"$ZodFunction",0,AQ,"$ZodGUID",0,zt,"$ZodIPv4",0,zI,"$ZodIPv6",0,zJ,"$ZodISODate",0,zF,"$ZodISODateTime",0,zE,"$ZodISODuration",0,zH,"$ZodISOTime",0,zG,"$ZodIntersection",0,Ai,"$ZodJWT",0,zT,"$ZodKSUID",0,zD,"$ZodLazy",0,AS,"$ZodLiteral",0,At,"$ZodMAC",0,zK,"$ZodMap",0,Ao,"$ZodNaN",0,AH,"$ZodNanoID",0,zy,"$ZodNever",0,z3,"$ZodNonOptional",0,AD,"$ZodNull",0,z0,"$ZodNullable",0,Az,"$ZodNumber",0,zV,"$ZodNumberFormat",0,zW,"$ZodObject",0,Ab,"$ZodObjectJIT",0,Ac,"$ZodOptional",0,Ax,"$ZodPipe",0,AI,"$ZodPrefault",0,AC,"$ZodPromise",0,AR,"$ZodReadonly",0,AN,"$ZodRecord",0,An,"$ZodSet",0,Aq,"$ZodString",0,zr,"$ZodStringFormat",0,zs,"$ZodSuccess",0,AF,"$ZodSymbol",0,z$,"$ZodTemplateLiteral",0,AP,"$ZodTransform",0,Av,"$ZodTuple",0,Al,"$ZodType",0,zq,"$ZodULID",0,zB,"$ZodURL",0,zw,"$ZodUUID",0,zu,"$ZodUndefined",0,z_,"$ZodUnion",0,Ae,"$ZodUnknown",0,z2,"$ZodVoid",0,z4,"$ZodXID",0,zC,"$ZodXor",0,Ag,"clone",()=>w3,"isValidBase64",()=>zN,"isValidBase64URL",()=>zP,"isValidJWT",()=>zS],9419);var E9=a.i(20559),E9=E9,Fa=a.i(49660),Fa=Fa;a.s([],88476),a.s(["ZodISODate",()=>Fd,"ZodISODateTime",()=>Fb,"ZodISODuration",()=>Fh,"ZodISOTime",()=>Ff,"date",()=>Fe,"datetime",()=>Fc,"duration",()=>Fi,"time",()=>Fg],18850);let Fb=ws("ZodISODateTime",(a,b)=>{zE.init(a,b),FC.init(a,b)});function Fc(a){return C$(Fb,a)}let Fd=ws("ZodISODate",(a,b)=>{zF.init(a,b),FC.init(a,b)});function Fe(a){return C_(Fd,a)}let Ff=ws("ZodISOTime",(a,b)=>{zG.init(a,b),FC.init(a,b)});function Fg(a){return C0(Ff,a)}let Fh=ws("ZodISODuration",(a,b)=>{zH.init(a,b),FC.init(a,b)});function Fi(a){return C1(Fh,a)}let Fj=(a,b)=>{xy.init(a,b),a.name="ZodError",Object.defineProperties(a,{format:{value:b=>xB(a,b)},flatten:{value:b=>xA(a,b)},addIssue:{value:b=>{a.issues.push(b),a.message=JSON.stringify(a.issues,wF,2)}},addIssues:{value:b=>{a.issues.push(...b),a.message=JSON.stringify(a.issues,wF,2)}},isEmpty:{get:()=>0===a.issues.length}})},Fk=ws("ZodError",Fj),Fl=ws("ZodError",Fj,{Parent:Error});a.s(["ZodError",0,Fk,"ZodRealError",0,Fl],75160);let Fm=xF(Fl),Fn=xH(Fl),Fo=xJ(Fl),Fp=xL(Fl),Fq=xN(Fl),Fr=xP(Fl),Fs=xR(Fl),Ft=xT(Fl),Fu=xV(Fl),Fv=xX(Fl),Fw=xZ(Fl),Fx=x_(Fl);a.s(["decode",0,Fr,"decodeAsync",0,Ft,"encode",0,Fq,"encodeAsync",0,Fs,"parse",0,Fm,"parseAsync",0,Fn,"safeDecode",0,Fv,"safeDecodeAsync",0,Fx,"safeEncode",0,Fu,"safeEncodeAsync",0,Fw,"safeParse",0,Fo,"safeParseAsync",0,Fp],73590);let Fy=ws("ZodType",(a,b)=>(zq.init(a,b),Object.assign(a["~standard"],{jsonSchema:{input:Et(a,"input"),output:Et(a,"output")}}),a.toJSONSchema=Es(a,{}),a.def=b,a.type=b.type,Object.defineProperty(a,"_def",{value:b}),a.check=(...c)=>a.clone(Fa.mergeDefs(b,{checks:[...b.checks??[],...c.map(a=>"function"==typeof a?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),{parent:!0}),a.with=a.check,a.clone=(b,c)=>w3(a,b,c),a.brand=()=>a,a.register=(b,c)=>(b.add(a,c),a),a.parse=(b,c)=>Fm(a,b,c,{callee:a.parse}),a.safeParse=(b,c)=>Fo(a,b,c),a.parseAsync=async(b,c)=>Fn(a,b,c,{callee:a.parseAsync}),a.safeParseAsync=async(b,c)=>Fp(a,b,c),a.spa=a.safeParseAsync,a.encode=(b,c)=>Fq(a,b,c),a.decode=(b,c)=>Fr(a,b,c),a.encodeAsync=async(b,c)=>Fs(a,b,c),a.decodeAsync=async(b,c)=>Ft(a,b,c),a.safeEncode=(b,c)=>Fu(a,b,c),a.safeDecode=(b,c)=>Fv(a,b,c),a.safeEncodeAsync=async(b,c)=>Fw(a,b,c),a.safeDecodeAsync=async(b,c)=>Fx(a,b,c),a.refine=(b,c)=>a.check(HZ(b,c)),a.superRefine=b=>a.check(H$(b)),a.overwrite=b=>a.check(DM(b)),a.optional=()=>Hq(a),a.exactOptional=()=>Hs(a),a.nullable=()=>Hu(a),a.nullish=()=>Hq(Hu(a)),a.nonoptional=b=>HB(a,b),a.array=()=>GU(a),a.or=b=>G_([a,b]),a.and=b=>G5(a,b),a.transform=b=>HJ(a,Ho(b)),a.default=b=>Hx(a,b),a.prefault=b=>Hz(a,b),a.catch=b=>HF(a,b),a.pipe=b=>HJ(a,b),a.readonly=()=>HN(a),a.describe=b=>{let c=a.clone();return Cz.add(c,{description:b}),c},Object.defineProperty(a,"description",{get:()=>Cz.get(a)?.description,configurable:!0}),a.meta=(...b)=>{if(0===b.length)return Cz.get(a);let c=a.clone();return Cz.add(c,b[0]),c},a.isOptional=()=>a.safeParse(void 0).success,a.isNullable=()=>a.safeParse(null).success,a.apply=b=>b(a),a)),Fz=ws("_ZodString",(a,b)=>{zr.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>Ev(a,b,c,d);let c=a._zod.bag;a.format=c.format??null,a.minLength=c.minimum??null,a.maxLength=c.maximum??null,a.regex=(...b)=>a.check(DE(...b)),a.includes=(...b)=>a.check(DH(...b)),a.startsWith=(...b)=>a.check(DI(...b)),a.endsWith=(...b)=>a.check(DJ(...b)),a.min=(...b)=>a.check(DC(...b)),a.max=(...b)=>a.check(DB(...b)),a.length=(...b)=>a.check(DD(...b)),a.nonempty=(...b)=>a.check(DC(1,...b)),a.lowercase=b=>a.check(DF(b)),a.uppercase=b=>a.check(DG(b)),a.trim=()=>a.check(DO()),a.normalize=(...b)=>a.check(DN(...b)),a.toLowerCase=()=>a.check(DP()),a.toUpperCase=()=>a.check(DQ()),a.slugify=()=>a.check(DR())}),FA=ws("ZodString",(a,b)=>{zr.init(a,b),Fz.init(a,b),a.email=b=>a.check(CC(FD,b)),a.url=b=>a.check(CI(FM,b)),a.jwt=b=>a.check(CY(Gh,b)),a.emoji=b=>a.check(CJ(FP,b)),a.guid=b=>a.check(CD(FF,b)),a.uuid=b=>a.check(CE(FH,b)),a.uuidv4=b=>a.check(CF(FH,b)),a.uuidv6=b=>a.check(CG(FH,b)),a.uuidv7=b=>a.check(CH(FH,b)),a.nanoid=b=>a.check(CK(FR,b)),a.guid=b=>a.check(CD(FF,b)),a.cuid=b=>a.check(CL(FT,b)),a.cuid2=b=>a.check(CM(FV,b)),a.ulid=b=>a.check(CN(FX,b)),a.base64=b=>a.check(CV(Gb,b)),a.base64url=b=>a.check(CW(Gd,b)),a.xid=b=>a.check(CO(FZ,b)),a.ksuid=b=>a.check(CP(F_,b)),a.ipv4=b=>a.check(CQ(F1,b)),a.ipv6=b=>a.check(CR(F5,b)),a.cidrv4=b=>a.check(CT(F7,b)),a.cidrv6=b=>a.check(CU(F9,b)),a.e164=b=>a.check(CX(Gf,b)),a.datetime=b=>a.check(Fc(b)),a.date=b=>a.check(Fe(b)),a.time=b=>a.check(Fg(b)),a.duration=b=>a.check(Fi(b))});function FB(a){return CA(FA,a)}let FC=ws("ZodStringFormat",(a,b)=>{zs.init(a,b),Fz.init(a,b)}),FD=ws("ZodEmail",(a,b)=>{zv.init(a,b),FC.init(a,b)});function FE(a){return CC(FD,a)}let FF=ws("ZodGUID",(a,b)=>{zt.init(a,b),FC.init(a,b)});function FG(a){return CD(FF,a)}let FH=ws("ZodUUID",(a,b)=>{zu.init(a,b),FC.init(a,b)});function FI(a){return CE(FH,a)}function FJ(a){return CF(FH,a)}function FK(a){return CG(FH,a)}function FL(a){return CH(FH,a)}let FM=ws("ZodURL",(a,b)=>{zw.init(a,b),FC.init(a,b)});function FN(a){return CI(FM,a)}function FO(a){return CI(FM,{protocol:/^https?$/,hostname:E9.domain,...Fa.normalizeParams(a)})}let FP=ws("ZodEmoji",(a,b)=>{zx.init(a,b),FC.init(a,b)});function FQ(a){return CJ(FP,a)}let FR=ws("ZodNanoID",(a,b)=>{zy.init(a,b),FC.init(a,b)});function FS(a){return CK(FR,a)}let FT=ws("ZodCUID",(a,b)=>{zz.init(a,b),FC.init(a,b)});function FU(a){return CL(FT,a)}let FV=ws("ZodCUID2",(a,b)=>{zA.init(a,b),FC.init(a,b)});function FW(a){return CM(FV,a)}let FX=ws("ZodULID",(a,b)=>{zB.init(a,b),FC.init(a,b)});function FY(a){return CN(FX,a)}let FZ=ws("ZodXID",(a,b)=>{zC.init(a,b),FC.init(a,b)});function F$(a){return CO(FZ,a)}let F_=ws("ZodKSUID",(a,b)=>{zD.init(a,b),FC.init(a,b)});function F0(a){return CP(F_,a)}let F1=ws("ZodIPv4",(a,b)=>{zI.init(a,b),FC.init(a,b)});function F2(a){return CQ(F1,a)}let F3=ws("ZodMAC",(a,b)=>{zK.init(a,b),FC.init(a,b)});function F4(a){return CS(F3,a)}let F5=ws("ZodIPv6",(a,b)=>{zJ.init(a,b),FC.init(a,b)});function F6(a){return CR(F5,a)}let F7=ws("ZodCIDRv4",(a,b)=>{zL.init(a,b),FC.init(a,b)});function F8(a){return CT(F7,a)}let F9=ws("ZodCIDRv6",(a,b)=>{zM.init(a,b),FC.init(a,b)});function Ga(a){return CU(F9,a)}let Gb=ws("ZodBase64",(a,b)=>{zO.init(a,b),FC.init(a,b)});function Gc(a){return CV(Gb,a)}let Gd=ws("ZodBase64URL",(a,b)=>{zQ.init(a,b),FC.init(a,b)});function Ge(a){return CW(Gd,a)}let Gf=ws("ZodE164",(a,b)=>{zR.init(a,b),FC.init(a,b)});function Gg(a){return CX(Gf,a)}let Gh=ws("ZodJWT",(a,b)=>{zT.init(a,b),FC.init(a,b)});function Gi(a){return CY(Gh,a)}let Gj=ws("ZodCustomStringFormat",(a,b)=>{zU.init(a,b),FC.init(a,b)});function Gk(a,b,c={}){return Em(Gj,a,b,c)}function Gl(a){return Em(Gj,"hostname",E9.hostname,a)}function Gm(a){return Em(Gj,"hex",E9.hex,a)}function Gn(a,b){let c=b?.enc??"hex",d=`${a}_${c}`,e=E9[d];if(!e)throw Error(`Unrecognized hash format: ${d}`);return Em(Gj,d,e,b)}let Go=ws("ZodNumber",(a,b)=>{zV.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>Ew(a,b,c,d),a.gt=(b,c)=>a.check(Dr(b,c)),a.gte=(b,c)=>a.check(Ds(b,c)),a.min=(b,c)=>a.check(Ds(b,c)),a.lt=(b,c)=>a.check(Dp(b,c)),a.lte=(b,c)=>a.check(Dq(b,c)),a.max=(b,c)=>a.check(Dq(b,c)),a.int=b=>a.check(Gr(b)),a.safe=b=>a.check(Gr(b)),a.positive=b=>a.check(Dr(0,b)),a.nonnegative=b=>a.check(Ds(0,b)),a.negative=b=>a.check(Dp(0,b)),a.nonpositive=b=>a.check(Dq(0,b)),a.multipleOf=(b,c)=>a.check(Dx(b,c)),a.step=(b,c)=>a.check(Dx(b,c)),a.finite=()=>a;let c=a._zod.bag;a.minValue=Math.max(c.minimum??-1/0,c.exclusiveMinimum??-1/0)??null,a.maxValue=Math.min(c.maximum??1/0,c.exclusiveMaximum??1/0)??null,a.isInt=(c.format??"").includes("int")||Number.isSafeInteger(c.multipleOf??.5),a.isFinite=!0,a.format=c.format??null});function Gp(a){return C2(Go,a)}let Gq=ws("ZodNumberFormat",(a,b)=>{zW.init(a,b),Go.init(a,b)});function Gr(a){return C4(Gq,a)}function Gs(a){return C5(Gq,a)}function Gt(a){return C6(Gq,a)}function Gu(a){return C7(Gq,a)}function Gv(a){return C8(Gq,a)}let Gw=ws("ZodBoolean",(a,b)=>{zX.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>Ex(a,b,c,d)});function Gx(a){return C9(Gw,a)}let Gy=ws("ZodBigInt",(a,b)=>{zY.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>Ey(a,b,c,d),a.gte=(b,c)=>a.check(Ds(b,c)),a.min=(b,c)=>a.check(Ds(b,c)),a.gt=(b,c)=>a.check(Dr(b,c)),a.gte=(b,c)=>a.check(Ds(b,c)),a.min=(b,c)=>a.check(Ds(b,c)),a.lt=(b,c)=>a.check(Dp(b,c)),a.lte=(b,c)=>a.check(Dq(b,c)),a.max=(b,c)=>a.check(Dq(b,c)),a.positive=b=>a.check(Dr(BigInt(0),b)),a.negative=b=>a.check(Dp(BigInt(0),b)),a.nonpositive=b=>a.check(Dq(BigInt(0),b)),a.nonnegative=b=>a.check(Ds(BigInt(0),b)),a.multipleOf=(b,c)=>a.check(Dx(b,c));let c=a._zod.bag;a.minValue=c.minimum??null,a.maxValue=c.maximum??null,a.format=c.format??null});function Gz(a){return Db(Gy,a)}let GA=ws("ZodBigIntFormat",(a,b)=>{zZ.init(a,b),Gy.init(a,b)});function GB(a){return Dd(GA,a)}function GC(a){return De(GA,a)}let GD=ws("ZodSymbol",(a,b)=>{z$.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>Ez(a,b,c,d)});function GE(a){return Df(GD,a)}let GF=ws("ZodUndefined",(a,b)=>{z_.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EB(a,b,c,d)});function GG(a){return Dg(GF,a)}let GH=ws("ZodNull",(a,b)=>{z0.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EA(a,b,c,d)});function GI(a){return Dh(GH,a)}let GJ=ws("ZodAny",(a,b)=>{z1.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EE(a,b,c,d)});function GK(){return Di(GJ)}let GL=ws("ZodUnknown",(a,b)=>{z2.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EF(a,b,c,d)});function GM(){return Dj(GL)}let GN=ws("ZodNever",(a,b)=>{z3.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>ED(a,b,c,d)});function GO(a){return Dk(GN,a)}let GP=ws("ZodVoid",(a,b)=>{z4.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EC(a,b,c,d)});function GQ(a){return Dl(GP,a)}let GR=ws("ZodDate",(a,b)=>{z5.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EG(a,b,c,d),a.min=(b,c)=>a.check(Ds(b,c)),a.max=(b,c)=>a.check(Dq(b,c));let c=a._zod.bag;a.minDate=c.minimum?new Date(c.minimum):null,a.maxDate=c.maximum?new Date(c.maximum):null});function GS(a){return Dm(GR,a)}let GT=ws("ZodArray",(a,b)=>{z7.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>ES(a,b,c,d),a.element=b.element,a.min=(b,c)=>a.check(DC(b,c)),a.nonempty=b=>a.check(DC(1,b)),a.max=(b,c)=>a.check(DB(b,c)),a.length=(b,c)=>a.check(DD(b,c)),a.unwrap=()=>a.element});function GU(a,b){return DS(GT,a,b)}function GV(a){return Hh(Object.keys(a._zod.def.shape))}let GW=ws("ZodObject",(a,b)=>{Ac.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>ET(a,b,c,d),Fa.defineLazy(a,"shape",()=>b.shape),a.keyof=()=>Hh(Object.keys(a._zod.def.shape)),a.catchall=b=>a.clone({...a._zod.def,catchall:b}),a.passthrough=()=>a.clone({...a._zod.def,catchall:GM()}),a.loose=()=>a.clone({...a._zod.def,catchall:GM()}),a.strict=()=>a.clone({...a._zod.def,catchall:GO()}),a.strip=()=>a.clone({...a._zod.def,catchall:void 0}),a.extend=b=>Fa.extend(a,b),a.safeExtend=b=>Fa.safeExtend(a,b),a.merge=b=>Fa.merge(a,b),a.pick=b=>Fa.pick(a,b),a.omit=b=>Fa.omit(a,b),a.partial=(...b)=>Fa.partial(Hp,a,b[0]),a.required=(...b)=>Fa.required(HA,a,b[0])});function GX(a,b){return new GW({type:"object",shape:a??{},...Fa.normalizeParams(b)})}function GY(a,b){return new GW({type:"object",shape:a,catchall:GO(),...Fa.normalizeParams(b)})}function GZ(a,b){return new GW({type:"object",shape:a,catchall:GM(),...Fa.normalizeParams(b)})}let G$=ws("ZodUnion",(a,b)=>{Ae.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EU(a,b,c,d),a.options=b.options});function G_(a,b){return new G$({type:"union",options:a,...Fa.normalizeParams(b)})}let G0=ws("ZodXor",(a,b)=>{G$.init(a,b),Ag.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EU(a,b,c,d),a.options=b.options});function G1(a,b){return new G0({type:"union",options:a,inclusive:!1,...Fa.normalizeParams(b)})}let G2=ws("ZodDiscriminatedUnion",(a,b)=>{G$.init(a,b),Ah.init(a,b)});function G3(a,b,c){return new G2({type:"union",options:b,discriminator:a,...Fa.normalizeParams(c)})}let G4=ws("ZodIntersection",(a,b)=>{Ai.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EV(a,b,c,d)});function G5(a,b){return new G4({type:"intersection",left:a,right:b})}let G6=ws("ZodTuple",(a,b)=>{Al.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EW(a,b,c,d),a.rest=b=>a.clone({...a._zod.def,rest:b})});function G7(a,b,c){let d=b instanceof zq,e=d?c:b;return new G6({type:"tuple",items:a,rest:d?b:null,...Fa.normalizeParams(e)})}let G8=ws("ZodRecord",(a,b)=>{An.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EX(a,b,c,d),a.keyType=b.keyType,a.valueType=b.valueType});function G9(a,b,c){return new G8({type:"record",keyType:a,valueType:b,...Fa.normalizeParams(c)})}function Ha(a,b,c){let d=w3(a);return d._zod.values=void 0,new G8({type:"record",keyType:d,valueType:b,...Fa.normalizeParams(c)})}function Hb(a,b,c){return new G8({type:"record",keyType:a,valueType:b,mode:"loose",...Fa.normalizeParams(c)})}let Hc=ws("ZodMap",(a,b)=>{Ao.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EQ(a,b,c,d),a.keyType=b.keyType,a.valueType=b.valueType,a.min=(...b)=>a.check(Dz(...b)),a.nonempty=b=>a.check(Dz(1,b)),a.max=(...b)=>a.check(Dy(...b)),a.size=(...b)=>a.check(DA(...b))});function Hd(a,b,c){return new Hc({type:"map",keyType:a,valueType:b,...Fa.normalizeParams(c)})}let He=ws("ZodSet",(a,b)=>{Aq.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>ER(a,b,c,d),a.min=(...b)=>a.check(Dz(...b)),a.nonempty=b=>a.check(Dz(1,b)),a.max=(...b)=>a.check(Dy(...b)),a.size=(...b)=>a.check(DA(...b))});function Hf(a,b){return new He({type:"set",valueType:a,...Fa.normalizeParams(b)})}let Hg=ws("ZodEnum",(a,b)=>{As.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EH(a,b,c,d),a.enum=b.entries,a.options=Object.values(b.entries);let c=new Set(Object.keys(b.entries));a.extract=(a,d)=>{let e={};for(let d of a)if(c.has(d))e[d]=b.entries[d];else throw Error(`Key ${d} not found in enum`);return new Hg({...b,checks:[],...Fa.normalizeParams(d),entries:e})},a.exclude=(a,d)=>{let e={...b.entries};for(let b of a)if(c.has(b))delete e[b];else throw Error(`Key ${b} not found in enum`);return new Hg({...b,checks:[],...Fa.normalizeParams(d),entries:e})}});function Hh(a,b){return new Hg({type:"enum",entries:Array.isArray(a)?Object.fromEntries(a.map(a=>[a,a])):a,...Fa.normalizeParams(b)})}function Hi(a,b){return new Hg({type:"enum",entries:a,...Fa.normalizeParams(b)})}let Hj=ws("ZodLiteral",(a,b)=>{At.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EI(a,b,c,d),a.values=new Set(b.values),Object.defineProperty(a,"value",{get(){if(b.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return b.values[0]}})});function Hk(a,b){return new Hj({type:"literal",values:Array.isArray(a)?a:[a],...Fa.normalizeParams(b)})}let Hl=ws("ZodFile",(a,b)=>{Au.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EL(a,b,c,d),a.min=(b,c)=>a.check(Dz(b,c)),a.max=(b,c)=>a.check(Dy(b,c)),a.mime=(b,c)=>a.check(DL(Array.isArray(b)?b:[b],c))});function Hm(a){return D2(Hl,a)}let Hn=ws("ZodTransform",(a,b)=>{Av.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EP(a,b,c,d),a._zod.parse=(c,d)=>{if("backward"===d.direction)throw new wv(a.constructor.name);c.addIssue=d=>{if("string"==typeof d)c.issues.push(Fa.issue(d,c.value,b));else{let b=d;b.fatal&&(b.continue=!1),b.code??(b.code="custom"),b.input??(b.input=c.value),b.inst??(b.inst=a),c.issues.push(Fa.issue(b))}};let e=b.transform(c.value,c);return e instanceof Promise?e.then(a=>(c.value=a,c)):(c.value=e,c)}});function Ho(a){return new Hn({type:"transform",transform:a})}let Hp=ws("ZodOptional",(a,b)=>{Ax.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>E4(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function Hq(a){return new Hp({type:"optional",innerType:a})}let Hr=ws("ZodExactOptional",(a,b)=>{Ay.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>E4(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function Hs(a){return new Hr({type:"optional",innerType:a})}let Ht=ws("ZodNullable",(a,b)=>{Az.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EY(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function Hu(a){return new Ht({type:"nullable",innerType:a})}function Hv(a){return Hq(Hu(a))}let Hw=ws("ZodDefault",(a,b)=>{AA.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>E$(a,b,c,d),a.unwrap=()=>a._zod.def.innerType,a.removeDefault=a.unwrap});function Hx(a,b){return new Hw({type:"default",innerType:a,get defaultValue(){return"function"==typeof b?b():Fa.shallowClone(b)}})}let Hy=ws("ZodPrefault",(a,b)=>{AC.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>E_(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function Hz(a,b){return new Hy({type:"prefault",innerType:a,get defaultValue(){return"function"==typeof b?b():Fa.shallowClone(b)}})}let HA=ws("ZodNonOptional",(a,b)=>{AD.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EZ(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function HB(a,b){return new HA({type:"nonoptional",innerType:a,...Fa.normalizeParams(b)})}let HC=ws("ZodSuccess",(a,b)=>{AF.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EM(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function HD(a){return new HC({type:"success",innerType:a})}let HE=ws("ZodCatch",(a,b)=>{AG.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>E0(a,b,c,d),a.unwrap=()=>a._zod.def.innerType,a.removeCatch=a.unwrap});function HF(a,b){return new HE({type:"catch",innerType:a,catchValue:"function"==typeof b?b:()=>b})}let HG=ws("ZodNaN",(a,b)=>{AH.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EJ(a,b,c,d)});function HH(a){return Do(HG,a)}let HI=ws("ZodPipe",(a,b)=>{AI.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>E1(a,b,c,d),a.in=b.in,a.out=b.out});function HJ(a,b){return new HI({type:"pipe",in:a,out:b})}let HK=ws("ZodCodec",(a,b)=>{HI.init(a,b),AK.init(a,b)});function HL(a,b,c){return new HK({type:"pipe",in:a,out:b,transform:c.decode,reverseTransform:c.encode})}let HM=ws("ZodReadonly",(a,b)=>{AN.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>E2(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function HN(a){return new HM({type:"readonly",innerType:a})}let HO=ws("ZodTemplateLiteral",(a,b)=>{AP.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EK(a,b,c,d)});function HP(a,b){return new HO({type:"template_literal",parts:a,...Fa.normalizeParams(b)})}let HQ=ws("ZodLazy",(a,b)=>{AS.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>E5(a,b,c,d),a.unwrap=()=>a._zod.def.getter()});function HR(a){return new HQ({type:"lazy",getter:a})}let HS=ws("ZodPromise",(a,b)=>{AR.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>E3(a,b,c,d),a.unwrap=()=>a._zod.def.innerType});function HT(a){return new HS({type:"promise",innerType:a})}let HU=ws("ZodFunction",(a,b)=>{AQ.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EO(a,b,c,d)});function HV(a){return new HU({type:"function",input:Array.isArray(a?.input)?G7(a?.input):a?.input??GU(GM()),output:a?.output??GM()})}let HW=ws("ZodCustom",(a,b)=>{AT.init(a,b),Fy.init(a,b),a._zod.processJSONSchema=(b,c,d)=>EN(a,b,c,d)});function HX(a){let b=new y0({check:"custom"});return b._zod.check=a,b}function HY(a,b){return Ef(HW,a??(()=>!0),b)}function HZ(a,b={}){return Eg(HW,a,b)}function H$(a){return Eh(a)}let H_=Ej,H0=Ek;function H1(a,b={}){let c=new HW({type:"custom",check:"custom",fn:b=>b instanceof a,abort:!0,...Fa.normalizeParams(b)});return c._zod.bag.Class=a,c._zod.check=b=>{b.value instanceof a||b.issues.push({code:"invalid_type",expected:a.name,input:b.value,inst:c,path:[...c._zod.def.path??[]]})},c}let H2=(...a)=>El({Codec:HK,Boolean:Gw,String:FA},...a);function H3(a){let b=HR(()=>G_([FB(a),Gp(),Gx(),GI(),GU(b),G9(FB(),b)]));return b}function H4(a,b){return HJ(Ho(a),b)}let H5={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function H6(a){wx({customError:a})}function H7(){return wx().customError}bA||(bA={}),a.s(["ZodFirstPartyTypeKind",()=>bA,"ZodIssueCode",0,H5,"getErrorMap",()=>H7,"setErrorMap",()=>H6],58277),a.i(88476),a.s(["endsWith",()=>DJ,"gt",()=>Dr,"gte",()=>Ds,"includes",()=>DH,"length",()=>DD,"lowercase",()=>DF,"lt",()=>Dp,"lte",()=>Dq,"maxLength",()=>DB,"maxSize",()=>Dy,"mime",()=>DL,"minLength",()=>DC,"minSize",()=>Dz,"multipleOf",()=>Dx,"negative",()=>Du,"nonnegative",()=>Dw,"nonpositive",()=>Dv,"normalize",()=>DN,"overwrite",()=>DM,"positive",()=>Dt,"property",()=>DK,"regex",()=>DE,"size",()=>DA,"slugify",()=>DR,"startsWith",()=>DI,"toLowerCase",()=>DP,"toUpperCase",()=>DQ,"trim",()=>DO,"uppercase",()=>DG],54375);var H8=a.i(54375),H9=a.i(18850);let Ia={...a.i(94219),...H8,iso:H9},Ib=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function Ic(a,b){let c=a.$schema;return"https://json-schema.org/draft/2020-12/schema"===c?"draft-2020-12":"http://json-schema.org/draft-07/schema#"===c?"draft-7":"http://json-schema.org/draft-04/schema#"===c?"draft-4":b??"draft-2020-12"}function Id(a,b){if(!a.startsWith("#"))throw Error("External $ref is not supported, only local refs (#/...) are allowed");let c=a.slice(1).split("/").filter(Boolean);if(0===c.length)return b.rootSchema;let d="draft-2020-12"===b.version?"$defs":"definitions";if(c[0]===d){let d=c[1];if(!d||!b.defs[d])throw Error(`Reference not found: ${a}`);return b.defs[d]}throw Error(`Reference not found: ${a}`)}function Ie(a,b){let c;if(void 0!==a.not){if("object"==typeof a.not&&0===Object.keys(a.not).length)return Ia.never();throw Error("not is not supported in Zod (except { not: {} } for never)")}if(void 0!==a.unevaluatedItems)throw Error("unevaluatedItems is not supported");if(void 0!==a.unevaluatedProperties)throw Error("unevaluatedProperties is not supported");if(void 0!==a.if||void 0!==a.then||void 0!==a.else)throw Error("Conditional schemas (if/then/else) are not supported");if(void 0!==a.dependentSchemas||void 0!==a.dependentRequired)throw Error("dependentSchemas and dependentRequired are not supported");if(a.$ref){let c=a.$ref;if(b.refs.has(c))return b.refs.get(c);if(b.processing.has(c))return Ia.lazy(()=>{if(!b.refs.has(c))throw Error(`Circular reference not resolved: ${c}`);return b.refs.get(c)});b.processing.add(c);let d=If(Id(c,b),b);return b.refs.set(c,d),b.processing.delete(c),d}if(void 0!==a.enum){let c=a.enum;if("openapi-3.0"===b.version&&!0===a.nullable&&1===c.length&&null===c[0])return Ia.null();if(0===c.length)return Ia.never();if(1===c.length)return Ia.literal(c[0]);if(c.every(a=>"string"==typeof a))return Ia.enum(c);let d=c.map(a=>Ia.literal(a));return d.length<2?d[0]:Ia.union([d[0],d[1],...d.slice(2)])}if(void 0!==a.const)return Ia.literal(a.const);let d=a.type;if(Array.isArray(d)){let c=d.map(c=>Ie({...a,type:c},b));return 0===c.length?Ia.never():1===c.length?c[0]:Ia.union(c)}if(!d)return Ia.any();switch(d){case"string":{let b=Ia.string();if(a.format){let c=a.format;"email"===c?b=b.check(Ia.email()):"uri"===c||"uri-reference"===c?b=b.check(Ia.url()):"uuid"===c||"guid"===c?b=b.check(Ia.uuid()):"date-time"===c?b=b.check(Ia.iso.datetime()):"date"===c?b=b.check(Ia.iso.date()):"time"===c?b=b.check(Ia.iso.time()):"duration"===c?b=b.check(Ia.iso.duration()):"ipv4"===c?b=b.check(Ia.ipv4()):"ipv6"===c?b=b.check(Ia.ipv6()):"mac"===c?b=b.check(Ia.mac()):"cidr"===c?b=b.check(Ia.cidrv4()):"cidr-v6"===c?b=b.check(Ia.cidrv6()):"base64"===c?b=b.check(Ia.base64()):"base64url"===c?b=b.check(Ia.base64url()):"e164"===c?b=b.check(Ia.e164()):"jwt"===c?b=b.check(Ia.jwt()):"emoji"===c?b=b.check(Ia.emoji()):"nanoid"===c?b=b.check(Ia.nanoid()):"cuid"===c?b=b.check(Ia.cuid()):"cuid2"===c?b=b.check(Ia.cuid2()):"ulid"===c?b=b.check(Ia.ulid()):"xid"===c?b=b.check(Ia.xid()):"ksuid"===c&&(b=b.check(Ia.ksuid()))}"number"==typeof a.minLength&&(b=b.min(a.minLength)),"number"==typeof a.maxLength&&(b=b.max(a.maxLength)),a.pattern&&(b=b.regex(new RegExp(a.pattern))),c=b;break}case"number":case"integer":{let b="integer"===d?Ia.number().int():Ia.number();"number"==typeof a.minimum&&(b=b.min(a.minimum)),"number"==typeof a.maximum&&(b=b.max(a.maximum)),"number"==typeof a.exclusiveMinimum?b=b.gt(a.exclusiveMinimum):!0===a.exclusiveMinimum&&"number"==typeof a.minimum&&(b=b.gt(a.minimum)),"number"==typeof a.exclusiveMaximum?b=b.lt(a.exclusiveMaximum):!0===a.exclusiveMaximum&&"number"==typeof a.maximum&&(b=b.lt(a.maximum)),"number"==typeof a.multipleOf&&(b=b.multipleOf(a.multipleOf)),c=b;break}case"boolean":c=Ia.boolean();break;case"null":c=Ia.null();break;case"object":{let d={},e=a.properties||{},f=new Set(a.required||[]);for(let[a,c]of Object.entries(e)){let e=If(c,b);d[a]=f.has(a)?e:e.optional()}if(a.propertyNames){let e=If(a.propertyNames,b),f=a.additionalProperties&&"object"==typeof a.additionalProperties?If(a.additionalProperties,b):Ia.any();if(0===Object.keys(d).length){c=Ia.record(e,f);break}let g=Ia.object(d).passthrough(),h=Ia.looseRecord(e,f);c=Ia.intersection(g,h);break}if(a.patternProperties){let e=a.patternProperties,f=Object.keys(e),g=[];for(let a of f){let c=If(e[a],b),d=Ia.string().regex(new RegExp(a));g.push(Ia.looseRecord(d,c))}let h=[];if(Object.keys(d).length>0&&h.push(Ia.object(d).passthrough()),h.push(...g),0===h.length)c=Ia.object({}).passthrough();else if(1===h.length)c=h[0];else{let a=Ia.intersection(h[0],h[1]);for(let b=2;b<h.length;b++)a=Ia.intersection(a,h[b]);c=a}break}let g=Ia.object(d);c=!1===a.additionalProperties?g.strict():"object"==typeof a.additionalProperties?g.catchall(If(a.additionalProperties,b)):g.passthrough();break}case"array":{let d=a.prefixItems,e=a.items;if(d&&Array.isArray(d)){let f=d.map(a=>If(a,b)),g=e&&"object"==typeof e&&!Array.isArray(e)?If(e,b):void 0;c=g?Ia.tuple(f).rest(g):Ia.tuple(f),"number"==typeof a.minItems&&(c=c.check(Ia.minLength(a.minItems))),"number"==typeof a.maxItems&&(c=c.check(Ia.maxLength(a.maxItems)))}else if(Array.isArray(e)){let d=e.map(a=>If(a,b)),f=a.additionalItems&&"object"==typeof a.additionalItems?If(a.additionalItems,b):void 0;c=f?Ia.tuple(d).rest(f):Ia.tuple(d),"number"==typeof a.minItems&&(c=c.check(Ia.minLength(a.minItems))),"number"==typeof a.maxItems&&(c=c.check(Ia.maxLength(a.maxItems)))}else if(void 0!==e){let d=If(e,b),f=Ia.array(d);"number"==typeof a.minItems&&(f=f.min(a.minItems)),"number"==typeof a.maxItems&&(f=f.max(a.maxItems)),c=f}else c=Ia.array(Ia.any());break}default:throw Error(`Unsupported type: ${d}`)}return a.description&&(c=c.describe(a.description)),void 0!==a.default&&(c=c.default(a.default)),c}function If(a,b){if("boolean"==typeof a)return a?Ia.any():Ia.never();let c=Ie(a,b),d=a.type||void 0!==a.enum||void 0!==a.const;if(a.anyOf&&Array.isArray(a.anyOf)){let e=a.anyOf.map(a=>If(a,b)),f=Ia.union(e);c=d?Ia.intersection(c,f):f}if(a.oneOf&&Array.isArray(a.oneOf)){let e=a.oneOf.map(a=>If(a,b)),f=Ia.xor(e);c=d?Ia.intersection(c,f):f}if(a.allOf&&Array.isArray(a.allOf))if(0===a.allOf.length)c=d?c:Ia.any();else{let e=d?c:If(a.allOf[0],b),f=+!d;for(let c=f;c<a.allOf.length;c++)e=Ia.intersection(e,If(a.allOf[c],b));c=e}!0===a.nullable&&"openapi-3.0"===b.version&&(c=Ia.nullable(c)),!0===a.readOnly&&(c=Ia.readonly(c));let e={};for(let b of["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"])b in a&&(e[b]=a[b]);for(let b of["contentEncoding","contentMediaType","contentSchema"])b in a&&(e[b]=a[b]);for(let b of Object.keys(a))Ib.has(b)||(e[b]=a[b]);return Object.keys(e).length>0&&b.registry.add(c,e),c}function Ig(a,b){if("boolean"==typeof a)return a?Ia.any():Ia.never();let c={version:Ic(a,b?.defaultTarget),defs:a.$defs||a.definitions||{},refs:new Map,processing:new Set,rootSchema:a,registry:b?.registry??Cz};return If(a,c)}function Ih(a){return CB(FA,a)}function Ii(a){return C3(Go,a)}function Ij(a){return Da(Gw,a)}function Ik(a){return Dc(Gy,a)}function Il(a){return Dn(GR,a)}a.s(["bigint",()=>Ik,"boolean",()=>Ij,"date",()=>Il,"number",()=>Ii,"string",()=>Ih],20545),wx(Bb()),a.s([],22157),a.i(22157),a.i(38005),a.i(85679),a.i(51152),a.i(13399),a.i(9419),a.i(61802),a.i(72385);var Im=Fa,In=E9;a.i(94551),a.s(["ar",0,AW,"az",0,AY,"be",0,A_,"bg",0,A1,"ca",0,A3,"cs",0,A5,"da",0,A7,"de",0,A9,"en",0,Bb,"eo",0,Bd,"es",0,Bf,"fa",0,Bh,"fi",0,Bj,"fr",0,Bl,"frCA",0,Bn,"he",0,Bp,"hu",0,Br,"hy",0,Bv,"id",0,Bx,"is",0,Bz,"it",0,BB,"ja",0,BD,"ka",0,BF,"kh",0,BI,"km",0,BH,"ko",0,BK,"lt",0,BO,"mk",0,BQ,"ms",0,BS,"nl",0,BU,"no",0,BW,"ota",0,BY,"pl",0,B0,"ps",0,B$,"pt",0,B2,"ru",0,B5,"sl",0,B7,"sv",0,B9,"ta",0,Cb,"th",0,Cd,"tr",0,Cf,"ua",0,Ci,"uk",0,Ch,"ur",0,Ck,"uz",0,Cm,"vi",0,Co,"yo",0,Cu,"zhCN",0,Cq,"zhTW",0,Cs],31238);var Io=a.i(31238);a.i(64166),a.i(66004),a.i(63571),a.i(76403);var Ip=a.i(95288);a.s(["$ZodAny",0,z1,"$ZodArray",0,z7,"$ZodAsyncError",()=>wu,"$ZodBase64",0,zO,"$ZodBase64URL",0,zQ,"$ZodBigInt",0,zY,"$ZodBigIntFormat",0,zZ,"$ZodBoolean",0,zX,"$ZodCIDRv4",0,zL,"$ZodCIDRv6",0,zM,"$ZodCUID",0,zz,"$ZodCUID2",0,zA,"$ZodCatch",0,AG,"$ZodCheck",0,y0,"$ZodCheckBigIntFormat",0,y6,"$ZodCheckEndsWith",0,zj,"$ZodCheckGreaterThan",0,y3,"$ZodCheckIncludes",0,zh,"$ZodCheckLengthEquals",0,zc,"$ZodCheckLessThan",0,y2,"$ZodCheckLowerCase",0,zf,"$ZodCheckMaxLength",0,za,"$ZodCheckMaxSize",0,y7,"$ZodCheckMimeType",0,zm,"$ZodCheckMinLength",0,zb,"$ZodCheckMinSize",0,y8,"$ZodCheckMultipleOf",0,y4,"$ZodCheckNumberFormat",0,y5,"$ZodCheckOverwrite",0,zn,"$ZodCheckProperty",0,zl,"$ZodCheckRegex",0,ze,"$ZodCheckSizeEquals",0,y9,"$ZodCheckStartsWith",0,zi,"$ZodCheckStringFormat",0,zd,"$ZodCheckUpperCase",0,zg,"$ZodCodec",0,AK,"$ZodCustom",0,AT,"$ZodCustomStringFormat",0,zU,"$ZodDate",0,z5,"$ZodDefault",0,AA,"$ZodDiscriminatedUnion",0,Ah,"$ZodE164",0,zR,"$ZodEmail",0,zv,"$ZodEmoji",0,zx,"$ZodEncodeError",()=>wv,"$ZodEnum",0,As,"$ZodError",0,xy,"$ZodExactOptional",0,Ay,"$ZodFile",0,Au,"$ZodFunction",0,AQ,"$ZodGUID",0,zt,"$ZodIPv4",0,zI,"$ZodIPv6",0,zJ,"$ZodISODate",0,zF,"$ZodISODateTime",0,zE,"$ZodISODuration",0,zH,"$ZodISOTime",0,zG,"$ZodIntersection",0,Ai,"$ZodJWT",0,zT,"$ZodKSUID",0,zD,"$ZodLazy",0,AS,"$ZodLiteral",0,At,"$ZodMAC",0,zK,"$ZodMap",0,Ao,"$ZodNaN",0,AH,"$ZodNanoID",0,zy,"$ZodNever",0,z3,"$ZodNonOptional",0,AD,"$ZodNull",0,z0,"$ZodNullable",0,Az,"$ZodNumber",0,zV,"$ZodNumberFormat",0,zW,"$ZodObject",0,Ab,"$ZodObjectJIT",0,Ac,"$ZodOptional",0,Ax,"$ZodPipe",0,AI,"$ZodPrefault",0,AC,"$ZodPromise",0,AR,"$ZodReadonly",0,AN,"$ZodRealError",0,xz,"$ZodRecord",0,An,"$ZodRegistry",()=>Cx,"$ZodSet",0,Aq,"$ZodString",0,zr,"$ZodStringFormat",0,zs,"$ZodSuccess",0,AF,"$ZodSymbol",0,z$,"$ZodTemplateLiteral",0,AP,"$ZodTransform",0,Av,"$ZodTuple",0,Al,"$ZodType",0,zq,"$ZodULID",0,zB,"$ZodURL",0,zw,"$ZodUUID",0,zu,"$ZodUndefined",0,z_,"$ZodUnion",0,Ae,"$ZodUnknown",0,z2,"$ZodVoid",0,z4,"$ZodXID",0,zC,"$ZodXor",0,Ag,"$brand",0,wt,"$constructor",()=>ws,"$input",0,Cw,"$output",0,Cv,"Doc",()=>zo,"JSONSchema",0,Ip,"JSONSchemaGenerator",()=>E8,"NEVER",0,wr,"TimePrecision",0,CZ,"_any",()=>Di,"_array",()=>DS,"_base64",()=>CV,"_base64url",()=>CW,"_bigint",()=>Db,"_boolean",()=>C9,"_catch",()=>D9,"_check",()=>Ei,"_cidrv4",()=>CT,"_cidrv6",()=>CU,"_coercedBigint",()=>Dc,"_coercedBoolean",()=>Da,"_coercedDate",()=>Dn,"_coercedNumber",()=>C3,"_coercedString",()=>CB,"_cuid",()=>CL,"_cuid2",()=>CM,"_custom",()=>Ef,"_date",()=>Dm,"_decode",0,xP,"_decodeAsync",0,xT,"_default",()=>D6,"_discriminatedUnion",()=>DV,"_e164",()=>CX,"_email",()=>CC,"_emoji",()=>CJ,"_encode",0,xN,"_encodeAsync",0,xR,"_endsWith",()=>DJ,"_enum",()=>D_,"_file",()=>D2,"_float32",()=>C5,"_float64",()=>C6,"_gt",()=>Dr,"_gte",()=>Ds,"_guid",()=>CD,"_includes",()=>DH,"_int",()=>C4,"_int32",()=>C7,"_int64",()=>Dd,"_intersection",()=>DW,"_ipv4",()=>CQ,"_ipv6",()=>CR,"_isoDate",()=>C_,"_isoDateTime",()=>C$,"_isoDuration",()=>C1,"_isoTime",()=>C0,"_jwt",()=>CY,"_ksuid",()=>CP,"_lazy",()=>Ed,"_length",()=>DD,"_literal",()=>D1,"_lowercase",()=>DF,"_lt",()=>Dp,"_lte",()=>Dq,"_mac",()=>CS,"_map",()=>DZ,"_max",()=>Dq,"_maxLength",()=>DB,"_maxSize",()=>Dy,"_mime",()=>DL,"_min",()=>Ds,"_minLength",()=>DC,"_minSize",()=>Dz,"_multipleOf",()=>Dx,"_nan",()=>Do,"_nanoid",()=>CK,"_nativeEnum",()=>D0,"_negative",()=>Du,"_never",()=>Dk,"_nonnegative",()=>Dw,"_nonoptional",()=>D7,"_nonpositive",()=>Dv,"_normalize",()=>DN,"_null",()=>Dh,"_nullable",()=>D5,"_number",()=>C2,"_optional",()=>D4,"_overwrite",()=>DM,"_parse",0,xF,"_parseAsync",0,xH,"_pipe",()=>Ea,"_positive",()=>Dt,"_promise",()=>Ee,"_property",()=>DK,"_readonly",()=>Eb,"_record",()=>DY,"_refine",()=>Eg,"_regex",()=>DE,"_safeDecode",0,xX,"_safeDecodeAsync",0,x_,"_safeEncode",0,xV,"_safeEncodeAsync",0,xZ,"_safeParse",0,xJ,"_safeParseAsync",0,xL,"_set",()=>D$,"_size",()=>DA,"_slugify",()=>DR,"_startsWith",()=>DI,"_string",()=>CA,"_stringFormat",()=>Em,"_stringbool",()=>El,"_success",()=>D8,"_superRefine",()=>Eh,"_symbol",()=>Df,"_templateLiteral",()=>Ec,"_toLowerCase",()=>DP,"_toUpperCase",()=>DQ,"_transform",()=>D3,"_trim",()=>DO,"_tuple",()=>DX,"_uint32",()=>C8,"_uint64",()=>De,"_ulid",()=>CN,"_undefined",()=>Dg,"_union",()=>DT,"_unknown",()=>Dj,"_uppercase",()=>DG,"_url",()=>CI,"_uuid",()=>CE,"_uuidv4",()=>CF,"_uuidv6",()=>CG,"_uuidv7",()=>CH,"_void",()=>Dl,"_xid",()=>CO,"_xor",()=>DU,"clone",()=>w3,"config",()=>wx,"createStandardJSONSchemaMethod",0,Et,"createToJSONSchemaMethod",0,Es,"decode",0,xQ,"decodeAsync",0,xU,"describe",()=>Ej,"encode",0,xO,"encodeAsync",0,xS,"extractDefs",()=>Ep,"finalize",()=>Eq,"flattenError",()=>xA,"formatError",()=>xB,"globalConfig",0,ww,"globalRegistry",0,Cz,"initializeContext",()=>En,"isValidBase64",()=>zN,"isValidBase64URL",()=>zP,"isValidJWT",()=>zS,"locales",0,Io,"meta",()=>Ek,"parse",0,xG,"parseAsync",0,xI,"prettifyError",()=>xE,"process",()=>Eo,"regexes",0,In,"registry",()=>Cy,"safeDecode",0,xY,"safeDecodeAsync",0,x0,"safeEncode",0,xW,"safeEncodeAsync",0,x$,"safeParse",0,xK,"safeParseAsync",0,xM,"toDotPath",()=>xD,"toJSONSchema",()=>E7,"treeifyError",()=>xC,"util",0,Im,"version",0,zp],29642);var Iq=a.i(29642);a.i(75160),a.i(73590),a.i(58277),a.s(["$brand",0,wt,"ZodFirstPartyTypeKind",()=>bA,"ZodIssueCode",0,H5,"config",()=>wx,"getErrorMap",()=>H7,"setErrorMap",()=>H6],29126),a.i(29126);var E9=E9,Fa=Fa,Ir=Io,Is=H9,It=a.i(20545);a.s(["$brand",0,wt,"$input",0,Cw,"$output",0,Cv,"NEVER",0,wr,"TimePrecision",0,CZ,"ZodAny",0,GJ,"ZodArray",0,GT,"ZodBase64",0,Gb,"ZodBase64URL",0,Gd,"ZodBigInt",0,Gy,"ZodBigIntFormat",0,GA,"ZodBoolean",0,Gw,"ZodCIDRv4",0,F7,"ZodCIDRv6",0,F9,"ZodCUID",0,FT,"ZodCUID2",0,FV,"ZodCatch",0,HE,"ZodCodec",0,HK,"ZodCustom",0,HW,"ZodCustomStringFormat",0,Gj,"ZodDate",0,GR,"ZodDefault",0,Hw,"ZodDiscriminatedUnion",0,G2,"ZodE164",0,Gf,"ZodEmail",0,FD,"ZodEmoji",0,FP,"ZodEnum",0,Hg,"ZodError",0,Fk,"ZodExactOptional",0,Hr,"ZodFile",0,Hl,"ZodFirstPartyTypeKind",()=>bA,"ZodFunction",0,HU,"ZodGUID",0,FF,"ZodIPv4",0,F1,"ZodIPv6",0,F5,"ZodISODate",0,Fd,"ZodISODateTime",0,Fb,"ZodISODuration",0,Fh,"ZodISOTime",0,Ff,"ZodIntersection",0,G4,"ZodIssueCode",0,H5,"ZodJWT",0,Gh,"ZodKSUID",0,F_,"ZodLazy",0,HQ,"ZodLiteral",0,Hj,"ZodMAC",0,F3,"ZodMap",0,Hc,"ZodNaN",0,HG,"ZodNanoID",0,FR,"ZodNever",0,GN,"ZodNonOptional",0,HA,"ZodNull",0,GH,"ZodNullable",0,Ht,"ZodNumber",0,Go,"ZodNumberFormat",0,Gq,"ZodObject",0,GW,"ZodOptional",0,Hp,"ZodPipe",0,HI,"ZodPrefault",0,Hy,"ZodPromise",0,HS,"ZodReadonly",0,HM,"ZodRealError",0,Fl,"ZodRecord",0,G8,"ZodSet",0,He,"ZodString",0,FA,"ZodStringFormat",0,FC,"ZodSuccess",0,HC,"ZodSymbol",0,GD,"ZodTemplateLiteral",0,HO,"ZodTransform",0,Hn,"ZodTuple",0,G6,"ZodType",0,Fy,"ZodULID",0,FX,"ZodURL",0,FM,"ZodUUID",0,FH,"ZodUndefined",0,GF,"ZodUnion",0,G$,"ZodUnknown",0,GL,"ZodVoid",0,GP,"ZodXID",0,FZ,"ZodXor",0,G0,"_ZodString",0,Fz,"_default",()=>Hx,"_function",()=>HV,"any",()=>GK,"array",()=>GU,"base64",()=>Gc,"base64url",()=>Ge,"bigint",()=>Gz,"boolean",()=>Gx,"catch",()=>HF,"check",()=>HX,"cidrv4",()=>F8,"cidrv6",()=>Ga,"clone",()=>w3,"codec",()=>HL,"coerce",0,It,"config",()=>wx,"core",0,Iq,"cuid",()=>FU,"cuid2",()=>FW,"custom",()=>HY,"date",()=>GS,"decode",0,Fr,"decodeAsync",0,Ft,"describe",0,H_,"discriminatedUnion",()=>G3,"e164",()=>Gg,"email",()=>FE,"emoji",()=>FQ,"encode",0,Fq,"encodeAsync",0,Fs,"endsWith",()=>DJ,"enum",()=>Hh,"exactOptional",()=>Hs,"file",()=>Hm,"flattenError",()=>xA,"float32",()=>Gs,"float64",()=>Gt,"formatError",()=>xB,"fromJSONSchema",()=>Ig,"function",()=>HV,"getErrorMap",()=>H7,"globalRegistry",0,Cz,"gt",()=>Dr,"gte",()=>Ds,"guid",()=>FG,"hash",()=>Gn,"hex",()=>Gm,"hostname",()=>Gl,"httpUrl",()=>FO,"includes",()=>DH,"instanceof",()=>H1,"int",()=>Gr,"int32",()=>Gu,"int64",()=>GB,"intersection",()=>G5,"ipv4",()=>F2,"ipv6",()=>F6,"iso",0,Is,"json",()=>H3,"jwt",()=>Gi,"keyof",()=>GV,"ksuid",()=>F0,"lazy",()=>HR,"length",()=>DD,"literal",()=>Hk,"locales",0,Ir,"looseObject",()=>GZ,"looseRecord",()=>Hb,"lowercase",()=>DF,"lt",()=>Dp,"lte",()=>Dq,"mac",()=>F4,"map",()=>Hd,"maxLength",()=>DB,"maxSize",()=>Dy,"meta",0,H0,"mime",()=>DL,"minLength",()=>DC,"minSize",()=>Dz,"multipleOf",()=>Dx,"nan",()=>HH,"nanoid",()=>FS,"nativeEnum",()=>Hi,"negative",()=>Du,"never",()=>GO,"nonnegative",()=>Dw,"nonoptional",()=>HB,"nonpositive",()=>Dv,"normalize",()=>DN,"null",()=>GI,"nullable",()=>Hu,"nullish",()=>Hv,"number",()=>Gp,"object",()=>GX,"optional",()=>Hq,"overwrite",()=>DM,"parse",0,Fm,"parseAsync",0,Fn,"partialRecord",()=>Ha,"pipe",()=>HJ,"positive",()=>Dt,"prefault",()=>Hz,"preprocess",()=>H4,"prettifyError",()=>xE,"promise",()=>HT,"property",()=>DK,"readonly",()=>HN,"record",()=>G9,"refine",()=>HZ,"regex",()=>DE,"regexes",()=>E9,"registry",()=>Cy,"safeDecode",0,Fv,"safeDecodeAsync",0,Fx,"safeEncode",0,Fu,"safeEncodeAsync",0,Fw,"safeParse",0,Fo,"safeParseAsync",0,Fp,"set",()=>Hf,"setErrorMap",()=>H6,"size",()=>DA,"slugify",()=>DR,"startsWith",()=>DI,"strictObject",()=>GY,"string",()=>FB,"stringFormat",()=>Gk,"stringbool",0,H2,"success",()=>HD,"superRefine",()=>H$,"symbol",()=>GE,"templateLiteral",()=>HP,"toJSONSchema",()=>E7,"toLowerCase",()=>DP,"toUpperCase",()=>DQ,"transform",()=>Ho,"treeifyError",()=>xC,"trim",()=>DO,"tuple",()=>G7,"uint32",()=>Gv,"uint64",()=>GC,"ulid",()=>FY,"undefined",()=>GG,"union",()=>G_,"unknown",()=>GM,"uppercase",()=>DG,"url",()=>FN,"util",()=>Fa,"uuid",()=>FI,"uuidv4",()=>FJ,"uuidv6",()=>FK,"uuidv7",()=>FL,"void",()=>GQ,"xid",()=>F$,"xor",()=>G1],54757);var Iu=a.i(54757),Iu=Iu;let Iv=Iu.object({NEXT_PUBLIC_FIREBASE_API_KEY:Iu.string().min(1),NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:Iu.string().min(1),NEXT_PUBLIC_FIREBASE_PROJECT_ID:Iu.string().min(1),NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:Iu.string().min(1),NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:Iu.string().min(1),NEXT_PUBLIC_FIREBASE_APP_ID:Iu.string().min(1)}),Iw=Iu.object({UPSTASH_REDIS_REST_URL:Iu.string().url().optional(),UPSTASH_REDIS_REST_TOKEN:Iu.string().min(1).optional()}),Ix=function(){let a={NEXT_PUBLIC_FIREBASE_API_KEY:process.env.NEXT_PUBLIC_FIREBASE_API_KEY??"",NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN??"",NEXT_PUBLIC_FIREBASE_PROJECT_ID:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID??"",NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET??"",NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID??"",NEXT_PUBLIC_FIREBASE_APP_ID:process.env.NEXT_PUBLIC_FIREBASE_APP_ID??""},b=Iv.safeParse(a);if(!b.success){let a=b.error.issues.map(a=>`  - ${a.path.join(".")}`).join("\n");if("1"===process.env.VERCEL)throw Error(`DYMNDS: Missing required environment variables:
${a}

Set these in Vercel Dashboard > Settings > Environment Variables.`);console.warn(`[DYMNDS] Missing env vars (non-fatal in dev):
${a}`)}let c=process.env.UPSTASH_REDIS_REST_URL,d=process.env.UPSTASH_REDIS_REST_TOKEN;(c&&!d||!c&&d)&&console.warn("[DYMNDS] Partial Upstash config detected. Both UPSTASH_REDIS_REST_URL and UPSTASH_REDIS_REST_TOKEN must be set for distributed rate limiting."),Iw.safeParse({UPSTASH_REDIS_REST_URL:c,UPSTASH_REDIS_REST_TOKEN:d});let e=process.env.FIREBASE_SERVICE_ACCOUNT_KEY;if(e)try{JSON.parse(e)}catch{console.error("[DYMNDS] FIREBASE_SERVICE_ACCOUNT_KEY is not valid JSON. Paste the entire contents of your service account JSON file.")}else"1"===process.env.VERCEL?console.error("[DYMNDS] FIREBASE_SERVICE_ACCOUNT_KEY is not set. API routes (orders, contact, waitlist) will fail. Set it in Vercel Dashboard > Settings > Environment Variables."):console.warn("[DYMNDS] FIREBASE_SERVICE_ACCOUNT_KEY not set (non-fatal in dev). Server-side Firestore operations will fail until configured.");return a}(),Iy={apiKey:Ix.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:Ix.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:Ix.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:Ix.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:Ix.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:Ix.NEXT_PUBLIC_FIREBASE_APP_ID},Iz=0===a7().length?a4(Iy):a6(),IA=rq(Iz);uw(Iz),a.s(["db",0,IA],83897);var Iu=Iu;let IB=Iu.object({XS:Iu.number().default(0),S:Iu.number().default(0),M:Iu.number().default(0),L:Iu.number().default(0),XL:Iu.number().default(0),XXL:Iu.number().default(0)}).default({XS:0,S:0,M:0,L:0,XL:0,XXL:0}),IC=Iu.object({name:Iu.string().default(""),hex:Iu.string().default("#000000"),images:Iu.array(Iu.string()).default([]),stock:IB}).passthrough(),ID=Iu.object({id:Iu.string(),title:Iu.string().default("Unknown Product"),slug:Iu.string().default(""),subtitle:Iu.string().default(""),price:Iu.number().default(0),price_cad:Iu.number().optional(),stock:IB,images:Iu.array(Iu.string()).default([]),colors:Iu.array(IC).optional(),category:Iu.string().default("uncategorized"),productType:Iu.string().optional(),description:Iu.string().optional(),features:Iu.array(Iu.string()).optional(),displayOrder:Iu.number().default(999),featured:Iu.boolean().default(!1),newArrival:Iu.boolean().optional(),bestSeller:Iu.boolean().optional(),is_active:Iu.boolean().default(!0),is_deleted:Iu.boolean().optional(),created_at:Iu.string().default(""),updated_at:Iu.string().default("")}).passthrough(),IE=Iu.object({product_id:Iu.string().optional(),product_name:Iu.string().optional(),title:Iu.string().optional(),size:Iu.string().optional(),color:Iu.string().optional(),quantity:Iu.number().default(1),price:Iu.number().default(0),image:Iu.string().optional()}).passthrough(),IF=Iu.object({name:Iu.string().optional(),street:Iu.string().optional(),line1:Iu.string().optional(),line2:Iu.string().optional(),city:Iu.string().optional(),state:Iu.string().optional(),province:Iu.string().optional(),zip:Iu.string().optional(),postal_code:Iu.string().optional(),country:Iu.string().optional()}).passthrough().default({});function IG(a){let b=ID.safeParse(a);return b.success?b.data:(console.warn(`[DYMNDS] Malformed product doc ${a.id}:`,b.error.issues),null)}async function IH(a={}){let{category:b,featured:c,newArrival:d,bestSeller:e,maxResults:f=50}=a;try{let a=[];a.push(sd("is_active","==",!0)),b&&a.push(sd("category","==",b)),c&&a.push(sd("featured","==",!0)),d&&a.push(sd("newArrival","==",!0)),e&&a.push(sd("bestSeller","==",!0)),a.push(si("displayOrder","asc")),a.push(sk(f));let g=sb(ri(IA,"products"),...a);return(await ts(g)).docs.map(a=>IG({id:a.id,...a.data()})).filter(a=>null!==a)}catch{try{let a=[];b&&a.push(sd("category","==",b)),c&&a.push(sd("featured","==",!0)),d&&a.push(sd("newArrival","==",!0)),e&&a.push(sd("bestSeller","==",!0));let g=a.length>0?sb(ri(IA,"products"),...a):sb(ri(IA,"products")),h=(await ts(g)).docs.map(a=>IG({id:a.id,...a.data()})).filter(a=>null!==a);return(h=h.filter(a=>!1!==a.is_active&&!a.is_deleted)).sort((a,b)=>(a.displayOrder||999)-(b.displayOrder||999)),h.slice(0,f)}catch(a){return console.error("[DYMNDS] Product fetch failed:",a),[]}}}async function II(a,b=3){return IH({category:a,featured:!0,maxResults:b})}async function IJ(a,b=10){try{let c=sb(ri(IA,"reviews"),sd("productSlug","==",a),si("createdAt","desc"),sk(b));return(await ts(c)).docs.map(a=>({id:a.id,...a.data()}))}catch(a){return console.error("[DYMNDS] Review fetch failed:",a),[]}}Iu.object({id:Iu.string(),customer_email:Iu.string().default(""),customer_name:Iu.string().default("Unknown"),total_amount:Iu.number().default(0),status:Iu.enum(["pending","processing","shipped","delivered","cancelled"]).default("pending"),items:Iu.array(IE).default([]),shipping_address:IF,is_deleted:Iu.boolean().optional(),deleted_at:Iu.string().optional(),created_at:Iu.string().default(""),updated_at:Iu.string().default("")}).passthrough(),Iu.object({id:Iu.string(),code:Iu.string().default(""),type:Iu.enum(["percentage","fixed"]).default("percentage"),value:Iu.number().default(0),isActive:Iu.boolean().default(!0),maxUses:Iu.number().optional(),minOrder:Iu.number().optional(),expiresAt:Iu.string().optional(),created_at:Iu.string().default(""),updated_at:Iu.string().optional()}).passthrough(),a.s(["safeParseProduct",()=>IG],96877),a.s(["fetchFeaturedProducts",()=>II,"fetchProducts",()=>IH,"fetchReviews",()=>IJ],48600)}];

//# sourceMappingURL=_575ca36d._.js.map
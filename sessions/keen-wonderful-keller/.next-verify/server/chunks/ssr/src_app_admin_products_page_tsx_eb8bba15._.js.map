{"version":3,"sources":["../../../../../../src/app/admin/products/page.tsx"],"sourcesContent":["'use client';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport Image from 'next/image';\nimport { db, storage, getAuthClient } from '@/lib/firebase';\nimport {\n  collection, getDocs, doc, updateDoc, addDoc, query, orderBy\n} from 'firebase/firestore';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport type { Product } from '@/lib/firebase';\nimport { logAdminAction } from '@/lib/audit-log';\n\nexport default function ProductsPage() {\n  const getAdminEmail = () => {\n    const auth = getAuthClient();\n    return auth?.currentUser?.email || 'unknown';\n  };\n\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [productSearch, setProductSearch] = useState('');\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n  const [showAddProduct, setShowAddProduct] = useState(false);\n  const [addError, setAddError] = useState('');\n  const [isAdding, setIsAdding] = useState(false);\n  const [uploadingImages, setUploadingImages] = useState(false);\n  const [dragActive, setDragActive] = useState(false);\n  const [activeColorIndex, setActiveColorIndex] = useState(0);\n  const [selectedProducts, setSelectedProducts] = useState<string[]>([]);\n  const [expandedProducts, setExpandedProducts] = useState<Set<string>>(new Set());\n  const [showBulkDeleteConfirm, setShowBulkDeleteConfirm] = useState(false);\n  const displayOrderTimers = useRef<Record<string, NodeJS.Timeout>>({});\n\n  // Stock change modal\n  const [showStockChangeModal, setShowStockChangeModal] = useState(false);\n  const [stockChangeProduct, setStockChangeProduct] = useState<Product | null>(null);\n  const [stockChangeSize, setStockChangeSize] = useState('');\n  const [stockChangeAmount, setStockChangeAmount] = useState(0);\n  const [stockChangeReason, setStockChangeReason] = useState('');\n  const [stockChangeColor, setStockChangeColor] = useState<string | null>(null);\n\n  const [newProduct, setNewProduct] = useState({\n    slug: '',\n    title: '',\n    subtitle: '',\n    price: 0,\n    stock: { XS: 0, S: 0, M: 0, L: 0, XL: 0, XXL: 0 },\n    category: 'Men',\n    productType: 'Tops',\n    displayOrder: 1,\n    featured: false,\n    newArrival: false,\n    bestSeller: false,\n    description: '',\n    features: [] as string[],\n    modelSize: '',\n    modelHeight: '',\n    deliveryInfo: 'Free shipping on orders over $100. Delivery in 3-5 business days.',\n    returnsInfo: '30-day hassle-free returns. Items must be unworn with tags attached.',\n    matchingSetSlug: '',\n    sizeGuide: {\n      chest: { XS: '32-34\"', S: '35-37\"', M: '38-40\"', L: '41-43\"', XL: '44-46\"', XXL: '47-49\"' },\n      waist: { XS: '26-28\"', S: '29-31\"', M: '32-34\"', L: '35-37\"', XL: '38-40\"', XXL: '41-43\"' }\n    },\n    colors: [] as { name: string; hex: string; images: string[]; stock: { XS: number; S: number; M: number; L: number; XL: number; XXL: number } }[],\n    imageUrl: '',\n    images: [] as string[],\n  });\n\n  // Auto-generate slug from title\n  useEffect(() => {\n    if (newProduct.title && !newProduct.slug) {\n      const slug = newProduct.title\n        .toLowerCase()\n        .replace(/[^a-z0-9]+/g, '-')\n        .replace(/^-|-$/g, '');\n      setNewProduct(prev => ({ ...prev, slug }));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [newProduct.title]);\n\n  // Fetch all products on mount\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      let productsData: Product[] = [];\n      try {\n        const q = query(collection(db, 'products'), orderBy('displayOrder', 'asc'));\n        const snap = await getDocs(q);\n        productsData = snap.docs.map(d => ({ id: d.id, ...d.data() } as Product));\n      } catch {\n        const snap = await getDocs(collection(db, 'products'));\n        productsData = snap.docs.map(d => ({ id: d.id, ...d.data() } as Product));\n        productsData.sort((a, b) => (a.displayOrder || 999) - (b.displayOrder || 999));\n      }\n      setProducts(productsData);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  // Update stock with inventory logging\n  const updateStock = async (\n    productId: string,\n    size: string,\n    newStock: number,\n    reason?: string,\n    colorName?: string\n  ) => {\n    const product = products.find(p => p.id === productId);\n    if (!product) return;\n\n    try {\n      if (colorName && product.colors) {\n         \n        const colorIndex = product.colors.findIndex((c: any) => c.name === colorName);\n        if (colorIndex === -1) return;\n\n        const oldStock = product.colors[colorIndex].stock?.[size as keyof typeof product.colors[0]['stock']] || 0;\n\n        const updatedColors = [...product.colors];\n        updatedColors[colorIndex] = {\n          ...updatedColors[colorIndex],\n          stock: {\n            ...updatedColors[colorIndex].stock,\n            [size]: newStock\n          }\n        };\n\n        // Calculate total stock across all colors\n        const totalStock = { XS: 0, S: 0, M: 0, L: 0, XL: 0, XXL: 0 };\n         \n        updatedColors.forEach((color: any) => {\n          ['XS', 'S', 'M', 'L', 'XL', 'XXL'].forEach(s => {\n            totalStock[s as keyof typeof totalStock] += (color.stock?.[s] || 0);\n          });\n        });\n\n        await updateDoc(doc(db, 'products', productId), {\n          colors: updatedColors,\n          stock: totalStock,\n          updated_at: new Date().toISOString()\n        });\n\n        // Log inventory change\n        await addDoc(collection(db, 'inventory_logs'), {\n          product_id: productId,\n          product_name: product.title,\n          color: colorName,\n          size,\n          old_stock: oldStock,\n          new_stock: newStock,\n          change: newStock - oldStock,\n          reason: reason || 'Manual adjustment',\n          user_email: getAdminEmail(),\n          created_at: new Date().toISOString()\n        });\n\n        setProducts(products.map(p =>\n          p.id === productId ? { ...p, colors: updatedColors, stock: totalStock } : p\n        ));\n      } else {\n        const oldStock = (product.stock as Record<string, number>)?.[size] || 0;\n        const updatedStock = { ...product.stock, [size]: newStock };\n\n        await updateDoc(doc(db, 'products', productId), {\n          stock: updatedStock,\n          updated_at: new Date().toISOString()\n        });\n\n        // Log inventory change\n        await addDoc(collection(db, 'inventory_logs'), {\n          product_id: productId,\n          product_name: product.title,\n          size,\n          old_stock: oldStock,\n          new_stock: newStock,\n          change: newStock - oldStock,\n          reason: reason || 'Manual adjustment',\n          user_email: getAdminEmail(),\n          created_at: new Date().toISOString()\n        });\n\n        setProducts(products.map(p =>\n          p.id === productId ? { ...p, stock: updatedStock } : p\n        ));\n      }\n     \n    } catch (error: any) {\n      console.error('Error updating stock:', error);\n      alert('Failed to update stock: ' + (error?.message || 'Unknown error'));\n    }\n  };\n\n  // Delete product (soft delete — preserves data for order history)\n  const deleteProduct = async (productId: string) => {\n    if (!confirm('Archive this product? It will be hidden but preserved for order history.')) {\n      return;\n    }\n\n    try {\n      const now = new Date().toISOString();\n      await updateDoc(doc(db, 'products', productId), {\n        is_deleted: true,\n        deleted_at: now,\n        is_active: false,\n        updated_at: now,\n      });\n      setProducts(products.filter(p => p.id !== productId));\n      logAdminAction('product_deleted', { productId, soft: true }, getAdminEmail());\n    } catch (error) {\n      console.error('Error archiving product:', error);\n      alert('Failed to archive product');\n    }\n  };\n\n  // Update display order\n  const updateDisplayOrder = async (productId: string, newOrder: number) => {\n    const product = products.find(p => p.id === productId);\n    if (!product) return;\n\n    const currentOrder = product.displayOrder || 1;\n    if (newOrder === currentOrder) return;\n\n    try {\n      if (newOrder < currentOrder) {\n        // Moving up - increment items between new and old position\n        const toShift = products.filter(\n          p => p.id !== productId && (p.displayOrder || 1) >= newOrder && (p.displayOrder || 1) < currentOrder\n        );\n        for (const p of toShift) {\n          await updateDoc(doc(db, 'products', p.id), {\n            displayOrder: (p.displayOrder || 1) + 1,\n            updated_at: new Date().toISOString()\n          });\n        }\n      } else {\n        // Moving down - decrement items between old and new position\n        const toShift = products.filter(\n          p => p.id !== productId && (p.displayOrder || 1) <= newOrder && (p.displayOrder || 1) > currentOrder\n        );\n        for (const p of toShift) {\n          await updateDoc(doc(db, 'products', p.id), {\n            displayOrder: (p.displayOrder || 1) - 1,\n            updated_at: new Date().toISOString()\n          });\n        }\n      }\n\n      await updateDoc(doc(db, 'products', productId), {\n        displayOrder: newOrder,\n        updated_at: new Date().toISOString()\n      });\n\n      await fetchData();\n    } catch (error) {\n      console.error('Error updating display order:', error);\n    }\n  };\n\n  // Toggle featured\n  const toggleFeatured = async (product: Product) => {\n    const newState = !product.featured;\n    try {\n      if (newState) {\n        // Limit to 3 featured per category\n        const catFeatured = products.filter(\n          p => p.category === product.category && p.featured && p.id !== product.id\n        );\n        if (catFeatured.length >= 3) {\n          const oldest = catFeatured.sort(\n            (a, b) => new Date(a.created_at).getTime() - new Date(b.created_at).getTime()\n          )[0];\n          await updateDoc(doc(db, 'products', oldest.id), {\n            featured: false,\n            updated_at: new Date().toISOString()\n          });\n          setProducts(prev => prev.map(p => p.id === oldest.id ? { ...p, featured: false } : p));\n        }\n      }\n      await updateDoc(doc(db, 'products', product.id), {\n        featured: newState,\n        updated_at: new Date().toISOString()\n      });\n      setProducts(prev => prev.map(p => p.id === product.id ? { ...p, featured: newState } : p));\n    } catch (error) {\n      console.error('Error toggling featured:', error);\n    }\n  };\n\n  // Toggle new arrival\n  const toggleNewArrival = async (product: Product) => {\n    const newState = !product.newArrival;\n    try {\n      await updateDoc(doc(db, 'products', product.id), {\n        newArrival: newState,\n        updated_at: new Date().toISOString()\n      });\n      setProducts(prev => prev.map(p => p.id === product.id ? { ...p, newArrival: newState } : p));\n    } catch (error) {\n      console.error('Error toggling new arrival:', error);\n    }\n  };\n\n  // Toggle best seller\n  const toggleBestSeller = async (product: Product) => {\n    const newState = !product.bestSeller;\n    try {\n      await updateDoc(doc(db, 'products', product.id), {\n        bestSeller: newState,\n        updated_at: new Date().toISOString()\n      });\n      setProducts(prev => prev.map(p => p.id === product.id ? { ...p, bestSeller: newState } : p));\n    } catch (error) {\n      console.error('Error toggling best seller:', error);\n    }\n  };\n\n  // Update product details\n  const updateProductDetails = async (product: Product) => {\n    try {\n       \n      const updateData: any = {\n        title: product.title,\n        subtitle: product.subtitle,\n        price: product.price,\n        category: product.category,\n         \n        description: (product as any).description || '',\n         \n        features: (product as any).features || [],\n         \n        modelSize: (product as any).modelSize || '',\n         \n        modelHeight: (product as any).modelHeight || '',\n         \n        deliveryInfo: (product as any).deliveryInfo || '',\n         \n        returnsInfo: (product as any).returnsInfo || '',\n         \n        matchingSetSlug: (product as any).matchingSetSlug || '',\n        updated_at: new Date().toISOString()\n      };\n\n       \n      if ((product as any).productType) {\n         \n        updateData.productType = (product as any).productType;\n      }\n\n      await updateDoc(doc(db, 'products', product.id), updateData);\n\n      // Log admin action\n      logAdminAction('product_updated', {\n        productId: product.id,\n        title: product.title,\n        price: product.price,\n        category: product.category,\n      }, getAdminEmail());\n\n      setProducts(prev => prev.map(p => p.id === product.id ? { ...p, ...updateData } : p));\n      setEditingProduct(null);\n      alert('Product updated successfully');\n    } catch (error) {\n      console.error('Error updating product:', error);\n      alert('Failed to update product');\n    }\n  };\n\n  // Handle drag events for image upload\n  const handleDrag = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  }, []);\n\n  // Handle drop events for image upload\n  const handleDrop = useCallback(async (e: React.DragEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n\n    if (e.dataTransfer.files?.length > 0) {\n      await uploadImages(e.dataTransfer.files);\n    }\n  }, []);\n\n  // Upload images to Firebase Storage\n  const uploadImages = async (files: FileList) => {\n    setUploadingImages(true);\n    const urls: string[] = [];\n\n    for (const file of Array.from(files)) {\n      if (!file.type.startsWith('image/')) continue;\n\n      try {\n        const storageRef = ref(storage, `products/${Date.now()}_${file.name}`);\n        await uploadBytes(storageRef, file);\n        const url = await getDownloadURL(storageRef);\n        urls.push(url);\n      } catch (error) {\n        console.error('Error uploading:', error);\n      }\n    }\n\n    setNewProduct(prev => ({\n      ...prev,\n      images: [...prev.images, ...urls]\n    }));\n    setUploadingImages(false);\n  };\n\n  // Handle file selection\n  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      await uploadImages(e.target.files);\n    }\n  };\n\n  // Remove image\n  const removeImage = (index: number) => {\n    setNewProduct(prev => ({\n      ...prev,\n      images: prev.images.filter((_, i) => i !== index)\n    }));\n  };\n\n  // Add new product\n  const addProduct = async () => {\n    setAddError('');\n    setIsAdding(true);\n\n    if (!newProduct.slug.trim()) {\n      setAddError('Slug is required');\n      setIsAdding(false);\n      return;\n    }\n\n    if (!newProduct.title.trim()) {\n      setAddError('Title is required');\n      setIsAdding(false);\n      return;\n    }\n\n    if (newProduct.price <= 0) {\n      setAddError('Price must be greater than 0');\n      setIsAdding(false);\n      return;\n    }\n\n    const timeoutPromise = new Promise((_, reject) =>\n      setTimeout(() => reject(new Error('Request timed out')), 10000)\n    );\n\n    try {\n      const targetOrder = newProduct.displayOrder || 1;\n\n      // Shift display orders\n      const toShift = products.filter(p => p.displayOrder >= targetOrder);\n      for (const p of toShift) {\n        await updateDoc(doc(db, 'products', p.id), {\n          displayOrder: p.displayOrder + 1,\n          updated_at: new Date().toISOString()\n        });\n      }\n\n      // Prepare colors data\n      const colorsData = newProduct.colors.length > 0\n        ? newProduct.colors.map(c => ({\n            name: c.name,\n            hex: c.hex,\n            images: c.images.length > 0 ? c.images : newProduct.images,\n            stock: c.stock\n          }))\n        : undefined;\n\n      const normalizedSlug = newProduct.slug\n        .trim()\n        .toLowerCase()\n        .replace(/[^a-z0-9]+/g, '-')\n        .replace(/^-|-$/g, '');\n\n       \n      const productData: any = {\n        slug: normalizedSlug,\n        title: newProduct.title.trim(),\n        subtitle: newProduct.subtitle.trim(),\n        price: newProduct.price,\n        category: newProduct.category,\n        productType: newProduct.productType,\n        displayOrder: targetOrder,\n        featured: newProduct.featured,\n        newArrival: newProduct.newArrival,\n        bestSeller: newProduct.bestSeller,\n        description: newProduct.description,\n        features: newProduct.features.filter(f => f.trim()),\n        modelSize: newProduct.modelSize,\n        modelHeight: newProduct.modelHeight,\n        deliveryInfo: newProduct.deliveryInfo,\n        returnsInfo: newProduct.returnsInfo,\n        matchingSetSlug: newProduct.matchingSetSlug,\n        sizeGuide: newProduct.sizeGuide,\n        is_active: true,\n        created_at: new Date().toISOString(),\n        updated_at: new Date().toISOString(),\n      };\n\n      if (colorsData) {\n        productData.colors = colorsData;\n        const totalStock = { XS: 0, S: 0, M: 0, L: 0, XL: 0, XXL: 0 };\n         \n        colorsData.forEach((c: any) => {\n          ['XS', 'S', 'M', 'L', 'XL', 'XXL'].forEach(s => {\n            totalStock[s as keyof typeof totalStock] += (c.stock[s] || 0);\n          });\n        });\n        productData.stock = totalStock;\n      } else {\n        productData.stock = newProduct.stock;\n        productData.images = newProduct.images.length > 0\n          ? newProduct.images\n          : (newProduct.imageUrl ? [newProduct.imageUrl] : []);\n      }\n\n       \n      const productRef = await Promise.race([\n        addDoc(collection(db, 'products'), productData),\n        timeoutPromise\n      ]) as any;\n\n      // Log admin action\n      logAdminAction('product_created', {\n        productId: productRef.id,\n        title: newProduct.title,\n        slug: productData.slug,\n        price: newProduct.price,\n        category: newProduct.category,\n      }, getAdminEmail());\n\n      await fetchData();\n      setShowAddProduct(false);\n      setNewProduct({\n        slug: '',\n        title: '',\n        subtitle: '',\n        price: 0,\n        stock: { XS: 0, S: 0, M: 0, L: 0, XL: 0, XXL: 0 },\n        category: 'Men',\n        productType: 'Tops',\n        displayOrder: 1,\n        featured: false,\n        newArrival: false,\n        bestSeller: false,\n        description: '',\n        features: [],\n        modelSize: '',\n        modelHeight: '',\n        deliveryInfo: 'Free shipping on orders over $100. Delivery in 3-5 business days.',\n        returnsInfo: '30-day hassle-free returns. Items must be unworn with tags attached.',\n        matchingSetSlug: '',\n        sizeGuide: {\n          chest: { XS: '32-34\"', S: '35-37\"', M: '38-40\"', L: '41-43\"', XL: '44-46\"', XXL: '47-49\"' },\n          waist: { XS: '26-28\"', S: '29-31\"', M: '32-34\"', L: '35-37\"', XL: '38-40\"', XXL: '41-43\"' }\n        },\n        colors: [],\n        imageUrl: '',\n        images: [],\n      });\n      setActiveColorIndex(0);\n     \n    } catch (error: any) {\n      setAddError(`Failed: ${error?.message || 'Unknown error'}`);\n    } finally {\n      setIsAdding(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-32\">\n        <div className=\"text-center\">\n          <div className=\"w-10 h-10 border-2 border-white/20 border-t-white rounded-full animate-spin mx-auto mb-4\" />\n          <p className=\"text-white/30 text-sm\">Loading products...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {/* Header */}\n      <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8\">\n        <div>\n          <h2 className=\"text-4xl font-bebas tracking-wider\">Inventory Commander</h2>\n          <p className=\"text-white/25 text-sm mt-1\">{products.length} products</p>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"relative\">\n            <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-white/25 text-sm\">⌕</span>\n            <input\n              type=\"text\"\n              value={productSearch}\n              onChange={(e) => setProductSearch(e.target.value)}\n              placeholder=\"Search products...\"\n              className=\"input-premium pl-9 pr-4 py-2.5 bg-white/[0.03] border border-white/[0.08] rounded-xl text-sm focus:outline-none w-56\"\n            />\n          </div>\n          <button\n            onClick={() => {\n              setShowAddProduct(true);\n              setAddError('');\n            }}\n            className=\"btn-premium px-5 py-2.5 bg-white text-black text-sm font-bold tracking-wider uppercase rounded-xl hover:bg-white/90 transition-colors\"\n          >\n            + Add Product\n          </button>\n        </div>\n      </div>\n\n      {/* Bulk Actions Bar */}\n      {selectedProducts.length > 0 && (\n        <div className=\"mb-4 p-4 bg-white/[0.03] border border-white/[0.08] rounded-xl flex items-center justify-between\">\n          <span className=\"text-white/50 text-sm\">{selectedProducts.length} selected</span>\n          <div className=\"flex gap-2\">\n            <button\n              onClick={() => setShowBulkDeleteConfirm(true)}\n              className=\"px-4 py-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors text-sm\"\n            >\n              Delete Selected\n            </button>\n            <button\n              onClick={() => setSelectedProducts([])}\n              className=\"px-4 py-2 bg-white/[0.06] text-white/50 rounded-lg hover:bg-white/[0.1] transition-colors text-sm\"\n            >\n              Clear\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Products Table */}\n      <div className=\"bg-white/[0.02] border border-white/[0.06] rounded-2xl overflow-x-auto\">\n        <table className=\"w-full min-w-[800px]\">\n          <thead className=\"bg-white/[0.03] border-b border-white/[0.06]\">\n            <tr>\n              <th className=\"text-center p-4 text-[10px] uppercase tracking-widest text-white/25\">Sel</th>\n              <th className=\"text-center p-4 text-[10px] uppercase tracking-widest text-white/25\">#</th>\n              <th className=\"text-center p-4 text-[10px] uppercase tracking-widest text-white/25\">★</th>\n              <th className=\"text-center p-4 text-[10px] uppercase tracking-widest text-white/25\">New</th>\n              <th className=\"text-center p-4 text-[10px] uppercase tracking-widest text-white/25\">Top</th>\n              <th className=\"text-left p-4 text-[10px] uppercase tracking-widest text-white/25\">Product</th>\n              <th className=\"text-center p-4 text-[10px] uppercase tracking-widest text-white/25\">Type</th>\n              {['XS', 'S', 'M', 'L', 'XL', 'XXL'].map(s => (\n                <th key={s} className=\"text-center p-4 text-[10px] uppercase tracking-widest text-white/25\">\n                  {s}\n                </th>\n              ))}\n              <th className=\"text-center p-4 text-[10px] uppercase tracking-widest text-white/25\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {(() => {\n              const rows: React.ReactElement[] = [];\n\n              products\n                .filter(p =>\n                  !productSearch ||\n                  p.title?.toLowerCase().includes(productSearch.toLowerCase()) ||\n                  p.slug?.toLowerCase().includes(productSearch.toLowerCase()) ||\n                  p.category?.toLowerCase().includes(productSearch.toLowerCase())\n                )\n                .forEach(product => {\n                  const colors = product.colors || [];\n                  const hasColors = colors.length > 0;\n                  const isExpanded = expandedProducts.has(product.id);\n\n                  const getTotalStock = (size: string) => {\n                    if (hasColors) {\n                       \n                      return colors.reduce((sum: number, c: any) => sum + (c.stock?.[size] || 0), 0);\n                    }\n                    return (product.stock as Record<string, number>)?.[size] || 0;\n                  };\n\n                  // Main product row\n                  rows.push(\n                    <tr key={product.id} className=\"border-b border-white/[0.04] hover:bg-white/[0.02] transition-colors\">\n                      <td className=\"p-4 text-center\">\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedProducts.includes(product.id)}\n                          onChange={(e) =>\n                            e.target.checked\n                              ? setSelectedProducts([...selectedProducts, product.id])\n                              : setSelectedProducts(selectedProducts.filter(id => id !== product.id))\n                          }\n                          className=\"w-4 h-4 rounded border-white/20 bg-black accent-white\"\n                        />\n                      </td>\n\n                      <td className=\"p-4 text-center\">\n                        <input\n                          type=\"number\"\n                          min={1}\n                          defaultValue={product.displayOrder || 1}\n                          onChange={(e) => {\n                            const v = parseInt(e.target.value) || 1;\n                            const pid = product.id;\n                            if (displayOrderTimers.current[pid]) clearTimeout(displayOrderTimers.current[pid]);\n                            displayOrderTimers.current[pid] = setTimeout(() => updateDisplayOrder(pid, v), 800);\n                          }}\n                          onKeyDown={(e) => {\n                            if (e.key === 'Enter') {\n                              const pid = product.id;\n                              if (displayOrderTimers.current[pid]) clearTimeout(displayOrderTimers.current[pid]);\n                              updateDisplayOrder(pid, parseInt((e.target as HTMLInputElement).value) || 1);\n                            }\n                          }}\n                          className=\"w-12 text-center bg-black/50 border border-white/[0.1] rounded-lg px-2 py-1 text-sm focus:border-white/30 focus:outline-none\"\n                        />\n                      </td>\n\n                      <td className=\"p-4 text-center\">\n                        <button\n                          onClick={() => toggleFeatured(product)}\n                          className={`transition-colors ${\n                            product.featured ? 'text-amber-400 hover:text-amber-300' : 'text-white/15 hover:text-white/30'\n                          }`}\n                        >\n                          {product.featured ? '★' : '☆'}\n                        </button>\n                      </td>\n\n                      <td className=\"p-4 text-center\">\n                        <button\n                          onClick={() => toggleNewArrival(product)}\n                          className={`text-xs font-bold transition-colors ${\n                            product.newArrival ? 'text-emerald-400' : 'text-white/15 hover:text-white/30'\n                          }`}\n                        >\n                          {product.newArrival ? 'NEW' : '—'}\n                        </button>\n                      </td>\n\n                      <td className=\"p-4 text-center\">\n                        <button\n                          onClick={() => toggleBestSeller(product)}\n                          className={`text-xs font-bold transition-colors ${\n                            product.bestSeller ? 'text-amber-400' : 'text-white/15 hover:text-white/30'\n                          }`}\n                        >\n                          {product.bestSeller ? 'TOP' : '—'}\n                        </button>\n                      </td>\n\n                      <td className=\"p-4\">\n                        <button\n                          onClick={() => setEditingProduct(product)}\n                          className=\"text-left hover:text-white/70 transition-colors\"\n                        >\n                          <p className=\"font-medium\">{product.title}</p>\n                          <p className=\"text-white/30 text-xs\">\n                            ${product.price} · {product.category}\n                            {hasColors ? ` · ${colors.length} colors` : ''}\n                          </p>\n                        </button>\n                      </td>\n\n                      <td className=\"p-4 text-center\">\n                        <span className=\"text-white/40 text-xs\">{(product as any).productType || '—'}</span>\n                      </td>\n\n                      {['XS', 'S', 'M', 'L', 'XL', 'XXL'].map(size => {\n                        const stock = getTotalStock(size);\n                        return (\n                          <td key={size} className=\"p-4\">\n                            <button\n                              onClick={() => {\n                                setStockChangeProduct(product);\n                                setStockChangeSize(size);\n                                setStockChangeAmount(stock);\n                                setStockChangeColor(null);\n                                setStockChangeReason('');\n                                setShowStockChangeModal(true);\n                              }}\n                              className={`w-14 text-center bg-black/50 border rounded-lg px-2 py-1 text-sm hover:border-white/30 transition-colors ${\n                                stock === 0\n                                  ? 'text-red-400 border-red-500/40'\n                                  : stock < 5\n                                  ? 'text-amber-400 border-amber-500/30'\n                                  : 'border-white/[0.1]'\n                              }`}\n                            >\n                              {stock}\n                            </button>\n                          </td>\n                        );\n                      })}\n\n                      <td className=\"p-4 text-center\">\n                        <div className=\"flex items-center gap-2 justify-center\">\n                          {hasColors && (\n                            <button\n                              onClick={() => {\n                                const n = new Set(expandedProducts);\n                                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                                isExpanded ? n.delete(product.id) : n.add(product.id);\n                                setExpandedProducts(n);\n                              }}\n                              className=\"p-2 bg-white/[0.06] rounded-lg hover:bg-white/[0.1] transition-colors text-xs\"\n                            >\n                              {isExpanded ? '▲' : '▼'}\n                            </button>\n                          )}\n                          <button\n                            onClick={() => deleteProduct(product.id)}\n                            className=\"px-3 py-1.5 bg-red-500/15 text-red-400 text-xs rounded-lg hover:bg-red-500/25 transition-colors\"\n                          >\n                            Del\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n\n                  // Color variant rows\n                  if (isExpanded && hasColors) {\n                     \n                    colors.forEach((color: any) => {\n                      rows.push(\n                        <tr\n                          key={`${product.id}-${color.name}`}\n                          className=\"border-b border-white/[0.03] bg-white/[0.01]\"\n                        >\n                          <td className=\"p-4 text-center\">\n                            <div\n                              className=\"w-4 h-4 rounded-full border border-white/20 mx-auto\"\n                              style={{ backgroundColor: color.hex }}\n                            />\n                          </td>\n                          <td className=\"p-4\" colSpan={4}>\n                            <span className=\"text-white/40 text-sm ml-4\">↳ {color.name}</span>\n                          </td>\n                          <td className=\"p-4 text-center\">\n                            <span className=\"text-white/20 text-xs\">Variant</span>\n                          </td>\n                          <td className=\"p-4 text-center\" />\n                          {['XS', 'S', 'M', 'L', 'XL', 'XXL'].map(size => {\n                            const stock = color.stock?.[size] || 0;\n                            return (\n                              <td key={size} className=\"p-4\">\n                                <button\n                                  onClick={() => {\n                                    setStockChangeProduct(product);\n                                    setStockChangeSize(size);\n                                    setStockChangeAmount(stock);\n                                    setStockChangeColor(color.name);\n                                    setStockChangeReason(`Updating ${color.name}`);\n                                    setShowStockChangeModal(true);\n                                  }}\n                                  className={`w-14 text-center bg-black/30 border rounded-lg px-2 py-1 text-sm hover:border-white/30 transition-colors ${\n                                    stock === 0\n                                      ? 'text-red-400 border-red-500/40'\n                                      : stock < 5\n                                      ? 'text-amber-400 border-amber-500/30'\n                                      : 'border-white/[0.06]'\n                                  }`}\n                                >\n                                  {stock}\n                                </button>\n                              </td>\n                            );\n                          })}\n                          <td className=\"p-4 text-center\">\n                            <span className=\"text-white/15 text-xs\">—</span>\n                          </td>\n                        </tr>\n                      );\n                    });\n                  }\n                });\n\n              return rows;\n            })()}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Stock Change Modal */}\n      {showStockChangeModal && stockChangeProduct && (\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n          <div className=\"modal-panel bg-neutral-950 border border-white/[0.08] rounded-2xl p-8 w-full max-w-md\">\n            <h3 className=\"text-2xl font-bebas tracking-wider mb-6\">Update Stock</h3>\n\n            <div className=\"space-y-4\">\n              <div className=\"p-4 bg-white/[0.03] rounded-xl\">\n                <p className=\"text-white/30 text-sm\">Product</p>\n                <p className=\"font-medium\">{stockChangeProduct.title}</p>\n                {stockChangeColor && <p className=\"text-sm text-amber-400 mt-1\">Color: {stockChangeColor}</p>}\n              </div>\n\n              <div className=\"p-4 bg-white/[0.03] rounded-xl\">\n                <p className=\"text-white/30 text-sm\">Size</p>\n                <p className=\"font-medium text-xl\">{stockChangeSize}</p>\n              </div>\n\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                  New Stock Amount\n                </label>\n                <input\n                  type=\"number\"\n                  min={0}\n                  value={stockChangeAmount}\n                  onChange={(e) => setStockChangeAmount(parseInt(e.target.value) || 0)}\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 text-lg text-center focus:outline-none\"\n                  autoFocus\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                  Reason (optional)\n                </label>\n                <input\n                  type=\"text\"\n                  value={stockChangeReason}\n                  onChange={(e) => setStockChangeReason(e.target.value)}\n                  placeholder=\"e.g., New shipment arrived\"\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex gap-4 mt-8\">\n              <button\n                onClick={() => {\n                  setShowStockChangeModal(false);\n                  setStockChangeProduct(null);\n                  setStockChangeColor(null);\n                }}\n                className=\"flex-1 py-3 border border-white/[0.1] rounded-xl hover:bg-white/[0.03] transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={async () => {\n                  await updateStock(\n                    stockChangeProduct.id,\n                    stockChangeSize,\n                    stockChangeAmount,\n                    stockChangeReason,\n                    stockChangeColor || undefined\n                  );\n                  setShowStockChangeModal(false);\n                  setStockChangeProduct(null);\n                  setStockChangeColor(null);\n                }}\n                className=\"btn-premium flex-1 py-3 bg-white text-black rounded-xl hover:bg-white/90 transition-colors font-bold\"\n              >\n                Update\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Edit Product Modal */}\n      {editingProduct && (\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n          <div className=\"modal-panel bg-neutral-950 border border-white/[0.08] rounded-2xl p-8 w-full max-w-lg max-h-[90vh] overflow-y-auto\">\n            <h3 className=\"text-2xl font-bebas tracking-wider mb-6\">Edit Product</h3>\n\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Title</label>\n                <input\n                  type=\"text\"\n                  value={editingProduct.title}\n                  onChange={(e) => setEditingProduct({ ...editingProduct, title: e.target.value })}\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Subtitle</label>\n                <input\n                  type=\"text\"\n                  value={editingProduct.subtitle}\n                  onChange={(e) => setEditingProduct({ ...editingProduct, subtitle: e.target.value })}\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Price</label>\n                <input\n                  type=\"number\"\n                  value={editingProduct.price}\n                  onChange={(e) => setEditingProduct({ ...editingProduct, price: parseFloat(e.target.value) })}\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Category</label>\n                <select\n                  value={editingProduct.category}\n                  onChange={(e) => setEditingProduct({ ...editingProduct, category: e.target.value })}\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                >\n                  <option value=\"Men\">Men</option>\n                  <option value=\"Women\">Women</option>\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Description</label>\n                <textarea\n                  value={(editingProduct as any).description || ''}\n                  onChange={(e) => setEditingProduct({ ...editingProduct, ...(editingProduct as any), description: e.target.value })}\n                  rows={3}\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none resize-none\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Model Size</label>\n                <input\n                  type=\"text\"\n                  value={(editingProduct as any).modelSize || ''}\n                  onChange={(e) => setEditingProduct({ ...editingProduct, ...(editingProduct as any), modelSize: e.target.value })}\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Model Height</label>\n                <input\n                  type=\"text\"\n                  value={(editingProduct as any).modelHeight || ''}\n                  onChange={(e) => setEditingProduct({ ...editingProduct, ...(editingProduct as any), modelHeight: e.target.value })}\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Delivery Info</label>\n                <input\n                  type=\"text\"\n                  value={(editingProduct as any).deliveryInfo || ''}\n                  onChange={(e) => setEditingProduct({ ...editingProduct, ...(editingProduct as any), deliveryInfo: e.target.value })}\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Returns Info</label>\n                <input\n                  type=\"text\"\n                  value={(editingProduct as any).returnsInfo || ''}\n                  onChange={(e) => setEditingProduct({ ...editingProduct, ...(editingProduct as any), returnsInfo: e.target.value })}\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Matching Set Slug</label>\n                <input\n                  type=\"text\"\n                  value={(editingProduct as any).matchingSetSlug || ''}\n                  onChange={(e) => setEditingProduct({ ...editingProduct, ...(editingProduct as any), matchingSetSlug: e.target.value })}\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                />\n              </div>\n            </div>\n\n            <div className=\"flex gap-4 mt-8\">\n              <button\n                onClick={() => setEditingProduct(null)}\n                className=\"flex-1 py-3 border border-white/[0.1] rounded-xl hover:bg-white/[0.03] transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={() => updateProductDetails(editingProduct)}\n                className=\"btn-premium flex-1 py-3 bg-white text-black rounded-xl hover:bg-white/90 transition-colors font-bold\"\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Bulk Delete Confirmation Modal */}\n      {showBulkDeleteConfirm && (\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n          <div className=\"modal-panel bg-neutral-950 border border-white/[0.08] rounded-2xl p-8 w-full max-w-md\">\n            <h3 className=\"text-2xl font-bebas tracking-wider mb-4 text-red-400\">\n              Archive {selectedProducts.length} Products?\n            </h3>\n            <p className=\"text-white/40 mb-6\">Products will be hidden but preserved for order history.</p>\n\n            <div className=\"flex gap-4\">\n              <button\n                onClick={() => setShowBulkDeleteConfirm(false)}\n                className=\"flex-1 py-3 border border-white/[0.1] rounded-xl hover:bg-white/[0.03] transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={async () => {\n                  const now = new Date().toISOString();\n                  for (const id of selectedProducts) {\n                    try {\n                      await updateDoc(doc(db, 'products', id), {\n                        is_deleted: true,\n                        deleted_at: now,\n                        is_active: false,\n                        updated_at: now,\n                      });\n                    } catch (err) {\n                      console.error(err);\n                    }\n                  }\n                  logAdminAction('bulk_delete', { type: 'products', count: selectedProducts.length, soft: true }, getAdminEmail());\n                  setProducts(prev => prev.filter(p => !selectedProducts.includes(p.id)));\n                  setSelectedProducts([]);\n                  setShowBulkDeleteConfirm(false);\n                }}\n                className=\"flex-1 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors font-bold\"\n              >\n                Archive\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Add Product Modal */}\n      {showAddProduct && (\n        <div className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4\">\n          <div className=\"modal-panel bg-neutral-950 border border-white/[0.08] rounded-2xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <h3 className=\"text-2xl font-bebas tracking-wider mb-6\">Add New Product</h3>\n\n            {addError && (\n              <div className=\"mb-4 p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-400 text-sm\">\n                {addError}\n              </div>\n            )}\n\n            <div className=\"space-y-4\">\n              {/* Category & Type */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Category</label>\n                  <select\n                    value={newProduct.category}\n                    onChange={(e) => setNewProduct({ ...newProduct, category: e.target.value })}\n                    className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                  >\n                    <option value=\"Men\">Men</option>\n                    <option value=\"Women\">Women</option>\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Type</label>\n                  <select\n                    value={newProduct.productType}\n                    onChange={(e) => setNewProduct({ ...newProduct, productType: e.target.value })}\n                    className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                  >\n                    <option value=\"Tops\">Tops</option>\n                    <option value=\"Bottoms\">Bottoms</option>\n                    <option value=\"Outerwear\">Outerwear</option>\n                    <option value=\"Leggings\">Leggings</option>\n                    <option value=\"Shorts\">Shorts</option>\n                    <option value=\"Hoodies\">Hoodies</option>\n                    <option value=\"T-Shirts\">T-Shirts</option>\n                    <option value=\"Tank Tops\">Tank Tops</option>\n                  </select>\n                </div>\n              </div>\n\n              {/* Slug */}\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Slug *</label>\n                <input\n                  type=\"text\"\n                  value={newProduct.slug}\n                  onChange={(e) => setNewProduct({ ...newProduct, slug: e.target.value })}\n                  placeholder=\"heavy-hoodie\"\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                />\n                <p className=\"text-white/20 text-xs mt-1\">/products/your-slug</p>\n              </div>\n\n              {/* Title */}\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Title *</label>\n                <input\n                  type=\"text\"\n                  value={newProduct.title}\n                  onChange={(e) => setNewProduct({ ...newProduct, title: e.target.value })}\n                  placeholder=\"Heavy Hoodie\"\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                />\n              </div>\n\n              {/* Subtitle */}\n              <div>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Subtitle</label>\n                <input\n                  type=\"text\"\n                  value={newProduct.subtitle}\n                  onChange={(e) => setNewProduct({ ...newProduct, subtitle: e.target.value })}\n                  className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                />\n              </div>\n\n              {/* Price & Display Order */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Price *</label>\n                  <input\n                    type=\"number\"\n                    value={newProduct.price || ''}\n                    onChange={(e) => setNewProduct({ ...newProduct, price: parseFloat(e.target.value) || 0 })}\n                    className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                    Display Position\n                  </label>\n                  <input\n                    type=\"number\"\n                    min={1}\n                    value={newProduct.displayOrder || ''}\n                    onChange={(e) => setNewProduct({ ...newProduct, displayOrder: parseInt(e.target.value) || 1 })}\n                    className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                  />\n                </div>\n              </div>\n\n              {/* Details Section */}\n              <div className=\"border-t border-white/[0.06] pt-4 mt-4\">\n                <h4 className=\"text-sm font-medium text-white/40 mb-4\">Details</h4>\n\n                <div className=\"space-y-4\">\n                  {/* Description */}\n                  <div>\n                    <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">Description</label>\n                    <textarea\n                      value={newProduct.description}\n                      onChange={(e) => setNewProduct({ ...newProduct, description: e.target.value })}\n                      rows={3}\n                      className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none resize-none\"\n                    />\n                  </div>\n\n                  {/* Features */}\n                  <div>\n                    <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                      Features (one per line)\n                    </label>\n                    <textarea\n                      value={newProduct.features.join('\\n')}\n                      onChange={(e) =>\n                        setNewProduct({\n                          ...newProduct,\n                          features: e.target.value.split('\\n').filter(f => f.trim())\n                        })\n                      }\n                      rows={3}\n                      className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none resize-none\"\n                    />\n                  </div>\n\n                  {/* Model Size & Height */}\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                        Model Size\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newProduct.modelSize}\n                        onChange={(e) => setNewProduct({ ...newProduct, modelSize: e.target.value })}\n                        className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                        Model Height\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={newProduct.modelHeight}\n                        onChange={(e) => setNewProduct({ ...newProduct, modelHeight: e.target.value })}\n                        className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                      />\n                    </div>\n                  </div>\n\n                  {/* Matching Set Slug */}\n                  <div>\n                    <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                      Matching Set Slug\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newProduct.matchingSetSlug}\n                      onChange={(e) => setNewProduct({ ...newProduct, matchingSetSlug: e.target.value })}\n                      className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                    />\n                  </div>\n\n                  {/* Delivery Info */}\n                  <div>\n                    <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                      Delivery Info\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newProduct.deliveryInfo}\n                      onChange={(e) => setNewProduct({ ...newProduct, deliveryInfo: e.target.value })}\n                      className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                    />\n                  </div>\n\n                  {/* Returns Info */}\n                  <div>\n                    <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                      Returns Info\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={newProduct.returnsInfo}\n                      onChange={(e) => setNewProduct({ ...newProduct, returnsInfo: e.target.value })}\n                      className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Stock by Size (No Colors) */}\n              {newProduct.colors.length === 0 && (\n                <div className=\"border-t border-white/[0.06] pt-4\">\n                  <h4 className=\"text-sm font-medium text-white/40 mb-4\">Stock by Size</h4>\n                  <div className=\"grid grid-cols-6 gap-3\">\n                    {['XS', 'S', 'M', 'L', 'XL', 'XXL'].map(size => (\n                      <div key={size}>\n                        <label className=\"block text-[10px] text-white/25 text-center mb-1\">{size}</label>\n                        <input\n                          type=\"number\"\n                          min={0}\n                          value={newProduct.stock[size as keyof typeof newProduct.stock] || 0}\n                          onChange={(e) => {\n                            const s = { ...newProduct.stock };\n                            s[size as keyof typeof s] = parseInt(e.target.value) || 0;\n                            setNewProduct({ ...newProduct, stock: s });\n                          }}\n                          className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-lg px-2 py-2 text-center text-sm focus:outline-none\"\n                        />\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Colors Section */}\n              <div className=\"border-t border-white/[0.06] pt-4\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h4 className=\"text-sm font-medium text-white/40\">Colors</h4>\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      const names = ['Black', 'White', 'Navy', 'Gray', 'Red', 'Blue', 'Green'];\n                      setNewProduct({\n                        ...newProduct,\n                        colors: [\n                          ...newProduct.colors,\n                          {\n                            name: names[newProduct.colors.length] || `Color ${newProduct.colors.length + 1}`,\n                            hex: '#000000',\n                            images: [],\n                            stock: { XS: 0, S: 0, M: 0, L: 0, XL: 0, XXL: 0 }\n                          }\n                        ]\n                      });\n                      setActiveColorIndex(newProduct.colors.length);\n                    }}\n                    className=\"px-3 py-1 bg-white/[0.06] text-xs rounded-lg hover:bg-white/[0.1] transition-colors\"\n                  >\n                    + Add Color\n                  </button>\n                </div>\n\n                {newProduct.colors.length === 0 ? (\n                  <p className=\"text-white/25 text-sm\">No colors. Add to manage variants.</p>\n                ) : (\n                  <>\n                    {/* Color Tabs */}\n                    <div className=\"flex gap-2 flex-wrap mb-4\">\n                      {newProduct.colors.map((c, idx) => (\n                        <button\n                          key={idx}\n                          onClick={() => setActiveColorIndex(idx)}\n                          className={`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-all ${\n                            activeColorIndex === idx\n                              ? 'bg-white/[0.12] border border-white/30'\n                              : 'bg-white/[0.04] border border-transparent hover:bg-white/[0.08]'\n                          }`}\n                        >\n                          <div\n                            className=\"w-3 h-3 rounded-full border border-white/20\"\n                            style={{ backgroundColor: c.hex }}\n                          />\n                          <span>{c.name}</span>\n                        </button>\n                      ))}\n                    </div>\n\n                    {/* Active Color Editor */}\n                    {newProduct.colors[activeColorIndex] && (\n                      <div className=\"p-4 bg-white/[0.03] rounded-xl space-y-4\">\n                        {/* Color Name & Hex */}\n                        <div className=\"grid grid-cols-2 gap-4\">\n                          <div>\n                            <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                              Name\n                            </label>\n                            <input\n                              type=\"text\"\n                              value={newProduct.colors[activeColorIndex].name}\n                              onChange={(e) => {\n                                const c = [...newProduct.colors];\n                                c[activeColorIndex].name = e.target.value;\n                                setNewProduct({ ...newProduct, colors: c });\n                              }}\n                              className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                            />\n                          </div>\n                          <div>\n                            <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                              Hex\n                            </label>\n                            <div className=\"flex gap-2\">\n                              <input\n                                type=\"color\"\n                                value={newProduct.colors[activeColorIndex].hex}\n                                onChange={(e) => {\n                                  const c = [...newProduct.colors];\n                                  c[activeColorIndex].hex = e.target.value;\n                                  setNewProduct({ ...newProduct, colors: c });\n                                }}\n                                className=\"w-12 h-12 bg-transparent border border-white/20 rounded cursor-pointer\"\n                              />\n                              <input\n                                type=\"text\"\n                                value={newProduct.colors[activeColorIndex].hex}\n                                onChange={(e) => {\n                                  const c = [...newProduct.colors];\n                                  c[activeColorIndex].hex = e.target.value;\n                                  setNewProduct({ ...newProduct, colors: c });\n                                }}\n                                className=\"input-premium flex-1 bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none uppercase\"\n                              />\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Color Images */}\n                        <div>\n                          <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                            Images\n                          </label>\n                          <div className=\"flex gap-2 flex-wrap mb-2\">\n                            {newProduct.colors[activeColorIndex].images.map((img, i) => (\n                              <div key={i} className=\"relative w-16 h-16\">\n                                <Image\n                                  src={img}\n                                  alt=\"\"\n                                  fill\n                                  className=\"object-cover rounded-lg\"\n                                  sizes=\"64px\"\n                                />\n                                <button\n                                  onClick={() => {\n                                    const c = [...newProduct.colors];\n                                    c[activeColorIndex].images = c[activeColorIndex].images.filter(\n                                      (_, idx) => idx !== i\n                                    );\n                                    setNewProduct({ ...newProduct, colors: c });\n                                  }}\n                                  className=\"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center\"\n                                >\n                                  ×\n                                </button>\n                              </div>\n                            ))}\n                          </div>\n                          <input\n                            type=\"file\"\n                            multiple\n                            accept=\"image/*\"\n                            onChange={async (e) => {\n                              if (!e.target.files) return;\n                              setUploadingImages(true);\n                              const urls: string[] = [];\n\n                              for (const f of Array.from(e.target.files)) {\n                                try {\n                                  const sr = ref(storage, `products/${Date.now()}_${f.name}`);\n                                  await uploadBytes(sr, f);\n                                  urls.push(await getDownloadURL(sr));\n                                } catch (err) {\n                                  console.error(err);\n                                }\n                              }\n\n                              const c = [...newProduct.colors];\n                              c[activeColorIndex].images = [\n                                ...c[activeColorIndex].images,\n                                ...urls\n                              ];\n                              setNewProduct({ ...newProduct, colors: c });\n                              setUploadingImages(false);\n                            }}\n                            className=\"text-sm text-white/40\"\n                          />\n                        </div>\n\n                        {/* Color Stock */}\n                        <div>\n                          <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                            Stock\n                          </label>\n                          <div className=\"grid grid-cols-6 gap-2\">\n                            {['XS', 'S', 'M', 'L', 'XL', 'XXL'].map(size => (\n                              <div key={size}>\n                                <label className=\"block text-[10px] text-white/25 text-center mb-1\">{size}</label>\n                                <input\n                                  type=\"number\"\n                                  min={0}\n                                  value={\n                                    newProduct.colors[activeColorIndex].stock[\n                                      size as keyof typeof newProduct.colors[0]['stock']\n                                    ]\n                                  }\n                                  onChange={(e) => {\n                                    const c = [...newProduct.colors];\n                                    c[activeColorIndex].stock[\n                                      size as keyof typeof newProduct.colors[0]['stock']\n                                    ] = parseInt(e.target.value) || 0;\n                                    setNewProduct({ ...newProduct, colors: c });\n                                  }}\n                                  className=\"w-full bg-black/50 border border-white/[0.1] rounded-lg px-2 py-2 text-center text-sm focus:outline-none\"\n                                />\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n\n                        {/* Remove Color Button */}\n                        <button\n                          onClick={() => {\n                            setNewProduct({\n                              ...newProduct,\n                              colors: newProduct.colors.filter((_, i) => i !== activeColorIndex)\n                            });\n                            setActiveColorIndex(Math.max(0, activeColorIndex - 1));\n                          }}\n                          className=\"text-red-400 text-xs hover:text-red-300\"\n                        >\n                          Remove color\n                        </button>\n                      </div>\n                    )}\n                  </>\n                )}\n              </div>\n\n              {/* Image Upload (Disabled if colors) */}\n              <div className={newProduct.colors.length > 0 ? 'opacity-30 pointer-events-none' : ''}>\n                <label className=\"block text-[10px] uppercase tracking-widest text-white/25 mb-2\">\n                  Images {newProduct.colors.length > 0 && '(use color images)'}\n                </label>\n\n                {/* Drag & Drop Zone */}\n                <div\n                  onDragEnter={handleDrag}\n                  onDragLeave={handleDrag}\n                  onDragOver={handleDrag}\n                  onDrop={handleDrop}\n                  className={`border-2 border-dashed rounded-xl p-8 text-center transition-all ${\n                    dragActive ? 'border-white bg-white/[0.03]' : 'border-white/[0.1] hover:border-white/20'\n                  }`}\n                >\n                  <p className=\"text-white/30 text-sm mb-2\">Drag & drop images here</p>\n                  <input\n                    type=\"file\"\n                    multiple\n                    accept=\"image/png,image/jpeg\"\n                    onChange={handleFileSelect}\n                    className=\"hidden\"\n                    id=\"img-upload\"\n                  />\n                  <label\n                    htmlFor=\"img-upload\"\n                    className=\"inline-block px-4 py-2 bg-white/[0.06] rounded-lg text-sm cursor-pointer hover:bg-white/[0.1] transition-colors\"\n                  >\n                    Select Images\n                  </label>\n                </div>\n\n                {/* Uploading State */}\n                {uploadingImages && (\n                  <div className=\"mt-3 flex items-center gap-2 text-white/40 text-sm\">\n                    <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                    Uploading...\n                  </div>\n                )}\n\n                {/* Uploaded Images Preview */}\n                {newProduct.images.length > 0 && (\n                  <div className=\"mt-4 flex gap-3 flex-wrap\">\n                    {newProduct.images.map((url, i) => (\n                      <div key={i} className=\"relative group w-20 h-20\">\n                        <Image\n                          src={url}\n                          alt=\"\"\n                          fill\n                          className=\"object-cover rounded-lg border border-white/[0.1]\"\n                          sizes=\"80px\"\n                        />\n                        <button\n                          onClick={() => removeImage(i)}\n                          className=\"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full text-white text-xs flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\"\n                        >\n                          ✕\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* URL Paste Option */}\n                <div className=\"mt-4 pt-4 border-t border-white/[0.06]\">\n                  <p className=\"text-white/20 text-xs mb-2\">Or paste URL:</p>\n                  <input\n                    type=\"text\"\n                    value={newProduct.imageUrl}\n                    onChange={(e) => setNewProduct({ ...newProduct, imageUrl: e.target.value })}\n                    className=\"input-premium w-full bg-black/50 border border-white/[0.1] rounded-xl px-4 py-3 focus:outline-none\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Modal Actions */}\n            <div className=\"flex gap-4 mt-8\">\n              <button\n                onClick={() => {\n                  setShowAddProduct(false);\n                  setAddError('');\n                }}\n                disabled={isAdding}\n                className=\"flex-1 py-3 border border-white/[0.1] rounded-xl hover:bg-white/[0.03] transition-colors disabled:opacity-50\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={addProduct}\n                disabled={isAdding}\n                className=\"btn-premium flex-1 py-3 bg-white text-black rounded-xl hover:bg-white/90 transition-colors font-bold disabled:opacity-50 flex items-center justify-center gap-2\"\n              >\n                {isAdding ? (\n                  <>\n                    <div className=\"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin\" />\n                    Adding...\n                  </>\n                ) : (\n                  'Add Product'\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}
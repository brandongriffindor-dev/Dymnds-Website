(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,92953,97427,8070,83877,e=>{"use strict";let t,n,r;var i,s,a=e.i(47167);let o=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},u=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{let s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,u=o?e[t+2]:0,l=i>>2,c=(3&i)<<4|a>>4,d=(15&a)<<2|u>>6,h=63&u;!o&&(h=64,s||(d=64)),r.push(n[l],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):u(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0,a=++t<e.length?n[e.charAt(t)]:64,o=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==o)throw new c;let u=i<<2|s>>4;if(r.push(u),64!==a){let e=s<<4&240|a>>2;if(r.push(e),64!==o){let e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class c extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let d=function(e){let t=o(e);return l.encodeByteArray(t,!0)},h=function(e){return d(e).replace(/\./g,"")},f=function(e){try{return l.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function m(){return"u">typeof self?self:"u">typeof window?window:e.g}let p=()=>{try{return m().__FIREBASE_DEFAULTS__||(()=>{if(void 0===a.default||void 0===a.default.env)return;let e=a.default.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)})()||(()=>{let e;if("u"<typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&f(e[1]);return t&&JSON.parse(t)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},g=e=>p()?.emulatorHosts?.[e],v=e=>{let t=g(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},y=()=>p()?.config,_=e=>p()?.[`_${e}`];class b{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function w(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I(e){return(await fetch(e,{credentials:"include"})).ok}function x(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[h(JSON.stringify({alg:"none",type:"JWT"})),h(JSON.stringify(s)),""].join(".")}let S={},k=!1;function E(e,t){if("u"<typeof window||"u"<typeof document||!w(window.location.host)||S[e]===t||S[e]||k)return;function n(e){return`__firebase__banner__${e}`}S[e]=t;let r="__firebase__banner",i=function(){let e={prod:[],emulator:[]};for(let t of Object.keys(S))S[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){let e,t,s=(e=document.getElementById(r),t=!1,e||((e=document.createElement("div")).setAttribute("id",r),t=!0),{created:t,element:e}),a=n("text"),o=document.getElementById(a)||document.createElement("span"),u=n("learnmore"),l=document.getElementById(u)||document.createElement("a"),c=n("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(s.created){let e,t=s.element;t.style.display="flex",t.style.background="#7faaf0",t.style.position="fixed",t.style.bottom="5px",t.style.left="5px",t.style.padding=".5em",t.style.borderRadius="5px",t.style.alignItems="center",l.setAttribute("id",u),l.innerText="Learn more",l.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",l.setAttribute("target","__blank"),l.style.paddingLeft="5px",l.style.textDecoration="underline";let n=((e=document.createElement("span")).style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{let e;k=!0,(e=document.getElementById(r))&&e.remove()},e);d.setAttribute("width","24"),d.setAttribute("id",c),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px",t.append(d,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",d.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(d.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,o.innerText="Preview backend running in this workspace."),o.setAttribute("id",a)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function $(){return"u">typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function T(){return"u">typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($())}function A(){let t=p()?.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(e.g.process)}catch(e){return!1}}function C(){return"u">typeof window||D()}function D(){return"u">typeof WorkerGlobalScope&&"u">typeof self&&self instanceof WorkerGlobalScope}function N(){return"u">typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function O(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function P(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function R(){let e=$();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function U(){return!A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L(){return!A()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function z(){try{return"object"==typeof indexedDB}catch(e){return!1}}function M(){return new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(e){t(e)}})}class F extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,F.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){var n,r;let i=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?(n=a,r=i,n.replace(V,(e,t)=>{let n=r[t];return null!=n?String(n):`<${t}?>`})):"Error",u=`${this.serviceName}: ${o} (${s}).`;return new F(s,u,i)}}let V=/\{\$([^}]+)}/g;function B(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Z(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],s=t[i];if(q(n)&&q(s)){if(!Z(n,s))return!1}else if(n!==s)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function q(e){return null!==e&&"object"==typeof e}function K(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function G(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function J(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function W(e,t){let n=new H(e,t);return n.subscribe.bind(n)}class H{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=Q),void 0===r.error&&(r.error=Q),void 0===r.complete&&(r.complete=Q);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"u">typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q(){}function X(e){return e&&e._delegate?e._delegate:e}e.s(["Deferred",()=>b,"ErrorFactory",()=>j,"FirebaseError",()=>F,"base64Decode",()=>f,"base64urlEncodeWithoutPadding",()=>h,"createMockUserToken",()=>x,"createSubscribe",()=>W,"deepEqual",()=>Z,"extractQuerystring",()=>J,"getDefaultAppConfig",()=>y,"getDefaultEmulatorHost",()=>g,"getDefaultEmulatorHostnameAndPort",()=>v,"getExperimentalSetting",()=>_,"getGlobal",()=>m,"getModularInstance",()=>X,"getUA",()=>$,"isBrowser",()=>C,"isBrowserExtension",()=>O,"isCloudWorkstation",()=>w,"isCloudflareWorker",()=>N,"isEmpty",()=>B,"isIE",()=>R,"isIndexedDBAvailable",()=>z,"isMobileCordova",()=>T,"isReactNative",()=>P,"isSafari",()=>U,"isSafariOrWebkit",()=>L,"isWebWorker",()=>D,"pingServer",()=>I,"querystring",()=>K,"querystringDecode",()=>G,"updateEmulatorBanner",()=>E,"validateIndexedDBOpenable",()=>M],97427);class Y{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let ee="[DEFAULT]";class et{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new b;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}if(n)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ee})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=ee){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=ee){return this.instances.has(e)}getOptions(e=ee){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){var n;let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===ee?void 0:n,options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ee){return this.component?this.component.multipleInstances?e:ee:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class en{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new et(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}e.s(["Component",()=>Y,"ComponentContainer",()=>en],8070);let er=[];(i=s||(s={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";let ei={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},es=s.INFO,ea={[s.DEBUG]:"log",[s.VERBOSE]:"log",[s.INFO]:"info",[s.WARN]:"warn",[s.ERROR]:"error"},eo=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=ea[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class eu{constructor(e){this.name=e,this._logLevel=es,this._logHandler=eo,this._userLogHandler=null,er.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in s))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ei[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,s.DEBUG,...e),this._logHandler(this,s.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,s.VERBOSE,...e),this._logHandler(this,s.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,s.INFO,...e),this._logHandler(this,s.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,s.WARN,...e),this._logHandler(this,s.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,s.ERROR,...e),this._logHandler(this,s.ERROR,...e)}}function el(e){er.forEach(t=>{t.setLogLevel(e)})}function ec(e,t){for(let n of er){let r=null;t&&t.level&&(r=ei[t.level]),null===e?n.userLogHandler=null:n.userLogHandler=(t,n,...i)=>{let a=i.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");n>=(r??t.logLevel)&&e({level:s[n].toLowerCase(),message:a,args:i,type:t.name})}}}e.s(["LogLevel",()=>s,"Logger",()=>eu,"setLogLevel",()=>el,"setUserLogHandler",()=>ec],83877);let ed=new WeakMap,eh=new WeakMap,ef=new WeakMap,em=new WeakMap,ep=new WeakMap,eg={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return eh.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ef.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ev(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ev(e){if(e instanceof IDBRequest){let t;return(t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ev(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)})).then(t=>{t instanceof IDBCursor&&ed.set(t,e)}).catch(()=>{}),ep.set(t,e),t}if(em.has(e))return em.get(e);let r=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(n||(n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(ey(this),t),ev(ed.get(this))}:function(...t){return ev(e.apply(ey(this),t))}:function(t,...n){let r=e.call(ey(this),t,...n);return ef.set(r,t.sort?t.sort():[t]),ev(r)};return e instanceof IDBTransaction&&function(e){if(eh.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});eh.set(e,t)}(e),(t||(t=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(t=>e instanceof t)?new Proxy(e,eg):e}(e);return r!==e&&(em.set(e,r),ep.set(r,e)),r}let ey=e=>ep.get(e),e_=["get","getKey","getAll","getAllKeys","count"],eb=["put","add","delete","clear"],ew=new Map;function eI(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(ew.get(t))return ew.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=eb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||e_.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return ew.set(t,s),s}eg={...r=eg,get:(e,t,n)=>eI(e,t)||r.get(e,t,n),has:(e,t)=>!!eI(e,t)||r.has(e,t)};class ex{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{let t;if(t=e.getComponent(),t?.type!=="VERSION")return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}let eS="@firebase/app",ek="0.14.7",eE=new eu("@firebase/app"),e$="[DEFAULT]",eT={[eS]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},eA=new Map,eC=new Map,eD=new Map;function eN(e,t){try{e.container.addComponent(t)}catch(n){eE.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function eO(e,t){e.container.addOrOverwriteComponent(t)}function eP(e){let t=e.name;if(eD.has(t))return eE.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(eD.set(t,e),eA.values()))eN(n,e);for(let t of eC.values())eN(t,e);return!0}function eR(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function eU(e,t,n=e$){eR(e,t).clearInstance(n)}function eL(e){return void 0!==e.options}function ez(e){return!eL(e)&&("authIdToken"in e||"appCheckToken"in e||"releaseOnDeref"in e||"automaticDataCollectionEnabled"in e)}function eM(e){return null!=e&&void 0!==e.settings}function eF(){eD.clear()}let ej=new j("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class eV{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Y("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ej.create("app-deleted",{appName:this._name})}}function eB(e,t){let n=f(e.split(".")[1]);null===n?console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`):void 0===JSON.parse(n).exp?console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`):1e3*JSON.parse(n).exp-new Date().getTime()<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}class eZ extends eV{constructor(e,t,n,r){const i=void 0===t.automaticDataCollectionEnabled||t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};void 0!==e.apiKey?super(e,s,r):super(e.options,s,r),this._serverConfig={automaticDataCollectionEnabled:i,...t},this._serverConfig.authIdToken&&eB(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&eB(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"u">typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,eH(eS,ek,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){eW(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ej.create("server-app-deleted")}}function eq(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r={name:e$,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!=typeof i||!i)throw ej.create("bad-app-name",{appName:String(i)});if(n||(n=y()),!n)throw ej.create("no-options");let s=eA.get(i);if(s)if(Z(n,s.options)&&Z(r,s.config))return s;else throw ej.create("duplicate-app",{appName:i});let a=new en(i);for(let e of eD.values())a.addComponent(e);let o=new eV(n,r,a);return eA.set(i,o),o}function eK(e,t={}){let n;if(C()&&!D())throw ej.create("invalid-server-app-environment");let r=t||{};if(e&&(eL(e)?n=e.options:ez(e)?r=e:n=e),void 0===r.automaticDataCollectionEnabled&&(r.automaticDataCollectionEnabled=!0),n||(n=y()),!n)throw ej.create("no-options");let i={...r,...n};if(void 0!==i.releaseOnDeref&&delete i.releaseOnDeref,void 0!==r.releaseOnDeref&&"u"<typeof FinalizationRegistry)throw ej.create("finalization-registry-not-supported",{});let s=""+[...JSON.stringify(i)].reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0),a=eC.get(s);if(a)return a.incRefCount(r.releaseOnDeref),a;let o=new en(s);for(let e of eD.values())o.addComponent(e);let u=new eZ(n,r,s,o);return eC.set(s,u),u}function eG(e=e$){let t=eA.get(e);if(!t&&e===e$&&y())return eq();if(!t)throw ej.create("no-app",{appName:e});return t}function eJ(){return Array.from(eA.values())}async function eW(e){let t=!1,n=e.name;eA.has(n)?(t=!0,eA.delete(n)):eC.has(n)&&0>=e.decRefCount()&&(eC.delete(n),t=!0),t&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function eH(e,t,n){let r=eT[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),eE.warn(e.join(" "));return}eP(new Y(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}function eQ(e,t){if(null!==e&&"function"!=typeof e)throw ej.create("invalid-log-argument");ec(e,t)}function eX(e){el(e)}let eY="firebase-heartbeat-store",e0=null;function e1(){return e0||(e0=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(e,1),o=ev(a);return r&&a.addEventListener("upgradeneeded",e=>{r(ev(a.result),e.oldVersion,e.newVersion,ev(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(eY)}catch(e){console.warn(e)}}}).catch(e=>{throw ej.create("idb-open",{originalErrorMessage:e.message})})),e0}async function e6(e){try{let t=(await e1()).transaction(eY),n=await t.objectStore(eY).get(e2(e));return await t.done,n}catch(e){if(e instanceof F)eE.warn(e.message);else{let t=ej.create("idb-get",{originalErrorMessage:e?.message});eE.warn(t.message)}}}async function e4(e,t){try{let n=(await e1()).transaction(eY,"readwrite"),r=n.objectStore(eY);await r.put(t,e2(e)),await n.done}catch(e){if(e instanceof F)eE.warn(e.message);else{let t=ej.create("idb-set",{originalErrorMessage:e?.message});eE.warn(t.message)}}}function e2(e){return`${e.name}!${e.options.appId}`}class e3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new e8(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=e5();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){eE.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let e=e5(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),e9(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),e9(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=h(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return eE.warn(e),""}}}function e5(){return new Date().toISOString().substring(0,10)}class e8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!z()&&M().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await e6(this.app);return e?.heartbeats?e:{heartbeats:[]}}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return e4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return e4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function e9(e){return h(JSON.stringify({version:2,heartbeats:e})).length}eP(new Y("platform-logger",e=>new ex(e),"PRIVATE")),eP(new Y("heartbeat",e=>new e3(e),"PRIVATE")),eH(eS,ek,""),eH(eS,ek,"esm2020"),eH("fire-js",""),e.s(["SDK_VERSION",()=>"12.8.0","_DEFAULT_ENTRY_NAME",()=>e$,"_addComponent",()=>eN,"_addOrOverwriteComponent",()=>eO,"_apps",()=>eA,"_clearComponents",()=>eF,"_components",()=>eD,"_getProvider",()=>eR,"_isFirebaseApp",()=>eL,"_isFirebaseServerApp",()=>eM,"_isFirebaseServerAppSettings",()=>ez,"_registerComponent",()=>eP,"_removeServiceInstance",()=>eU,"_serverApps",()=>eC,"deleteApp",()=>eW,"getApp",()=>eG,"getApps",()=>eJ,"initializeApp",()=>eq,"initializeServerApp",()=>eK,"onLog",()=>eQ,"registerVersion",()=>eH,"setLogLevel",()=>eX],92953)},14539,76510,e=>{"use strict";var t=e.i(92953);(0,t.registerVersion)("firebase","12.8.0","app"),e.s([],14539),e.i(97427),e.s(["getApp",()=>t.getApp,"getApps",()=>t.getApps,"initializeApp",()=>t.initializeApp],76510)},57960,(e,t,n)=>{var r={675:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,s=u(e),a=s[0],o=s[1],l=new i((a+o)*3/4-o),c=0,d=o>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;return 2===o&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t),1===o&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],a=0,o=r-i;a<o;a+=16383)s.push(function(e,t,r){for(var i,s=[],a=t;a<r;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}(e,a,a+16383>o?o:a+16383));return 1===i?s.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&s.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),s.join("")};for(var n=[],r=[],i="u">typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,o=s.length;a<o;++a)n[a]=s[a],r[s.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r[45]=62,r[95]=63},72:function(e,t,n){"use strict";var r=n(675),i=n(783),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e){var r=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!o.isEncoding(i))throw TypeError("Unknown encoding: "+i);var s=0|f(r,i),u=a(s),l=u.write(r,i);return l!==s&&(u=u.slice(0,l)),u}if(ArrayBuffer.isView(e))return d(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(A(e,ArrayBuffer)||e&&A(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(A(e,SharedArrayBuffer)||e&&A(e.buffer,SharedArrayBuffer)))return function(e,t,n){var r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),o.prototype),r}(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return o.from(c,t,n);var m=function(e){if(o.isBuffer(e)){var t=0|h(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(m)return m;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),a(e<0?0:0|h(e))}function d(e){for(var t=e.length<0?0:0|h(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,o.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!o.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,n){return(l(e),e<=0)?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)};function h(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||A(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(i)return r?-1:k(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var i,s,a,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",s=t;s<n;++s)i+=C[e[s]];return i}(this,t,n);case"utf8":case"utf-8":return y(this,t,n);case"ascii":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}(this,t,n);case"base64":return i=this,s=t,a=n,0===s&&a===i.length?r.fromByteArray(i):r.fromByteArray(i.slice(s,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){for(var r=e.slice(t,n),i="",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}(this,t,n);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function p(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){var s;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>0x7fffffff?n=0x7fffffff:n<-0x80000000&&(n=-0x80000000),(s=n*=1)!=s&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length)if(i)return -1;else n=e.length-1;else if(n<0)if(!i)return -1;else n=0;if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,n);else return Uint8Array.prototype.lastIndexOf.call(e,t,n);return v(e,[t],n,r,i)}throw TypeError("val must be string, number or Buffer")}function v(e,t,n,r,i){var s,a=1,o=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;a=2,o/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(s=n;s<o;s++)if(l(e,s)===l(t,-1===c?0:s-c)){if(-1===c&&(c=s),s-c+1===u)return c*a}else -1!==c&&(s-=s-c),c=-1}else for(n+u>o&&(n=o-u),s=n;s>=0;s--){for(var d=!0,h=0;h<u;h++)if(l(e,s+h)!==l(t,h)){d=!1;break}if(d)return s}return -1}o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(A(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),A(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:+(r<n)},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;var n,r=o.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(A(s,Uint8Array)&&(s=o.from(s)),!o.isBuffer(s))throw TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},o.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},s&&(o.prototype[s]=o.prototype.inspect),o.prototype.compare=function(e,t,n,r,i){if(A(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var s=i-r,a=n-t,u=Math.min(s,a),l=this.slice(r,i),c=e.slice(t,n),d=0;d<u;++d)if(l[d]!==c[d]){s=l[d],a=c[d];break}return s<a?-1:+(a<s)},o.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)};function y(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var s,a,o,u,l=e[i],c=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(c=l);break;case 2:(192&(s=e[i+1]))==128&&(u=(31&l)<<6|63&s)>127&&(c=u);break;case 3:s=e[i+1],a=e[i+2],(192&s)==128&&(192&a)==128&&(u=(15&l)<<12|(63&s)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:s=e[i+1],a=e[i+2],o=e[i+3],(192&s)==128&&(192&a)==128&&(192&o)==128&&(u=(15&l)<<18|(63&s)<<12|(63&a)<<6|63&o)>65535&&u<1114112&&(c=u)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}var h=r,f=h.length;if(f<=4096)return String.fromCharCode.apply(String,h);for(var m="",p=0;p<f;)m+=String.fromCharCode.apply(String,h.slice(p,p+=4096));return m}function _(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function b(e,t,n,r,i,s){if(!o.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function w(e,t,n,r,i,s){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function I(e,t,n,r,s){return t*=1,n>>>=0,s||w(e,t,n,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,n,r,23,4),n+4}function x(e,t,n,r,s){return t*=1,n>>>=0,s||w(e,t,n,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,n,r,52,8),n+8}o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,s,a,o,u,l,c,d,h=this.length-t;if((void 0===n||n>h)&&(n=h),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var f=!1;;)switch(r){case"hex":return function(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=t.length;r>s/2&&(r=s/2);for(var a=0;a<r;++a){var o,u=parseInt(t.substr(2*a,2),16);if((o=u)!=o)break;e[n+a]=u}return a}(this,e,t,n);case"utf8":case"utf-8":return i=t,s=n,T(k(e,this.length-i),this,i,s);case"ascii":return a=t,o=n,T(E(e),this,a,o);case"latin1":case"binary":return function(e,t,n,r){return T(E(t),e,n,r)}(this,e,t,n);case"base64":return u=t,l=n,T($(e),this,u,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,d=n,T(function(e,t){for(var n,r,i=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i.push(n%256),i.push(r);return i}(e,this.length-c),this,c,d);default:if(f)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,o.prototype),r},o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r},o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);for(var r=this[e],i=1,s=0;++s<t&&(i*=256);)r+=this[e+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);for(var r=t,i=1,s=this[e+--r];r>0&&(i*=256);)s+=this[e+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return(e>>>=0,t||_(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||_(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?0xffff0000|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||_(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?0xffff0000|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;b(this,e,t,n,i,0)}var s=1,a=0;for(this[t]=255&e;++a<n&&(s*=256);)this[t+a]=e/s&255;return t+n},o.prototype.writeUIntBE=function(e,t,n,r){if(e*=1,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;b(this,e,t,n,i,0)}var s=n-1,a=1;for(this[t+s]=255&e;--s>=0&&(a*=256);)this[t+s]=e/a&255;return t+n},o.prototype.writeUInt8=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUInt16BE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUInt32LE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUInt32BE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeIntLE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var i=Math.pow(2,8*n-1);b(this,e,t,n,i-1,-i)}var s=0,a=1,o=0;for(this[t]=255&e;++s<n&&(a*=256);)e<0&&0===o&&0!==this[t+s-1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e*=1,t>>>=0,!r){var i=Math.pow(2,8*n-1);b(this,e,t,n,i-1,-i)}var s=n-1,a=1,o=0;for(this[t+s]=255&e;--s>=0&&(a*=256);)e<0&&0===o&&0!==this[t+s+1]&&(o=1),this[t+s]=(e/a|0)-o&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e*=1,t>>>=0,n||b(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return x(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return x(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var s=i-1;s>=0;--s)e[s+t]=this[s+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return i},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){var i,s=e.charCodeAt(0);("utf8"===r&&s<128||"latin1"===r)&&(e=s)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=o.isBuffer(e)?e:o.from(e,r),u=a.length;if(0===u)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=a[i%u]}return this};var S=/[^+/0-9A-Za-z-_]/g;function k(e,t){t=t||1/0;for(var n,r=e.length,i=null,s=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319||a+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return s}function E(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function $(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function T(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length)&&!(i>=e.length);++i)t[i+n]=e[i];return i}function A(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var C=function(){for(var e="0123456789abcdef",t=Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},783:function(e,t){t.read=function(e,t,n,r,i){var s,a,o=8*i-r-1,u=(1<<o)-1,l=u>>1,c=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-c)-1,f>>=-c,c+=o;c>0;s=256*s+e[t+d],d+=h,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=h,c-=8);if(0===s)s=1-l;else{if(s===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),s-=l}return(f?-1:1)*a*Math.pow(2,s-r)},t.write=function(e,t,n,r,i,s){var a,o,u,l=8*s-i-1,c=(1<<l)-1,d=c>>1,h=5960464477539062e-23*(23===i),f=r?0:s-1,m=r?1:-1,p=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(o=+!!isNaN(t),a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),a+d>=1?t+=h/u:t+=h*Math.pow(2,1-d),t*u>=2&&(a++,u/=2),a+d>=c?(o=0,a=c):a+d>=1?(o=(t*u-1)*Math.pow(2,i),a+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&o,f+=m,o/=256,i-=8);for(a=a<<i|o,l+=i;l>0;e[n+f]=255&a,f+=m,a/=256,l-=8);e[n+f-m]|=128*p}}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}},a=!0;try{r[e](n,n.exports,s),a=!1}finally{a&&delete i[e]}return n.exports}s.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=s(72)},36180,98925,e=>{"use strict";var t,n,r,i,s,a,o,u,l,c,d,h,f,m,p=e.i(92953),g=e.i(8070),v=e.i(47167),y=e.i(57960),_=e.i(97427),b="u">typeof globalThis?globalThis:"u">typeof window?window:e.g,w={};(function(){function e(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}var r=function(){this.blockSize=-1};function i(){}function s(e,t,n){n||(n=0);let r=Array(16);if("string"==typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s=e.g[3],a;a=t+(s^n&(i^s))+r[0]+0xd76aa478|0,a=s+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[1]+0xe8c7b756|0,a=i+(n^(s=t+(a<<12|a>>>20))&(t^n))+r[2]+0x242070db|0,a=n+(t^(i=s+(a<<17|a>>>15))&(s^t))+r[3]+0xc1bdceee|0,a=t+(s^(n=i+(a<<22|a>>>10))&(i^s))+r[4]+0xf57c0faf|0,a=s+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[5]+0x4787c62a|0,a=i+(n^(s=t+(a<<12|a>>>20))&(t^n))+r[6]+0xa8304613|0,a=n+(t^(i=s+(a<<17|a>>>15))&(s^t))+r[7]+0xfd469501|0,a=t+(s^(n=i+(a<<22|a>>>10))&(i^s))+r[8]+0x698098d8|0,a=s+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[9]+0x8b44f7af|0,a=i+(n^(s=t+(a<<12|a>>>20))&(t^n))+r[10]+0xffff5bb1|0,a=n+(t^(i=s+(a<<17|a>>>15))&(s^t))+r[11]+0x895cd7be|0,a=t+(s^(n=i+(a<<22|a>>>10))&(i^s))+r[12]+0x6b901122|0,a=s+(i^(t=n+(a<<7|a>>>25))&(n^i))+r[13]+0xfd987193|0,a=i+(n^(s=t+(a<<12|a>>>20))&(t^n))+r[14]+0xa679438e|0,a=n+(t^(i=s+(a<<17|a>>>15))&(s^t))+r[15]+0x49b40821|0,n=i+(a<<22|a>>>10),a=t+(i^s&(n^i))+r[1]+0xf61e2562|0,t=n+(a<<5|a>>>27),a=s+(n^i&(t^n))+r[6]+0xc040b340|0,s=t+(a<<9|a>>>23),a=i+(t^n&(s^t))+r[11]+0x265e5a51|0,i=s+(a<<14|a>>>18),a=n+(s^t&(i^s))+r[0]+0xe9b6c7aa|0,n=i+(a<<20|a>>>12),a=t+(i^s&(n^i))+r[5]+0xd62f105d|0,t=n+(a<<5|a>>>27),a=s+(n^i&(t^n))+r[10]+0x2441453|0,s=t+(a<<9|a>>>23),a=i+(t^n&(s^t))+r[15]+0xd8a1e681|0,i=s+(a<<14|a>>>18),a=n+(s^t&(i^s))+r[4]+0xe7d3fbc8|0,n=i+(a<<20|a>>>12),a=t+(i^s&(n^i))+r[9]+0x21e1cde6|0,t=n+(a<<5|a>>>27),a=s+(n^i&(t^n))+r[14]+0xc33707d6|0,s=t+(a<<9|a>>>23),a=i+(t^n&(s^t))+r[3]+0xf4d50d87|0,i=s+(a<<14|a>>>18),a=n+(s^t&(i^s))+r[8]+0x455a14ed|0,n=i+(a<<20|a>>>12),a=t+(i^s&(n^i))+r[13]+0xa9e3e905|0,t=n+(a<<5|a>>>27),a=s+(n^i&(t^n))+r[2]+0xfcefa3f8|0,s=t+(a<<9|a>>>23),a=i+(t^n&(s^t))+r[7]+0x676f02d9|0,i=s+(a<<14|a>>>18),a=n+(s^t&(i^s))+r[12]+0x8d2a4c8a|0,a=t+((n=i+(a<<20|a>>>12))^i^s)+r[5]+0xfffa3942|0,a=s+((t=n+(a<<4|a>>>28))^n^i)+r[8]+0x8771f681|0,a=i+((s=t+(a<<11|a>>>21))^t^n)+r[11]+0x6d9d6122|0,a=n+((i=s+(a<<16|a>>>16))^s^t)+r[14]+0xfde5380c|0,a=t+((n=i+(a<<23|a>>>9))^i^s)+r[1]+0xa4beea44|0,a=s+((t=n+(a<<4|a>>>28))^n^i)+r[4]+0x4bdecfa9|0,a=i+((s=t+(a<<11|a>>>21))^t^n)+r[7]+0xf6bb4b60|0,a=n+((i=s+(a<<16|a>>>16))^s^t)+r[10]+0xbebfbc70|0,a=t+((n=i+(a<<23|a>>>9))^i^s)+r[13]+0x289b7ec6|0,a=s+((t=n+(a<<4|a>>>28))^n^i)+r[0]+0xeaa127fa|0,a=i+((s=t+(a<<11|a>>>21))^t^n)+r[3]+0xd4ef3085|0,a=n+((i=s+(a<<16|a>>>16))^s^t)+r[6]+0x4881d05|0,a=t+((n=i+(a<<23|a>>>9))^i^s)+r[9]+0xd9d4d039|0,a=s+((t=n+(a<<4|a>>>28))^n^i)+r[12]+0xe6db99e5|0,a=i+((s=t+(a<<11|a>>>21))^t^n)+r[15]+0x1fa27cf8|0,a=n+((i=s+(a<<16|a>>>16))^s^t)+r[2]+0xc4ac5665|0,n=i+(a<<23|a>>>9),a=t+(i^(n|~s))+r[0]+0xf4292244|0,t=n+(a<<6|a>>>26),a=s+(n^(t|~i))+r[7]+0x432aff97|0,s=t+(a<<10|a>>>22),a=i+(t^(s|~n))+r[14]+0xab9423a7|0,i=s+(a<<15|a>>>17),a=n+(s^(i|~t))+r[5]+0xfc93a039|0,n=i+(a<<21|a>>>11),a=t+(i^(n|~s))+r[12]+0x655b59c3|0,t=n+(a<<6|a>>>26),a=s+(n^(t|~i))+r[3]+0x8f0ccc92|0,s=t+(a<<10|a>>>22),a=i+(t^(s|~n))+r[10]+0xffeff47d|0,i=s+(a<<15|a>>>17),a=n+(s^(i|~t))+r[1]+0x85845dd1|0,n=i+(a<<21|a>>>11),a=t+(i^(n|~s))+r[8]+0x6fa87e4f|0,t=n+(a<<6|a>>>26),a=s+(n^(t|~i))+r[15]+0xfe2ce6e0|0,s=t+(a<<10|a>>>22),a=i+(t^(s|~n))+r[6]+0xa3014314|0,i=s+(a<<15|a>>>17),a=n+(s^(i|~t))+r[13]+0x4e0811a1|0,n=i+(a<<21|a>>>11),a=t+(i^(n|~s))+r[4]+0xf7537e82|0,t=n+(a<<6|a>>>26),a=s+(n^(t|~i))+r[11]+0xbd3af235|0,s=t+(a<<10|a>>>22),a=i+(t^(s|~n))+r[2]+0x2ad7d2bb|0,i=s+(a<<15|a>>>17),a=n+(s^(i|~t))+r[9]+0xeb86d391|0,e.g[0]=e.g[0]+t|0,e.g[1]=e.g[1]+(i+(a<<21|a>>>11))|0,e.g[2]=e.g[2]+i|0,e.g[3]=e.g[3]+s|0}function a(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}i.prototype=r.prototype,e.F=r.prototype,e.prototype=new i,e.prototype.constructor=e,e.D=function(e,t,n){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return r.prototype[t].apply(e,i)},e.prototype.u=function(){this.g[0]=0x67452301,this.g[1]=0xefcdab89,this.g[2]=0x98badcfe,this.g[3]=0x10325476,this.o=this.h=0},e.prototype.v=function(e,t){void 0===t&&(t=e.length);let n=t-this.blockSize,r=this.C,i=this.h,a=0;for(;a<t;){if(0==i)for(;a<=n;)s(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){s(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){s(this,r),i=0;break}}this.h=i,this.o+=t},e.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var o,u={};function l(e){var t;return -128<=e&&e<128?(t=function(e){return new a([0|e],e<0?-1:0)},Object.prototype.hasOwnProperty.call(u,e)?u[e]:u[e]=t(e)):new a([0|e],e<0?-1:0)}function c(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(c(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=0x100000000;return new a(t,0)}var d=l(0),h=l(1),f=l(0x1000000);function m(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function p(e){return -1==e.h}function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new a(n,~e.h).add(h)}function v(e,t){return e.add(g(t))}function y(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function _(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error("division by zero");if(m(e))return new _(d,d);if(p(e))return t=b(g(e),t),new _(g(t.g),g(t.h));if(p(t))return t=b(e,g(t)),new _(g(t.g),t.h);if(e.g.length>30){if(p(e)||p(t))throw Error("slowDivide_ only works with positive integers.");for(var n=h,r=t;0>=r.l(e);)n=I(n),r=I(r);var i=x(n,1),s=x(r,1);for(r=x(r,2),n=x(n,2);!m(r);){var a=s.add(r);0>=a.l(e)&&(i=i.add(n),s=a),r=x(r,1),n=x(n,1)}return t=v(e,i.j(t)),new _(i,t)}for(i=d;e.l(t)>=0;){for(r=(r=Math.ceil(Math.log(n=Math.max(1,Math.floor(e.m()/t.m())))/Math.LN2))<=48?1:Math.pow(2,r-48),a=(s=c(n)).j(t);p(a)||a.l(e)>0;)n-=r,a=(s=c(n)).j(t);m(s)&&(s=h),i=i.add(s),e=v(e,a)}return new _(i,e)}function I(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new a(n,e.h)}function x(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let s=0;s<r;s++)i[s]=t>0?e.i(s+n)>>>t|e.i(s+n+1)<<32-t:e.i(s+n);return new a(i,e.h)}(o=a.prototype).m=function(){if(p(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:0x100000000+r)*t,t*=0x100000000}return e},o.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(m(this))return"0";if(p(this))return"-"+g(this).toString(e);let t=c(Math.pow(e,6));var n=this;let r="";for(;;){let i=b(n,t).g,s=(((n=v(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(m(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},o.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},o.l=function(e){return p(e=v(this,e))?-1:+!m(e)},o.abs=function(){return p(this)?g(this):this},o.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(65535&this.i(i))+(65535&e.i(i)),s=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16,t&=65535,s&=65535,n[i]=s<<16|t}return new a(n,-0x80000000&n[n.length-1]?-1:0)},o.j=function(e){if(m(this)||m(e))return d;if(p(this))return p(e)?g(this).j(g(e)):g(g(this).j(e));if(p(e))return g(this.j(g(e)));if(0>this.l(f)&&0>e.l(f))return c(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,s=65535&this.i(r),a=e.i(t)>>>16,o=65535&e.i(t);n[2*r+2*t]+=s*o,y(n,2*r+2*t),n[2*r+2*t+1]+=i*o,y(n,2*r+2*t+1),n[2*r+2*t+1]+=s*a,y(n,2*r+2*t+1),n[2*r+2*t+2]+=i*a,y(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new a(n,0)},o.B=function(e){return b(this,e).h},o.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new a(n,this.h&e.h)},o.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new a(n,this.h|e.h)},o.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new a(n,this.h^e.h)},e.prototype.digest=e.prototype.A,e.prototype.reset=e.prototype.u,e.prototype.update=e.prototype.v,n=w.Md5=e,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return g(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');let r=c(Math.pow(n,8)),i=d;for(let e=0;e<t.length;e+=8){var s=Math.min(8,t.length-e);let a=parseInt(t.substring(e,e+s),n);s<8?(s=c(Math.pow(n,s)),i=i.j(s).add(c(a))):i=(i=i.j(r)).add(c(a))}return i},t=w.Integer=a}).apply(void 0!==b?b:"u">typeof self?self:"u">typeof window?window:{});var I=e.i(83877),x="u">typeof globalThis?globalThis:"u">typeof window?window:e.g,S={};(function(){var e,t,n=Object.defineProperty,d=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof x&&x];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function h(e,t){if(t)e:{var r=d;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in r))break e;r=r[s]}(t=t(i=r[e=e[e.length-1]]))!=i&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}h("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),h("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),h("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var f=f||{},m=this||self;function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function g(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){return(v=g).apply(null,arguments)}function y(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var b="u">typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function w(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function I(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if("array"==(n="object"!=n?n:r?Array.isArray(r)?"array":n:"null")||"object"==n&&"number"==typeof r.length){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new E,e=>e.reset());class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let $,T=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){let n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},C=()=>{let e=Promise.resolve(void 0);$=()=>{e.then(D)}};function D(){let e;for(var t;e=null,A.g&&(e=A.g,A.g=A.g.next,A.g||(A.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){m.setTimeout(()=>{throw e},0)}(e)}k.j(t),k.h<100&&(k.h++,t.next=k.g,k.g=t)}T=!1}function N(){this.u=this.u,this.C=this.C}function O(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},O.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{let e=()=>{};m.addEventListener("test",e,t),m.removeEventListener("test",e,t)}catch(e){}return e}();function R(e){return/^[\s\xa0]*$/.test(e)}function U(e,t){O.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}_(U,O),U.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&U.Z.h.call(this)},U.prototype.h=function(){U.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),z=0;function M(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++z,this.da=this.fa=!1}function F(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function V(e){let t={};for(let n in e)t[n]=e[n];return t}let B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t])e[n]=r[n];for(let t=0;t<B.length;t++)n=B[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function q(e){this.src=e,this.g={},this.h=0}function K(e,t){let n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(F(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function G(e,t,n,r){for(let i=0;i<e.length;++i){let s=e[i];if(!s.da&&s.listener==t&&!!n==s.capture&&s.ha==r)return i}return -1}q.prototype.add=function(e,t,n,r,i){let s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);let a=G(e,t,r,i);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new M(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var J="closure_lm_"+(1e6*Math.random()|0),W={};function H(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");let a=p(i)?!!i.capture:!!i,o=ee(e);if(o||(e[J]=o=new q(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function e(t){return Y.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Q(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])K(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ee(t))?(K(n,e),0==n.h&&(n.src=null,t[J]=null)):F(e)}}}function X(e){return e in W?W[e]:W[e]="on"+e}function Y(e,t){if(e.da)e=!0;else{t=new U(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function ee(e){return(e=e[J])instanceof q?e:null}var et="__closure_events_fn_"+(1e9*Math.random()>>>0);function en(e){return"function"==typeof e?e:(e[et]||(e[et]=function(t){return e.handleEvent(t)}),e[et])}function er(){N.call(this),this.i=new q(this),this.M=this,this.G=null}function ei(e,t){let n,r;var i,s=e.G;if(s)for(i=[];s;s=s.G)i.push(s);if(e=e.M,s=t.type||t,"string"==typeof t)t=new O(t,e);else if(t instanceof O)t.target=t.target||e;else{var a=t;Z(t=new O(s,e),a)}if(a=!0,i)for(r=i.length-1;r>=0;r--)a=es(n=t.g=i[r],s,!0,t)&&a;if(a=es(n=t.g=e,s,!0,t)&&a,a=es(n,s,!1,t)&&a,i)for(r=0;r<i.length;r++)a=es(n=t.g=i[r],s,!1,t)&&a}function es(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){let a=t[s];if(a&&!a.da&&a.capture==n){let t=a.listener,n=a.ha||a.src;a.fa&&K(e.i,a),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}_(er,N),er.prototype[L]=!0,er.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,s){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,s);else(i=p(i)?!!i.capture:!!i,r=en(r),t&&t[L])?(t=t.i,(a=String(n).toString())in t.g&&(r=G(n=t.g[a],r,i,s))>-1&&(F(n[r]),Array.prototype.splice.call(n,r,1),0==n.length&&(delete t.g[a],t.h--))):t&&(t=ee(t))&&(n=t.g[n.toString()],t=-1,n&&(t=G(n,r,i,s)),(r=t>-1?n[t]:null)&&Q(r))}(this,e,t,n,r)},er.prototype.N=function(){if(er.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)F(n[e]);delete e.g[t],e.h--}}this.G=null},er.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},er.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ea extends N{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=function(e,t){if("function"!=typeof e)if(e&&"function"==typeof e.handleEvent)e=v(e.handleEvent,e);else throw Error("Invalid listener argument");return Number(t)>0x7fffffff?-1:m.setTimeout(e,t||0)}(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.l);let n=t.h;t.h=null,t.m.apply(null,n)}(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eo(e){N.call(this),this.h=e,this.g={}}_(eo,N);var eu=[];function el(e){j(e.g,function(e,t){this.g.hasOwnProperty(t)&&Q(e)},e),e.g={}}eo.prototype.N=function(){eo.Z.N.call(this),el(this)},eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ec=m.JSON.stringify,ed=m.JSON.parse,eh=class{stringify(e){return m.JSON.stringify(e,void 0)}parse(e){return m.JSON.parse(e,void 0)}};function ef(){}function em(){}var ep={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function eg(){O.call(this,"d")}function ev(){O.call(this,"c")}_(eg,O),_(ev,O);var ey={},e_=null;function eb(){return e_=e_||new er}function ew(e){O.call(this,ey.Ia,e)}function eI(e){let t=eb();ei(t,new ew(t))}function ex(e,t){O.call(this,ey.STAT_EVENT,e),this.stat=t}function eS(e){let t=eb();ei(t,new ex(t,e))}function ek(e,t){O.call(this,ey.Ja,e),this.size=t}function eE(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){e()},t)}function e$(){this.g=!0}function eT(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{let s=JSON.parse(t);if(s){for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}}return ec(s)}catch(e){return t}}(e,n)+(r?" "+r:"")})}ey.Ia="serverreachability",_(ew,O),ey.STAT_EVENT="statevent",_(ex,O),ey.Ja="timingevent",_(ek,O),e$.prototype.ua=function(){this.g=!1},e$.prototype.info=function(){};var eA={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},eC={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function eD(){}function eN(e){return encodeURIComponent(String(e))}function eO(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new eo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new eP}function eP(){this.i=null,this.g="",this.h=!1}_(eD,ef),eD.prototype.g=function(){return new XMLHttpRequest},e=new eD;var eR={},eU={};function eL(e,t,n){e.M=1,e.A=e8(e6(t)),e.u=n,e.R=!0,ez(e,null)}function ez(e,t){e.F=Date.now(),eF(e),e.B=e6(e.A);var n,r,i,s,a,o,u=e.B,l=e.S;Array.isArray(l)||(l=[String(l)]),td(u.i,"t",l),e.C=0,u=e.j.L,e.h=new eP,e.g=tQ(e.j,u?t:null,!e.u),e.P>0&&(e.O=new ea(v(e.Y,e,e.g),e.P)),t=e.V,u=e.g,l=e.ba;var c="readystatechange";Array.isArray(c)||(c&&(eu[0]=c.toString()),c=eu);for(let e=0;e<c.length;e++){let n=function e(t,n,r,i,s){if(i&&i.once)return function e(t,n,r,i,s){if(Array.isArray(n)){for(let a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}return r=en(r),t&&t[L]?t.K(n,r,p(i)?!!i.capture:!!i,s):H(t,n,r,!0,i,s)}(t,n,r,i,s);if(Array.isArray(n)){for(let a=0;a<n.length;a++)e(t,n[a],r,i,s);return null}return r=en(r),t&&t[L]?t.J(n,r,p(i)?!!i.capture:!!i,s):H(t,n,r,!1,i,s)}(u,c[e],l||t.handleEvent,!1,t.h||t);if(!n)break;t.g[n.key]=n}t=e.J?V(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),eI(),n=e.i,r=e.v,i=e.B,s=e.l,a=e.S,o=e.u,n.info(function(){if(n.g)if(o){var e="",t=o.split("&");for(let n=0;n<t.length;n++){var u=t[n].split("=");if(u.length>1){let t=u[0];u=u[1];let n=t.split("_");e=n.length>=2&&"type"==n[1]?e+(t+"=")+u+"&":e+(t+"=redacted&")}}}else e=null;else e=o;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+r+"\n"+i+"\n"+e})}function eM(e){return!!e.g&&"GET"==e.v&&2!=e.M&&e.j.Aa}function eF(e){e.T=Date.now()+e.H,ej(e,e.H)}function ej(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=eE(v(e.aa,e),t)}function eV(e){e.D&&(m.clearTimeout(e.D),e.D=null)}function eB(e){0==e.j.I||e.K||tK(e.j,e)}function eZ(e){eV(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,el(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function eq(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||eH(n.h,e))){if(!e.L&&eH(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)tq(n),tR(n);else break e;tV(n),eS(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=eE(v(n.Va,n),6e3));1>=eW(n.h)&&n.ta&&(n.ta=void 0)}else tJ(n,11)}else if((e.L||n.g==e)&&tq(n),!R(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let o=i[t],u=o[0];if(!(u<=n.K))if(n.K=u,o=o[1],2==n.I)if("c"==o[0]){n.M=o[1],n.ba=o[2];let t=o[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));let i=o[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));let u=o[5];null!=u&&"number"==typeof u&&u>0&&(n.O=r=1.5*u,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;let l=e.g;if(l){let e=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(eQ(s,s.h),s.h=null))}if(r.G){let e=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,e5(r.J,r.G,e))}}if(n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms")),(r=n).na=tH(r,r.L?r.ba:null,r.W),e.L){eX(r.h,e);var a=r.O;a&&(e.H=a),e.D&&(eV(e),eF(e)),r.g=e}else tj(r);n.i.length>0&&tL(n)}else"stop"!=o[0]&&"close"!=o[0]||tJ(n,7);else 3==n.I&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?tJ(n,7):tP(n):"noop"!=o[0]&&n.l&&n.l.qa(o),n.A=0)}}eI(4)}catch(e){}}eO.prototype.ba=function(e){e=e.target;let t=this.O;t&&3==tC(e)?t.j():this.Y(e)},eO.prototype.Y=function(e){try{if(e==this.g)e:{let h=tC(this.g),f=this.g.ya(),p=this.g.ca();if(!(h<3)&&(3!=h||this.g&&(this.h.h||this.g.la()||tD(this.g)))){this.K||4!=h||7==f||(8==f||p<=0?eI(3):eI(2)),eV(this);var t=this.g.ca();this.X=t;var n=function(e){if(!eM(e))return e.g.la();let t=tD(e.g);if(""===t)return"";let n="",r=t.length,i=4==tC(e.g);if(!e.h.i){if("u"<typeof TextDecoder)return eZ(e),eB(e),"";e.h.i=new m.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,r=this.i,i=this.v,s=this.B,a=this.l,o=this.S,r.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+o+"]: "+i+"\n"+s+"\n"+h+" "+t}),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i,s,a,o,u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(u)){var c=u;break t}}c=null}if(e=c)eT(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,eq(this,e);else{this.o=!1,this.m=3,eS(12),eZ(this),eB(this);break e}}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;)if((t=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?eU:isNaN(n=Number(t.substring(n,r)))?eR:(r+=1)+n>t.length?eU:(t=t.slice(r,r+n),e.C=r+n,t)}(this,n))==eU){4==h&&(this.m=4,eS(14),e=!1),eT(this.i,this.l,null,"[Incomplete Response]");break}else if(t==eR){this.m=4,eS(15),eT(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}else eT(this.i,this.l,t,null),eq(this,t);if(eM(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=n.length||this.h.h||(this.m=1,eS(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.aa&&!d.P&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),tB(d),d.P=!0,eS(11))}}else eT(this.i,this.l,n,"[Invalid Chunked Response]"),eZ(this),eB(this)}else eT(this.i,this.l,n,null),eq(this,n);4==h&&eZ(this),this.o&&!this.K&&(4==h?tK(this.j,this):(this.o=!1,eF(this)))}else(function(e){let t={};e=(e.g&&tC(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(R(e[r]))continue;var n=function(e){var t=1;e=e.split(":");let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}(e[r]);let i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();let s=t[i]||[];t[i]=s,s.push(n)}var r=function(e){return e.join(", ")};for(let e in t)r.call(void 0,t[e],e,t)})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,eS(12)):(this.m=0,eS(13)),eZ(this),eB(this)}}}catch(e){}finally{}},eO.prototype.cancel=function(){this.K=!0,eZ(this)},eO.prototype.aa=function(){var e,t;this.D=null;let n=Date.now();n-this.T>=0?(e=this.i,t=this.B,e.info(function(){return"TIMEOUT: "+t}),2!=this.M&&(eI(),eS(17)),eZ(this),this.m=2,eB(this)):ej(this,this.T-n)};var eK=class{constructor(e,t){this.g=e,this.map=t}};function eG(e){this.l=e||10,e=m.PerformanceNavigationTiming?(e=m.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function eJ(e){return!!e.h||!!e.g&&e.g.size>=e.j}function eW(e){return e.h?1:e.g?e.g.size:0}function eH(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function eQ(e,t){e.g?e.g.add(t):e.h=t}function eX(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function eY(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return w(e.i)}eG.prototype.cancel=function(){if(this.i=eY(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var e0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function e1(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof e1?(this.l=e.l,e4(this,e.j),this.o=e.o,this.g=e.g,e2(this,e.u),this.h=e.h,e3(this,th(e.i)),this.m=e.m):e&&(t=String(e).match(e0))?(this.l=!1,e4(this,t[1]||"",!0),this.o=e9(t[2]||""),this.g=e9(t[3]||"",!0),e2(this,t[4]),this.h=e9(t[5]||"",!0),e3(this,t[6]||"",!0),this.m=e9(t[7]||"")):(this.l=!1,this.i=new ta(null,this.l))}function e6(e){return new e1(e)}function e4(e,t,n){e.j=n?e9(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function e2(e,t){if(t){if(isNaN(t=Number(t))||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function e3(e,t,n){var r,i;t instanceof ta?(e.i=t,r=e.i,(i=e.l)&&!r.j&&(to(r),r.i=null,r.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&(tu(this,t),td(this,n,e))},r)),r.j=i):(n||(t=e7(t,ti)),e.i=new ta(t,e.l))}function e5(e,t,n){e.i.set(t,n)}function e8(e){return e5(e,"zx",Math.floor(0x80000000*Math.random()).toString(36)+Math.abs(Math.floor(0x80000000*Math.random())^Date.now()).toString(36)),e}function e9(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function e7(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,te),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function te(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}e1.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(e7(t,tt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(e7(t,tt,!0),"@"),e.push(eN(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(e7(n,"/"==n.charAt(0)?tr:tn,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",e7(n,ts)),e.join("")},e1.prototype.resolve=function(e){let t=e6(this),n=!!e.j;n?e4(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)e2(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");let e=[];for(let t=0;t<i.length;){let n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?e3(t,th(e.i)):n=!!e.m,n&&(t.m=e.m),t};var tt=/[#\/\?@]/g,tn=/[#\?:]/g,tr=/[#\?]/g,ti=/[#\?@]/g,ts=/#/g;function ta(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function to(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){let r=e[n].indexOf("="),i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tu(e,t){to(e),t=tf(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tl(e,t){return to(e),t=tf(e,t),e.g.has(t)}function tc(e,t){to(e);let n=[];if("string"==typeof t)tl(e,t)&&(n=n.concat(e.g.get(tf(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function td(e,t,n){tu(e,t),n.length>0&&(e.i=null,e.g.set(tf(e,t),w(n)),e.h+=n.length)}function th(e){let t=new ta;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function tf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function tm(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function tp(){this.g=new eh}function tg(e){this.i=e.Sb||null,this.h=e.ab||!1}function tv(e,t){er.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function ty(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function t_(e){e.readyState=4,e.l=null,e.j=null,e.B=null,tb(e)}function tb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function tw(e){let t="";return j(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function tI(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tw(n),"string"==typeof e?null!=n&&eN(n):e5(e,t,n))}function tx(e){er.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(t=ta.prototype).add=function(e,t){to(this),this.i=null,e=tf(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},t.forEach=function(e,t){to(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},t.set=function(e,t){return to(this),this.i=null,tl(this,e=tf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},t.get=function(e,t){return e&&(e=tc(this,e)).length>0?String(e[0]):t},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=eN(n);n=tc(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+eN(n[t])),e.push(r)}}return this.i=e.join("&")},_(tg,ef),tg.prototype.g=function(){return new tv(this.i,this.h)},_(tv,er),(t=tv.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,tb(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||m).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,t_(this)),this.readyState=0},t.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,tb(this)),this.g&&(this.readyState=3,tb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==m.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ty(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},t.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?t_(this):tb(this),3==this.readyState&&ty(this)}},t.Oa=function(e){this.g&&(this.response=this.responseText=e,t_(this))},t.Na=function(e){this.g&&(this.response=e,t_(this))},t.ga=function(){this.g&&t_(this)},t.setRequestHeader=function(e,t){this.A.append(e,t)},t.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(tv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),_(tx,er);var tS=/^https?$/i,tk=["POST","PUT"];function tE(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,t$(e),tA(e)}function t$(e){e.A||(e.A=!0,ei(e,"complete"),ei(e,"error"))}function tT(e){if(e.h&&void 0!==f){if(e.v&&4==tC(e))setTimeout(e.Ca.bind(e),0);else if(ei(e,"readystatechange"),4==tC(e)){e.h=!1;try{let s=e.ca();switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,n,r=!0;break;default:r=!1}if(!(t=r)){if(n=0===s){let t=String(e.D).match(e0)[1]||null;!t&&m.self&&m.self.location&&(t=m.self.location.protocol.slice(0,-1)),n=!tS.test(t?t.toLowerCase():"")}t=n}if(t)ei(e,"complete"),ei(e,"success");else{e.o=6;try{var i=tC(e)>2?e.g.statusText:""}catch(e){i=""}e.l=i+" ["+e.ca()+"]",t$(e)}}finally{tA(e)}}}}function tA(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);let n=e.g;e.g=null,t||ei(e,"ready");try{n.onreadystatechange=null}catch(e){}}}function tC(e){return e.g?e.g.readyState:0}function tD(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function tN(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function tO(e){this.za=0,this.i=[],this.j=new e$,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=tN("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=tN("baseRetryDelayMs",5e3,e),this.Za=tN("retryDelaySeedMs",1e4,e),this.Ta=tN("forwardChannelMaxRetries",2,e),this.va=tN("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new eG(e&&e.concurrentRequestLimit),this.Ba=new tp,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function tP(e){if(tU(e),3==e.I){var t=e.V++,n=e6(e.J);if(e5(n,"SID",e.M),e5(n,"RID",t),e5(n,"TYPE","terminate"),tM(e,n),(t=new eO(e,e.j,t)).M=2,t.A=e8(e6(n)),n=!1,m.navigator&&m.navigator.sendBeacon)try{n=m.navigator.sendBeacon(t.A.toString(),"")}catch(e){}!n&&m.Image&&((new Image).src=t.A,n=!0),n||(t.g=tQ(t.j,null),t.g.ea(t.A)),t.F=Date.now(),eF(t)}tW(e)}function tR(e){e.g&&(tB(e),e.g.cancel(),e.g=null)}function tU(e){tR(e),e.v&&(m.clearTimeout(e.v),e.v=null),tq(e),e.h.cancel(),e.m&&("number"==typeof e.m&&m.clearTimeout(e.m),e.m=null)}function tL(e){if(!eJ(e.h)&&!e.m){e.m=!0;var t=e.Ea;$||C(),T||($(),T=!0),A.add(t,e),e.D=0}}function tz(e,t){var n;n=t?t.l:e.V++;let r=e6(e.J);e5(r,"SID",e.M),e5(r,"RID",n),e5(r,"AID",e.K),tM(e,r),e.u&&e.o&&tI(r,e.u,e.o),n=new eO(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=tF(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),eQ(e.h,n),eL(n,r,t)}function tM(e,t){e.H&&j(e.H,function(e,n){e5(t,n,e)}),e.l&&j({},function(e,n){e5(t,n,e)})}function tF(e,t,n){n=Math.min(e.i.length,n);let r=e.l?v(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){let e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let u=0;u<n;u++){var s=i[u].g;let n=i[u].map;if((s-=t)<0)t=Math.max(0,i[u].g-100),o=!1;else try{s="req"+s+"_";try{var a=n instanceof Map?n:Object.entries(n);for(let[t,n]of a){let r=n;p(n)&&(r=ec(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(t){throw e.push(s+"type="+encodeURIComponent("_badmap")),t}}catch(e){r&&r(n)}}if(o){a=e.join("&");break e}}a=void 0}return t.G=e=e.i.splice(0,n),a}function tj(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;$||C(),T||($(),T=!0),A.add(t,e),e.A=0}}function tV(e){return!e.g&&!e.v&&!(e.A>=3)&&(e.Y++,e.v=eE(v(e.Da,e),tG(e,e.A)),e.A++,!0)}function tB(e){null!=e.B&&(m.clearTimeout(e.B),e.B=null)}function tZ(e){e.g=new eO(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=e6(e.na);e5(t,"RID","rpc"),e5(t,"SID",e.M),e5(t,"AID",e.K),e5(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&e5(t,"TO",e.ia),e5(t,"TYPE","xmlhttp"),tM(e,t),e.u&&e.o&&tI(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=e8(e6(t)),n.u=null,n.R=!0,ez(n,e)}function tq(e){null!=e.C&&(m.clearTimeout(e.C),e.C=null)}function tK(e,t){var n,r=null;if(e.g==t){tq(e),tB(e),e.g=null;var i=2}else{if(!eH(e.h,t))return;r=t.G,eX(e.h,t),i=1}if(0!=e.I){if(t.o)if(1==i){r=t.u?t.u.length:0,t=Date.now()-t.F;var s=e.D;ei(i=eb(),new ek(i,r)),tL(e)}else tj(e);else if(3==(s=t.m)||0==s&&t.X>0||!(1==i&&(n=t,!(eW(e.h)>=e.h.j-!!e.m)&&(e.m?(e.i=n.G.concat(e.i),!0):1!=e.I&&2!=e.I&&!(e.D>=(e.Sa?0:e.Ta))&&(e.m=eE(v(e.Ea,e,n),tG(e,e.D)),e.D++,!0)))||2==i&&tV(e)))switch(r&&r.length>0&&((t=e.h).i=t.i.concat(r)),s){case 1:tJ(e,5);break;case 4:tJ(e,10);break;case 3:tJ(e,6);break;default:tJ(e,2)}}}function tG(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function tJ(e,t){if(e.j.info("Error code "+t),2==t){let t,s,a;var n,r=v(e.bb,e),i=e.Ua;let o=!i;i=new e1(i||"//www.google.com/images/cleardot.gif"),m.location&&"http"==m.location.protocol||e4(i,"https"),e8(i),o?function(e,t){let n=new e$;if(m.Image){let r=new Image;r.onload=y(tm,n,"TestLoadImage: loaded",!0,t,r),r.onerror=y(tm,n,"TestLoadImage: error",!1,t,r),r.onabort=y(tm,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=y(tm,n,"TestLoadImage: timeout",!1,t,r),m.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(i.toString(),r):(n=i.toString(),t=new e$,s=new AbortController,a=setTimeout(()=>{s.abort(),tm(t,"TestPingServer: timeout",!1,r)},1e4),fetch(n,{signal:s.signal}).then(e=>{clearTimeout(a),e.ok?tm(t,"TestPingServer: ok",!0,r):tm(t,"TestPingServer: server error",!1,r)}).catch(()=>{clearTimeout(a),tm(t,"TestPingServer: error",!1,r)}))}else eS(2);e.I=0,e.l&&e.l.pa(t),tW(e),tU(e)}function tW(e){if(e.I=0,e.ja=[],e.l){let t=eY(e.h);(0!=t.length||0!=e.i.length)&&(I(e.ja,t),I(e.ja,e.i),e.h.i.length=0,w(e.i),e.i.length=0),e.l.oa()}}function tH(e,t,n){var r=n instanceof e1?e6(n):new e1(n);if(""!=r.g)t&&(r.g=t+"."+r.g),e2(r,r.u);else{var i=m.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;let e=new e1(null);r&&e4(e,r),t&&(e.g=t),i&&e2(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&e5(r,n,t),e5(r,"VER",e.ka),tM(e,r),r}function tQ(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new tx(e.Aa&&!e.ma?new tg({ab:n}):e.ma)).Fa(e.L),t}function tX(){}function tY(){}function t0(e,t){er.call(this),this.g=new tO(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!R(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!R(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new t4(this)}function t1(e){eg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function t6(){ev.call(this),this.status=1}function t4(e){this.g=e}(t=tx.prototype).Fa=function(e){this.H=e},t.ea=function(t,n,r,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);n=n?n.toUpperCase():"GET",this.D=t,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():e.g(),this.g.onreadystatechange=b(v(this.Ca,this));try{this.B=!0,this.g.open(n,String(t),!0),this.B=!1}catch(e){tE(this,e);return}if(t=r||"",r=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)r.set(s,i[s]);else if("function"==typeof i.keys&&"function"==typeof i.get)for(let e of i.keys())r.set(e,i.get(e));else throw Error("Unknown input type for opt_headers: "+String(i));for(let[e,a]of(i=Array.from(r.keys()).find(e=>"content-type"==e.toLowerCase()),s=m.FormData&&t instanceof m.FormData,!(Array.prototype.indexOf.call(tk,n,void 0)>=0)||i||s||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r))this.g.setRequestHeader(e,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(t),this.v=!1}catch(e){tE(this,e)}},t.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ei(this,"complete"),ei(this,"abort"),tA(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tA(this,!0)),tx.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?tT(this):this.Xa())},t.Xa=function(){tT(this)},t.isActive=function(){return!!this.g},t.ca=function(){try{return tC(this)>2?this.g.status:-1}catch(e){return -1}},t.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},t.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ed(t)}},t.ya=function(){return this.o},t.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=tO.prototype).ka=8,t.I=1,t.connect=function(e,t,n,r){eS(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=tH(this,null,this.W),tL(this)},t.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;let i=new eO(this,this.j,e),s=this.o;if(this.U&&(s?Z(s=V(s),this.U):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.map&&"string"==typeof(r=r.map.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tF(this,i,t),e5(n=e6(this.J),"RID",e),e5(n,"CVER",22),this.G&&e5(n,"X-HTTP-Session-Id",this.G),tM(this,n),s&&(this.R?t="headers="+eN(tw(s))+"&"+t:this.u&&tI(n,this.u,s)),eQ(this.h,i),this.Ra&&e5(n,"TYPE","init"),this.S?(e5(n,"$req",t),e5(n,"SID","null"),i.U=!0,eL(i,n,null)):eL(i,n,t),this.I=2}}else 3==this.I&&(e?tz(this,e):0==this.i.length||eJ(this.h)||tz(this))},t.Da=function(){if(this.v=null,tZ(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=eE(v(this.Wa,this),e)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,eS(10),tR(this),tZ(this))},t.Va=function(){null!=this.C&&(this.C=null,tR(this),tV(this),eS(19))},t.bb=function(e){e?(this.j.info("Successfully pinged google.com"),eS(2)):(this.j.info("Failed to ping google.com"),eS(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=tX.prototype).ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){},tY.prototype.g=function(e,t){return new t0(e,t)},_(t0,er),t0.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},t0.prototype.close=function(){tP(this.g)},t0.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ec(e),e=n);t.i.push(new eK(t.Ya++,e)),3==t.I&&tL(t)},t0.prototype.N=function(){this.g.l=null,delete this.j,tP(this.g),delete this.g,t0.Z.N.call(this)},_(t1,eg),_(t6,ev),_(t4,tX),t4.prototype.ra=function(){ei(this.g,"a")},t4.prototype.qa=function(e){ei(this.g,new t1(e))},t4.prototype.pa=function(e){ei(this.g,new t6)},t4.prototype.oa=function(){ei(this.g,"b")},tY.prototype.createWebChannel=tY.prototype.g,t0.prototype.send=t0.prototype.o,t0.prototype.open=t0.prototype.m,t0.prototype.close=t0.prototype.close,c=S.createWebChannelTransport=function(){return new tY},l=S.getStatEventTarget=function(){return eb()},u=S.Event=ey,o=S.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},eA.NO_ERROR=0,eA.TIMEOUT=8,eA.HTTP_ERROR=6,a=S.ErrorCode=eA,eC.COMPLETE="complete",s=S.EventType=eC,em.EventType=ep,ep.OPEN="a",ep.CLOSE="b",ep.ERROR="c",ep.MESSAGE="d",er.prototype.listen=er.prototype.J,i=S.WebChannel=em,S.FetchXmlHttpFactory=tg,tx.prototype.listenOnce=tx.prototype.K,tx.prototype.getLastError=tx.prototype.Ha,tx.prototype.getLastErrorCode=tx.prototype.ya,tx.prototype.getStatus=tx.prototype.ca,tx.prototype.getResponseJson=tx.prototype.La,tx.prototype.getResponseText=tx.prototype.la,tx.prototype.send=tx.prototype.ea,tx.prototype.setWithCredentials=tx.prototype.Fa,r=S.XhrIo=tx}).apply(void 0!==x?x:"u">typeof self?self:"u">typeof window?window:{});class k{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}k.UNAUTHENTICATED=new k(null),k.GOOGLE_CREDENTIALS=new k("google-credentials-uid"),k.FIRST_PARTY=new k("first-party-uid"),k.MOCK_USER=new k("mock-user");let E="12.8.0",$=new I.Logger("@firebase/firestore");function T(){return $.logLevel}function A(e,...t){if($.logLevel<=I.LogLevel.DEBUG){let n=t.map(N);$.debug(`Firestore (${E}): ${e}`,...n)}}function C(e,...t){if($.logLevel<=I.LogLevel.ERROR){let n=t.map(N);$.error(`Firestore (${E}): ${e}`,...n)}}function D(e,...t){if($.logLevel<=I.LogLevel.WARN){let n=t.map(N);$.warn(`Firestore (${E}): ${e}`,...n)}}function N(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function O(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,P(e,r,n)}function P(e,t,n){let r=`FIRESTORE (${E}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw C(r),Error(r)}function R(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||P(t,i,r)}let U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends _.FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class z{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class M{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(k.UNAUTHENTICATED))}shutdown(){}}class j{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class V{constructor(e){this.t=e,this.currentUser=k.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){R(void 0===this.o,42304);let n=this.i,r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve(),i=new z;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new z,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?a(e):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new z)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(R("string"==typeof t.accessToken,31837,{l:t}),new M(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return R(null===e||"string"==typeof e,2055,{h:e}),new k(e)}}class B{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=k.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);let e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Z{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new B(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(k.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,p._isFirebaseServerApp)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){R(void 0===this.o,3512);let n=e=>{null!=e.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,A("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};let r=e=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new q(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(R("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new q(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class G{static newId(){let e=62*Math.floor(256/62),t="";for(;t.length<20;){let n=function(e){let t="u">typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let e=0;e<40;e++)n[e]=Math.floor(256*Math.random());return n}(0);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function J(e,t){return e<t?-1:+(e>t)}function W(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return H(n)===H(i)?J(n,i):H(n)?1:-1}return J(e.length,t.length)}function H(e){let t=e.charCodeAt(0);return t>=55296&&t<=57343}function Q(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}let X="__name__";class Y{constructor(e,t,n){void 0===t?t=0:t>e.length&&O(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&O(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Y.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof Y?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=Y.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return J(e.length,t.length)}static compareSegments(e,t){let n=Y.isNumericId(e),r=Y.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Y.extractNumericId(e).compare(Y.extractNumericId(t)):W(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return t.fromString(e.substring(4,e.length-2))}}class ee extends Y{construct(e,t,n){return new ee(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new L(U.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new ee(t)}static emptyPath(){return new ee([])}}let et=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Y{construct(e,t,n){return new en(e,t,n)}static isValidIdentifier(e){return et.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===X}static keyField(){return new en([X])}static fromServerFormat(e){let t=[],n="",r=0,i=()=>{if(0===n.length)throw new L(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},s=!1;for(;r<e.length;){let t=e[r];if("\\"===t){if(r+1===e.length)throw new L(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new L(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?s=!s:"."!==t||s?n+=t:i(),r++}if(i(),s)throw new L(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}class er{constructor(e){this.path=e}static fromPath(e){return new er(ee.fromString(e))}static fromName(e){return new er(ee.fromString(e).popFirst(5))}static empty(){return new er(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ee.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ee.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new er(new ee(e.slice()))}}function ei(e,t,n){if(!n)throw new L(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function es(e){if(!er.isDocumentKey(e))throw new L(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ea(e){if(er.isDocumentKey(e))throw new L(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function eo(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function eu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}return"function"==typeof e?"a function":O(12329,{type:typeof e})}function el(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=eu(e);throw new L(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function ec(e,t){if(t<=0)throw new L(U.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}function ed(e,t){let n={typeString:e};return t&&(n.value=t),n}function eh(e,t){let n;if(!eo(e))throw new L(U.INVALID_ARGUMENT,"JSON must be an object");for(let r in t)if(t[r]){let i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==s&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new L(U.INVALID_ARGUMENT,n);return!0}class ef{static now(){return ef.fromMillis(Date.now())}static fromDate(e){return ef.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*1e6);return new ef(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new L(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-0xe7791f700||e>=0x3afff44180)throw new L(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ef._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eh(e,ef._jsonSchema))return new ef(e.seconds,e.nanoseconds)}valueOf(){return String(this.seconds- -0xe7791f700).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ef._jsonSchemaVersion="firestore/timestamp/1.0",ef._jsonSchema={type:ed("string",ef._jsonSchemaVersion),seconds:ed("number"),nanoseconds:ed("number")};class em{static fromTimestamp(e){return new em(e)}static min(){return new em(new ef(0,0))}static max(){return new em(new ef(0x3afff4417f,0x3b9ac9ff))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ep{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function eg(e){return e.fields.find(e=>2===e.kind)}function ev(e){return e.fields.filter(e=>2!==e.kind)}function ey(e,t){let n=J(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(0!==(n=function(e,t){let n=en.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:J(e.kind,t.kind)}(e.fields[r],t.fields[r])))return n;return J(e.fields.length,t.fields.length)}ep.UNKNOWN_ID=-1;class e_{constructor(e,t){this.fieldPath=e,this.kind=t}}class eb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new eb(0,ex.min())}}function ew(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new ex(em.fromTimestamp(1e9===r?new ef(n+1,0):new ef(n,r)),er.empty(),t)}function eI(e){return new ex(e.readTime,e.key,-1)}class ex{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ex(em.min(),er.empty(),-1)}static max(){return new ex(em.max(),er.empty(),-1)}}function eS(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n||0!==(n=er.comparator(e.documentKey,t.documentKey))?n:J(e.largestBatchId,t.largestBatchId)}let ek="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function e$(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==ek)throw e;A("LocalStore","Unexpectedly lost primary lease")}class eT{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&O(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new eT((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof eT?t:eT.resolve(t)}catch(e){return eT.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):eT.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):eT.reject(t)}static resolve(e){return new eT((t,n)=>{t(e)})}static reject(e){return new eT((t,n)=>{n(e)})}static waitFor(e){return new eT((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=eT.resolve(!1);for(let n of e)t=t.next(e=>e?eT.resolve(e):n());return t}static forEach(e,t){let n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new eT((n,r)=>{let i=e.length,s=Array(i),a=0;for(let o=0;o<i;o++){let u=o;t(e[u]).next(e=>{s[u]=e,++a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new eT((n,r)=>{let i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}let eA="SimpleDb";class eC{static open(e,t,n,r){try{return new eC(t,e.transaction(r,n))}catch(e){throw new eP(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new z,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new eP(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{let n=eM(t.target.error);this.S.reject(new eP(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(A(eA,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){let e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){return new eU(this.transaction.objectStore(e))}}class eD{static delete(e){return A(eA,"Removing database:",e),eL((0,_.getGlobal)().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!(0,_.isIndexedDBAvailable)())return!1;if(eD.F())return!0;let e=(0,_.getUA)(),t=eD.M(e),n=eN(e);return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||0<t&&t<10||0<n&&n<4.5)}static F(){return void 0!==v.default&&"YES"===v.default.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE}static O(e,t){return e.store(t)}static M(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,12.2===eD.M((0,_.getUA)())&&C("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(A(eA,"Opening database:",this.name),this.db=await new Promise((t,n)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{t(e.target.result)},r.onblocked=()=>{n(new eP(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{let r=t.target.error;"VersionError"===r.name?n(new L(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new L(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new eP(e,r))},r.onupgradeneeded=e=>{A(eA,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);let t=e.target.result;this.N.k(t,r.transaction,e.oldVersion,this.version).next(()=>{A(eA,"Database upgrade to version "+this.version+" complete")})}})),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){let i="readonly"===t,s=0;for(;;){++s;try{this.db=await this.L(e);let t=eC.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next(e=>(t.C(),e)).catch(e=>(t.abort(e),eT.reject(e))).toPromise();return s.catch(()=>{}),await t.D,s}catch(t){let e="FirebaseError"!==t.name&&s<3;if(A(eA,"Transaction failed with error:",t.message,"Retrying:",e),this.close(),!e)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function eN(e){let t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")}class eO{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return eL(this.U.delete())}}class eP extends L{constructor(e,t){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function eR(e){return"IndexedDbTransactionError"===e.name}class eU{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(A(eA,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(A(eA,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),eL(n)}add(e){return A(eA,"ADD",this.store.name,e,e),eL(this.store.add(e))}get(e){return eL(this.store.get(e)).next(t=>(void 0===t&&(t=null),A(eA,"GET",this.store.name,e,t),t))}delete(e){return A(eA,"DELETE",this.store.name,e),eL(this.store.delete(e))}count(){return A(eA,"COUNT",this.store.name),eL(this.store.count())}H(e,t){let n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){let e=r.getAll(n.range);return new eT((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{let e=this.cursor(n),t=[];return this.J(e,(e,n)=>{t.push(n)}).next(()=>t)}}Z(e,t){let n=this.store.getAll(e,null===t?void 0:t);return new eT((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}X(e,t){A(eA,"DELETE ALL",this.store.name);let n=this.options(e,t);n.Y=!1;let r=this.cursor(n);return this.J(r,(e,t,n)=>n.delete())}ee(e,t){let n;t?n=e:(n={},t=e);let r=this.cursor(n);return this.J(r,t)}te(e){let t=this.cursor({});return new eT((n,r)=>{t.onerror=e=>{r(eM(e.target.error))},t.onsuccess=t=>{let r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}J(e,t){let n=[];return new eT((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{let i=e.target.result;if(!i)return void r();let s=new eO(i),a=t(i.primaryKey,i.value,s);if(a instanceof eT){let e=a.catch(e=>(s.done(),eT.reject(e)));n.push(e)}s.isDone?r():null===s.G?i.continue():i.continue(s.G)}}).next(()=>eT.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function eL(e){return new eT((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{n(eM(e.target.error))}})}let ez=!1;function eM(e){let t=eD.M((0,_.getUA)());if(t>=12.2&&t<13){let t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){let e=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ez||(ez=!0,setTimeout(()=>{throw e},0)),e}}return e}let eF="IndexBackfiller";class ej{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}re(e){A(eF,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{let e=await this.ne.ie();A(eF,`Documents written: ${e}`)}catch(e){eR(e)?A(eF,"Ignoring IndexedDB error during index backfill: ",e):await e$(e)}await this.re(6e4)})}}class eV{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){let n=new Set,r=t,i=!0;return eT.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return A(eF,`Processing collection: ${t}`),this.oe(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{let i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this._e(r,n)).next(n=>(A(eF,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}_e(e,t){let n=e;return t.changes.forEach((e,t)=>{let r=eI(t);eS(r,n)>0&&(n=r)}),new ex(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class eB{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}}function eZ(e){return null==e}function eq(e){return 0===e&&1/e==-1/0}function eK(e){return"number"==typeof e&&Number.isInteger(e)&&!eq(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function eG(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t+="\x01\x01"),t=function(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=r}}return n}(e.get(n),t);return t+"\x01\x01"}eB.ce=-1;function eJ(e){let t=e.length;if(R(t>=2,64408,{path:e}),2===t)return R("\x01"===e.charAt(0)&&"\x01"===e.charAt(1),56145,{path:e}),ee.emptyPath();let n=t-2,r=[],i="";for(let s=0;s<t;){let t=e.indexOf("\x01",s);switch((t<0||t>n)&&O(50515,{path:e}),e.charAt(t+1)){case"\x01":let a,o=e.substring(s,t);0===i.length?a=o:(i+=o,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:O(61167,{path:e})}s=t+2}return new ee(r)}let eW="remoteDocuments",eH="owner",eQ="owner",eX="mutationQueues",eY="mutations",e0="batchId",e1="userMutationsIndex",e6=["userId","batchId"],e4={},e2="documentMutations",e3="remoteDocumentsV14",e5=["prefixPath","collectionGroup","readTime","documentId"],e8="documentKeyIndex",e9=["prefixPath","collectionGroup","documentId"],e7="collectionGroupIndex",te=["collectionGroup","readTime","prefixPath","documentId"],tt="remoteDocumentGlobal",tn="remoteDocumentGlobalKey",tr="targets",ti="queryTargetsIndex",ts=["canonicalId","targetId"],ta="targetDocuments",to=["targetId","path"],tu="documentTargetsIndex",tl=["path","targetId"],tc="targetGlobalKey",td="targetGlobal",th="collectionParents",tf=["collectionId","parent"],tm="clientMetadata",tp="bundles",tg="namedQueries",tv="indexConfiguration",ty="collectionGroupIndex",t_="indexState",tb=["indexId","uid"],tw="sequenceNumberIndex",tI=["uid","sequenceNumber"],tx="indexEntries",tS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tk="documentKeyIndex",tE=["indexId","uid","orderedDocumentKey"],t$="documentOverlays",tT=["userId","collectionPath","documentId"],tA="collectionPathOverlayIndex",tC=["userId","collectionPath","largestBatchId"],tD="collectionGroupOverlayIndex",tN=["userId","collectionGroup","largestBatchId"],tO="globals",tP=[eX,eY,e2,eW,tr,eH,td,ta,tm,tt,th,tp,tg],tR=[...tP,t$],tU=[eX,eY,e2,e3,tr,eH,td,ta,tm,tt,th,tp,tg,t$],tL=[...tU,tv,t_,tx],tz=[...tL,tO];class tM extends eE{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function tF(e,t){return eD.O(e.le,t)}function tj(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tV(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function tB(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class tZ{constructor(e,t){this.comparator=e,this.root=t||tK.EMPTY}insert(e,t){return new tZ(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tK.BLACK,null,null))}remove(e){return new tZ(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tK.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tq(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tq(this.root,e,this.comparator,!1)}getReverseIterator(){return new tq(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tq(this.root,e,this.comparator,!0)}}class tq{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tK{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:tK.RED,this.left=null!=r?r:tK.EMPTY,this.right=null!=i?i:tK.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new tK(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}removeMin(){if(this.left.isEmpty())return tK.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let n,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return tK.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,tK.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,tK.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return Math.pow(2,this.check())<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw O(43730,{key:this.key,value:this.value});if(this.right.isRed())throw O(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw O(27949);return e+ +!this.isRed()}}tK.EMPTY=null,tK.RED=!0,tK.BLACK=!1,tK.EMPTY=new class{constructor(){this.size=0}get key(){throw O(57766)}get value(){throw O(16141)}get color(){throw O(16727)}get left(){throw O(29726)}get right(){throw O(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new tK(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tG{constructor(e){this.comparator=e,this.data=new tZ(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tJ(this.data.getIterator())}getIteratorFrom(e){return new tJ(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof tG)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new tG(this.comparator);return t.data=e,t}}class tJ{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tW(e){return e.hasNext()?e.getNext():void 0}class tH{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new tH([])}unionWith(e){let t=new tG(en.comparator);for(let e of this.fields)t=t.add(e);for(let n of e)t=t.add(n);return new tH(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Q(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class tQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tX{constructor(e){this.binaryString=e}static fromBase64String(e){return new tX(function(e){try{return atob(e)}catch(e){throw"u">typeof DOMException&&e instanceof DOMException?new tQ("Invalid base64 string: "+e):e}}(e))}static fromUint8Array(e){return new tX(function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){var e=this.binaryString;let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return J(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tX.EMPTY_BYTE_STRING=new tX("");let tY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function t0(e){if(R(!!e,39018),"string"==typeof e){let t=0,n=tY.exec(e);if(R(!!n,46558,{timestamp:e}),n[1]){let e=n[1];t=Number(e=(e+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:t1(e.seconds),nanos:t1(e.nanos)}}function t1(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function t6(e){return"string"==typeof e?tX.fromBase64String(e):tX.fromUint8Array(e)}let t4="server_timestamp",t2="__type__",t3="__previous_value__",t5="__local_write_time__";function t8(e){return(e?.mapValue?.fields||{})[t2]?.stringValue===t4}function t9(e){let t=e.mapValue.fields[t3];return t8(t)?t9(t):t}function t7(e){let t=t0(e.mapValue.fields[t5].timestampValue);return new ef(t.seconds,t.nanos)}class ne{constructor(e,t,n,r,i,s,a,o,u,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=u,this.isUsingEmulator=l,this.apiKey=c}}let nt="(default)";class nn{constructor(e,t){this.projectId=e,this.database=t||nt}static empty(){return new nn("","")}get isDefaultDatabase(){return this.database===nt}isEqual(e){return e instanceof nn&&e.projectId===this.projectId&&e.database===this.database}}let nr="__type__",ni="__max__",ns={mapValue:{fields:{__type__:{stringValue:ni}}}},na="__vector__",no="value",nu={nullValue:"NULL_VALUE"};function nl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?t8(e)?4:nS(e)?0x1fffffffffffff:nI(e)?10:11:O(28295,{value:e})}function nc(e,t){if(e===t)return!0;let n=nl(e);if(n!==nl(t))return!1;switch(n){case 0:case 0x1fffffffffffff:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return t7(e).isEqual(t7(t));case 3:if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let r=t0(e.timestampValue),i=t0(t.timestampValue);return r.seconds===i.seconds&&r.nanos===i.nanos;case 5:return e.stringValue===t.stringValue;case 6:return t6(e.bytesValue).isEqual(t6(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return t1(e.geoPointValue.latitude)===t1(t.geoPointValue.latitude)&&t1(e.geoPointValue.longitude)===t1(t.geoPointValue.longitude);case 2:if("integerValue"in e&&"integerValue"in t)return t1(e.integerValue)===t1(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){let n=t1(e.doubleValue),r=t1(t.doubleValue);return n===r?eq(n)===eq(r):isNaN(n)&&isNaN(r)}return!1;case 9:return Q(e.arrayValue.values||[],t.arrayValue.values||[],nc);case 10:case 11:let s=e.mapValue.fields||{},a=t.mapValue.fields||{};if(tj(s)!==tj(a))return!1;for(let e in s)if(s.hasOwnProperty(e)&&(void 0===a[e]||!nc(s[e],a[e])))return!1;return!0;default:return O(52216,{left:e})}}function nd(e,t){return void 0!==(e.values||[]).find(e=>nc(e,t))}function nh(e,t){var n,r,i,s,a,o;if(e===t)return 0;let u=nl(e),l=nl(t);if(u!==l)return J(u,l);switch(u){case 0:case 0x1fffffffffffff:return 0;case 1:return J(e.booleanValue,t.booleanValue);case 2:let c,d;return c=t1(e.integerValue||e.doubleValue),c<(d=t1(t.integerValue||t.doubleValue))?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1;case 3:return nf(e.timestampValue,t.timestampValue);case 4:return nf(t7(e),t7(t));case 5:return W(e.stringValue,t.stringValue);case 6:let h,f;return n=e.bytesValue,r=t.bytesValue,h=t6(n),f=t6(r),h.compareTo(f);case 7:return function(e,t){let n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){let t=J(n[e],r[e]);if(0!==t)return t}return J(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:let m;return i=e.geoPointValue,s=t.geoPointValue,0!==(m=J(t1(i.latitude),t1(s.latitude)))?m:J(t1(i.longitude),t1(s.longitude));case 9:return nm(e.arrayValue,t.arrayValue);case 10:let p,g,v,y,_;return a=e.mapValue,o=t.mapValue,p=a.fields||{},g=o.fields||{},v=p[no]?.arrayValue,y=g[no]?.arrayValue,0!==(_=J(v?.values?.length||0,y?.values?.length||0))?_:nm(v,y);case 11:return function(e,t){if(e===ns.mapValue&&t===ns.mapValue)return 0;if(e===ns.mapValue)return 1;if(t===ns.mapValue)return -1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){let t=W(r[e],s[e]);if(0!==t)return t;let a=nh(n[r[e]],i[s[e]]);if(0!==a)return a}return J(r.length,s.length)}(e.mapValue,t.mapValue);default:throw O(23264,{he:u})}}function nf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return J(e,t);let n=t0(e),r=t0(t),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function nm(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=nh(n[e],r[e]);if(t)return t}return J(n.length,r.length)}function np(e){var t,n;let r;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(r=t0(e.timestampValue),`time(${r.seconds},${r.nanos})`):"stringValue"in e?e.stringValue:"bytesValue"in e?t6(e.bytesValue).toBase64():"referenceValue"in e?(t=e.referenceValue,er.fromName(t).toString()):"geoPointValue"in e?(n=e.geoPointValue,`geo(${n.latitude},${n.longitude})`):"arrayValue"in e?function(e){let t="[",n=!0;for(let r of e.values||[])n?n=!1:t+=",",t+=np(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){let t=Object.keys(e.fields||{}).sort(),n="{",r=!0;for(let i of t)r?r=!1:n+=",",n+=`${i}:${np(e.fields[i])}`;return n+"}"}(e.mapValue):O(61005,{value:e})}function ng(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function nv(e){return!!e&&"integerValue"in e}function ny(e){return!!e&&"arrayValue"in e}function n_(e){return!!e&&"nullValue"in e}function nb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function nw(e){return!!e&&"mapValue"in e}function nI(e){return(e?.mapValue?.fields||{})[nr]?.stringValue===na}function nx(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return tV(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=nx(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=nx(e.arrayValue.values[n]);return t}return{...e}}function nS(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ni}let nk={mapValue:{fields:{[nr]:{stringValue:na},[no]:{arrayValue:{}}}}};function nE(e,t){let n=nh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function n$(e,t){let n=nh(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class nT{constructor(e){this.value=e}static empty(){return new nT({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(!nw(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nx(t)}setAll(e){let t=en.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=nx(e):r.push(i.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());nw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];nw(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){for(let r of(tV(t,(t,n)=>e[t]=n),n))delete e[r]}clone(){return new nT(nx(this.value))}}class nA{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new nA(e,0,em.min(),em.min(),em.min(),nT.empty(),0)}static newFoundDocument(e,t,n,r){return new nA(e,1,t,em.min(),n,r,0)}static newNoDocument(e,t){return new nA(e,2,t,em.min(),em.min(),nT.empty(),0)}static newUnknownDocument(e,t){return new nA(e,3,t,em.min(),em.min(),nT.empty(),2)}convertToFoundDocument(e,t){return this.createTime.isEqual(em.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nT.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nT.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=em.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nA&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nA(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nC{constructor(e,t){this.position=e,this.inclusive=t}}function nD(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let s=t[i],a=e.position[i];if(r=s.field.isKeyField()?er.comparator(er.fromName(a.referenceValue),n.key):nh(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function nN(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!nc(e.position[n],t.position[n]))return!1;return!0}class nO{constructor(e,t="asc"){this.field=e,this.dir=t}}class nP{}class nR extends nP{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new nV(e,t,n):"array-contains"===t?new nK(e,n):"in"===t?new nG(e,n):"not-in"===t?new nJ(e,n):"array-contains-any"===t?new nW(e,n):new nR(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new nB(e,n):new nZ(e,n)}matches(e){let t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(nh(t,this.value)):null!==t&&nl(this.value)===nl(t)&&this.matchesComparison(nh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nU extends nP{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new nU(e,t)}matches(e){return nL(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nL(e){return"and"===e.op}function nz(e){return"or"===e.op}function nM(e){return nF(e)&&nL(e)}function nF(e){for(let t of e.filters)if(t instanceof nU)return!1;return!0}function nj(e,t){let n=e.filters.concat(t);return nU.create(n,e.op)}class nV extends nR{constructor(e,t,n){super(e,t,n),this.key=er.fromName(n.referenceValue)}matches(e){let t=er.comparator(e.key,this.key);return this.matchesComparison(t)}}class nB extends nR{constructor(e,t){super(e,"in",t),this.keys=nq("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nZ extends nR{constructor(e,t){super(e,"not-in",t),this.keys=nq("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function nq(e,t){return(t.arrayValue?.values||[]).map(e=>er.fromName(e.referenceValue))}class nK extends nR{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ny(t)&&nd(t.arrayValue,this.value)}}class nG extends nR{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return null!==t&&nd(this.value.arrayValue,t)}}class nJ extends nR{constructor(e,t){super(e,"not-in",t)}matches(e){if(nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!nd(this.value.arrayValue,t)}}class nW extends nR{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ny(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>nd(this.value.arrayValue,e))}}class nH{constructor(e,t=null,n=[],r=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.Te=null}}function nQ(e,t=null,n=[],r=[],i=null,s=null,a=null){return new nH(e,t,n,r,i,s,a)}function nX(e){if(null===e.Te){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(e=>(function e(t){if(t instanceof nR)return t.field.canonicalString()+t.op.toString()+np(t.value);if(nM(t))return t.filters.map(t=>e(t)).join(",");{let n=t.filters.map(t=>e(t)).join(",");return`${t.op}(${n})`}})(e)).join(","),t+="|ob:",t+=e.orderBy.map(e=>e.field.canonicalString()+e.dir).join(","),eZ(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>np(e)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>np(e)).join(",")),e.Te=t}return e.Te}function nY(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++){var n,r;if(n=e.orderBy[i],r=t.orderBy[i],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1}if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!function e(t,n){return t instanceof nR?n instanceof nR&&t.op===n.op&&t.field.isEqual(n.field)&&nc(t.value,n.value):t instanceof nU?n instanceof nU&&t.op===n.op&&t.filters.length===n.filters.length&&t.filters.reduce((t,r,i)=>t&&e(r,n.filters[i]),!0):void O(19439)}(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nN(e.startAt,t.startAt)&&nN(e.endAt,t.endAt)}function n0(e){return er.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function n1(e,t){return e.filters.filter(e=>e instanceof nR&&e.field.isEqual(t))}function n6(e,t,n){let r=nu,i=!0;for(let n of n1(e,t)){let e=nu,t=!0;switch(n.op){case"<":case"<=":var s;e="nullValue"in(s=n.value)?nu:"booleanValue"in s?{booleanValue:!1}:"integerValue"in s||"doubleValue"in s?{doubleValue:NaN}:"timestampValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in s?{stringValue:""}:"bytesValue"in s?{bytesValue:""}:"referenceValue"in s?ng(nn.empty(),er.empty()):"geoPointValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in s?{arrayValue:{}}:"mapValue"in s?nI(s)?nk:{mapValue:{}}:O(35942,{value:s});break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value,t=!1;break;case"!=":case"not-in":e=nu}0>nE({value:r,inclusive:i},{value:e,inclusive:t})&&(r=e,i=t)}if(null!==n){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){let e=n.position[s];0>nE({value:r,inclusive:i},{value:e,inclusive:n.inclusive})&&(r=e,i=n.inclusive);break}}return{value:r,inclusive:i}}function n4(e,t,n){let r=ns,i=!0;for(let n of n1(e,t)){let e=ns,t=!0;switch(n.op){case">=":case">":var s;e="nullValue"in(s=n.value)?{booleanValue:!1}:"booleanValue"in s?{doubleValue:NaN}:"integerValue"in s||"doubleValue"in s?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in s?{stringValue:""}:"stringValue"in s?{bytesValue:""}:"bytesValue"in s?ng(nn.empty(),er.empty()):"referenceValue"in s?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in s?{arrayValue:{}}:"arrayValue"in s?nk:"mapValue"in s?nI(s)?{mapValue:{}}:ns:O(61959,{value:s}),t=!1;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value,t=!1;break;case"!=":case"not-in":e=ns}n$({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n){for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){let e=n.position[s];n$({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}}return{value:r,inclusive:i}}class n2{constructor(e,t=null,n=[],r=[],i=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function n3(e){return new n2(e)}function n5(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function n8(e){return null!==e.collectionGroup}function n9(e){if(null===e.Ie){let t;e.Ie=[];let n=new Set;for(let t of e.explicitOrderBy)e.Ie.push(t),n.add(t.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(t=new tG(en.comparator),e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t).forEach(t=>{n.has(t.canonicalString())||t.isKeyField()||e.Ie.push(new nO(t,r))}),n.has(en.keyField().canonicalString())||e.Ie.push(new nO(en.keyField(),r))}return e.Ie}function n7(e){return e.Ee||(e.Ee=re(e,n9(e))),e.Ee}function re(e,t){if("F"===e.limitType)return nQ(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{let t="desc"===e.dir?"asc":"desc";return new nO(e.field,t)});let n=e.endAt?new nC(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new nC(e.startAt.position,e.startAt.inclusive):null;return nQ(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function rt(e,t){let n=e.filters.concat([t]);return new n2(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function rn(e,t,n){return new n2(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rr(e,t){return nY(n7(e),n7(t))&&e.limitType===t.limitType}function ri(e){return`${nX(n7(e))}|lt:${e.limitType}`}function rs(e){var t;let n;return`Query(target=${n=(t=n7(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(e=>(function e(t){return t instanceof nR?`${t.field.canonicalString()} ${t.op} ${np(t.value)}`:t instanceof nU?t.op.toString()+" {"+t.getFilters().map(e).join(" ,")+"}":"Filter"})(e)).join(", ")}]`),eZ(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(e=>`${e.field.canonicalString()} (${e.dir})`).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(e=>np(e)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(e=>np(e)).join(",")),`Target(${n})`}; limitType=${e.limitType})`}function ra(e,t){var n,r,i,s;let a,o,u;return t.isFoundDocument()&&(a=t.key.path,null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(a):er.isDocumentKey(e.path)?e.path.isEqual(a):e.path.isImmediateParentOf(a))&&function(e,t){for(let n of n9(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(n=e,r=t,(!n.startAt||(i=n.startAt,o=nD(i,n9(n),r),i.inclusive?!!(o<=0):!!(o<0)))&&(!n.endAt||(s=n.endAt,u=nD(s,n9(n),r),s.inclusive?!!(u>=0):!!(u>0))))}function ro(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ru(e){return(t,n)=>{let r=!1;for(let i of n9(e)){let e=function(e,t,n){var r;let i,s,a=e.field.isKeyField()?er.comparator(t.key,n.key):(r=e.field,i=t.data.field(r),s=n.data.field(r),null!==i&&null!==s?nh(i,s):O(42886));switch(e.dir){case"asc":return a;case"desc":return -1*a;default:return O(19790,{direction:e.dir})}}(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}class rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return void 0!==this.get(e)}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tV(this.inner,(t,n)=>{for(let[t,r]of n)e(t,r)})}isEmpty(){return tB(this.inner)}size(){return this.innerSize}}let rc=new tZ(er.comparator),rd=new tZ(er.comparator);function rh(...e){let t=rd;for(let n of e)t=t.insert(n.key,n);return t}function rf(e){let t=rd;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function rm(){return new rl(e=>e.toString(),(e,t)=>e.isEqual(t))}let rp=new tZ(er.comparator),rg=new tG(er.comparator);function rv(...e){let t=rg;for(let n of e)t=t.add(n);return t}let ry=new tG(J);function r_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eq(t)?"-0":t}}function rb(e){return{integerValue:""+e}}class rw{constructor(){this._=void 0}}function rI(e,t){return e instanceof rT?nv(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}class rx extends rw{}class rS extends rw{constructor(e){super(),this.elements=e}}function rk(e,t){let n=rC(t);for(let t of e.elements)n.some(e=>nc(e,t))||n.push(t);return{arrayValue:{values:n}}}class rE extends rw{constructor(e){super(),this.elements=e}}function r$(e,t){let n=rC(t);for(let t of e.elements)n=n.filter(e=>!nc(e,t));return{arrayValue:{values:n}}}class rT extends rw{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function rA(e){return t1(e.integerValue||e.doubleValue)}function rC(e){return ny(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class rD{constructor(e,t){this.field=e,this.transform=t}}class rN{constructor(e,t){this.version=e,this.transformResults=t}}class rO{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new rO}static exists(e){return new rO(void 0,e)}static updateTime(e){return new rO(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rP(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class rR{}function rU(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new rZ(e.key,rO.none()):new rM(e.key,e.data,rO.none());{let n=e.data,r=nT.empty(),i=new tG(en.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new rF(e.key,r,new tH(i.toArray()),rO.none())}}function rL(e,t,n,r){return e instanceof rM?function(e,t,n,r){if(!rP(e.precondition,t))return n;let i=e.value.clone(),s=rB(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rF?function(e,t,n,r){if(!rP(e.precondition,t))return n;let i=rB(e.fieldTransforms,r,t),s=t.data;return(s.setAll(rj(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n)?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):rP(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}function rz(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&Q(n,r,(e,t)=>{var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof rS&&r instanceof rS||n instanceof rE&&r instanceof rE?Q(n.elements,r.elements,nc):n instanceof rT&&r instanceof rT?nc(n.Ae,r.Ae):n instanceof rx&&r instanceof rx)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rM extends rR{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rF extends rR{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function rj(e){let t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}}),t}function rV(e,t,n){let r=new Map;R(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let s=0;s<n.length;s++){var i;let a=e[s],o=a.transform,u=t.data.field(a.field);r.set(a.field,(i=n[s],o instanceof rS?rk(o,u):o instanceof rE?r$(o,u):i))}return r}function rB(e,t,n){let r=new Map;for(let i of e){let e=i.transform,s=n.data.field(i.field);r.set(i.field,function(e,t,n){var r;let i,s,a;return e instanceof rx?(r=t,i={fields:{[t2]:{stringValue:t4},[t5]:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}},r&&t8(r)&&(r=t9(r)),r&&(i.fields[t3]=r),{mapValue:i}):e instanceof rS?rk(e,t):e instanceof rE?r$(e,t):(a=rA(s=rI(e,t))+rA(e.Ae),nv(s)&&nv(e.Ae)?rb(a):r_(e.serializer,a))}(e,s,t))}return r}class rZ extends rR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rq extends rR{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class rK{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&function(e,t,n){let r,i;e instanceof rM?(r=e.value.clone(),i=rV(e.fieldTransforms,t,n.transformResults),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()):e instanceof rF?function(e,t,n){if(!rP(e.precondition,t))return t.convertToUnknownDocument(n.version);let r=rV(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(rj(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):t.convertToNoDocument(n.version).setHasCommittedMutations()}(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=rL(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=rL(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=rm();return this.mutations.forEach(r=>{let i=e.get(r.key),s=i.overlayedDocument,a=this.applyToLocalView(s,i.mutatedFields),o=rU(s,a=t.has(r.key)?null:a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(em.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rv())}isEqual(e){return this.batchId===e.batchId&&Q(this.mutations,e.mutations,(e,t)=>rz(e,t))&&Q(this.baseMutations,e.baseMutations,(e,t)=>rz(e,t))}}class rG{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){R(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=rp,i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new rG(e,t,n,r)}}class rJ{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rW{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class rH{constructor(e,t){this.count=e,this.unchangedNames=t}}function rQ(e){switch(e){case U.OK:return O(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return O(15467,{code:e})}}function rX(e){if(void 0===e)return C("GRPC error has no .code"),U.UNKNOWN;switch(e){case d.OK:return U.OK;case d.CANCELLED:return U.CANCELLED;case d.UNKNOWN:return U.UNKNOWN;case d.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case d.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case d.INTERNAL:return U.INTERNAL;case d.UNAVAILABLE:return U.UNAVAILABLE;case d.UNAUTHENTICATED:return U.UNAUTHENTICATED;case d.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case d.NOT_FOUND:return U.NOT_FOUND;case d.ALREADY_EXISTS:return U.ALREADY_EXISTS;case d.PERMISSION_DENIED:return U.PERMISSION_DENIED;case d.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case d.ABORTED:return U.ABORTED;case d.OUT_OF_RANGE:return U.OUT_OF_RANGE;case d.UNIMPLEMENTED:return U.UNIMPLEMENTED;case d.DATA_LOSS:return U.DATA_LOSS;default:return O(39323,{code:e})}}(h=d||(d={}))[h.OK=0]="OK",h[h.CANCELLED=1]="CANCELLED",h[h.UNKNOWN=2]="UNKNOWN",h[h.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",h[h.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",h[h.NOT_FOUND=5]="NOT_FOUND",h[h.ALREADY_EXISTS=6]="ALREADY_EXISTS",h[h.PERMISSION_DENIED=7]="PERMISSION_DENIED",h[h.UNAUTHENTICATED=16]="UNAUTHENTICATED",h[h.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",h[h.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",h[h.ABORTED=10]="ABORTED",h[h.OUT_OF_RANGE=11]="OUT_OF_RANGE",h[h.UNIMPLEMENTED=12]="UNIMPLEMENTED",h[h.INTERNAL=13]="INTERNAL",h[h.UNAVAILABLE=14]="UNAVAILABLE",h[h.DATA_LOSS=15]="DATA_LOSS";let rY=null;function r0(){return new TextEncoder}let r1=new t([0xffffffff,0xffffffff],0);function r6(e){let t=r0().encode(e),r=new n;return r.update(t),new Uint8Array(r.digest())}function r4(e){let n=new DataView(e.buffer),r=n.getUint32(0,!0),i=n.getUint32(4,!0),s=n.getUint32(8,!0),a=n.getUint32(12,!0);return[new t([r,i],0),new t([s,a],0)]}class r2{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new r3(`Invalid padding: ${n}`);if(r<0||e.length>0&&0===this.hashCount)throw new r3(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new r3(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=t.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(t.fromNumber(r)));return 1===i.compare(r1)&&(i=new t([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;let[t,n]=r4(r6(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(e,t,n){let r=new r2(new Uint8Array(Math.ceil(e/8)),e%8==0?0:8-e%8,t);return n.forEach(e=>r.insert(e)),r}insert(e){if(0===this.ge)return;let[t,n]=r4(r6(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.be(r)}}be(e){let t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class r3 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class r5{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let r=new Map;return r.set(e,r8.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new r5(em.min(),r,new tZ(J),rc,rv())}}class r8{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new r8(n,t,rv(),rv(),rv())}}class r9{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.De=r}}class r7{constructor(e,t){this.targetId=e,this.Ce=t}}class ie{constructor(e,t,n=tX.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class it{constructor(){this.ve=0,this.Fe=is(),this.Me=tX.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=rv(),t=rv(),n=rv();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:O(38017,{changeType:i})}}),new r8(this.Me,this.xe,e,t,n)}Ke(){this.Oe=!1,this.Fe=is()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,R(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ir{constructor(e){this.Ge=e,this.ze=new Map,this.je=rc,this.He=ii(),this.Je=ii(),this.Ze=new tZ(J)}Xe(e){for(let t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:O(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let a=r.target;if(n0(a))if(0===n){let e=new er(a.path);this.et(t,e,nA.newNoDocument(e,em.min()))}else R(1===n,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){var i,s;let n,a,o=this.ut(e),u=o?this.ct(o,e,r):1;0!==u&&(this.it(t),this.Ze=this.Ze.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),rY?.lt((i=e.Ce,s=this.Ge.ht(),n={localCacheCount:r,existenceFilterCount:i.count,databaseId:s.database,projectId:s.projectId},(a=i.unchangedNames)&&(n.bloomFilter={applied:0===u,hashCount:a?.hashCount??0,bitmapLength:a?.bits?.bitmap?.length??0,padding:a?.bits?.padding??0,mightContain:e=>o?.mightContain(e)??!1}),n))}}}}ut(e){let t,n,r=e.Ce.unchangedNames;if(!r||!r.bits)return null;let{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=r;try{t=t6(i).toUint8Array()}catch(e){if(e instanceof tQ)return D("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{n=new r2(t,s,a)}catch(e){return D(e instanceof r3?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===n.ge?null:n}ct(e,t,n){return 2*(t.Ce.count!==n-this.Pt(e,t.targetId))}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach(n=>{let i=this.Ge.ht(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){let t=new Map;this.ze.forEach((n,r)=>{let i=this.ot(r);if(i){if(n.current&&n0(i.target)){let t=new er(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,nA.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.Ke())}});let n=rv();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{let t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));let r=new r5(e,t,this.Ze,this.je,n);return this.je=rc,this.He=ii(),this.Je=ii(),this.Ze=new tZ(J),r}Ye(e,t){if(!this.rt(e))return;let n=2*!!this.Et(e,t.key);this.nt(e).qe(t.key,n),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new it,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new tG(J),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new tG(J),this.He=this.He.insert(e,t)),t}rt(e){let t=null!==this.ot(e);return t||A("WatchChangeAggregator","Detected inactive target",e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new it),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ii(){return new tZ(er.comparator)}function is(){return new tZ(er.comparator)}let ia={asc:"ASCENDING",desc:"DESCENDING"},io={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iu={and:"AND",or:"OR"};class il{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ic(e,t){return e.useProto3Json||eZ(t)?t:{value:t}}function id(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ih(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function im(e){let t;return R(!!e,49232),em.fromTimestamp(new ef((t=t0(e)).seconds,t.nanos))}function ip(e,t){return ig(e,t).canonicalString()}function ig(e,t){let n=new ee(["projects",e.projectId,"databases",e.database]).child("documents");return void 0===t?n:n.child(t)}function iv(e){let t=ee.fromString(e);return R(iO(t),10190,{key:t.toString()}),t}function iy(e,t){return ip(e.databaseId,t.path)}function i_(e,t){let n=iv(t);if(n.get(1)!==e.databaseId.projectId)throw new L(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new er(ix(n))}function ib(e,t){return ip(e.databaseId,t)}function iw(e){let t=iv(e);return 4===t.length?ee.emptyPath():ix(t)}function iI(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ix(e){return R(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function iS(e,t,n){return{name:iy(e,t),fields:n.value.mapValue.fields}}function ik(e,t,n){let r=i_(e,t.name),i=im(t.updateTime),s=t.createTime?im(t.createTime):em.min(),a=new nT({mapValue:{fields:t.fields}}),o=nA.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function iE(e,t){var n,r;let i;if(t instanceof rM)i={update:iS(e,t.key,t.value)};else if(t instanceof rZ)i={delete:iy(e,t.key)};else if(t instanceof rF){let n;i={update:iS(e,t.key,t.data),updateMask:(r=t.fieldMask,n=[],r.fields.forEach(e=>n.push(e.canonicalString())),{fieldPaths:n})}}else{if(!(t instanceof rq))return O(16599,{dt:t.type});i={verify:iy(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(e=>(function(e,t){let n=t.transform;if(n instanceof rx)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof rT)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw O(20930,{transform:t.transform})})(0,e))),t.precondition.isNone||(i.currentDocument=void 0!==(n=t.precondition).updateTime?{updateTime:id(e,n.updateTime.toTimestamp())}:void 0!==n.exists?{exists:n.exists}:O(27497)),i}function i$(e,t){var n;let r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?rO.updateTime(im(n.updateTime)):void 0!==n.exists?rO.exists(n.exists):rO.none():rO.none(),i=t.updateTransforms?t.updateTransforms.map(t=>{let n;return n=null,"setToServerValue"in t?(R("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new rx):"appendMissingElements"in t?n=new rS(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new rE(t.removeAllFromArray.values||[]):"increment"in t?n=new rT(e,t.increment):O(16584,{proto:t}),new rD(en.fromServerFormat(t.fieldPath),n)}):[];if(t.update){t.update.name;let n=i_(e,t.update.name),s=new nT({mapValue:{fields:t.update.fields}});return t.updateMask?new rF(n,s,new tH((t.updateMask.fieldPaths||[]).map(e=>en.fromServerFormat(e))),r,i):new rM(n,s,r,i)}return t.delete?new rZ(i_(e,t.delete),r):t.verify?new rq(i_(e,t.verify),r):O(1463,{proto:t})}function iT(e,t){return{documents:[ib(e,t.path)]}}function iA(e,t){var n,r;let i,s={structuredQuery:{}},a=t.path;null!==t.collectionGroup?(i=a,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=ib(e,i);let o=function(e){if(0!==e.length)return function e(t){var n;let r;return t instanceof nR?function(e){if("=="===e.op){if(nb(e.value))return{unaryFilter:{field:iD(e.field),op:"IS_NAN"}};if(n_(e.value))return{unaryFilter:{field:iD(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nb(e.value))return{unaryFilter:{field:iD(e.field),op:"IS_NOT_NAN"}};if(n_(e.value))return{unaryFilter:{field:iD(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iD(e.field),op:io[e.op],value:e.value}}}(t):t instanceof nU?1===(r=(n=t).getFilters().map(t=>e(t))).length?r[0]:{compositeFilter:{op:iu[n.op],filters:r}}:O(54877,{filter:t})}(nU.create(e,"and"))}(t.filters);o&&(s.structuredQuery.where=o);let u=function(e){if(0!==e.length)return e.map(e=>({field:iD(e.field),direction:ia[e.dir]}))}(t.orderBy);u&&(s.structuredQuery.orderBy=u);let l=ic(e,t.limit);return null!==l&&(s.structuredQuery.limit=l),t.startAt&&(s.structuredQuery.startAt={before:(n=t.startAt).inclusive,values:n.position}),t.endAt&&(s.structuredQuery.endAt={before:!(r=t.endAt).inclusive,values:r.position}),{ft:s,parent:i}}function iC(e){var t,n,r;let i,s,a,o,u=iw(e.parent),l=e.structuredQuery,c=l.from?l.from.length:0,d=null;if(c>0){R(1===c,65062);let e=l.from[0];e.allDescendants?d=e.collectionId:u=u.child(e.collectionId)}let h=[];l.where&&(h=(i=function e(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=iN(e.unaryFilter.field);return nR.create(t,"==",{doubleValue:NaN});case"IS_NULL":let n=iN(e.unaryFilter.field);return nR.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=iN(e.unaryFilter.field);return nR.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let i=iN(e.unaryFilter.field);return nR.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return O(61313);default:return O(60726)}}(t):void 0!==t.fieldFilter?nR.create(iN(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return O(58110);default:return O(50506)}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==t.compositeFilter?nU.create(t.compositeFilter.filters.map(t=>e(t)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return O(1026)}}(t.compositeFilter.op)):O(30097,{filter:t})}(l.where))instanceof nU&&nM(i)?i.getFilters():[i]);let f=[];l.orderBy&&(f=l.orderBy.map(e=>new nO(iN(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))));let m=null;l.limit&&(m=eZ(s="object"==typeof(t=l.limit)?t.value:t)?null:s);let p=null;l.startAt&&(a=!!(n=l.startAt).before,p=new nC(n.values||[],a));let g=null;return l.endAt&&(o=!(r=l.endAt).before,g=new nC(r.values||[],o)),new n2(u,d,f,h,m,"F",p,g)}function iD(e){return{fieldPath:e.canonicalString()}}function iN(e){return en.fromServerFormat(e.fieldPath)}function iO(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function iP(e){return!!e&&"function"==typeof e._toProto&&"ProtoValue"===e._protoValueType}class iR{constructor(e,t,n,r,i=em.min(),s=em.min(),a=tX.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new iR(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new iR(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new iR(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new iR(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iU{constructor(e){this.yt=e}}function iL(e,t){let n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:iz(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument()){var i;r.document={name:iy(i=e.yt,t.key),fields:t.data.value.mapValue.fields,updateTime:id(i,t.version.toTimestamp()),createTime:id(i,t.createTime.toTimestamp())}}else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:iM(t.version)};else{if(!t.isUnknownDocument())return O(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:iM(t.version)}}return r}function iz(e){let t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function iM(e){let t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function iF(e){let t=new ef(e.seconds,e.nanoseconds);return em.fromTimestamp(t)}function ij(e,t){let n=(t.baseMutations||[]).map(t=>i$(e.yt,t));for(let e=0;e<t.mutations.length-1;++e){let n=t.mutations[e];e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform&&(n.updateTransforms=t.mutations[e+1].transform.fieldTransforms,t.mutations.splice(e+1,1),++e)}let r=t.mutations.map(t=>i$(e.yt,t)),i=ef.fromMillis(t.localWriteTimeMs);return new rK(t.batchId,i,n,r)}function iV(e){var t;let n,r=iF(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?iF(e.lastLimboFreeSnapshotVersion):em.min();return new iR(void 0!==e.query.documents?(R(1===(n=(t=e.query).documents.length),1966,{count:n}),n7(n3(iw(t.documents[0])))):n7(iC(e.query)),e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,tX.fromBase64String(e.resumeToken))}function iB(e,t){let n,r=iM(t.snapshotVersion),i=iM(t.lastLimboFreeSnapshotVersion);n=n0(t.target)?iT(e.yt,t.target):iA(e.yt,t.target).ft;let s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:nX(t.target),readTime:r,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function iZ(e){let t=iC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?rn(t,t.limit,"L"):t}function iq(e,t){return new rJ(t.largestBatchId,i$(e.yt,t.overlayMutation))}function iK(e,t){let n=t.path.lastSegment();return[e,eG(t.path.popLast()),n]}function iG(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:iM(r.readTime),documentKey:eG(r.documentKey.path),largestBatchId:r.largestBatchId}}class iJ{getBundleMetadata(e,t){return tF(e,tp).get(t).next(e=>{if(e)return{id:e.bundleId,createTime:iF(e.createTime),version:e.version}})}saveBundleMetadata(e,t){return tF(e,tp).put({bundleId:t.id,createTime:iM(im(t.createTime)),version:t.version})}getNamedQuery(e,t){return tF(e,tg).get(t).next(e=>{if(e)return{name:e.name,query:iZ(e.bundledQuery),readTime:iF(e.readTime)}})}saveNamedQuery(e,t){return tF(e,tg).put({name:t.name,readTime:iM(im(t.readTime)),bundledQuery:t.bundledQuery})}}class iW{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){return new iW(e,t.uid||"")}getOverlay(e,t){return tF(e,t$).get(iK(this.userId,t)).next(e=>e?iq(this.serializer,e):null)}getOverlays(e,t){let n=rm();return eT.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){let r=[];return n.forEach((n,i)=>{let s=new rJ(t,i);r.push(this.bt(e,s))}),eT.waitFor(r)}removeOverlaysForBatchId(e,t,n){let r=new Set;t.forEach(e=>r.add(eG(e.getCollectionPath())));let i=[];return r.forEach(t=>{let r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(tF(e,t$).X(tA,r))}),eT.waitFor(i)}getOverlaysForCollection(e,t,n){let r=rm(),i=eG(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,1/0],!0);return tF(e,t$).H(tA,s).next(e=>{for(let t of e){let e=iq(this.serializer,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){let i,s=rm(),a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,1/0],!0);return tF(e,t$).ee({index:tD,range:a},(e,t,n)=>{let a=iq(this.serializer,t);s.size()<r||a.largestBatchId===i?(s.set(a.getKey(),a),i=a.largestBatchId):n.done()}).next(()=>s)}bt(e,t){return tF(e,t$).put(function(e,t,n){let[r,i,s]=iK(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:iE(e.yt,n.mutation)}}(this.serializer,this.userId,t))}}class iH{St(e){return tF(e,tO)}getSessionToken(e){return this.St(e).get("sessionToken").next(e=>{let t=e?.value;return t?tX.fromUint8Array(t):tX.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class iQ{Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(+!!e.booleanValue);else if("integerValue"in e)this.Ft(t,15),t.Mt(t1(e.integerValue));else if("doubleValue"in e){let n=t1(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),eq(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=t0(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(t6(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?nS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):nI(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):O(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){let n=e.fields||{};for(let e of(this.Ft(t,55),Object.keys(n)))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=n[no].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(t1(r)),this.Ot(no,t),this.Ct(n[no],t)}qt(e,t){let n=e.values||[];for(let e of(this.Ft(t,50),n))this.Ct(e,t)}Lt(e,t){this.Ft(t,37),er.fromName(e).path.forEach(e=>{this.Ft(t,60),this.$t(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}function iX(e){return Math.ceil((64-function(e){let t=0;for(let n=0;n<8;++n){let r=function(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}(255&e[n]);if(t+=r,8!==r)break}return t}(e))/8)}iQ.Wt=new iQ;class iY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){let t=e[Symbol.iterator](),n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){let t=e[Symbol.iterator](),n=t.next();for(;!n.done;)this.Ht(n.value),n=t.next();this.Jt()}Zt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.Gt(e);else if(e<2048)this.Gt(960|e>>>6),this.Gt(128|63&e);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e);else{let e=t.codePointAt(0);this.Gt(240|e>>>18),this.Gt(128|63&e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e)}}this.zt()}Xt(e){for(let t of e){let e=t.charCodeAt(0);if(e<128)this.Ht(e);else if(e<2048)this.Ht(960|e>>>6),this.Ht(128|63&e);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|e>>>12),this.Ht(128|63&e>>>6),this.Ht(128|63&e);else{let e=t.codePointAt(0);this.Ht(240|e>>>18),this.Ht(128|63&e>>>12),this.Ht(128|63&e>>>6),this.Ht(128|63&e)}}this.Jt()}Yt(e){let t=this.en(e),n=iX(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}nn(e){let t=this.en(e),n=iX(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}rn(){this.sn(255),this.sn(255)}_n(){this.an(255),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){let t,n=((t=new DataView(new ArrayBuffer(8))).setFloat64(0,e,!1),new Uint8Array(t.buffer)),r=!!(128&n[0]);n[0]^=r?255:128;for(let e=1;e<n.length;++e)n[e]^=255*!!r;return n}Gt(e){let t=255&e;0===t?(this.sn(0),this.sn(255)):255===t?(this.sn(255),this.sn(0)):this.sn(t)}Ht(e){let t=255&e;0===t?(this.an(0),this.an(255)):255===t?(this.an(255),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){let t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);let r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class i0{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class i1{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class i6{constructor(){this.cn=new iY,this.ascending=new i0(this.cn),this.descending=new i1(this.cn)}seed(e){this.cn.seed(e)}ln(e){return 0===e?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class i4{constructor(e,t,n,r){this.hn=e,this.Pn=t,this.Tn=n,this.In=r}En(){let e=this.In.length,t=0===e||255===this.In[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.In,0),t!==e?n.set([0],this.In.length):++n[n.length-1],new i4(this.hn,this.Pn,this.Tn,n)}Rn(e,t,n){return{indexId:this.hn,uid:e,arrayValue:i5(this.Tn),directionalValue:i5(this.In),orderedDocumentKey:i5(t),documentKey:n.path.toArray()}}An(e,t,n){let r=this.Rn(e,t,n);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function i2(e,t){let n=e.hn-t.hn;return 0!==n||0!==(n=i3(e.Tn,t.Tn))||0!==(n=i3(e.In,t.In))?n:er.comparator(e.Pn,t.Pn)}function i3(e,t){for(let n=0;n<e.length&&n<t.length;++n){let r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}function i5(e){return(0,_.isSafariOrWebkit)()?function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):e}function i8(e){return"string"!=typeof e?e:function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)}class i9{constructor(e){for(const t of(this.Vn=new tG((e,t)=>en.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[],e.filters))t.isInequality()?this.Vn=this.Vn.add(t):this.mn.push(t)}get fn(){return this.Vn.size>1}gn(e){if(R(e.collectionGroup===this.collectionId,49279),this.fn)return!1;let t=eg(e);if(void 0!==t&&!this.pn(t))return!1;let n=ev(e),r=new Set,i=0,s=0;for(;i<n.length&&this.pn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Vn.size>0){let e=this.Vn.getIterator().getNext();if(!r.has(e.field.canonicalString())){let t=n[i];if(!this.yn(e,t)||!this.wn(this.dn[s++],t))return!1}++i}for(;i<n.length;++i){let e=n[i];if(s>=this.dn.length||!this.wn(this.dn[s++],e))return!1}return!0}bn(){if(this.fn)return null;let e=new tG(en.comparator),t=[];for(let n of this.mn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new e_(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new e_(n.field,0))}for(let n of this.dn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new e_(n.field,+("asc"!==n.dir))));return new ep(ep.UNKNOWN_ID,this.collectionId,t,eb.empty())}pn(e){for(let t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;let n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function i7(e){return e instanceof nR}function se(e){return e instanceof nU&&nM(e)}function st(e){return i7(e)||se(e)||function(e){if(e instanceof nU&&nz(e)){for(let t of e.getFilters())if(!i7(t)&&!se(t))return!1;return!0}return!1}(e)}function sn(e,t){return R(e instanceof nR||e instanceof nU,38388),R(t instanceof nR||t instanceof nU,25473),si(e instanceof nR?t instanceof nR?nU.create([e,t],"and"):sr(e,t):t instanceof nR?sr(t,e):function(e,t){if(R(e.filters.length>0&&t.filters.length>0,48005),nL(e)&&nL(t))return nj(e,t.getFilters());let n=nz(e)?e:t,r=nz(e)?t:e,i=n.filters.map(e=>sn(e,r));return nU.create(i,"or")}(e,t))}function sr(e,t){if(nL(t))return nj(t,e.getFilters());{let n=t.filters.map(t=>sn(e,t));return nU.create(n,"or")}}function si(e){if(R(e instanceof nR||e instanceof nU,11850),e instanceof nR)return e;let t=e.getFilters();if(1===t.length)return si(t[0]);if(nF(e))return e;let n=t.map(e=>si(e)),r=[];return n.forEach(t=>{t instanceof nR?r.push(t):t instanceof nU&&(t.op===e.op?r.push(...t.filters):r.push(t))}),1===r.length?r[0]:nU.create(r,e.op)}class ss{constructor(){this.Sn=new sa}addToCollectionParentIndex(e,t){return this.Sn.add(t),eT.resolve()}getCollectionParents(e,t){return eT.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return eT.resolve()}deleteFieldIndex(e,t){return eT.resolve()}deleteAllFieldIndexes(e){return eT.resolve()}createTargetIndexes(e,t){return eT.resolve()}getDocumentsMatchingTarget(e,t){return eT.resolve(null)}getIndexType(e,t){return eT.resolve(0)}getFieldIndexes(e,t){return eT.resolve([])}getNextCollectionGroupToUpdate(e){return eT.resolve(null)}getMinOffset(e,t){return eT.resolve(ex.min())}getMinOffsetFromCollectionGroup(e,t){return eT.resolve(ex.min())}updateCollectionGroup(e,t,n){return eT.resolve()}updateIndexEntries(e,t){return eT.resolve()}}class sa{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new tG(ee.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new tG(ee.comparator)).toArray()}}let so="IndexedDbIndexManager",su=new Uint8Array(0);class sl{constructor(e,t){this.databaseId=t,this.Dn=new sa,this.Cn=new rl(e=>nX(e),(e,t)=>nY(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){let n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Dn.add(t)});let i={collectionId:n,parent:eG(r)};return tF(e,th).put(i)}return eT.resolve()}getCollectionParents(e,t){let n=[],r=IDBKeyRange.bound([t,""],[t+"\0",""],!1,!0);return tF(e,th).H(r).next(e=>{for(let r of e){if(r.collectionId!==t)break;n.push(eJ(r.parent))}return n})}addFieldIndex(e,t){let n=tF(e,tv),r={indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])};delete r.indexId;let i=n.add(r);if(t.indexState){let n=tF(e,t_);return i.next(e=>{n.put(iG(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){let n=tF(e,tv),r=tF(e,t_),i=tF(e,tx);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let t=tF(e,tv),n=tF(e,tx),r=tF(e,t_);return t.X().next(()=>n.X()).next(()=>r.X())}createTargetIndexes(e,t){return eT.forEach(this.vn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){let n=new i9(t).bn();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){let n=tF(e,tx),r=!0,i=new Map;return eT.forEach(this.vn(t),t=>this.Fn(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=rv(),r=[];return eT.forEach(i,(i,s)=>{A(so,`Using index id=${i.indexId}|cg=${i.collectionGroup}|f=${i.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")} to execute ${nX(t)}`);let a=function(e,t){let n=eg(t);if(void 0===n)return null;for(let t of n1(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(s,i),o=function(e,t){let n=new Map;for(let r of ev(t))for(let t of n1(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),u=function(e,t){let n=[],r=!0;for(let i of ev(t)){let t=0===i.kind?n6(e,i.fieldPath,e.startAt):n4(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new nC(n,r)}(s,i),l=function(e,t){let n=[],r=!0;for(let i of ev(t)){let t=0===i.kind?n4(e,i.fieldPath,e.endAt):n6(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new nC(n,r)}(s,i),c=this.Mn(i,s,u),d=this.Mn(i,s,l),h=this.xn(i,s,o),f=this.On(i.indexId,a,c,u.inclusive,d,l.inclusive,h);return eT.forEach(f,i=>n.Z(i,t.limit).next(t=>{t.forEach(t=>{let n=er.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return eT.resolve(null)})}vn(e){let t=this.Cn.get(e);return t||(t=0===e.filters.length?[e]:(function(e){if(0===e.getFilters().length)return[];let t=function e(t){if(R(t instanceof nR||t instanceof nU,34018),t instanceof nR)return t;if(1===t.filters.length)return e(t.filters[0]);let n=t.filters.map(t=>e(t)),r=nU.create(n,t.op);return st(r=si(r))?r:(R(r instanceof nU,64498),R(nL(r),40251),R(r.filters.length>1,57927),r.filters.reduce((e,t)=>sn(e,t)))}(function e(t){if(R(t instanceof nR||t instanceof nU,20012),t instanceof nR){if(t instanceof nG){let e=t.value.arrayValue?.values?.map(e=>nR.create(t.field,"==",e))||[];return nU.create(e,"or")}return t}let n=t.filters.map(t=>e(t));return nU.create(n,t.op)}(e));return R(st(t),7391),i7(t)||se(t)?[t]:t.getFilters()})(nU.create(e.filters,"and")).map(t=>nQ(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,t)),t}On(e,t,n,r,i,s,a){let o=(null!=t?t.length:1)*Math.max(n.length,i.length),u=o/(null!=t?t.length:1),l=[];for(let c=0;c<o;++c){let o=t?this.Nn(t[c/u]):su,d=this.Bn(e,o,n[c%u],r),h=this.Ln(e,o,i[c%u],s),f=a.map(t=>this.Bn(e,o,t,!0));l.push(...this.createRange(d,h,f))}return l}Bn(e,t,n,r){let i=new i4(e,er.empty(),t,n);return r?i:i.En()}Ln(e,t,n,r){let i=new i4(e,er.empty(),t,n);return r?i.En():i}Fn(e,t){let n=new i9(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(let r of e)n.gn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2,r=this.vn(t);return eT.forEach(r,t=>this.Fn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new tG(en.comparator),n=!1;for(let r of e.filters)for(let e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(let n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+ +!!n}(t)&&(n=1):n=0})).next(()=>null!==t.limit&&r.length>1&&2===n?1:n)}kn(e,t){let n=new i6;for(let r of ev(e)){let e=t.data.field(r.fieldPath);if(null==e)return null;let i=n.ln(r.kind);iQ.Wt.Dt(e,i)}return n.un()}Nn(e){let t=new i6;return iQ.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){let n,r=new i6;return iQ.Wt.Dt(ng(this.databaseId,t),r.ln(0===(n=ev(e)).length?0:n[n.length-1].kind)),r.un()}xn(e,t,n){if(null===n)return[];let r=[];r.push(new i6);let i=0;for(let s of ev(e)){let e=n[i++];for(let n of r)if(this.qn(t,s.fieldPath)&&ny(e))r=this.Un(r,s,e);else{let t=n.ln(s.kind);iQ.Wt.Dt(e,t)}}return this.$n(r)}Mn(e,t,n){return this.xn(e,t,n.position)}$n(e){let t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Un(e,t,n){let r=[...e],i=[];for(let e of n.arrayValue.values||[])for(let n of r){let r=new i6;r.seed(n.un()),iQ.Wt.Dt(e,r.ln(t.kind)),i.push(r)}return i}qn(e,t){return!!e.filters.find(e=>e instanceof nR&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){let n=tF(e,tv),r=tF(e,t_);return(t?n.H(ty,IDBKeyRange.bound(t,t)):n.H()).next(e=>{let t=[];return eT.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{let r,i;t.push((r=n?new eb(n.sequenceNumber,new ex(iF(n.readTime),new er(eJ(n.documentKey)),n.largestBatchId)):eb.empty(),i=e.fields.map(([e,t])=>new e_(en.fromServerFormat(e),t)),new ep(e.indexId,e.collectionGroup,i,r)))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{let n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:J(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){let r=tF(e,tv),i=tF(e,t_);return this.Wn(e).next(e=>r.H(ty,IDBKeyRange.bound(t,t)).next(t=>eT.forEach(t,t=>i.put(iG(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){let n=new Map;return eT.forEach(t,(t,r)=>{let i=n.get(t.collectionGroup);return(i?eT.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),eT.forEach(i,n=>this.Qn(e,t,n).next(t=>{let i=this.Gn(r,n);return t.isEqual(i)?eT.resolve():this.zn(e,r,n,t,i)}))))})}jn(e,t,n,r){return tF(e,tx).put(r.Rn(this.uid,this.Kn(n,t.key),t.key))}Hn(e,t,n,r){return tF(e,tx).delete(r.An(this.uid,this.Kn(n,t.key),t.key))}Qn(e,t,n){let r=tF(e,tx),i=new tG(i2);return r.ee({index:tk,range:IDBKeyRange.only([n.indexId,this.uid,i5(this.Kn(n,t))])},(e,r)=>{i=i.add(new i4(n.indexId,t,i8(r.arrayValue),i8(r.directionalValue)))}).next(()=>i)}Gn(e,t){let n=new tG(i2),r=this.kn(t,e);if(null==r)return n;let i=eg(t);if(null!=i){let s=e.data.field(i.fieldPath);if(ny(s))for(let i of s.arrayValue.values||[])n=n.add(new i4(t.indexId,e.key,this.Nn(i),r))}else n=n.add(new i4(t.indexId,e.key,su,r));return n}zn(e,t,n,r,i){A(so,"Updating index entries for document '%s'",t.key);let s=[];return function(e,t,n,r,i){let s=e.getIterator(),a=t.getIterator(),o=tW(s),u=tW(a);for(;o||u;){let e=!1,t=!1;if(o&&u){let r=n(o,u);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(u),u=tW(a)):t?(i(o),o=tW(s)):(o=tW(s),u=tW(a))}}(r,i,i2,r=>{s.push(this.jn(e,t,n,r))},r=>{s.push(this.Hn(e,t,n,r))}),eT.waitFor(s)}Wn(e){let t=1;return tF(e,t_).ee({index:tw,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>i2(e,t)).filter((e,t,n)=>!t||0!==i2(e,n[t-1]));let r=[];for(let i of(r.push(e),n)){let n=i2(i,e),s=i2(i,t);if(0===n)r[0]=e.En();else if(n>0&&s<0)r.push(i),r.push(i.En());else if(s>0)break}r.push(t);let i=[];for(let e=0;e<r.length;e+=2){if(this.Jn(r[e],r[e+1]))return[];let t=r[e].An(this.uid,su,er.empty()),n=r[e+1].An(this.uid,su,er.empty());i.push(IDBKeyRange.bound(t,n))}return i}Jn(e,t){return i2(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sc)}getMinOffset(e,t){return eT.mapArray(this.vn(t),t=>this.Fn(e,t).next(e=>e||O(44426))).next(sc)}}function sc(e){R(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){let i=e[r].indexState.offset;0>eS(i,t)&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ex(t.readTime,t.documentKey,n)}let sd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sh{static withCacheSize(e){return new sh(e,sh.DEFAULT_COLLECTION_PERCENTILE,sh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function sf(e,t,n){let r=e.store(eY),i=e.store(e2),s=[],a=IDBKeyRange.only(n.batchId),o=0,u=r.ee({range:a},(e,t,n)=>(o++,n.delete()));s.push(u.next(()=>{R(1===o,47070,{batchId:n.batchId})}));let l=[];for(let e of n.mutations){var c,d;let r=(c=e.key.path,d=n.batchId,[t,eG(c),d]);s.push(i.delete(r)),l.push(e.key)}return eT.waitFor(s).next(()=>l)}function sm(e){let t;if(!e)return 0;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw O(14731);t=e.noDocument}return JSON.stringify(t).length}sh.DEFAULT_COLLECTION_PERCENTILE=10,sh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sh.DEFAULT=new sh(0x2800000,sh.DEFAULT_COLLECTION_PERCENTILE,sh.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sh.DISABLED=new sh(-1,0,0);class sp{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Zn={}}static wt(e,t,n,r){return R(""!==e.uid,64387),new sp(e.isAuthenticated()?e.uid:"",t,n,r)}checkEmpty(e){let t=!0,n=IDBKeyRange.bound([this.userId,-1/0],[this.userId,1/0]);return sv(e).ee({index:e1,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){let i=tF(e,e2),s=sv(e);return s.add({}).next(a=>{var o,u,l,c;let d,h;R("number"==typeof a,49019);let f=new rK(a,t,n,r),m=(o=this.serializer,u=this.userId,d=f.baseMutations.map(e=>iE(o.yt,e)),h=f.mutations.map(e=>iE(o.yt,e)),{userId:u,batchId:f.batchId,localWriteTimeMs:f.localWriteTime.toMillis(),baseMutations:d,mutations:h}),p=[],g=new tG((e,t)=>J(e.canonicalString(),t.canonicalString()));for(let e of r){let t=(l=this.userId,c=e.key.path,[l,eG(c),a]);g=g.add(e.key.path.popLast()),p.push(s.put(m)),p.push(i.put(t,e4))}return g.forEach(t=>{p.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Zn[a]=f.keys()}),eT.waitFor(p).next(()=>f)})}lookupMutationBatch(e,t){return sv(e).get(t).next(e=>e?(R(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),ij(this.serializer,e)):null)}Xn(e,t){return this.Zn[t]?eT.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){let n=e.keys();return this.Zn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]),i=null;return sv(e).ee({index:e1,range:r},(e,t,r)=>{t.userId===this.userId&&(R(t.batchId>=n,47524,{Yn:n}),i=ij(this.serializer,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,1/0]),n=-1;return sv(e).ee({index:e1,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,1/0]);return sv(e).H(e1,t).next(e=>e.map(e=>ij(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){let n=[this.userId,eG(t.path)],r=IDBKeyRange.lowerBound(n),i=[];return tF(e,e2).ee({range:r},(n,r,s)=>{let[a,o,u]=n,l=eJ(o);if(a===this.userId&&t.path.isEqual(l))return sv(e).get(u).next(e=>{if(!e)throw O(61480,{er:n,batchId:u});R(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:u}),i.push(ij(this.serializer,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new tG(J),r=[];return t.forEach(t=>{let i=[this.userId,eG(t.path)],s=IDBKeyRange.lowerBound(i),a=tF(e,e2).ee({range:s},(e,r,i)=>{let[s,a,o]=e,u=eJ(a);s===this.userId&&t.path.isEqual(u)?n=n.add(o):i.done()});r.push(a)}),eT.waitFor(r).next(()=>this.tr(e,n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=[this.userId,eG(n)],s=IDBKeyRange.lowerBound(i),a=new tG(J);return tF(e,e2).ee({range:s},(e,t,i)=>{let[s,o,u]=e,l=eJ(o);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(a=a.add(u)):i.done()}).next(()=>this.tr(e,a))}tr(e,t){let n=[],r=[];return t.forEach(t=>{r.push(sv(e).get(t).next(e=>{if(null===e)throw O(35274,{batchId:t});R(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(ij(this.serializer,e))}))}),eT.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return sf(e.le,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.nr(t.batchId)}),eT.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return eT.resolve();let n=IDBKeyRange.lowerBound([this.userId]),r=[];return tF(e,e2).ee({range:n},(e,t,n)=>{if(e[0]===this.userId){let t=eJ(e[1]);r.push(t)}else n.done()}).next(()=>{R(0===r.length,56720,{rr:r.map(e=>e.canonicalString())})})})}containsKey(e,t){return sg(e,this.userId,t)}ir(e){return tF(e,eX).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sg(e,t,n){let r=[t,eG(n.path)],i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return tF(e,e2).ee({range:s,Y:!0},(e,n,r)=>{let[s,o,u]=e;s===t&&o===i&&(a=!0),r.done()}).next(()=>a)}function sv(e){return tF(e,eY)}class sy{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new sy(0)}static ar(){return new sy(-1)}}class s_{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next(t=>{let n=new sy(t.highestTargetId);return t.highestTargetId=n.next(),this.cr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.ur(e).next(e=>em.fromTimestamp(new ef(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.ur(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.ur(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.cr(e,r)))}addTargetData(e,t){return this.lr(e,t).next(()=>this.ur(e).next(n=>(n.targetCount+=1,this.hr(t,n),this.cr(e,n))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>tF(e,tr).delete(t.targetId)).next(()=>this.ur(e)).next(t=>(R(t.targetCount>0,8065),t.targetCount-=1,this.cr(e,t)))}removeTargets(e,t,n){let r=0,i=[];return tF(e,tr).ee((s,a)=>{let o=iV(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))}).next(()=>eT.waitFor(i)).next(()=>r)}forEachTarget(e,t){return tF(e,tr).ee((e,n)=>{t(iV(n))})}ur(e){return tF(e,td).get(tc).next(e=>(R(null!==e,2888),e))}cr(e,t){return tF(e,td).put(tc,t)}lr(e,t){return tF(e,tr).put(iB(this.serializer,t))}hr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.ur(e).next(e=>e.targetCount)}getTargetData(e,t){let n=nX(t),r=IDBKeyRange.bound([n,-1/0],[n,1/0]),i=null;return tF(e,tr).ee({range:r,index:ti},(e,n,r)=>{let s=iV(n);nY(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){let r=[],i=sb(e);return t.forEach(t=>{let s=eG(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))}),eT.waitFor(r)}removeMatchingKeys(e,t,n){let r=sb(e);return eT.forEach(t,t=>{let i=eG(t.path);return eT.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){let n=sb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){let n=IDBKeyRange.bound([t],[t+1],!1,!0),r=sb(e),i=rv();return r.ee({range:n,Y:!0},(e,t,n)=>{let r=new er(eJ(e[1]));i=i.add(r)}).next(()=>i)}containsKey(e,t){let n=eG(t.path),r=IDBKeyRange.bound([n],[n+"\0"],!1,!0),i=0;return sb(e).ee({index:tu,Y:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}At(e,t){return tF(e,tr).get(t).next(e=>e?iV(e):null)}}function sb(e){return tF(e,ta)}let sw="LruGarbageCollector";function sI([e,t],[n,r]){let i=J(e,n);return 0===i?J(t,r):i}class sx{constructor(e){this.Pr=e,this.buffer=new tG(sI),this.Tr=0}Ir(){return++this.Tr}Er(e){let t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();0>sI(t,e)&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sS{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Ar(e){A(sw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){eR(e)?A(sw,"Ignoring IndexedDB error during garbage collection: ",e):await e$(e)}await this.Ar(3e5)})}}class sk{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return eT.resolve(eB.ce);let n=new sx(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.mr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return -1===this.params.cacheSizeCollectionThreshold?(A("LruGarbageCollector","Garbage collection skipped; disabled"),eT.resolve(sd)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(A("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sd):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let n,r,i,s,a,o,u,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(A("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(u=Date.now(),T()<=I.LogLevel.DEBUG&&A("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-l}ms
	Determined least recently used ${r} in `+(a-s)+"ms\n"+`	Removed ${i} targets in `+(o-a)+"ms\n"+`	Removed ${e} documents in `+(u-o)+"ms\n"+`Total Duration: ${u-l}ms`),eT.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class sE{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new sk(e,t)}(this,t)}dr(e){let t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,(e,n)=>t(n))}addReference(e,t,n){return s$(e,n)}removeReference(e,t,n){return s$(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return s$(e,t)}wr(e,t){let n;return n=!1,tF(e,eX).te(r=>sg(e,r,t).next(e=>(e&&(n=!0),eT.resolve(!e)))).next(()=>n)}removeOrphanedDocuments(e,t){let n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],i=0;return this.yr(e,(s,a)=>{if(a<=t){let t=this.wr(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s,em.min()),sb(e).delete([0,eG(s.path)])))});r.push(t)}}).next(()=>eT.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return s$(e,t)}yr(e,t){let n=sb(e),r,i=eB.ce;return n.ee({index:tu},([e,n],{path:s,sequenceNumber:a})=>{0===e?(i!==eB.ce&&t(new er(eJ(r)),i),i=a,r=s):i=eB.ce}).next(()=>{i!==eB.ce&&t(new er(eJ(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function s$(e,t){var n;return sb(e).put((n=e.currentSequenceNumber,{targetId:0,path:eG(t.path),sequenceNumber:n}))}class sT{constructor(){this.changes=new rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nA.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return void 0!==n?eT.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return tF(e,e3).put(n)}removeEntry(e,t,n){let r;return tF(e,e3).delete([(r=t.path.toArray()).slice(0,r.length-2),r[r.length-2],iz(n),r[r.length-1]])}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.br(e,n)))}getEntry(e,t){let n=nA.newInvalidDocument(t);return tF(e,e3).ee({index:e8,range:IDBKeyRange.only(sD(t))},(e,r)=>{n=this.Sr(t,r)}).next(()=>n)}Dr(e,t){let n={size:0,document:nA.newInvalidDocument(t)};return tF(e,e3).ee({index:e8,range:IDBKeyRange.only(sD(t))},(e,r)=>{n={document:this.Sr(t,r),size:sm(r)}}).next(()=>n)}getEntries(e,t){let n=rc;return this.Cr(e,t,(e,t)=>{let r=this.Sr(e,t);n=n.insert(e,r)}).next(()=>n)}vr(e,t){let n=rc,r=new tZ(er.comparator);return this.Cr(e,t,(e,t)=>{let i=this.Sr(e,t);n=n.insert(e,i),r=r.insert(e,sm(t))}).next(()=>({documents:n,Fr:r}))}Cr(e,t,n){if(t.isEmpty())return eT.resolve();let r=new tG(sO);t.forEach(e=>r=r.add(e));let i=IDBKeyRange.bound(sD(r.first()),sD(r.last())),s=r.getIterator(),a=s.getNext();return tF(e,e3).ee({index:e8,range:i},(e,t,r)=>{let i=er.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&0>sO(a,i);)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.j(sD(a)):r.done()}).next(()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,n,r,i){let s=t.path,a=[s.popLast().toArray(),s.lastSegment(),iz(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tF(e,e3).H(IDBKeyRange.bound(a,o,!0)).next(e=>{i?.incrementDocumentReadCount(e.length);let n=rc;for(let i of e){let e=this.Sr(er.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(ra(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,r){let i=rc,s=sN(t,n),a=sN(t,ex.max());return tF(e,e3).ee({index:e7,range:IDBKeyRange.bound(s,a,!0)},(e,t,n)=>{let s=this.Sr(er.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(i=i.insert(s.key,s)).size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new sC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return tF(e,tt).get(tn).next(e=>(R(!!e,20021),e))}br(e,t){return tF(e,tt).put(tn,t)}Sr(e,t){if(t){let e=function(e,t){var n;let r,i;if(t.document)r=ik(e.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){let e=er.fromSegments(t.noDocument.path),n=iF(t.noDocument.readTime);r=nA.newNoDocument(e,n),t.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!t.unknownDocument)return O(56709);{let e=er.fromSegments(t.unknownDocument.path),n=iF(t.unknownDocument.version);r=nA.newUnknownDocument(e,n)}}return t.readTime&&r.setReadTime((i=new ef((n=t.readTime)[0],n[1]),em.fromTimestamp(i))),r}(this.serializer,t);if(!(e.isNoDocument()&&e.version.isEqual(em.min())))return e}return nA.newInvalidDocument(e)}}class sC extends sT{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new rl(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){let t=[],n=0,r=new tG((e,t)=>J(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{let a=this.Or.get(i);if(t.push(this.Mr.removeEntry(e,i,a.readTime)),s.isValidDocument()){let o=iL(this.Mr.serializer,s);r=r.add(i.path.popLast());let u=sm(o);n+=u-a.size,t.push(this.Mr.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){let n=iL(this.Mr.serializer,s.convertToNoDocument(em.min()));t.push(this.Mr.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Mr.updateMetadata(e,n)),eT.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next(e=>(this.Or.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Mr.vr(e,t).next(({documents:e,Fr:t})=>(t.forEach((t,n)=>{this.Or.set(t,{size:n,readTime:e.get(t).readTime})}),e))}}function sD(e){let t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function sN(e,t){let n=t.documentKey.path.toArray();return[e,iz(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function sO(e,t){let n=e.path.toArray(),r=t.path.toArray(),i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e)if(i=J(n[e],r[e]))return i;return(i=J(n.length,r.length))||(i=J(n[n.length-2],r[r.length-2]))||J(n[n.length-1],r[r.length-1])}class sP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sR{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&rL(n.mutation,e,tH.empty(),ef.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,rv()).next(()=>t))}getLocalViewOfDocuments(e,t,n=rv()){let r=rm();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=rh();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){let n=rm();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,rv()))}populateOverlays(e,t,n){let r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=rc,s=rm(),a=rm();return t.forEach((e,t)=>{let a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof rF)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),rL(a.mutation,t,a.mutation.getFieldMask(),ef.now())):s.set(t.key,tH.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>a.set(e,new sP(t,s.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){let n=rm(),r=new tZ((e,t)=>e-t),i=rv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(let i of e)i.keys().forEach(e=>{let s=t.get(e);if(null===s)return;let a=n.get(e)||tH.empty();a=i.applyToLocalView(s,a),n.set(e,a);let o=(r.get(i.batchId)||rv()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let r=a.getNext(),o=r.key,u=r.value,l=rm();u.forEach(e=>{if(!i.has(e)){let r=rU(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,l))}return eT.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return er.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):n8(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{let s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):eT.resolve(rm()),a=-1,o=i;return s.next(t=>eT.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?eT.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,rv())).next(e=>({batchId:a,changes:rf(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new er(t)).next(e=>{let t=rh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,s=rh();return this.indexManager.getCollectionParents(e,i).next(a=>eT.forEach(a,a=>{let o=new n2(a.child(i),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{let r=n.getKey();null===e.get(r)&&(e=e.insert(r,nA.newInvalidDocument(r)))});let n=rh();return e.forEach((e,r)=>{let s=i.get(e);void 0!==s&&rL(s.mutation,r,tH.empty(),ef.now()),ra(t,r)&&(n=n.insert(e,r))}),n})}}class sU{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return eT.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,{id:t.id,version:t.version,createTime:im(t.createTime)}),eT.resolve()}getNamedQuery(e,t){return eT.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,{name:t.name,query:iZ(t.bundledQuery),readTime:im(t.readTime)}),eT.resolve()}}class sL{constructor(){this.overlays=new tZ(er.comparator),this.Lr=new Map}getOverlay(e,t){return eT.resolve(this.overlays.get(t))}getOverlays(e,t){let n=rm();return eT.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.bt(e,t,r)}),eT.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.Lr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Lr.delete(n)),eT.resolve()}getOverlaysForCollection(e,t,n){let r=rm(),i=t.length+1,s=new er(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return eT.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new tZ((e,t)=>e-t),s=this.overlays.getIterator();for(;s.hasNext();){let e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=rm(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let a=rm(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return eT.resolve(a)}bt(e,t,n){let r=this.overlays.get(n.key);if(null!==r){let e=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new rJ(t,n));let i=this.Lr.get(t);void 0===i&&(i=rv(),this.Lr.set(t,i)),this.Lr.set(t,i.add(n.key))}}class sz{constructor(){this.sessionToken=tX.EMPTY_BYTE_STRING}getSessionToken(e){return eT.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,eT.resolve()}}class sM{constructor(){this.kr=new tG(sF.Kr),this.qr=new tG(sF.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){let n=new sF(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new sF(e,t))}Qr(e,t){e.forEach(e=>this.removeReference(e,t))}Gr(e){let t=new er(new ee([])),n=new sF(t,e),r=new sF(t,e+1),i=[];return this.qr.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){let t=new er(new ee([])),n=new sF(t,e),r=new sF(t,e+1),i=rv();return this.qr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){let t=new sF(e,0),n=this.kr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class sF{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return er.comparator(e.key,t.key)||J(e.Hr,t.Hr)}static Ur(e,t){return J(e.Hr,t.Hr)||er.comparator(e.key,t.key)}}class sj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new tG(sF.Kr)}checkEmpty(e){return eT.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){let i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new rK(i,t,n,r);for(let t of(this.mutationQueue.push(s),r))this.Jr=this.Jr.add(new sF(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return eT.resolve(s)}lookupMutationBatch(e,t){return eT.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let n=this.Xr(t+1),r=n<0?0:n;return eT.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return eT.resolve(0===this.mutationQueue.length?-1:this.Yn-1)}getAllMutationBatches(e){return eT.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new sF(t,0),r=new sF(t,1/0),i=[];return this.Jr.forEachInRange([n,r],e=>{let t=this.Zr(e.Hr);i.push(t)}),eT.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new tG(J);return t.forEach(e=>{let t=new sF(e,0),r=new sF(e,1/0);this.Jr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),eT.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;er.isDocumentKey(i)||(i=i.child(""));let s=new sF(new er(i),0),a=new tG(J);return this.Jr.forEachWhile(e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},s),eT.resolve(this.Yr(a))}Yr(e){let t=[];return e.forEach(e=>{let n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){R(0===this.ei(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Jr;return eT.forEach(t.mutations,r=>{let i=new sF(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=n})}nr(e){}containsKey(e,t){let n=new sF(t,0),r=this.Jr.firstAfterOrEqual(n);return eT.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,eT.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sV{constructor(e){this.ti=e,this.docs=new tZ(er.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return eT.resolve(n?n.document.mutableCopy():nA.newInvalidDocument(t))}getEntries(e,t){let n=rc;return t.forEach(e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():nA.newInvalidDocument(e))}),eT.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=rc,s=t.path,a=new er(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){let{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||0>=eS(eI(a),n)||(r.has(a.key)||ra(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return eT.resolve(i)}getAllFromCollectionGroup(e,t,n,r){O(9500)}ni(e,t){return eT.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new sB(this)}getSize(e){return eT.resolve(this.size)}}class sB extends sT{constructor(e){super(),this.Mr=e}applyChanges(e){let t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(n)}),eT.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class sZ{constructor(e){this.persistence=e,this.ri=new rl(e=>nX(e),nY),this.lastRemoteSnapshotVersion=em.min(),this.highestTargetId=0,this.ii=0,this.si=new sM,this.targetCount=0,this.oi=sy._r()}forEachTarget(e,t){return this.ri.forEach((e,n)=>t(n)),eT.resolve()}getLastRemoteSnapshotVersion(e){return eT.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return eT.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),eT.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),eT.resolve()}lr(e){this.ri.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.oi=new sy(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,eT.resolve()}updateTargetData(e,t){return this.lr(t),eT.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,eT.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.ri.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ri.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),eT.waitFor(i).next(()=>r)}getTargetCount(e){return eT.resolve(this.targetCount)}getTargetData(e,t){let n=this.ri.get(t)||null;return eT.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),eT.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),eT.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),eT.resolve()}getMatchingKeysForTargetId(e,t){let n=this.si.jr(t);return eT.resolve(n)}containsKey(e,t){return eT.resolve(this.si.containsKey(t))}}class sq{constructor(e,t){this._i={},this.overlays={},this.ai=new eB(0),this.ui=!1,this.ui=!0,this.ci=new sz,this.referenceDelegate=e(this),this.li=new sZ(this),this.indexManager=new ss,this.remoteDocumentCache=function(e){return new sV(e)}(e=>this.referenceDelegate.hi(e)),this.serializer=new iU(t),this.Pi=new sU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new sL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new sj(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){A("MemoryPersistence","Starting transaction:",e);let r=new sK(this.ai.next());return this.referenceDelegate.Ti(),n(r).next(e=>this.referenceDelegate.Ii(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return eT.or(Object.values(this._i).map(n=>()=>n.containsKey(e,t)))}}class sK extends eE{constructor(e){super(),this.currentSequenceNumber=e}}class sG{constructor(e){this.persistence=e,this.Ri=new sM,this.Ai=null}static Vi(e){return new sG(e)}get di(){if(this.Ai)return this.Ai;throw O(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),eT.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),eT.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),eT.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(e=>this.di.add(e.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.di.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return eT.forEach(this.di,n=>{let r=er.fromPath(n);return this.mi(e,r).next(e=>{e||t.removeEntry(r,em.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return eT.or([()=>eT.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class sJ{constructor(e,t){this.persistence=e,this.fi=new rl(e=>eG(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new sk(e,t)}(this,t)}static Vi(e,t){return new sJ(e,t)}Ti(){}Ii(e){return eT.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){let t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}mr(e,t){return eT.forEach(this.fi,(n,r)=>this.wr(e,n,r).next(e=>e?eT.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,r=>this.wr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,em.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),eT.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),eT.resolve()}removeReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),eT.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),eT.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=function e(t){switch(nl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let n=t9(t);return n?16+e(n):16;case 5:return 2*t.stringValue.length;case 6:return t6(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(t.arrayValue.values||[]).reduce((t,n)=>t+e(n),0);case 10:case 11:var r;let i;return r=t.mapValue,i=0,tV(r.fields,(t,n)=>{i+=t.length+e(n)}),i;default:throw O(13486,{value:t})}}(e.data.value)),t}wr(e,t,n){return eT.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.fi.get(t);return eT.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sW{constructor(e){this.serializer=e}k(e,t,n,r){let i=new eC("createOrUpgrade",t);n<1&&r>=1&&(e.createObjectStore(eH),e.createObjectStore(eX,{keyPath:"userId"}),e.createObjectStore(eY,{keyPath:e0,autoIncrement:!0}).createIndex(e1,e6,{unique:!0}),e.createObjectStore(e2),sH(e),e.createObjectStore(eW));let s=eT.resolve();return n<3&&r>=3&&(0!==n&&(e.deleteObjectStore(ta),e.deleteObjectStore(tr),e.deleteObjectStore(td),sH(e)),s=s.next(()=>{let e,t;return e=i.store(td),t={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:em.min().toTimestamp(),targetCount:0},e.put(tc,t)})),n<4&&r>=4&&(0!==n&&(s=s.next(()=>i.store(eY).H().next(t=>{e.deleteObjectStore(eY),e.createObjectStore(eY,{keyPath:e0,autoIncrement:!0}).createIndex(e1,e6,{unique:!0});let n=i.store(eY),r=t.map(e=>n.put(e));return eT.waitFor(r)}))),s=s.next(()=>{e.createObjectStore(tm,{keyPath:"clientId"})})),n<5&&r>=5&&(s=s.next(()=>this.gi(i))),n<6&&r>=6&&(s=s.next(()=>(e.createObjectStore(tt),this.pi(i)))),n<7&&r>=7&&(s=s.next(()=>this.yi(i))),n<8&&r>=8&&(s=s.next(()=>this.wi(e,i))),n<9&&r>=9&&(s=s.next(()=>{e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")})),n<10&&r>=10&&(s=s.next(()=>this.bi(i))),n<11&&r>=11&&(s=s.next(()=>{e.createObjectStore(tp,{keyPath:"bundleId"}),e.createObjectStore(tg,{keyPath:"name"})})),n<12&&r>=12&&(s=s.next(()=>{let t;(t=e.createObjectStore(t$,{keyPath:tT})).createIndex(tA,tC,{unique:!1}),t.createIndex(tD,tN,{unique:!1})})),n<13&&r>=13&&(s=s.next(()=>{let t;(t=e.createObjectStore(e3,{keyPath:e5})).createIndex(e8,e9),t.createIndex(e7,te)}).next(()=>this.Si(e,i)).next(()=>e.deleteObjectStore(eW))),n<14&&r>=14&&(s=s.next(()=>this.Di(e,i))),n<15&&r>=15&&(s=s.next(()=>{e.createObjectStore(tv,{keyPath:"indexId",autoIncrement:!0}).createIndex(ty,"collectionGroup",{unique:!1}),e.createObjectStore(t_,{keyPath:tb}).createIndex(tw,tI,{unique:!1}),e.createObjectStore(tx,{keyPath:tS}).createIndex(tk,tE,{unique:!1})})),n<16&&r>=16&&(s=s.next(()=>{t.objectStore(t_).clear()}).next(()=>{t.objectStore(tx).clear()})),n<17&&r>=17&&(s=s.next(()=>{e.createObjectStore(tO,{keyPath:"name"})})),n<18&&r>=18&&(0,_.isSafariOrWebkit)()&&(s=s.next(()=>{t.objectStore(t_).clear()}).next(()=>{t.objectStore(tx).clear()})),s}pi(e){let t=0;return e.store(eW).ee((e,n)=>{t+=sm(n)}).next(()=>{let n={byteSize:t};return e.store(tt).put(tn,n)})}gi(e){let t=e.store(eX),n=e.store(eY);return t.H().next(t=>eT.forEach(t,t=>{let r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.H(e1,r).next(n=>eT.forEach(n,n=>{R(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});let r=ij(this.serializer,n);return sf(e,t.userId,r).next(()=>{})}))}))}yi(e){let t=e.store(ta),n=e.store(eW);return e.store(td).get(tc).next(e=>{let r=[];return n.ee((n,i)=>{let s=new ee(n),a=[0,eG(s)];r.push(t.get(a).next(n=>n?eT.resolve():t.put({targetId:0,path:eG(s),sequenceNumber:e.highestListenSequenceNumber})))}).next(()=>eT.waitFor(r))})}wi(e,t){e.createObjectStore(th,{keyPath:tf});let n=t.store(th),r=new sa,i=e=>{if(r.add(e)){let t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:eG(r)})}};return t.store(eW).ee({Y:!0},(e,t)=>i(new ee(e).popLast())).next(()=>t.store(e2).ee({Y:!0},([e,t,n],r)=>i(eJ(t).popLast())))}bi(e){let t=e.store(tr);return t.ee((e,n)=>{let r=iV(n),i=iB(this.serializer,r);return t.put(i)})}Si(e,t){let n=t.store(eW),r=[];return n.ee((e,n)=>{let i=t.store(e3),s=(n.document?new er(ee.fromString(n.document.name).popFirst(5)):n.noDocument?er.fromSegments(n.noDocument.path):n.unknownDocument?er.fromSegments(n.unknownDocument.path):O(36783)).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))}).next(()=>eT.waitFor(r))}Di(e,t){let n=t.store(eY),r=new sA(this.serializer),i=new sq(sG.Vi,this.serializer.yt);return n.H().next(e=>{let n=new Map;return e.forEach(e=>{let t=n.get(e.userId)??rv();ij(this.serializer,e).keys().forEach(e=>t=t.add(e)),n.set(e.userId,t)}),eT.forEach(n,(e,n)=>{let s=new k(n),a=iW.wt(this.serializer,s),o=i.getIndexManager(s);return new sR(r,sp.wt(s,this.serializer,o,i.referenceDelegate),a,o).recalculateAndSaveOverlaysForDocumentKeys(new tM(t,eB.ce),e).next()})})}}function sH(e){e.createObjectStore(ta,{keyPath:to}).createIndex(tu,tl,{unique:!0}),e.createObjectStore(tr,{keyPath:"targetId"}).createIndex(ti,ts,{unique:!0}),e.createObjectStore(td)}let sQ="IndexedDbPersistence",sX="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sY{constructor(e,t,n,r,i,s,a,o,u,l,c=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Ci=i,this.window=s,this.document=a,this.Fi=u,this.Mi=l,this.xi=c,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=-1/0,this.ki=e=>Promise.resolve(),!sY.v())throw new L(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sE(this,r),this.Ki=t+"main",this.serializer=new iU(o),this.qi=new eD(this.Ki,this.xi,new sW(this.serializer)),this.ci=new iH,this.li=new s_(this.referenceDelegate,this.serializer),this.remoteDocumentCache=function(e){return new sA(e)}(this.serializer),this.Pi=new iJ,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,!1===l&&C(sQ,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(U.FAILED_PRECONDITION,sX);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.li.getHighestSequenceNumber(e))}).then(e=>{this.ai=new eB(e,this.Fi)}).then(()=>{this.ui=!0}).catch(e=>(this.qi&&this.qi.close(),Promise.reject(e)))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget(async()=>{this.started&&await this.$i()}))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tF(e,tm).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ji(e).next(e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)))})}).next(()=>this.Hi(e)).next(t=>this.isPrimary&&!t?this.Ji(e).next(()=>!1):!!t&&this.Zi(e).next(()=>!0))).catch(e=>{if(eR(e))return A(sQ,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return A(sQ,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable(()=>this.ki(e)),this.isPrimary=e})}ji(e){return tF(e,eH).get(eQ).next(e=>eT.resolve(this.Xi(e)))}Yi(e){return tF(e,tm).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,18e5)){this.Li=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{let t=tF(e,tm);return t.H().next(e=>{let n=this.ns(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return eT.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ui)for(let t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.$i().then(()=>this.es()).then(()=>this.Gi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?eT.resolve(!0):tF(e,eH).get(eQ).next(t=>{if(null!==t&&this.ts(t.leaseTimestampMs,5e3)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new L(U.FAILED_PRECONDITION,sX);return!1}}return!(!this.networkEnabled||!this.inForeground)||tF(e,tm).H().next(e=>void 0===this.ns(e,5e3).find(e=>{if(this.clientId!==e.clientId){let t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&A(sQ,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[eH,tm],e=>{let t=new tM(e,eB.ce);return this.Ji(t).next(()=>this.Yi(t))}),this.qi.close(),this.ls()}ns(e,t){return e.filter(e=>this.ts(e.updateTimeMs,t)&&!this.ss(e.clientId))}hs(){return this.runTransaction("getActiveClients","readonly",e=>tF(e,tm).H().next(e=>this.ns(e,18e5).map(e=>e.clientId)))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return sp.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sl(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return iW.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,n){var r;let i;A(sQ,"Starting transaction:",e);let s=18===(r=this.xi)||17===r?tz:16===r||15===r?tL:14===r||13===r?tU:12===r?tR:11===r?tP:void O(60245);return this.qi.runTransaction(e,"readonly"===t?"readonly":"readwrite",s,r=>(i=new tM(r,this.ai?this.ai.next():eB.ce),"readwrite-primary"===t?this.ji(i).next(e=>!!e||this.Hi(i)).next(t=>{if(!t)throw C(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)),new L(U.FAILED_PRECONDITION,ek);return n(i)}).next(e=>this.Zi(i).next(()=>e)):this.Ps(i).next(()=>n(i)))).then(e=>(i.raiseOnCommittedEvent(),e))}Ps(e){return tF(e,eH).get(eQ).next(e=>{if(null!==e&&this.ts(e.leaseTimestampMs,5e3)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new L(U.FAILED_PRECONDITION,sX)})}Zi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tF(e,eH).put(eQ,t)}static v(){return eD.v()}Ji(e){let t=tF(e,eH);return t.get(eQ).next(e=>this.Xi(e)?(A(sQ,"Releasing primary lease."),t.delete(eQ)):eT.resolve())}ts(e,t){let n=Date.now();return!(e<n-t)&&(!(e>n)||(C(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Wi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ni=()=>{this.Ci.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.$i()))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground="visible"===this.document.visibilityState)}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){"function"==typeof this.window?.addEventListener&&(this.Oi=()=>{this._s();let e=/(?:Version|Mobile)\/1[456]/;(0,_.isSafari)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{let t=null!==this.Ui?.getItem(this.rs(e));return A(sQ,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(e){return C(sQ,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){C("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch(e){}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function s0(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class s1{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=r}static Es(e,t){let n=rv(),r=rv();for(let e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new s1(e,t.fromCache,n,r)}}class s6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class s4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(0,_.isSafari)()?8:eN((0,_.getUA)())>0?6:4}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.gs(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ps(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;let n=new s6;return this.ys(e,t,n).next(r=>{if(i.result=r,this.As)return this.ws(e,t,n,r.size)})}).next(()=>i.result)}ws(e,t,n,r){return n.documentReadCount<this.Vs?(T()<=I.LogLevel.DEBUG&&A("QueryEngine","SDK will not create cache indexes for query:",rs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),eT.resolve()):(T()<=I.LogLevel.DEBUG&&A("QueryEngine","Query:",rs(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(T()<=I.LogLevel.DEBUG&&A("QueryEngine","The SDK decides to create cache indexes for query:",rs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,n7(t))):eT.resolve())}gs(e,t){if(n5(t))return eT.resolve(null);let n=n7(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(n=n7(t=rn(t,null,"F"))),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let i=rv(...r);return this.fs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{let s=this.bs(t,r);return this.Ss(t,s,i,n.readTime)?this.gs(e,rn(t,null,"F")):this.Ds(e,s,t,n)}))})))}ps(e,t,n,r){return n5(t)||r.isEqual(em.min())?eT.resolve(null):this.fs.getDocuments(e,n).next(i=>{let s=this.bs(t,i);return this.Ss(t,s,n,r)?eT.resolve(null):(T()<=I.LogLevel.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),rs(t)),this.Ds(e,s,t,ew(r,-1)).next(e=>e))})}bs(e,t){let n=new tG(ru(e));return t.forEach((t,r)=>{ra(e,r)&&(n=n.add(r))}),n}Ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;let i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,t,n){return T()<=I.LogLevel.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",rs(t)),this.fs.getDocumentsMatchingQuery(e,t,ex.min(),n)}Ds(e,t,n,r){return this.fs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}let s2="LocalStore";class s3{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new tZ(J),this.Fs=new rl(e=>nX(e),nY),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}}async function s5(e,t){return await e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,e.Os(t),e.mutationQueue.getAllMutationBatches(n))).next(t=>{let i=[],s=[],a=rv();for(let e of r)for(let t of(i.push(e.batchId),e.mutations))a=a.add(t.key);for(let e of t)for(let t of(s.push(e.batchId),e.mutations))a=a.add(t.key);return e.localDocuments.getDocuments(n,a).next(e=>({Ns:e,removedBatchIds:i,addedBatchIds:s}))})})}function s8(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.li.getLastRemoteSnapshotVersion(t))}function s9(e,t,n){let r=rv(),i=rv();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=rc;return n.forEach((n,s)=>{let a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(em.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):A(s2,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Bs:r,Ls:i}})}function s7(e,t){return e.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return e.li.getTargetData(n,t).next(i=>i?(r=i,eT.resolve(r)):e.li.allocateTargetId(n).next(i=>(r=new iR(t,i,"TargetPurposeListen",n.currentSequenceNumber),e.li.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=e.vs.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.vs=e.vs.insert(n.targetId,n),e.Fs.set(t,n.targetId)),n})}async function ae(e,t,n){let r=e.vs.get(t);try{n||await e.persistence.runTransaction("Release target",n?"readwrite":"readwrite-primary",t=>e.persistence.referenceDelegate.removeTarget(t,r))}catch(e){if(!eR(e))throw e;A(s2,`Failed to update sequence numbers for target ${t}: ${e}`)}e.vs=e.vs.remove(t),e.Fs.delete(r.target)}function at(e,t,n){let r=em.min(),i=rv();return e.persistence.runTransaction("Execute query","readwrite",s=>{var a;let o;return(a=n7(t),void 0!==(o=e.Fs.get(a))?eT.resolve(e.vs.get(o)):e.li.getTargetData(s,a)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,e.li.getMatchingKeysForTargetId(s,t.targetId).next(e=>{i=e})}).next(()=>e.Cs.getDocumentsMatchingQuery(s,t,n?r:em.min(),n?i:rv())).next(n=>(ai(e,ro(t),n),{documents:n,ks:i}))})}function an(e,t){let n=e.li,r=e.vs.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",e=>n.At(e,t).next(e=>e?e.target:null))}function ar(e,t){let n=e.Ms.get(t)||em.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.xs.getAllFromCollectionGroup(r,t,ew(n,-1),Number.MAX_SAFE_INTEGER)).then(n=>(ai(e,t,n),n))}function ai(e,t,n){let r=e.Ms.get(t)||em.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ms.set(t,r)}async function as(e,t,n,r){let i=rv(),s=rc;for(let e of n){let n=t.Ks(e.metadata.name);e.document&&(i=i.add(n));let r=t.qs(e);r.setReadTime(t.Us(e.metadata.readTime)),s=s.insert(n,r)}let a=e.xs.newChangeBuffer({trackRemovals:!0}),o=await s7(e,n7(n3(ee.fromString(`__bundle__/docs/${r}`))));return e.persistence.runTransaction("Apply bundle documents","readwrite",t=>s9(t,a,s).next(e=>(a.apply(t),e)).next(n=>e.li.removeMatchingKeysForTargetId(t,o.targetId).next(()=>e.li.addMatchingKeys(t,i,o.targetId)).next(()=>e.localDocuments.getLocalViewOfDocuments(t,n.Bs,n.Ls)).next(()=>n.Bs)))}async function aa(e,t,n=rv()){let r=await s7(e,n7(iZ(t.bundledQuery)));return e.persistence.runTransaction("Save named query","readwrite",i=>{let s=im(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return e.Pi.saveNamedQuery(i,t);let a=r.withResumeToken(tX.EMPTY_BYTE_STRING,s);return e.vs=e.vs.insert(a.targetId,a),e.li.updateTargetData(i,a).next(()=>e.li.removeMatchingKeysForTargetId(i,r.targetId)).next(()=>e.li.addMatchingKeys(i,n,r.targetId)).next(()=>e.Pi.saveNamedQuery(i,t))})}let ao="firestore_clients";function au(e,t){return`${ao}_${e}_${t}`}let al="firestore_mutations";function ac(e,t,n){let r=`${al}_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}let ad="firestore_targets";function ah(e,t){return`${ad}_${e}_${t}`}let af="SharedClientState";class am{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){let r=JSON.parse(n),i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(i=new L(r.error.code,r.error.message)),s?new am(e,t,r.state,i):(C(af,`Failed to parse mutation state for ID '${t}': ${n}`),null)}Ws(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ap{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){let n=JSON.parse(t),r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code)&&(r=new L(n.error.code,n.error.message)),i?new ap(e,n.state,r):(C(af,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ag{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){let n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=ry;for(let e=0;r&&e<n.activeTargetIds.length;++e)r=eK(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new ag(e,i):(C(af,`Failed to parse client data for instance '${e}': ${t}`),null)}}class av{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){let t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new av(t.clientId,t.onlineState):(C(af,`Failed to parse online state: ${e}`),null)}}class ay{constructor(){this.activeTargetIds=ry}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})}}class a_{constructor(e,t,n,r,i){this.window=e,this.Ci=t,this.persistenceKey=n,this.zs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new tZ(J),this.started=!1,this.Zs=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Xs=au(this.persistenceKey,this.zs),this.Ys=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Js=this.Js.insert(this.zs,new ay),this.eo=RegExp(`^${ao}_${s}_([^_]*)$`),this.no=RegExp(`^${al}_${s}_(\\d+)(?:_(.*))?$`),this.ro=RegExp(`^${ad}_${s}_(\\d+)$`),this.io=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.so=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){for(let e of(await this.syncEngine.hs())){if(e===this.zs)continue;let t=this.getItem(au(this.persistenceKey,e));if(t){let n=ag.$s(e,t);n&&(this.Js=this.Js.insert(n.clientId,n))}}this.oo();let e=this.storage.getItem(this.io);if(e){let t=this._o(e);t&&this.ao(t)}for(let e of this.Zs)this.Hs(e);this.Zs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,n){this.co(e,t,n),this.lo(e)}addLocalQueryTarget(e,t=!0){let n="not-current";if(this.isActiveQueryTarget(e)){let t=this.storage.getItem(ah(this.persistenceKey,e));if(t){let r=ap.$s(e,t);r&&(n=r.state)}}return t&&this.ho.Qs(e),this.oo(),n}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ah(this.persistenceKey,e))}updateQueryState(e,t,n){this.Po(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.lo(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return A(af,"READ",e,t),t}setItem(e,t){A(af,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){A(af,"REMOVE",e),this.storage.removeItem(e)}Hs(e){if(e.storageArea===this.storage){if(A(af,"EVENT",e.key,e.newValue),e.key===this.Xs)return void C("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable(async()=>{if(this.started){if(null!==e.key){if(this.eo.test(e.key)){if(null==e.newValue){let t=this.Eo(e.key);return this.Ro(t,null)}{let t=this.Ao(e.key,e.newValue);if(t)return this.Ro(t.clientId,t)}}else if(this.no.test(e.key)){if(null!==e.newValue){let t=this.Vo(e.key,e.newValue);if(t)return this.mo(t)}}else if(this.ro.test(e.key)){if(null!==e.newValue){let t=this.fo(e.key,e.newValue);if(t)return this.po(t)}}else if(e.key===this.io){if(null!==e.newValue){let t=this._o(e.newValue);if(t)return this.ao(t)}}else if(e.key===this.Ys){let t=function(e){let t=eB.ce;if(null!=e)try{let n=JSON.parse(e);R("number"==typeof n,30636,{yo:e}),t=n}catch(e){C(af,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue);t!==eB.ce&&this.sequenceNumberHandler(t)}else if(e.key===this.so){let t=this.wo(e.newValue);await Promise.all(t.map(e=>this.syncEngine.bo(e)))}}}else this.Zs.push(e)})}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,n){let r=new am(this.currentUser,e,t,n),i=ac(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ws())}lo(e){let t=ac(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){let t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,n){let r=ah(this.persistenceKey,e),i=new ap(e,t,n);this.setItem(r,i.Ws())}Io(e){let t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){let t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){let n=this.Eo(e);return ag.$s(n,t)}Vo(e,t){let n=this.no.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return am.$s(new k(i),r,t)}fo(e,t){let n=Number(this.ro.exec(e)[1]);return ap.$s(n,t)}_o(e){return av.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);A(af,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){let n=t?this.Js.insert(e,t):this.Js.remove(e),r=this.uo(this.Js),i=this.uo(n),s=[],a=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||a.push(e)}),this.syncEngine.Co(s,a).then(()=>{this.Js=n})}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=ry;return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class ab{constructor(){this.vo=new ay,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ay,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class aw{Mo(e){}shutdown(){}}let aI="ConnectivityMonitor";class ax{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){for(let e of(A(aI,"Network connectivity changed: AVAILABLE"),this.Lo))e(0)}Bo(){for(let e of(A(aI,"Network connectivity changed: UNAVAILABLE"),this.Lo))e(1)}static v(){return"u">typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let aS=null;function ak(){return null===aS?aS=0x10000000+Math.round(0x80000000*Math.random()):aS++,"0x"+aS.toString(16)}let aE="RestConnection",a$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class aT{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.$o=this.databaseId.database===nt?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){let s=ak(),a=this.Qo(e,t.toUriEncodedString());A(aE,`Sending RPC '${e}' ${s}:`,a,n);let o={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(o,r,i);let{host:u}=new URL(a),l=(0,_.isCloudWorkstation)(u);return this.zo(e,a,o,n,l).then(t=>(A(aE,`Received RPC '${e}' ${s}: `,t),t),t=>{throw D(aE,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}jo(e,t,n,r,i,s){return this.Wo(e,t,n,r,i)}Go(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+E,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Qo(e,t){let n=a$[e],r=`${this.qo}/v1/${t}:${n}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class aA{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}let aC="WebChannelConnection",aD=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};class aN extends aT{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){aN.c_||(aD(l(),u.STAT_EVENT,e=>{e.stat===o.PROXY?A(aC,"STAT_EVENT: detected buffering proxy"):e.stat===o.NOPROXY&&A(aC,"STAT_EVENT: detected no buffering proxy")}),aN.c_=!0)}zo(e,t,n,i,o){let u=ak();return new Promise((o,l)=>{let c=new r;c.setWithCredentials(!0),c.listenOnce(s.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case a.NO_ERROR:let t=c.getResponseJson();A(aC,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(t)),o(t);break;case a.TIMEOUT:A(aC,`RPC '${e}' ${u} timed out`),l(new L(U.DEADLINE_EXCEEDED,"Request time out"));break;case a.HTTP_ERROR:let n=c.getStatus();if(A(aC,`RPC '${e}' ${u} failed with status:`,n,"response text:",c.getResponseText()),n>0){let e=c.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;if(t&&t.status&&t.message){let e,n=(e=t.status.toLowerCase().replace(/_/g,"-"),Object.values(U).indexOf(e)>=0?e:U.UNKNOWN);l(new L(n,t.message))}else l(new L(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new L(U.UNAVAILABLE,"Connection failed."));break;default:O(9055,{l_:e,streamId:u,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{A(aC,`RPC '${e}' ${u} completed.`)}});let d=JSON.stringify(i);A(aC,`RPC '${e}' ${u} sending request:`,i),c.send(t,"POST",d,n,15)})}T_(e,t,n){let r=ak(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(o.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;let l=s.join("");A(aC,`Creating RPC '${e}' stream ${r}: ${l}`,o);let c=a.createWebChannel(l,o);this.I_(c);let h=!1,f=!1,m=new aA({Ho:t=>{f?A(aC,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(A(aC,`Opening RPC '${e}' stream ${r} transport.`),c.open(),h=!0),A(aC,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Jo:()=>c.close()});return aD(c,i.EventType.OPEN,()=>{f||(A(aC,`RPC '${e}' stream ${r} transport opened.`),m.i_())}),aD(c,i.EventType.CLOSE,()=>{f||(f=!0,A(aC,`RPC '${e}' stream ${r} transport closed`),m.o_(),this.E_(c))}),aD(c,i.EventType.ERROR,t=>{f||(f=!0,D(aC,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),m.o_(new L(U.UNAVAILABLE,"The operation could not be completed")))}),aD(c,i.EventType.MESSAGE,t=>{if(!f){let n=t.data[0];R(!!n,16349);let i=n?.error||n[0]?.error;if(i){A(aC,`RPC '${e}' stream ${r} received error:`,i);let t=i.status,n=function(e){let t=d[e];if(void 0!==t)return rX(t)}(t),s=i.message;void 0===n&&(n=U.INTERNAL,s="Unknown error status: "+t+" with message "+i.message),f=!0,m.o_(new L(n,s)),c.close()}else A(aC,`RPC '${e}' stream ${r} received:`,n),m.__(n)}}),aN.u_(),setTimeout(()=>{m.s_()},0),m}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return c()}}function aO(){return"u">typeof window?window:null}function aP(){return"u">typeof document?document:null}function aR(e){return new il(e,!0)}aN.c_=!1;class aU{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Ci=e,this.timerId=t,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();let t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&A("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}let aL="PersistentStream";class az{constructor(e,t,n,r,i,s,a,o){this.Ci=e,this.b_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aU(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(C(t.toString()),C("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===U.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;let e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.D_===t&&this.G_(e,n)},t=>{e(()=>{let e=new L(U.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){let n=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.Yo(()=>{n(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.H_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return A(aL,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(A(aL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aM extends az{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=function(e,t){let n;if("targetChange"in t){var r,i;t.targetChange;let s="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:O(39313,{state:r}),a=t.targetChange.targetIds||[],o=(i=t.targetChange.resumeToken,e.useProto3Json?(R(void 0===i||"string"==typeof i,58123),tX.fromBase64String(i||"")):(R(void 0===i||i instanceof y.Buffer||i instanceof Uint8Array,16193),tX.fromUint8Array(i||new Uint8Array))),u=t.targetChange.cause;n=new ie(s,a,o,u&&new L(void 0===u.code?U.UNKNOWN:rX(u.code),u.message||"")||null)}else if("documentChange"in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=i_(e,r.document.name),s=im(r.document.updateTime),a=r.document.createTime?im(r.document.createTime):em.min(),o=new nT({mapValue:{fields:r.document.fields}}),u=nA.newFoundDocument(i,s,a,o);n=new r9(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in t){t.documentDelete;let r=t.documentDelete;r.document;let i=i_(e,r.document),s=r.readTime?im(r.readTime):em.min(),a=nA.newNoDocument(i,s);n=new r9([],r.removedTargetIds||[],a.key,a)}else if("documentRemove"in t){t.documentRemove;let r=t.documentRemove;r.document;let i=i_(e,r.document);n=new r9([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return O(11601,{Vt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,s=new rH(r,i);n=new r7(e.targetId,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return em.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?em.min():t.readTime?im(t.readTime):em.min()}(e);return this.listener.J_(t,n)}Z_(e){let t,n={};n.database=iI(this.serializer),n.addTarget=function(e,t){let n,r=t.target;if((n=n0(r)?{documents:iT(e,r)}:{query:iA(e,r).ft}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ih(e,t.resumeToken);let r=ic(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(em.min())>0){n.readTime=id(e,t.snapshotVersion.toTimestamp());let r=ic(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);let r=(this.serializer,null==(t=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O(28987,{purpose:e})}}(e.purpose))?null:{"goog-listen-tags":t});r&&(n.labels=r),this.K_(n)}X_(e){let t={};t.database=iI(this.serializer),t.removeTarget=e,this.K_(t)}}class aF extends az{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return R(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,R(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){var t,n;R(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let r=(t=e.writeResults,n=e.commitTime,t&&t.length>0?(R(void 0!==n,14353),t.map(e=>{let t;return(t=e.updateTime?im(e.updateTime):im(n)).isEqual(em.min())&&(t=im(n)),new rN(t,e.transformResults||[])})):[]),i=im(e.commitTime);return this.listener.na(i,r)}ra(){let e={};e.database=iI(this.serializer),this.K_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map(e=>iE(this.serializer,e))};this.K_(t)}}class aj{}class aV extends aj{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new L(U.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Wo(e,ig(t,n),r,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(U.UNKNOWN,e.toString())})}jo(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.jo(e,ig(t,n),r,s,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(U.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class aB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(C(t),this.aa=!1):A("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}let aZ="RemoteStore";class aq{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(e=>{n.enqueueAndForget(async()=>{a0(this)&&(A(aZ,"Restarting streams for network reachability change."),await async function(e){e.Ea.add(4),await aG(e),e.Va.set("Unknown"),e.Ea.delete(4),await aK(e)}(this))})}),this.Va=new aB(n,r)}}async function aK(e){if(a0(e))for(let t of e.Ra)await t(!0)}async function aG(e){for(let t of e.Ra)await t(!1)}function aJ(e,t){e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),aY(e)?aX(e):oa(e).O_()&&aH(e,t))}function aW(e,t){let n=oa(e);e.Ia.delete(t),n.O_()&&aQ(e,t),0===e.Ia.size&&(n.O_()?n.L_():a0(e)&&e.Va.set("Unknown"))}function aH(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(em.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}oa(e).Z_(t)}function aQ(e,t){e.da.$e(t),oa(e).X_(t)}function aX(e){e.da=new ir({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),oa(e).start(),e.Va.ua()}function aY(e){return a0(e)&&!oa(e).x_()&&e.Ia.size>0}function a0(e){return 0===e.Ea.size}async function a1(e){e.Va.set("Online")}async function a6(e){e.Ia.forEach((t,n)=>{aH(e,t)})}async function a4(e,t){e.da=void 0,aY(e)?(e.Va.ha(t),aX(e)):e.Va.set("Unknown")}async function a2(e,t,n){if(e.Va.set("Online"),t instanceof ie&&2===t.state&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.da.removeTarget(r))}(e,t)}catch(n){A(aZ,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await a3(e,n)}else if(t instanceof r9?e.da.Xe(t):t instanceof r7?e.da.st(t):e.da.tt(t),!n.isEqual(em.min()))try{let t,r=await s8(e.localStore);n.compareTo(r)>=0&&await ((t=e.da.Tt(n)).targetChanges.forEach((t,r)=>{if(t.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(t.resumeToken,n))}}),t.targetMismatches.forEach((t,n)=>{let r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(tX.EMPTY_BYTE_STRING,r.snapshotVersion)),aQ(e,t);let i=new iR(r.target,t,n,r.sequenceNumber);aH(e,i)}),e.remoteSyncer.applyRemoteEvent(t))}catch(t){A(aZ,"Failed to raise snapshot:",t),await a3(e,t)}}async function a3(e,t,n){if(!eR(t))throw t;e.Ea.add(1),await aG(e),e.Va.set("Offline"),n||(n=()=>s8(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{A(aZ,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await aK(e)})}function a5(e,t){return t().catch(n=>a3(e,n,t))}async function a8(e){var t;let n=oo(e),r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:-1;for(;a0(t=e)&&t.Ta.length<10;)try{let t=await function(e,t){return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}(e.localStore,r);if(null===t){0===e.Ta.length&&n.L_();break}r=t.batchId,function(e,t){e.Ta.push(t);let n=oo(e);n.O_()&&n.Y_&&n.ea(t.mutations)}(e,t)}catch(t){await a3(e,t)}a9(e)&&a7(e)}function a9(e){return a0(e)&&!oo(e).x_()&&e.Ta.length>0}function a7(e){oo(e).start()}async function oe(e){oo(e).ra()}async function ot(e){let t=oo(e);for(let n of e.Ta)t.ea(n.mutations)}async function on(e,t,n){let r=e.Ta.shift(),i=rG.from(r,t,n);await a5(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await a8(e)}async function or(e,t){t&&oo(e).Y_&&await async function(e,t){var n;if(rQ(n=t.code)&&n!==U.ABORTED){let n=e.Ta.shift();oo(e).B_(),await a5(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await a8(e)}}(e,t),a9(e)&&a7(e)}async function oi(e,t){e.asyncQueue.verifyOperationInProgress(),A(aZ,"RemoteStore received new credentials");let n=a0(e);e.Ea.add(3),await aG(e),n&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await aK(e)}async function os(e,t){t?(e.Ea.delete(2),await aK(e)):t||(e.Ea.add(2),await aG(e),e.Va.set("Unknown"))}function oa(e){var t,n,r;return e.ma||(t=e.datastore,n=e.asyncQueue,r={Zo:a1.bind(null,e),Yo:a6.bind(null,e),t_:a4.bind(null,e),J_:a2.bind(null,e)},t.sa(),e.ma=new aM(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r),e.Ra.push(async t=>{t?(e.ma.B_(),aY(e)?aX(e):e.Va.set("Unknown")):(await e.ma.stop(),e.da=void 0)})),e.ma}function oo(e){var t,n,r;return e.fa||(t=e.datastore,n=e.asyncQueue,r={Zo:()=>Promise.resolve(),Yo:oe.bind(null,e),t_:or.bind(null,e),ta:ot.bind(null,e),na:on.bind(null,e)},t.sa(),e.fa=new aF(n,t.connection,t.authCredentials,t.appCheckCredentials,t.serializer,r),e.Ra.push(async t=>{t?(e.fa.B_(),await a8(e)):(await e.fa.stop(),e.Ta.length>0&&(A(aZ,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}class ou{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new z,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){let s=new ou(e,t,Date.now()+n,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ol(e,t){if(C("AsyncQueue",`${t}: ${e}`),eR(e))return new L(U.UNAVAILABLE,`${t}: ${e}`);throw e}class oc{static emptySet(e){return new oc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||er.comparator(t.key,n.key):(e,t)=>er.comparator(e.key,t.key),this.keyedMap=rh(),this.sortedSet=new tZ(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){let n=new oc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class od{constructor(){this.ga=new tZ(er.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):O(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class oh{constructor(e,t,n,r,i,s,a,o,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=u}static fromInitialDocuments(e,t,n,r,i){let s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new oh(e,t,oc.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class of{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class om{constructor(){this.queries=op(),this.onlineState="Unknown",this.Ca=new Set}terminate(){var e;let t;e=new L(U.ABORTED,"Firestore shutting down"),t=this.queries,this.queries=op(),t.forEach((t,n)=>{for(let t of n.ba)t.onError(e)})}}function op(){return new rl(e=>ri(e),rr)}async function og(e,t){let n=3,r=t.query,i=e.queries.get(r);i?!i.Sa()&&t.Da()&&(n=2):(i=new of,n=+!t.Da());try{switch(n){case 0:i.wa=await e.onListen(r,!0);break;case 1:i.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(n){let e=ol(n,`Initialization of query '${rs(t.query)}' failed`);return void t.onError(e)}e.queries.set(r,i),i.ba.push(t),t.va(e.onlineState),i.wa&&t.Fa(i.wa)&&ob(e)}async function ov(e,t){let n=t.query,r=3,i=e.queries.get(n);if(i){let e=i.ba.indexOf(t);e>=0&&(i.ba.splice(e,1),0===i.ba.length?r=+!t.Da():!i.Sa()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}}function oy(e,t){let n=!1;for(let r of t){let t=r.query,i=e.queries.get(t);if(i){for(let e of i.ba)e.Fa(r)&&(n=!0);i.wa=r}}n&&ob(e)}function o_(e,t,n){let r=e.queries.get(t);if(r)for(let e of r.ba)e.onError(n);e.queries.delete(t)}function ob(e){e.Ca.forEach(e=>{e.next()})}(m=f||(f={})).Ma="default",m.Cache="cache";class ow{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)3!==n.type&&t.push(n);e=new oh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){return!(e.fromCache&&this.Da())||(!this.options.Ka||"Offline"===t)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==f.Cache}}class oI{constructor(e,t){this.qa=e,this.byteLength=t}Ua(){return"metadata"in this.qa}}class ox{constructor(e){this.serializer=e}Ks(e){return i_(this.serializer,e)}qs(e){return e.metadata.exists?ik(this.serializer,e.document,!1):nA.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return im(e)}}class oS{constructor(e,t){this.$a=e,this.serializer=t,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=ok(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++t;let n=ee.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){let t=new Map,n=new ox(this.serializer);for(let r of e)if(r.metadata.queries){let e=n.Ks(r.metadata.name);for(let n of r.metadata.queries){let r=(t.get(n)||rv()).add(e);t.set(n,r)}}return t}async ja(e){let t=await as(e,new ox(this.serializer),this.Qa,this.$a.id),n=this.za(this.documents);for(let t of this.Wa)await aa(e,t,n.get(t.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:t}}}function ok(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class oE{constructor(e){this.key=e}}class o${constructor(e){this.key=e}}class oT{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=rv(),this.mutatedKeys=rv(),this.eu=ru(e),this.tu=new oc(this.eu)}get nu(){return this.Za}ru(e,t){let n=t?t.iu:new od,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1,o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,u="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{let l=r.get(e),c=ra(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations),f=!1;l&&c?l.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.su(l,c)||(n.track({type:2,doc:c}),f=!0,(o&&this.eu(c,o)>0||u&&0>this.eu(c,u))&&(a=!0)):!l&&c?(n.track({type:0,doc:c}),f=!0):l&&!c&&(n.track({type:1,doc:l}),f=!0,(o||u)&&(a=!0)),f&&(c?(s=s.add(c),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){let e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Ss:a,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let s=e.iu.ya();s.sort((e,t)=>{var n,r;let i;return n=e.type,r=t.type,(i=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O(20277,{Vt:e})}})(n)-i(r)||this.eu(e.doc,t.doc)}),this.ou(n),r=r??!1;let a=t&&!r?this._u():[],o=0===this.Ya.size&&this.current&&!r?1:0,u=o!==this.Xa;return(this.Xa=o,0!==s.length||u)?{snapshot:new oh(this.query,e.tu,i,s,e.mutatedKeys,0===o,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new od,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Za=this.Za.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Za=this.Za.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Ya;this.Ya=rv(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))});let t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new o$(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new oE(n))}),t}cu(e){this.Za=e.ks,this.Ya=rv();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return oh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Xa,this.hasCachedResults)}}let oA="SyncEngine";class oC{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class oD{constructor(e){this.key=e,this.hu=!1}}class oN{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new rl(e=>ri(e),rr),this.Iu=new Map,this.Eu=new Set,this.Ru=new tZ(er.comparator),this.Au=new Map,this.Vu=new sM,this.du={},this.mu=new Map,this.fu=sy.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function oO(e,t,n=!0){let r,i=o7(e),s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await oR(i,t,n,!0),r}async function oP(e,t){let n=o7(e);await oR(n,t,!0,!1)}async function oR(e,t,n,r){let i,s=await s7(e.localStore,n7(t)),a=s.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);return r&&(i=await oU(e,t,a,"current"===o,s.resumeToken)),e.isPrimaryClient&&n&&aJ(e.remoteStore,s),i}async function oU(e,t,n,r,i){e.pu=(t,n,r)=>(async function(e,t,n,r){let i=t.view.ru(n);i.Ss&&(i=await at(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,i)));let s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return oW(e,t.targetId,o.au),o.snapshot})(e,t,n,r);let s=await at(e.localStore,t,!0),a=new oT(t,s.ks),o=a.ru(s.documents),u=r8.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=a.applyChanges(o,e.isPrimaryClient,u);oW(e,n,l.au);let c=new oC(t,n,a);return e.Tu.set(t,c),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function oL(e,t,n){let r=e.Tu.get(t),i=e.Iu.get(r.targetId);i.length>1?(e.Iu.set(r.targetId,i.filter(e=>!rr(e,t))),e.Tu.delete(t)):e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||await ae(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),n&&aW(e.remoteStore,r.targetId),oG(e,r.targetId)}).catch(e$)):(oG(e,r.targetId),await ae(e.localStore,r.targetId,!0))}async function oz(e,t){let n=e.Tu.get(t),r=e.Iu.get(n.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),aW(e.remoteStore,n.targetId))}async function oM(e,t,n){let r=ue(e);try{var i,s;let e,a,o,u,l,c=await (i=r.localStore,o=ef.now(),u=t.reduce((e,t)=>e.add(t.key),rv()),i.persistence.runTransaction("Locally write mutations","readwrite",n=>{let r=rc,s=rv();return i.xs.getEntries(n,u).next(e=>{(r=e).forEach((e,t)=>{t.isValidDocument()||(s=s.add(e))})}).next(()=>i.localDocuments.getOverlayedDocuments(n,r)).next(r=>{e=r;let s=[];for(let n of t){let t=function(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=rI(r.transform,e||null);null!=i&&(null===n&&(n=nT.empty()),n.set(r.field,i))}return n||null}(n,e.get(n.key).overlayedDocument);null!=t&&s.push(new rF(n.key,t,function e(t){let n=[];return tV(t.fields,(t,r)=>{let i=new en([t]);if(nw(r)){let t=e(r.mapValue).fields;if(0===t.length)n.push(i);else for(let e of t)n.push(i.child(e))}else n.push(i)}),new tH(n)}(t.value.mapValue),rO.exists(!0)))}return i.mutationQueue.addMutationBatch(n,o,s,t)}).next(t=>{a=t;let r=t.applyToLocalDocumentSet(e,s);return i.documentOverlayCache.saveOverlays(n,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:rf(e)})));r.sharedClientState.addPendingMutation(c.batchId),s=c.batchId,(l=r.du[r.currentUser.toKey()])||(l=new tZ(J)),l=l.insert(s,n),r.du[r.currentUser.toKey()]=l,await oQ(r,c.changes),await a8(r.remoteStore)}catch(t){let e=ol(t,"Failed to persist write");n.reject(e)}}async function oF(e,t){var n;try{let r,i,s=await (n=e.localStore,r=t.snapshotVersion,i=n.vs,n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{let s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;let a=[];t.targetChanges.forEach((s,o)=>{var u;let l=i.get(o);if(!l)return;a.push(n.li.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.li.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(tX.EMPTY_BYTE_STRING,em.min()).withLastLimboFreeSnapshotVersion(em.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),u=c,(0===l.resumeToken.approximateByteSize()||u.snapshotVersion.toMicroseconds()-l.snapshotVersion.toMicroseconds()>=3e8||s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size>0)&&a.push(n.li.updateTargetData(e,c))});let o=rc,u=rv();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(s9(e,s,t.documentUpdates).next(e=>{o=e.Bs,u=e.Ls})),!r.isEqual(em.min())){let t=n.li.getLastRemoteSnapshotVersion(e).next(t=>n.li.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return eT.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,u)).next(()=>o)}).then(e=>(n.vs=i,e)));t.targetChanges.forEach((t,n)=>{let r=e.Au.get(n);r&&(R(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1,22616),t.addedDocuments.size>0?r.hu=!0:t.modifiedDocuments.size>0?R(r.hu,14607):t.removedDocuments.size>0&&(R(r.hu,42227),r.hu=!1))}),await oQ(e,s,t)}catch(e){await e$(e)}}function oj(e,t,n){var r;if(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n){let n,i=[];e.Tu.forEach((e,n)=>{let r=n.view.va(t);r.snapshot&&i.push(r.snapshot)}),(r=e.eventManager).onlineState=t,n=!1,r.queries.forEach((e,r)=>{for(let e of r.ba)e.va(t)&&(n=!0)}),n&&ob(r),i.length&&e.Pu.J_(i),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}async function oV(e,t,n){e.sharedClientState.updateQueryState(t,"rejected",n);let r=e.Au.get(t),i=r&&r.key;if(i){let n=new tZ(er.comparator);n=n.insert(i,nA.newNoDocument(i,em.min()));let r=rv().add(i),s=new r5(em.min(),new Map,new tZ(J),n,r);await oF(e,s),e.Ru=e.Ru.remove(i),e.Au.delete(t),oH(e)}else await ae(e.localStore,t,!1).then(()=>oG(e,t,n)).catch(e$)}async function oB(e,t){var n;let r=t.batch.batchId;try{let i=await (n=e.localStore,n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{let r,i,s,a=t.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(i=(r=t.batch).keys(),s=eT.resolve(),i.forEach(n=>{s=s.next(()=>o.getEntry(e,n)).next(e=>{let i=t.docVersions.get(n);R(null!==i,48541),0>e.version.compareTo(i)&&(r.applyToRemoteDocument(e,t),e.isValidDocument()&&(e.setReadTime(t.commitVersion),o.addEntry(e)))})}),s.next(()=>n.mutationQueue.removeMutationBatch(e,r))).next(()=>o.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,a,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=rv();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,a))}));oK(e,r,null),oq(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),await oQ(e,i)}catch(e){await e$(e)}}async function oZ(e,t,n){var r;try{let i=await (r=e.localStore,r.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let n;return r.mutationQueue.lookupMutationBatch(e,t).next(t=>(R(null!==t,37113),n=t.keys(),r.mutationQueue.removeMutationBatch(e,t))).next(()=>r.mutationQueue.performConsistencyCheck(e)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(e,n,t)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,n)).next(()=>r.localDocuments.getDocuments(e,n))}));oK(e,t,n),oq(e,t),e.sharedClientState.updateMutationState(t,"rejected",n),await oQ(e,i)}catch(e){await e$(e)}}function oq(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function oK(e,t,n){let r=e.du[e.currentUser.toKey()];if(r){let i=r.get(t);i&&(n?i.reject(n):i.resolve(),r=r.remove(t)),e.du[e.currentUser.toKey()]=r}}function oG(e,t,n=null){for(let r of(e.sharedClientState.removeLocalQueryTarget(t),e.Iu.get(t)))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(t=>{e.Vu.containsKey(t)||oJ(e,t)})}function oJ(e,t){e.Eu.delete(t.path.canonicalString());let n=e.Ru.get(t);null!==n&&(aW(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),oH(e))}function oW(e,t,n){for(let r of n)r instanceof oE?(e.Vu.addReference(r.key,t),function(e,t){let n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(A(oA,"New document in limbo: "+n),e.Eu.add(r),oH(e))}(e,r)):r instanceof o$?(A(oA,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||oJ(e,r.key)):O(19791,{wu:r})}function oH(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new er(ee.fromString(t)),r=e.fu.next();e.Au.set(r,new oD(n)),e.Ru=e.Ru.insert(n,r),aJ(e.remoteStore,new iR(n7(n3(n.path)),r,"TargetPurposeLimboResolution",eB.ce))}}async function oQ(e,t,n){let r=[],i=[],s=[];e.Tu.isEmpty()||(e.Tu.forEach((a,o)=>{s.push(e.pu(o,t,n).then(t=>{if((t||n)&&e.isPrimaryClient){let r=t?!t.fromCache:n?.targetChanges.get(o.targetId)?.current;e.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(t){r.push(t);let e=s1.Es(o.targetId,t);i.push(e)}}))}),await Promise.all(s),e.Pu.J_(r),await async function(e,t){try{await e.persistence.runTransaction("notifyLocalViewChanges","readwrite",n=>eT.forEach(t,t=>eT.forEach(t.Ts,r=>e.persistence.referenceDelegate.addReference(n,t.targetId,r)).next(()=>eT.forEach(t.Is,r=>e.persistence.referenceDelegate.removeReference(n,t.targetId,r)))))}catch(e){if(!eR(e))throw e;A(s2,"Failed to update sequence numbers: "+e)}for(let n of t){let t=n.targetId;if(!n.fromCache){let n=e.vs.get(t),r=n.snapshotVersion,i=n.withLastLimboFreeSnapshotVersion(r);e.vs=e.vs.insert(t,i)}}}(e.localStore,i))}async function oX(e,t){if(!e.currentUser.isEqual(t)){A(oA,"User change. New user:",t.toKey());let n=await s5(e.localStore,t);e.currentUser=t,e.mu.forEach(e=>{e.forEach(e=>{e.reject(new L(U.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.mu.clear(),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await oQ(e,n.Ns)}}function oY(e,t){let n=e.Au.get(t);if(n&&n.hu)return rv().add(n.key);{let n=rv(),r=e.Iu.get(t);if(!r)return n;for(let t of r){let r=e.Tu.get(t);n=n.unionWith(r.view.nu)}return n}}async function o0(e,t){let n=await at(e.localStore,t.query,!0),r=t.view.cu(n);return e.isPrimaryClient&&oW(e,t.targetId,r.au),r}async function o1(e,t){return ar(e.localStore,t).then(t=>oQ(e,t))}async function o6(e,t,n,r){var i,s;let a,o=await (i=e.localStore,a=i.mutationQueue,i.persistence.runTransaction("Lookup mutation documents","readonly",e=>a.Xn(e,t).next(t=>t?i.localDocuments.getDocuments(e,t):eT.resolve(null))));null!==o?("pending"===n?await a8(e.remoteStore):"acknowledged"===n||"rejected"===n?(oK(e,t,r||null),oq(e,t),s=e.localStore,s.mutationQueue.nr(t)):O(6720,"Unknown batchState",{bu:n}),await oQ(e,o)):A(oA,"Cannot apply mutation batch with id: "+t)}async function o4(e,t){if(o7(e),ue(e),!0===t&&!0!==e.gu){let t=e.sharedClientState.getAllActiveQueryTargets(),n=await o2(e,t.toArray());for(let t of(e.gu=!0,await os(e.remoteStore,!0),n))aJ(e.remoteStore,t)}else if(!1===t&&!1!==e.gu){let t=[],n=Promise.resolve();e.Iu.forEach((r,i)=>{e.sharedClientState.isLocalQueryTarget(i)?t.push(i):n=n.then(()=>(oG(e,i),ae(e.localStore,i,!0))),aW(e.remoteStore,i)}),await n,await o2(e,t),e.Au.forEach((t,n)=>{aW(e.remoteStore,n)}),e.Vu.zr(),e.Au=new Map,e.Ru=new tZ(er.comparator),e.gu=!1,await os(e.remoteStore,!1)}}async function o2(e,t,n){let r=[],i=[];for(let n of t){let t,s=e.Iu.get(n);if(s&&0!==s.length)for(let n of(t=await s7(e.localStore,n7(s[0])),s)){let t=e.Tu.get(n),r=await o0(e,t);r.snapshot&&i.push(r.snapshot)}else{let r=await an(e.localStore,n);t=await s7(e.localStore,r),await oU(e,o3(r),n,!1,t.resumeToken)}r.push(t)}return e.Pu.J_(i),r}function o3(e){var t,n,r,i,s;return t=e.path,n=e.collectionGroup,r=e.orderBy,i=e.filters,s=e.limit,new n2(t,n,r,i,s,"F",e.startAt,e.endAt)}function o5(e){return e.localStore.persistence.hs()}async function o8(e,t,n,r){if(e.gu)return void A(oA,"Ignoring unexpected query state notification.");let i=e.Iu.get(t);if(i&&i.length>0)switch(n){case"current":case"not-current":{let r=await ar(e.localStore,ro(i[0])),s=r5.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,tX.EMPTY_BYTE_STRING);await oQ(e,r,s);break}case"rejected":await ae(e.localStore,t,!0),oG(e,t,r);break;default:O(64155,n)}}async function o9(e,t,n){let r=o7(e);if(r.gu){for(let e of t){if(r.Iu.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){A(oA,"Adding an already active target "+e);continue}let t=await an(r.localStore,e),n=await s7(r.localStore,t);await oU(r,o3(t),n.targetId,!1,n.resumeToken),aJ(r.remoteStore,n)}for(let e of n)r.Iu.has(e)&&await ae(r.localStore,e,!1).then(()=>{aW(r.remoteStore,e),oG(r,e)}).catch(e$)}}function o7(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=oF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oV.bind(null,e),e.Pu.J_=oy.bind(null,e.eventManager),e.Pu.yu=o_.bind(null,e.eventManager),e}function ue(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=oB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oZ.bind(null,e),e}class ut{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=aR(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){var t,n;return t=this.persistence,n=new s4,new s3(t,n,e.initialUser,this.serializer)}Cu(e){return new sq(sG.Vi,this.serializer)}Du(e){return new ab}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ut.provider={build:()=>new ut};class un extends ut{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){return R(this.persistence.referenceDelegate instanceof sJ,46915),new sS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Cu(e){let t=void 0!==this.cacheSizeBytes?sh.withCacheSize(this.cacheSizeBytes):sh.DEFAULT;return new sq(e=>sJ.Vi(e,t),this.serializer)}}class ur extends ut{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await ue(this.xu.syncEngine),await a8(this.xu.remoteStore),await this.persistence.zi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){var t,n;return t=this.persistence,n=new s4,new s3(t,n,e.initialUser,this.serializer)}Fu(e,t){return new sS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Mu(e,t){let n=new eV(t,this.persistence);return new ej(e.asyncQueue,n)}Cu(e){let t=s0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sh.withCacheSize(this.cacheSizeBytes):sh.DEFAULT;return new sY(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,aO(),aP(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new ab}}class ui extends ur{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);let t=this.xu.syncEngine;this.sharedClientState instanceof a_&&(this.sharedClientState.syncEngine={So:o6.bind(null,t),Do:o8.bind(null,t),Co:o9.bind(null,t),hs:o5.bind(null,t),bo:o1.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi(async e=>{await o4(this.xu.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())})}Du(e){let t=aO();if(!a_.v(t))throw new L(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let n=s0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new a_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class us{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>oj(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=oX.bind(null,this.syncEngine),await os(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new om}createDatastore(e){var t;let n=aR(e.databaseInfo.databaseId),r=new aN(e.databaseInfo);return t=e.authCredentials,new aV(t,e.appCheckCredentials,r,n)}createRemoteStore(e){var t,n;return t=this.localStore,n=this.datastore,new aq(t,n,e.asyncQueue,e=>oj(this.syncEngine,e,0),ax.v()?new ax:new aw)}createSyncEngine(e,t){var n,r,i,s,a,o;let u;return n=this.localStore,r=this.remoteStore,i=this.eventManager,s=this.sharedClientState,a=e.initialUser,o=e.maxConcurrentLimboResolutions,u=new oN(n,r,i,s,a,o),t&&(u.gu=!0),u}async terminate(){await async function(e){A(aZ,"RemoteStore shutting down."),e.Ea.add(5),await aG(e),e.Aa.shutdown(),e.Va.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}function ua(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){let r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}us.provider={build:()=>new us};class uo{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):C("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class uu{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new z,this.buffer=new Uint8Array,this.Lu=new TextDecoder("utf-8"),this.ku().then(e=>{e&&e.Ua()?this.metadata.resolve(e.qa.metadata):this.metadata.reject(Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(e?.qa)}`))},e=>this.metadata.reject(e))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){let e=await this.Ku();if(null===e)return null;let t=this.Lu.decode(e),n=Number(t);return isNaN(n)&&this.qu(`length string (${t}) is not valid number`),new oI(JSON.parse(await this.Uu(n)),e.length+n)}$u(){return this.buffer.findIndex(e=>123===e)}async Ku(){for(;0>this.$u()&&!await this.Wu(););if(0===this.buffer.length)return null;let e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");let t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}qu(e){throw this.Bu.cancel(),Error(`Invalid bundle format: ${e}`)}async Wu(){let e=await this.Bu.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class ul{constructor(e,t){this.bundleData=e,this.serializer=t,this.cursor=0,this.elements=[];let n=this.Su();if(!n||!n.Ua())throw Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(n?.qa)}`);this.metadata=n;do null!==(n=this.Su())&&this.elements.push(n);while(null!==n)}getMetadata(){return this.metadata}Qu(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;let e=this.Ku();return new oI(JSON.parse(this.Uu(e)),e)}Uu(e){if(this.cursor+e>this.bundleData.length)throw new L(U.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}Ku(){let e=this.cursor,t=this.cursor;for(;t<this.bundleData.length;){if("{"===this.bundleData[t]){if(t===e)throw Error("First character is a bracket and not a number");return this.cursor=t,Number(this.bundleData.slice(e,t))}t++}throw Error("Reached the end of bundle when more is expected.")}}class uc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new L(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let t=await async function(e,t){let n={documents:t.map(t=>iy(e.serializer,t))},r=await e.jo("BatchGetDocuments",e.serializer.databaseId,ee.emptyPath(),n,t.length),i=new Map;r.forEach(t=>{var n;let r,s,a,o,u,l,c=(n=e.serializer,"found"in t?(R(!!t.found,43571),t.found.name,t.found.updateTime,r=i_(n,t.found.name),s=im(t.found.updateTime),a=t.found.createTime?im(t.found.createTime):em.min(),o=new nT({mapValue:{fields:t.found.fields}}),nA.newFoundDocument(r,s,a,o)):"missing"in t?(R(!!t.missing,3894),R(!!t.readTime,22933),u=i_(n,t.missing),l=im(t.readTime),nA.newNoDocument(u,l)):O(7234,{result:t}));i.set(c.key.toString(),c)});let s=[];return t.forEach(e=>{let t=i.get(e.toString());R(!!t,55234,{key:e}),s.push(t)}),s}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new rZ(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{let n=er.fromPath(t);this.mutations.push(new rq(n,this.precondition(n)))}),await async function(e,t){let n={writes:t.map(t=>iE(e.serializer,t))};await e.Wo("Commit",e.serializer.databaseId,ee.emptyPath(),n)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw O(50498,{Gu:e.constructor.name});t=em.min()}let n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new L(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(em.min())?rO.exists(!1):rO.updateTime(t):rO.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(em.min()))throw new L(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rO.updateTime(t)}return rO.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ud{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.zu=n.maxAttempts,this.M_=new aU(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_(async()=>{let e=new uc(this.datastore),t=this.Ju(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.Zu(e)}))}).catch(e=>{this.Zu(e)})})}Ju(e){try{let t=this.updateFunction(e);return!eZ(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Hu(),Promise.resolve()))):this.deferred.reject(e)}Xu(e){if("FirebaseError"===e?.name){let t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!rQ(t)}return!1}}let uh="FirestoreClient";class uf{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this._databaseInfo=r,this.user=k.UNAUTHENTICATED,this.clientId=G.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{A(uh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(A(uh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new z;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let t=ol(n,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}async function um(e,t){e.asyncQueue.verifyOperationInProgress(),A(uh,"Initializing OfflineComponentProvider");let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await s5(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function up(e,t){e.asyncQueue.verifyOperationInProgress();let n=await ug(e);A(uh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>oi(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>oi(t.remoteStore,n)),e._onlineComponents=t}async function ug(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){A(uh,"Using user provided OfflineComponentProvider");try{await um(e,e._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===t.name?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!("u">typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code))throw t;D("Error using user provided cache. Falling back to memory cache: "+t),await um(e,new ut)}}else A(uh,"Using default OfflineComponentProvider"),await um(e,new un(void 0));return e._offlineComponents}async function uv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(A(uh,"Using user provided OnlineComponentProvider"),await up(e,e._uninitializedComponentsProvider._online)):(A(uh,"Using default OnlineComponentProvider"),await up(e,new us))),e._onlineComponents}function uy(e){return ug(e).then(e=>e.localStore)}function u_(e){return uv(e).then(e=>e.syncEngine)}function ub(e){return uv(e).then(e=>e.datastore)}async function uw(e){let t=await uv(e),n=t.eventManager;return n.onListen=oO.bind(null,t.syncEngine),n.onUnlisten=oL.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=oP.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=oz.bind(null,t.syncEngine),n}function uI(e,t,n={}){let r=new z;return e.asyncQueue.enqueueAndForget(async()=>{var i,s;let a,o;return i=await uw(e),s=e.asyncQueue,a=new uo({next:e=>{a.Nu(),s.enqueueAndForget(()=>ov(i,o));let u=e.docs.has(t);!u&&e.fromCache?r.reject(new L(U.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&e.fromCache&&n&&"server"===n.source?r.reject(new L(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(e)},error:e=>r.reject(e)}),og(i,o=new ow(n3(t.path),a,{includeMetadataChanges:!0,Ka:!0}))}),r.promise}function ux(e,t,n={}){let r=new z;return e.asyncQueue.enqueueAndForget(async()=>{var i,s;let a,o;return i=await uw(e),s=e.asyncQueue,o=new ow(t,a=new uo({next:e=>{a.Nu(),s.enqueueAndForget(()=>ov(i,o)),e.fromCache&&"server"===n.source?r.reject(new L(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(e)},error:e=>r.reject(e)}),{includeMetadataChanges:!0,Ka:!0}),og(i,o)}),r.promise}function uS(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}let uk=new Map,uE="firestore.googleapis.com";class u${constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new L(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uE,this.ssl=!0}else this.host=e.host,this.ssl=e.ssl??!0;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=0x2800000;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new L(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new L(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uS(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new L(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new L(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new L(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,n;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uT{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u$({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new L(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u$(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new F;switch(e.type){case"firstParty":return new Z(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new L(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){let e;return(e=uk.get(this))&&(A("ComponentProvider","Removing Datastore"),uk.delete(this),e.terminate()),Promise.resolve()}}class uA{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uA(this.firestore,e,this._query)}}class uC{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uD(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uC(this.firestore,e,this._key)}toJSON(){return{type:uC._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(eh(t,uC._jsonSchema))return new uC(e,n||null,new er(ee.fromString(t.referencePath)))}}uC._jsonSchemaVersion="firestore/documentReference/1.0",uC._jsonSchema={type:ed("string",uC._jsonSchemaVersion),referencePath:ed("string")};class uD extends uA{constructor(e,t,n){super(e,t,n3(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new uC(this.firestore,null,new er(e))}withConverter(e){return new uD(this.firestore,e,this._path)}}function uN(e,t,...n){if(e=(0,_.getModularInstance)(e),ei("collection","path",t),e instanceof uT){let r=ee.fromString(t,...n);return ea(r),new uD(e,null,r)}{if(!(e instanceof uC||e instanceof uD))throw new L(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(ee.fromString(t,...n));return ea(r),new uD(e.firestore,null,r)}}function uO(e,t,...n){if(e=(0,_.getModularInstance)(e),1==arguments.length&&(t=G.newId()),ei("doc","path",t),e instanceof uT){let r=ee.fromString(t,...n);return es(r),new uC(e,null,new er(r))}{if(!(e instanceof uC||e instanceof uD))throw new L(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=e._path.child(ee.fromString(t,...n));return es(r),new uC(e.firestore,e instanceof uD?e.converter:null,new er(r))}}function uP(e,t){return e=(0,_.getModularInstance)(e),t=(0,_.getModularInstance)(t),e instanceof uA&&t instanceof uA&&e.firestore===t.firestore&&rr(e._query,t._query)&&e.converter===t.converter}let uR="AsyncQueue";class uU{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aU(this,"async_queue_retry"),this._c=()=>{let e=aP();e&&A(uR,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=aP();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=aP();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});let t=new z;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(0!==this.Yu.length){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!eR(e))throw e;A(uR,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){let t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,C("INTERNAL UNHANDLED ERROR: ",uL(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=ou.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&O(47125,{Pc:uL(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{for(let t of(this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.tc))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}}function uL(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class uz{constructor(){this._progressObserver={},this._taskCompletionResolver=new z,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class uM extends uT{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new uU,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new uU(e),this._firestoreClient=void 0,await e}}}function uF(e,t){let n="object"==typeof e?e:(0,p.getApp)(),r=(0,p._getProvider)(n,"firestore").getImmediate({identifier:"string"==typeof e?e:t||nt});if(!r._initialized){let e=(0,_.getDefaultEmulatorHostnameAndPort)("firestore");e&&function(e,t,n,r={}){e=el(e,uT);let i=(0,_.isCloudWorkstation)(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;i&&((0,_.pingServer)(`https://${o}`),(0,_.updateEmulatorBanner)("Firestore",!0)),s.host!==uE&&s.host!==o&&D("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u={...s,host:o,ssl:i,emulatorOptions:r};if(!(0,_.deepEqual)(u,a)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=k.MOCK_USER;else{t=(0,_.createMockUserToken)(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new L(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new k(i)}e._authCredentials=new j(new M(t,n))}}(r,...e)}return r}function uj(e){if(e._terminated)throw new L(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r,i,s;let a,o=e._freezeSettings(),u=(t=e._databaseId,n=e._app?.options.appId||"",r=e._persistenceKey,i=e._app?.options.apiKey,new ne(t,n,r,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,uS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,i));e._componentsProvider||o.localCache?._offlineComponentProvider&&o.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),e._firestoreClient=new uf(e._authCredentials,e._appCheckCredentials,e._queue,u,e._componentsProvider&&(s=e._componentsProvider,a=s?._online.build(),{_offline:s?._offline.build(a),_online:a}))}(e),e._firestoreClient}function uV(e,t){let n=uj(e=el(e,uM)),r=new uz;return function(e,t,n,r){var i;let s=(i=aR(t),new uu(function(e,t){if(e instanceof Uint8Array)return ua(e,void 0);if(e instanceof ArrayBuffer)return ua(new Uint8Array(e),void 0);if(e instanceof ReadableStream)return e.getReader();throw Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof n?r0().encode(n):n),i));e.asyncQueue.enqueueAndForget(async()=>{var t;(async function(e,t,n){try{var r,i;let s,a=await t.getMetadata();if(await (r=e.localStore,s=im(a.createTime),r.persistence.runTransaction("hasNewerBundle","readonly",e=>r.Pi.getBundleMetadata(e,a.id)).then(e=>!!e&&e.createTime.compareTo(s)>=0)))return await t.close(),n._completeWith({taskState:"Success",documentsLoaded:a.totalDocuments,bytesLoaded:a.totalBytes,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}),Promise.resolve(new Set);n._updateProgress(ok(a));let o=new oS(a,t.serializer),u=await t.Su();for(;u;){let e=await o.Ga(u);e&&n._updateProgress(e),u=await t.Su()}let l=await o.ja(e.localStore);return await oQ(e,l.Ja,void 0),await (i=e.localStore,i.persistence.runTransaction("Save bundle","readwrite",e=>i.Pi.saveBundleMetadata(e,a))),n._completeWith(l.progress),Promise.resolve(l.Ha)}catch(e){return D(oA,`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(t=await u_(e),s,r).then(e=>{t.sharedClientState.notifyBundleLoaded(e)})})}(n,e._databaseId,t,r),r}class uB{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uB(tX.fromBase64String(e))}catch(e){throw new L(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new uB(tX.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:uB._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eh(e,uB._jsonSchema))return uB.fromBase64String(e.bytes)}}uB._jsonSchemaVersion="firestore/bytes/1.0",uB._jsonSchema={type:ed("string",uB._jsonSchemaVersion),bytes:ed("string")};class uZ{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new L(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uq{constructor(e){this._methodName=e}}class uK{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return J(this._lat,e._lat)||J(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:uK._jsonSchemaVersion}}static fromJSON(e){if(eh(e,uK._jsonSchema))return new uK(e.latitude,e.longitude)}}uK._jsonSchemaVersion="firestore/geoPoint/1.0",uK._jsonSchema={type:ed("string",uK._jsonSchemaVersion),latitude:ed("number"),longitude:ed("number")};class uG{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:uG._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eh(e,uG._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new uG(e.vectorValues);throw new L(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}uG._jsonSchemaVersion="firestore/vectorValue/1.0",uG._jsonSchema={type:ed("string",uG._jsonSchemaVersion),vectorValues:ed("object")};let uJ=/^__.*__$/;class uW{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new rF(e,this.data,this.fieldMask,t,this.fieldTransforms):new rM(e,this.data,t,this.fieldTransforms)}}class uH{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new rF(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uQ(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O(40011,{dataSource:e})}}class uX{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new uX({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){let t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){let t=this.path?.child(e),n=this.contextWith({path:t,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return li(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(uQ(this.dataSource)&&uJ.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class uY{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||aR(e)}createContext(e,t,n,r=!1){return new uX({dataSource:e,methodName:t,targetDoc:n,path:en.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function u0(e){let t=e._freezeSettings(),n=aR(e._databaseId);return new uY(e._databaseId,!!t.ignoreUndefinedProperties,n)}function u1(e,t,n,r,i,s={}){let a,o,u=e.createContext(s.merge||s.mergeFields?2:0,t,n,i);le("Data must be an object, but it was:",u,r);let l=u9(r,u);if(s.merge)a=new tH(u.fieldMask),o=u.fieldTransforms;else if(s.mergeFields){let e=[];for(let r of s.mergeFields){let i=lt(t,r,n);if(!u.contains(i))throw new L(U.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);ls(e,i)||e.push(i)}a=new tH(e),o=u.fieldTransforms.filter(e=>a.covers(e.field))}else a=null,o=u.fieldTransforms;return new uW(new nT(l),a,o)}class u6 extends uq{_toFieldTransform(e){if(2!==e.dataSource)throw 1===e.dataSource?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof u6}}class u4 extends uq{_toFieldTransform(e){return new rD(e.path,new rx)}isEqual(e){return e instanceof u4}}function u2(e,t,n,r){let i=e.createContext(1,t,n);le("Data must be an object, but it was:",i,r);let s=[],a=nT.empty();return tV(r,(e,r)=>{let o=lr(t,e,n);r=(0,_.getModularInstance)(r);let u=i.childContextForFieldPath(o);if(r instanceof u6)s.push(o);else{let e=u8(r,u);null!=e&&(s.push(o),a.set(o,e))}}),new uH(a,new tH(s),i.fieldTransforms)}function u3(e,t,n,r,i,s){let a=e.createContext(1,t,n),o=[lt(t,r,n)],u=[i];if(s.length%2!=0)throw new L(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)o.push(lt(t,s[e])),u.push(s[e+1]);let l=[],c=nT.empty();for(let e=o.length-1;e>=0;--e)if(!ls(l,o[e])){let t=o[e],n=u[e];n=(0,_.getModularInstance)(n);let r=a.childContextForFieldPath(t);if(n instanceof u6)l.push(t);else{let e=u8(n,r);null!=e&&(l.push(t),c.set(t,e))}}return new uH(c,new tH(l),a.fieldTransforms)}function u5(e,t,n,r=!1){return u8(n,e.createContext(r?4:3,t))}function u8(e,t){if(u7(e=(0,_.getModularInstance)(e)))return le("Unsupported field value:",t,e),u9(e,t);if(e instanceof uq)return function(e,t){if(!uQ(t.dataSource))throw t.createError(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.createError(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");let n=[],r=0;for(let i of e){let e=u8(i,t.childContextForArray(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}return function(e,t){var n,r,i;if(null===(e=(0,_.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return n=t.serializer,eK(r=e)?rb(r):r_(n,r);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){let n=ef.fromDate(e);return{timestampValue:id(t.serializer,n)}}if(e instanceof ef){let n=new ef(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:id(t.serializer,n)}}if(e instanceof uK)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uB)return{bytesValue:ih(t.serializer,e._byteString)};if(e instanceof uC){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.createError(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ip(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof uG)return{mapValue:{fields:{[nr]:{stringValue:na},[no]:{arrayValue:{values:((i=e)instanceof uG?i.toArray():i).map(e=>{if("number"!=typeof e)throw t.createError("VectorValues must only contain numeric values.");return r_(t.serializer,e)})}}}}};if(iP(e))return e._toProto(t.serializer);throw t.createError(`Unsupported field value: ${eu(e)}`)}(e,t)}function u9(e,t){let n={};return tB(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tV(e,(e,r)=>{let i=u8(r,t.childContextForField(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function u7(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ef||e instanceof uK||e instanceof uB||e instanceof uC||e instanceof uq||e instanceof uG||iP(e))}function le(e,t,n){if(!u7(n)||!eo(n)){let r=eu(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function lt(e,t,n){if((t=(0,_.getModularInstance)(t))instanceof uZ)return t._internalPath;if("string"==typeof t)return lr(e,t);throw li("Field path arguments must be of type string or ",e,!1,void 0,n)}let ln=RegExp("[~\\*/\\[\\]]");function lr(e,t,n){if(t.search(ln)>=0)throw li(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new uZ(...t.split("."))._internalPath}catch(r){throw li(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function li(e,t,n,r,i){let s=r&&!r.isEmpty(),a=void 0!==i,o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new L(U.INVALID_ARGUMENT,o+e+u)}function ls(e,t){return e.some(e=>e.isEqual(t))}class la{convertValue(e,t="none"){switch(nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return t1(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(t6(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw O(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let n={};return tV(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){return new uG(e.fields?.[no].arrayValue?.values?.map(e=>t1(e.doubleValue)))}convertGeoPoint(e){return new uK(t1(e.latitude),t1(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=t9(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(t7(e));default:return null}}convertTimestamp(e){let t=t0(e);return new ef(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=ee.fromString(e);R(iO(n),9688,{name:e});let r=new nn(n.get(1),n.get(3)),i=new er(n.popFirst(5));return r.isEqual(t)||C(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}class lo extends la{constructor(e){super(),this.firestore=e}convertBytes(e){return new uB(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new uC(this.firestore,null,t)}}function lu(){return new u4("serverTimestamp")}let ll="@firebase/firestore",lc="4.10.0";function ld(e){if("object"!=typeof e||null===e)return!1;for(let t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}class lh{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class lf{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new nT({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class lm{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new uC(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let e=new lp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){let t=this._document.data.field(lt("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lp extends lm{data(){return super.data()}}function lg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new L(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lv{}class ly extends lv{}function l_(e,t,...n){let r=[];for(let i of(t instanceof lv&&r.push(t),function(e){let t=e.filter(e=>e instanceof lI).length,n=e.filter(e=>e instanceof lb).length;if(t>1||t>0&&n>0)throw new L(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r=r.concat(n)),r))e=i._apply(e);return e}class lb extends ly{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new lb(e,t,n)}_apply(e){let t=this._parse(e);return lM(e._query,t),new uA(e.firestore,e.converter,rt(e._query,t))}_parse(e){let t=u0(e.firestore);return function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new L(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){lz(a,s);let t=[];for(let n of a)t.push(lL(r,e,n));o={arrayValue:{values:t}}}else o=lL(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||lz(a,s),o=u5(n,t,a,"in"===s||"not-in"===s);return nR.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function lw(e,t,n){let r=lt("where",e);return lb._create(r,t,n)}class lI extends lv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new lI(e,t)}_parse(e){let t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:nU.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;for(let e of t.getFlattenedFilters())lM(n,e),n=rt(n,e)}(e._query,t),new uA(e.firestore,e.converter,rt(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function lx(...e){return e.forEach(e=>lF("or",e)),lI._create("or",e)}function lS(...e){return e.forEach(e=>lF("and",e)),lI._create("and",e)}class lk extends ly{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new lk(e,t)}_apply(e){var t;let n,r=function(e,t,n){if(null!==e.startAt)throw new L(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new L(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nO(t,n)}(e._query,this._field,this._direction);return new uA(e.firestore,e.converter,(t=e._query,n=t.explicitOrderBy.concat([r]),new n2(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))}}function lE(e,t="asc"){let n=lt("orderBy",e);return lk._create(n,t)}class l$ extends ly{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new l$(e,t,n)}_apply(e){return new uA(e.firestore,e.converter,rn(e._query,this._limit,this._limitType))}}function lT(e){return ec("limit",e),l$._create("limit",e,"F")}function lA(e){return ec("limitToLast",e),l$._create("limitToLast",e,"L")}class lC extends ly{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new lC(e,t,n)}_apply(e){var t;let n=lU(e,this.type,this._docOrFields,this._inclusive);return new uA(e.firestore,e.converter,(t=e._query,new n2(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,n,t.endAt)))}}function lD(...e){return lC._create("startAt",e,!0)}function lN(...e){return lC._create("startAfter",e,!1)}class lO extends ly{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new lO(e,t,n)}_apply(e){var t;let n=lU(e,this.type,this._docOrFields,this._inclusive);return new uA(e.firestore,e.converter,(t=e._query,new n2(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,n)))}}function lP(...e){return lO._create("endBefore",e,!1)}function lR(...e){return lO._create("endAt",e,!0)}function lU(e,t,n,r){if(n[0]=(0,_.getModularInstance)(n[0]),n[0]instanceof lm)return function(e,t,n,r,i){if(!r)throw new L(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);let s=[];for(let n of n9(e))if(n.field.isKeyField())s.push(ng(t,r.key));else{let e=r.data.field(n.field);if(t8(e))throw new L(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){let e=n.field.canonicalString();throw new L(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new nC(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{let i=u0(e.firestore);return function(e,t,n,r,i,s){let a=e.explicitOrderBy;if(i.length>a.length)throw new L(U.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let o=[];for(let s=0;s<i.length;s++){let u=i[s];if(a[s].field.isKeyField()){if("string"!=typeof u)throw new L(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof u}`);if(!n8(e)&&-1!==u.indexOf("/"))throw new L(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${u}' contains a slash.`);let n=e.path.child(ee.fromString(u));if(!er.isDocumentKey(n))throw new L(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);let i=new er(n);o.push(ng(t,i))}else{let e=u5(n,r,u);o.push(e)}}return new nC(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function lL(e,t,n){if("string"==typeof(n=(0,_.getModularInstance)(n))){if(""===n)throw new L(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n8(t)&&-1!==n.indexOf("/"))throw new L(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=t.path.child(ee.fromString(n));if(!er.isDocumentKey(r))throw new L(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ng(e,new er(r))}if(n instanceof uC)return ng(e,n._key);throw new L(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eu(n)}.`)}function lz(e,t){if(!Array.isArray(e)||0===e.length)throw new L(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lM(e,t){let n=function(e,t){for(let n of e)for(let e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new L(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new L(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function lF(e,t){if(!(t instanceof lb||t instanceof lI))throw new L(U.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function lj(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}class lV extends la{constructor(e){super(),this.firestore=e}convertBytes(e){return new uB(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new uC(this.firestore,null,t)}}function lB(e){return new lh("sum",lt("sum",e))}function lZ(e){return new lh("avg",lt("average",e))}function lq(){return new lh("count")}function lK(e,t){return e instanceof lh&&t instanceof lh&&e.aggregateType===t.aggregateType&&e._internalFieldPath?.canonicalString()===t._internalFieldPath?.canonicalString()}function lG(e,t){return uP(e.query,t.query)&&(0,_.deepEqual)(e.data(),t.data())}function lJ(e){return lW(e,{count:lq()})}function lW(e,t){var n;let r,i=el(e.firestore,uM),s=uj(i),a=function(e,t){let n=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}(t,(e,t)=>new rW(t,e.aggregateType,e._internalFieldPath));return(n=e._query,r=new z,s.asyncQueue.enqueueAndForget(async()=>{try{let e=await ub(s);r.resolve(async function(e,t,n){let{request:r,gt:i,parent:s}=function(e,t,n,r){let{ft:i,parent:s}=iA(e,t),a={},o=[],u=0;return n.forEach(e=>{let t="aggregate_"+u++;a[t]=e.alias,"count"===e.aggregateType?o.push({alias:t,count:{}}):"avg"===e.aggregateType?o.push({alias:t,avg:{field:iD(e.fieldPath)}}):"sum"===e.aggregateType&&o.push({alias:t,sum:{field:iD(e.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},gt:a,parent:s}}(e.serializer,(t.Re||(t.Re=re(t,t.explicitOrderBy)),t.Re),n);e.connection.Ko||delete r.parent;let a=(await e.jo("RunAggregationQuery",e.serializer.databaseId,s,r,1)).filter(e=>!!e.result);R(1===a.length,64727);let o=a[0].result?.aggregateFields;return Object.keys(o).reduce((e,t)=>(e[i[t]]=o[t],e),{})}(e,n,a))}catch(e){r.reject(e)}}),r.promise).then(t=>new lf(e,new lo(i),t))}class lH{constructor(e){this.kind="memory",this._onlineComponentProvider=us.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new un(void 0)}}toJSON(){return{kind:this.kind}}}class lQ{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=l5(void 0))._initialize(e),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class lX{constructor(){this.kind="memoryEager",this._offlineComponentProvider=ut.provider}toJSON(){return{kind:this.kind}}}class lY{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new un(e)}}toJSON(){return{kind:this.kind}}}function l0(){return new lX}function l1(e){return new lY(e?.cacheSizeBytes)}function l6(e){return new lH(e)}function l4(e){return new lQ(e)}class l2{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=us.provider,this._offlineComponentProvider={build:t=>new ur(t,e?.cacheSizeBytes,this.forceOwnership)}}}class l3{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=us.provider,this._offlineComponentProvider={build:t=>new ui(t,e?.cacheSizeBytes)}}}function l5(e){return new l2(e?.forceOwnership)}function l8(){return new l3}let l9="NOT SUPPORTED";class l7{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ce extends lm{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new cn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(lt("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new L(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=ce._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()&&(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),this._firestore,this.ref.path,t.bundle="NOT SUPPORTED"),t}}function ct(e,t,n){if(eh(t,ce._jsonSchema)){var r;if(t.bundle===l9)throw new L(U.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");let i=aR(e._databaseId),s=(r=t.bundle,new ul(r,i)),a=s.t(),o=new oS(s.getMetadata(),i);for(let e of a)o.o(e);let u=o.documents;if(1!==u.length)throw new L(U.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${u.length} documents.`);let l=ik(i,u[0].document),c=new er(ee.fromString(t.bundleName));return new ce(e,new lV(e),c,l,new l7(!1,!1),n||null)}}ce._jsonSchemaVersion="firestore/documentSnapshot/1.0",ce._jsonSchema={type:ed("string",ce._jsonSchemaVersion),bundleSource:ed("string","DocumentSnapshot"),bundleName:ed("string"),bundle:ed("string")};class cn extends ce{data(e={}){return super.data(e)}}class cr{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new l7(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new cn(this._firestore,this._userDataWriter,n.key,n,new l7(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{let r=new cn(e._firestore,e._userDataWriter,n.doc.key,n.doc,new l7(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{let r=new cn(e._firestore,e._userDataWriter,t.doc.key,t.doc,new l7(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(s=(n=n.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O(61501,{type:e})}}(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new L(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=cr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=G.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),this._firestore,this.query._query,e.bundleName,e.bundle="NOT SUPPORTED",e}}function ci(e,t,n){if(eh(t,cr._jsonSchema)){var r;if(t.bundle===l9)throw new L(U.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");let i=aR(e._databaseId),s=(r=t.bundle,new ul(r,i)),a=s.t(),o=new oS(s.getMetadata(),i);for(let e of a)o.o(e);if(1!==o.queries.length)throw new L(U.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${o.queries.length} queries.`);let u=iZ(o.queries[0].bundledQuery),l=o.documents,c=new oc;l.map(e=>{let t=ik(i,e.document);c=c.add(t)});let d=oh.fromInitialDocuments(u,c,rv(),!1,!1),h=new uA(e,n||null,u);return new cr(e,new lV(e),h,d)}}function cs(e,t){return e instanceof ce&&t instanceof ce?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof cr&&t instanceof cr&&e._firestore===t._firestore&&uP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}cr._jsonSchemaVersion="firestore/querySnapshot/1.0",cr._jsonSchema={type:ed("string",cr._jsonSchemaVersion),bundleSource:ed("string","QuerySnapshot"),bundleName:ed("string"),bundle:ed("string")};let ca={maxAttempts:5};class co{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=u0(e)}set(e,t,n){this._verifyNotCommitted();let r=cu(e,this._firestore),i=lj(r.converter,t,n),s=u1(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,rO.none())),this}update(e,t,n,...r){let i;this._verifyNotCommitted();let s=cu(e,this._firestore);return i="string"==typeof(t=(0,_.getModularInstance)(t))||t instanceof uZ?u3(this._dataReader,"WriteBatch.update",s._key,t,n,r):u2(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(i.toMutation(s._key,rO.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=cu(e,this._firestore);return this._mutations=this._mutations.concat(new rZ(t._key,rO.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cu(e,t){if((e=(0,_.getModularInstance)(e)).firestore!==t)throw new L(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class cl{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=u0(e)}get(e){let t=cu(e,this._firestore),n=new lV(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return O(24041);let r=e[0];if(r.isFoundDocument())return new lm(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new lm(this._firestore,n,t._key,null,t.converter);throw O(18433,{doc:r})})}set(e,t,n){let r=cu(e,this._firestore),i=lj(r.converter,t,n),s=u1(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){let i,s=cu(e,this._firestore);return i="string"==typeof(t=(0,_.getModularInstance)(t))||t instanceof uZ?u3(this._dataReader,"Transaction.update",s._key,t,n,r):u2(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,i),this}delete(e){let t=cu(e,this._firestore);return this._transaction.delete(t._key),this}}class cc extends cl{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=cu(e,this._firestore),n=new lo(this._firestore);return super.get(e).then(e=>new ce(this._firestore,n,t._key,e._document,new l7(!1,!1),t.converter))}}function cd(e,t,n){var r,i;let s;e=el(e,uM);let a={...ca,...n};if(a.maxAttempts<1)throw new L(U.INVALID_ARGUMENT,"Max attempts must be at least 1");return r=uj(e),i=n=>t(new cc(e,n)),s=new z,r.asyncQueue.enqueueAndForget(async()=>{let e=await ub(r);new ud(r.asyncQueue,e,a,i,s).ju()}),s.promise}function ch(e){e=el(e,uC);let t=el(e.firestore,uM);return uI(uj(t),e._key).then(n=>cE(t,e,n))}function cf(e){var t;let n;e=el(e,uC);let r=el(e.firestore,uM),i=uj(r),s=new lo(r);return(t=e._key,n=new z,i.asyncQueue.enqueueAndForget(async()=>(async function(e,t,n){try{let r=await e.persistence.runTransaction("read document","readonly",n=>e.localDocuments.getDocument(n,t));r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new L(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(r){let e=ol(r,`Failed to get document '${t} from cache`);n.reject(e)}})(await uy(i),t,n)),n.promise).then(t=>new ce(r,s,e._key,t,new l7(null!==t&&t.hasLocalMutations,!0),e.converter))}function cm(e){e=el(e,uC);let t=el(e.firestore,uM);return uI(uj(t),e._key,{source:"server"}).then(n=>cE(t,e,n))}function cp(e){e=el(e,uA);let t=el(e.firestore,uM),n=uj(t),r=new lo(t);return lg(e._query),ux(n,e._query).then(n=>new cr(t,r,e,n))}function cg(e){var t;let n;e=el(e,uA);let r=el(e.firestore,uM),i=uj(r),s=new lo(r);return(t=e._query,n=new z,i.asyncQueue.enqueueAndForget(async()=>(async function(e,t,n){try{let r=await at(e,t,!0),i=new oT(t,r.ks),s=i.ru(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(r){let e=ol(r,`Failed to execute query '${t} against cache`);n.reject(e)}})(await uy(i),t,n)),n.promise).then(t=>new cr(r,s,e,t))}function cv(e){e=el(e,uA);let t=el(e.firestore,uM),n=uj(t),r=new lo(t);return ux(n,e._query,{source:"server"}).then(n=>new cr(t,r,e,n))}function cy(e,t,n){e=el(e,uC);let r=el(e.firestore,uM),i=lj(e.converter,t,n),s=u0(r);return ck(r,[u1(s,"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,rO.none())])}function c_(e,t,n,...r){e=el(e,uC);let i=el(e.firestore,uM),s=u0(i);return ck(i,[("string"==typeof(t=(0,_.getModularInstance)(t))||t instanceof uZ?u3(s,"updateDoc",e._key,t,n,r):u2(s,"updateDoc",e._key,t)).toMutation(e._key,rO.exists(!0))])}function cb(e){return ck(el(e.firestore,uM),[new rZ(e._key,rO.none())])}function cw(e,t){let n=el(e.firestore,uM),r=uO(e),i=lj(e.converter,t);return ck(n,[u1(u0(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,rO.exists(!1))]).then(()=>r)}function cI(e,...t){var n;let r,i,s,a,o;e=(0,_.getModularInstance)(e);let u={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof t[0]||ld(t[l])||(u=t[l++]);let c={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(ld(t[l])){let e=t[l];t[l]=e.next?.bind(e),t[l+1]=e.error?.bind(e),t[l+2]=e.complete?.bind(e)}if(e instanceof uC)i=el(e.firestore,uM),s=n3(e._key.path),r={next:n=>{t[l]&&t[l](cE(i,e,n))},error:t[l+1],complete:t[l+2]};else{let n=el(e,uA);i=el(n.firestore,uM),s=n._query;let a=new lo(i);r={next:e=>{t[l]&&t[l](new cr(i,a,n,e))},error:t[l+1],complete:t[l+2]},lg(e._query)}return n=uj(i),o=new ow(s,a=new uo(r),c),n.asyncQueue.enqueueAndForget(async()=>og(await uw(n),o)),()=>{a.Nu(),n.asyncQueue.enqueueAndForget(async()=>ov(await uw(n),o))}}function cx(e,t,...n){var r,i,s,a,o,u;let l=(0,_.getModularInstance)(e),c=function(e){let t={bundle:"",bundleName:"",bundleSource:""};for(let n of["bundle","bundleName","bundleSource"]){if(!(n in e)){t.error=`snapshotJson missing required field: ${n}`;break}let r=e[n];if("string"!=typeof r){t.error=`snapshotJson field '${n}' must be a string.`;break}if(0===r.length){t.error=`snapshotJson field '${n}' cannot be an empty string.`;break}"bundle"===n?t.bundle=r:"bundleName"===n?t.bundleName=r:"bundleSource"===n&&(t.bundleSource=r)}return t}(t);if(c.error)throw new L(U.INVALID_ARGUMENT,c.error);let d,h=0;if("object"!=typeof n[0]||ld(n[h])||(d=n[h++]),"QuerySnapshot"===c.bundleSource){let e,t,a=null;if("object"==typeof n[h]&&ld(n[h])){let e=n[h++];a={next:e.next,error:e.error,complete:e.complete}}else a={next:n[h++],error:n[h++],complete:n[h++]};return r=d,i=a,s=n[h],t=!1,uV(l,c.bundle).then(()=>{var e,t,n;return e=l,t=c.bundleName,(n=uj(e=el(e,uM)),n.asyncQueue.enqueue(async()=>{var e;return e=await uy(n),e.persistence.runTransaction("Get named query","readonly",n=>e.Pi.getNamedQuery(n,t))})).then(t=>t?new uA(e,null,t.query):null)}).then(n=>{n&&!t&&(s&&n.withConverter(s),e=cI(n,r||{},i))}).catch(e=>(i.error&&i.error(e),()=>{})),()=>{t||(t=!0,e&&e())}}if("DocumentSnapshot"===c.bundleSource){let e,t,r=null;if("object"==typeof n[h]&&ld(n[h])){let e=n[h++];r={next:e.next,error:e.error,complete:e.complete}}else r={next:n[h++],error:n[h++],complete:n[h++]};return a=d,o=r,u=n[h],t=!1,uV(l,c.bundle).then(()=>{t||(e=cI(new uC(l,u||null,er.fromPath(c.bundleName)),a||{},o))}).catch(e=>(o.error&&o.error(e),()=>{})),()=>{t||(t=!0,e&&e())}}throw new L(U.INVALID_ARGUMENT,`unsupported bundle source: ${c.bundleSource}`)}function cS(e,t){let n,r=uj(e=el(e,uM));return n=new uo(ld(t)?t:{next:t}),r.asyncQueue.enqueueAndForget(async()=>{var e;return e=await uw(r),void(e.Ca.add(n),n.next())}),()=>{n.Nu(),r.asyncQueue.enqueueAndForget(async()=>{var e;return e=await uw(r),void e.Ca.delete(n)})}}function ck(e,t){var n;let r;return n=uj(e),r=new z,n.asyncQueue.enqueueAndForget(async()=>oM(await u_(n),t,r)),r.promise}function cE(e,t,n){let r=n.docs.get(t._key),i=new lo(e);return new ce(e,i,t._key,r,new l7(n.hasPendingWrites,n.fromCache),t.converter)}function c$(e){return uj(e=el(e,uM)),new co(e,t=>ck(e,t))}function cT(e,t){let n=uj(e=el(e,uM));if(!n._uninitializedComponentsProvider||"memory"===n._uninitializedComponentsProvider._offline.kind)return D("Cannot enable indexes when persistence is disabled"),Promise.resolve();let r=function(e){let t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new L(U.INVALID_ARGUMENT,"Failed to parse JSON: "+e?.message)}}(e):e,n=[];if(Array.isArray(t.indexes))for(let e of t.indexes){let t=cA(e,"collectionGroup"),r=[];if(Array.isArray(e.fields))for(let t of e.fields){let e=lr("setIndexConfiguration",cA(t,"fieldPath"));"CONTAINS"===t.arrayConfig?r.push(new e_(e,2)):"ASCENDING"===t.order?r.push(new e_(e,0)):"DESCENDING"===t.order&&r.push(new e_(e,1))}n.push(new ep(ep.UNKNOWN_ID,t,r,eb.empty()))}return n}(t);return n.asyncQueue.enqueue(async()=>(async function(e,t){let n=e.indexManager,r=[];return e.persistence.runTransaction("Configure indexes","readwrite",e=>n.getFieldIndexes(e).next(i=>(function(e,t,n,r,i){t=[...t],(e=[...e]).sort(n),t.sort(n);let s=e.length,a=t.length,o=0,u=0;for(;o<a&&u<s;){let s=n(e[u],t[o]);s<0?i(e[u++]):s>0?r(t[o++]):(o++,u++)}for(;o<a;)r(t[o++]);for(;u<s;)i(e[u++])})(i,t,ey,t=>{r.push(n.addFieldIndex(e,t))},t=>{r.push(n.deleteFieldIndex(e,t))})).next(()=>eT.waitFor(r)))})(await uy(n),r))}function cA(e,t){if("string"!=typeof e[t])throw new L(U.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}class cC{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function cD(e){e=el(e,uM);let t=cU.get(e);if(t)return t;let n=uj(e);if("persistent"!==n._uninitializedComponentsProvider?._offline.kind)return null;let r=new cC(e);return cU.set(e,r),r}function cN(e){cR(e,!0)}function cO(e){cR(e,!1)}function cP(e){var t;(t=uj(e._firestore)).asyncQueue.enqueue(async()=>{var e;let n;return n=(e=await uy(t)).indexManager,e.persistence.runTransaction("Delete All Indexes","readwrite",e=>n.deleteAllFieldIndexes(e))}).then(e=>A("deleting all persistent cache indexes succeeded")).catch(e=>D("deleting all persistent cache indexes failed",e))}function cR(e,t){var n;(n=uj(e._firestore),n.asyncQueue.enqueue(async()=>{var e;return e=await uy(n),void(e.Cs.As=t)})).then(e=>A(`setting persistent cache index auto creation isEnabled=${t} succeeded`)).catch(e=>D(`setting persistent cache index auto creation isEnabled=${t} failed`,e))}let cU=new WeakMap;class cL{constructor(){throw Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return cz.instance.onExistenceFilterMismatch(e)}}class cz{constructor(){this.i=new Map}static get instance(){return cM||function(e){if(rY)throw Error("a TestingHooksSpi instance is already set");rY=e}(cM=new cz),cM}u(e){this.i.forEach(t=>t(e))}onExistenceFilterMismatch(e){let t=Symbol(),n=this.i;return n.set(t,e),()=>n.delete(t)}}let cM=null;!function(e=!0){E=p.SDK_VERSION,(0,p._registerComponent)(new g.Component("firestore",(t,{instanceIdentifier:n,options:r})=>{let i=t.getProvider("app").getImmediate(),s=new uM(new V(t.getProvider("auth-internal")),new K(i,t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nn(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:e,...r},s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),(0,p.registerVersion)(ll,lc,void 0),(0,p.registerVersion)(ll,lc,"esm2020")}(),e.s(["AggregateField",()=>lh,"AggregateQuerySnapshot",()=>lf,"DocumentSnapshot",()=>ce,"PersistentCacheIndexManager",()=>cC,"QueryCompositeFilterConstraint",()=>lI,"QueryConstraint",()=>ly,"QueryDocumentSnapshot",()=>cn,"QueryEndAtConstraint",()=>lO,"QueryFieldFilterConstraint",()=>lb,"QueryLimitConstraint",()=>l$,"QueryOrderByConstraint",()=>lk,"QuerySnapshot",()=>cr,"QueryStartAtConstraint",()=>lC,"SnapshotMetadata",()=>l7,"Transaction",()=>cc,"WriteBatch",()=>co,"_TestingHooks",()=>cL,"addDoc",()=>cw,"aggregateFieldEqual",()=>lK,"aggregateQuerySnapshotEqual",()=>lG,"and",()=>lS,"average",()=>lZ,"count",()=>lq,"deleteAllPersistentCacheIndexes",()=>cP,"deleteDoc",()=>cb,"disablePersistentCacheIndexAutoCreation",()=>cO,"documentSnapshotFromJSON",()=>ct,"enablePersistentCacheIndexAutoCreation",()=>cN,"endAt",()=>lR,"endBefore",()=>lP,"executeWrite",()=>ck,"getAggregateFromServer",()=>lW,"getCountFromServer",()=>lJ,"getDoc",()=>ch,"getDocFromCache",()=>cf,"getDocFromServer",()=>cm,"getDocs",()=>cp,"getDocsFromCache",()=>cg,"getDocsFromServer",()=>cv,"getPersistentCacheIndexManager",()=>cD,"limit",()=>lT,"limitToLast",()=>lA,"memoryEagerGarbageCollector",()=>l0,"memoryLocalCache",()=>l6,"memoryLruGarbageCollector",()=>l1,"onSnapshot",()=>cI,"onSnapshotResume",()=>cx,"onSnapshotsInSync",()=>cS,"or",()=>lx,"orderBy",()=>lE,"persistentLocalCache",()=>l4,"persistentMultipleTabManager",()=>l8,"persistentSingleTabManager",()=>l5,"query",()=>l_,"querySnapshotFromJSON",()=>ci,"runTransaction",()=>cd,"setDoc",()=>cy,"setIndexConfiguration",()=>cT,"snapshotEqual",()=>cs,"startAfter",()=>lN,"startAt",()=>lD,"sum",()=>lB,"updateDoc",()=>c_,"where",()=>lw,"writeBatch",()=>c$],63802),e.s([],36180),e.i(63802),e.s(["Timestamp",()=>ef,"addDoc",()=>cw,"collection",()=>uN,"deleteDoc",()=>cb,"doc",()=>uO,"getDocs",()=>cp,"getFirestore",()=>uF,"limit",()=>lT,"onSnapshot",()=>cI,"orderBy",()=>lE,"query",()=>l_,"serverTimestamp",()=>lu,"setDoc",()=>cy,"startAfter",()=>lN,"updateDoc",()=>c_,"where",()=>lw,"writeBatch",()=>c$],98925)},53699,27215,61086,51718,18357,e=>{"use strict";e.i(14539);var t,n,r,i,s,a,o,u=e.i(76510);e.i(36180);var l=e.i(98925),c=e.i(92953),d=e.i(97427),h=e.i(8070);let f="firebasestorage.googleapis.com",m="storageBucket";class p extends d.FirebaseError{constructor(e,t,n=0){super(g(e),`Firebase Storage: ${t} (${g(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,p.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return g(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function g(e){return"storage/"+e}function v(){return new p(i.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function y(e){return new p(i.INVALID_ARGUMENT,e)}function _(){return new p(i.APP_DELETED,"The Firebase app was deleted.")}function b(e,t){return new p(i.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function w(e){throw new p(i.INTERNAL_ERROR,"Internal error: "+e)}(t=i||(i={})).UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class I{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=I.makeFromUrl(e,t)}catch(t){return new I(e,"")}if(""===n.path)return n;throw new p(i.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null,r="([A-Za-z0-9.\\-_]+)",s=RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}let o=t.replace(/[.]/g,"\\."),u=RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),l=t===f?"(?:storage.googleapis.com|storage.cloud.google.com)":t,c=[{regex:s,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:u,indices:{bucket:1,path:3},postModify:a},{regex:RegExp(`^https?://${l}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:a}];for(let t=0;t<c.length;t++){let r=c[t],i=r.regex.exec(e);if(i){let e=i[r.indices.bucket],t=i[r.indices.path];t||(t=""),n=new I(e,t),r.postModify(n);break}}if(null==n)throw new p(i.INVALID_URL,"Invalid URL '"+e+"'.");return n}}class x{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function S(e){return"string"==typeof e||e instanceof String}function k(e){return E()&&e instanceof Blob}function E(){return"u">typeof Blob}function $(e,t,n,r){if(r<t)throw y(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw y(`Invalid value for '${e}'. Expected ${n} or less.`)}function T(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function A(e){let t=encodeURIComponent,n="?";for(let r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}(n=s||(s={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT";class C{constructor(e,t,n,r,i,s,a,o,u,l,c,d=!0,h=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=c,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){let e=(e,t)=>{if(t)return void e(!1,new D(!1,null,!0));let n=this.connectionFactory_();this.pendingConnection_=n;let r=e=>{let t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{var t;let i,a,o;null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;let u=n.getErrorCode()===s.NO_ERROR,l=n.getStatus();!u||(t=this.additionalRetryCodes_,i=l>=500&&l<600,a=-1!==[408,429].indexOf(l),o=-1!==t.indexOf(l),(i||a||o)&&this.retry)?e(!1,new D(!1,null,n.getErrorCode()===s.ABORT)):e(!0,new D(-1!==this.successCodes_.indexOf(l),n))})},t=(e,t)=>{let n=this.resolve_,r=this.reject_,s=t.connection;if(t.wasSuccessCode)try{let e=this.callback_(s,s.getResponse());void 0!==e?n(e):n()}catch(e){r(e)}else if(null!==s){let e=v();e.serverResponse=s.getErrorText(),r(this.errorCallback_?this.errorCallback_(s,e):e)}else r(t.canceled?this.appDelete_?_():new p(i.CANCELED,"User canceled the upload/download."):new p(i.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))};this.canceled_?t(!1,new D(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0,u=!1;function l(...e){u||(u=!0,t.apply(null,e))}function c(t){i=setTimeout(()=>{i=null,e(h,2===o)},t)}function d(){s&&clearTimeout(s)}function h(e,...t){let n;if(u)return void d();if(e||2===o||a){d(),l.call(null,e,...t);return}r<64&&(r*=2),1===o?(o=2,n=0):n=(r+Math.random())*1e3,c(n)}let f=!1;function m(e){f||(f=!0,d(),!u&&(null!==i?(e||(o=2),clearTimeout(i),c(0)):e||(o=1)))}return c(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class D{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function N(...e){let t="u">typeof BlobBuilder?BlobBuilder:"u">typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){let n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(E())return new Blob(e);throw new p(i.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}let O="base64",P="base64url",R="data_url";class U{constructor(e,t){this.data=e,this.contentType=t||null}}function L(e){let t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):(64512&r)==55296?n<e.length-1&&(64512&e.charCodeAt(n+1))==56320?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):(64512&r)==56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function z(e,t){let n;switch(e){case O:{let n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw b(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case P:{let n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw b(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}}try{n=function(e){if("u"<typeof atob)throw new p(i.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(e)}(t)}catch(t){if(t.message.includes("polyfill"))throw t;throw b(e,"Invalid character found")}let r=new Uint8Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r}class M{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw b(R,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class F{constructor(e,t){let n=0,r="";k(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(!k(this.data_))return new F(new Uint8Array(this.data_.buffer,e,t-e),!0);{var n,r,i;let s=(n=this.data_,r=e,i=t,n.webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===s?null:new F(s)}}static getBlob(...e){if(E()){let t=e.map(e=>e instanceof F?e.data_:e);return new F(N.apply(null,t))}{let t=e.map(e=>S(e)?function(e,t){return new U(L(t))}("raw",e).data:e.data_),n=0;t.forEach(e=>{n+=e.byteLength});let r=new Uint8Array(n),i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new F(r,!0)}}uploadData(){return this.data_}}function j(e){var t;let n;try{n=JSON.parse(e)}catch(e){return null}return"object"!=typeof(t=n)||Array.isArray(t)?null:n}function V(e){let t=e.lastIndexOf("/",e.length-2);return -1===t?e:e.slice(t+1)}function B(e,t){return t}class Z{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||B}}let q=null;function K(){if(q)return q;let e=[];e.push(new Z("bucket")),e.push(new Z("generation")),e.push(new Z("metageneration")),e.push(new Z("name","fullPath",!0));let t=new Z("name");t.xform=function(e,t){return!S(t)||t.length<2?t:V(t)},e.push(t);let n=new Z("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Z("timeCreated")),e.push(new Z("updated")),e.push(new Z("md5Hash",null,!0)),e.push(new Z("cacheControl",null,!0)),e.push(new Z("contentDisposition",null,!0)),e.push(new Z("contentEncoding",null,!0)),e.push(new Z("contentLanguage",null,!0)),e.push(new Z("contentType",null,!0)),e.push(new Z("metadata","customMetadata",!0)),q=e}function G(e,t,n){let r=j(t);return null===r?null:function(e,t,n){let r={};r.type="file";let i=n.length;for(let e=0;e<i;e++){let i=n[e];r[i.local]=i.xform(r,t[i.server])}return Object.defineProperty(r,"ref",{get:function(){let t=new I(r.bucket,r.fullPath);return e._makeStorageReference(t)}}),r}(e,r,n)}class J{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function W(e){if(!e)throw v()}function H(e){return function(t,n){var r,s;let a;return 401===t.getStatus()?a=t.getErrorText().includes("Firebase App Check token is invalid")?new p(i.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new p(i.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(r=e.bucket,a=new p(i.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(s=e.path,a=new p(i.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")):a=n,a.status=t.getStatus(),a.serverResponse=n.serverResponse,a}}class Q{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=s.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=s.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=s.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r,i){if(this.sent_)throw w("cannot .send() more than once");if((0,d.isCloudWorkstation)(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(let e in i)i.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,i[e].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return -1}}getResponse(){if(!this.sent_)throw w("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw w("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class X extends Q{initXhr(){this.xhr_.responseType="text"}}function Y(){return new X}class ee{constructor(e,t){this._service=e,t instanceof I?this._location=t:this._location=I.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ee(e,t)}get root(){let e=new I(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V(this._location.path)}get storage(){return this._service}get parent(){let e=function(e){if(0===e.length)return null;let t=e.lastIndexOf("/");return -1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;let t=new I(this._location.bucket,e);return new ee(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw new p(i.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function et(e,t){let n=t?.[m];return null==n?null:I.makeFromBucketSpec(n,e)}class en{constructor(e,t,n,r,i,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=f,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=r?this._bucket=I.makeFromBucketSpec(r,this._host):this._bucket=et(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=I.makeFromBucketSpec(this._url,e):this._bucket=et(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$("time",0,1/0,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$("time",0,1/0,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,c._isFirebaseServerApp)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ee(this,e)}_makeRequest(e,t,n,r,i=!0){if(this._deleted)return new x(_());{let s=function(e,t,n,r,i,s,a=!0,o=!1){let u=A(e.urlParams),l=e.url+u,c=Object.assign({},e.headers);return t&&(c["X-Firebase-GMPID"]=t),null!==n&&n.length>0&&(c.Authorization="Firebase "+n),c["X-Firebase-Storage-Version"]="webjs/"+(s??"AppManager"),null!==r&&(c["X-Firebase-AppCheck"]=r),new C(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a,o)}(e,this._appId,n,r,t,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){let[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}let er="@firebase/storage",ei="0.14.0",es="storage";function ea(e,t,n){var r;let s;return r=e=(0,d.getModularInstance)(e),r._throwIfRoot("uploadBytes"),s=function(e,t,n,r,s){let a,o=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},l=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();u["Content-Type"]="multipart/related; boundary="+l;let c=((a=Object.assign({},s)).fullPath=t.path,a.size=r.size(),a.contentType||(a.contentType=r&&r.type()||"application/octet-stream"),a),d="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+function(e,t){let n={},r=t.length;for(let i=0;i<r;i++){let r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}(c,n)+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",h=F.getBlob(d,r,"\r\n--"+l+"--");if(null===h)throw new p(i.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.");let f={name:c.fullPath},m=T(o,e.host,e._protocol),g=e.maxUploadRetryTime,v=new J(m,"POST",function(t,r){let i=G(e,r,n);return W(null!==i),i},g);return v.urlParams=f,v.headers=u,v.body=h.uploadData(),v.errorHandler=H(t),v}(r.storage,r._location,K(),new F(t,!0),n),r.storage.makeRequestWithTokens(s,Y).then(e=>({metadata:e,ref:r}))}function eo(e){var t,n,r,s;let a,o,u,l,c;return(t=e=(0,d.getModularInstance)(e))._throwIfRoot("getDownloadURL"),n=t.storage,r=t._location,s=K(),a=T(r.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,u=new J(a,"GET",function(e,t){let r=G(n,t,s);return W(null!==r),function(e,t,n,r){let i=j(t);if(null===i||!S(i.downloadTokens))return null;let s=i.downloadTokens;if(0===s.length)return null;let a=encodeURIComponent;return s.split(",").map(t=>{let i=e.bucket,s=e.fullPath;return T("/b/"+a(i)+"/o/"+a(s),n,r)+A({alt:"media",token:t})})[0]}(r,t,n.host,n._protocol)},o),l=H(r),u.errorHandler=function(e,t){var n;let s=l(e,t);return 404===e.getStatus()&&(n=r.path,s=new p(i.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")),s.serverResponse=t.serverResponse,s},c=u,t.storage.makeRequestWithTokens(c,Y).then(e=>{if(null===e)throw new p(i.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function eu(e,t){var n=e=(0,d.getModularInstance)(e);if(!(t&&/^[A-Za-z]+:\/\//.test(t)))return function e(t,n){var r;let s,a,o;if(t instanceof en){if(null==t._bucket)throw new p(i.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+m+"' property when initializing the app?");let r=new ee(t,t._bucket);return null!=n?e(r,n):r}if(void 0===n)return t;return r=t._location.path,s=n.split("/").filter(e=>e.length>0).join("/"),a=0===r.length?s:r+"/"+s,o=new I(t._location.bucket,a),new ee(t.storage,o)}(n,t);if(n instanceof en)return new ee(n,t);throw y("To use ref(service, url), the first argument must be a Storage instance.")}function el(e=(0,c.getApp)(),t){e=(0,d.getModularInstance)(e);let n=(0,c._getProvider)(e,es).getImmediate({identifier:t}),r=(0,d.getDefaultEmulatorHostnameAndPort)("storage");return r&&function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`;let i=(0,d.isCloudWorkstation)(t);i&&((0,d.pingServer)(`https://${e.host}/b`),(0,d.updateEmulatorBanner)("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";let{mockUserToken:s}=r;s&&(e._overrideAuthToken="string"==typeof s?s:(0,d.createMockUserToken)(s,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(0,c._registerComponent)(new h.Component(es,function(e,{instanceIdentifier:t}){return new en(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t,c.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,c.registerVersion)(er,ei,""),(0,c.registerVersion)(er,ei,"esm2020"),e.s(["getDownloadURL",()=>eo,"getStorage",()=>el,"ref",()=>eu,"uploadBytes",()=>ea],27215),e.s([],61086);var ec=d,ed=e.i(83877);function eh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let ef=new ec.ErrorFactory("auth","Firebase",eh()),em=new ed.Logger("@firebase/auth");function ep(e,...t){em.logLevel<=ed.LogLevel.ERROR&&em.error(`Auth (${c.SDK_VERSION}): ${e}`,...t)}function eg(e,...t){throw eb(e,...t)}function ev(e,...t){return eb(e,...t)}function ey(e,t,n){let r={...eh(),[t]:n};return new ec.ErrorFactory("auth","Firebase",r).create(t,{appName:e.name})}function e_(e){return ey(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eb(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ef.create(e,...t)}function ew(e,t,...n){if(!e)throw eb(t,...n)}function eI(e){let t="INTERNAL ASSERTION FAILED: "+e;throw ep(t),Error(t)}function ex(){return"u">typeof self&&self.location?.href||""}function eS(){return"u">typeof self&&self.location?.protocol||null}class ek{constructor(e,t){this.shortDelay=e,this.longDelay=t,function(e,t){e||eI(t)}(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,ec.isMobileCordova)()||(0,ec.isReactNative)()}get(){return!("u">typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===eS()||"https:"===eS()||(0,ec.isBrowserExtension)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function eE(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||eI(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class e${static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"u">typeof self&&"fetch"in self?self.fetch:"u">typeof globalThis&&globalThis.fetch?globalThis.fetch:"u">typeof fetch?fetch:void eI("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"u">typeof self&&"Headers"in self?self.Headers:"u">typeof globalThis&&globalThis.Headers?globalThis.Headers:"u">typeof Headers?Headers:void eI("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"u">typeof self&&"Response"in self?self.Response:"u">typeof globalThis&&globalThis.Response?globalThis.Response:"u">typeof Response?Response:void eI("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}let eT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},eA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eC=new ek(3e4,6e4);function eD(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function eN(e,t,n,r,i={}){return eO(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});let a=(0,ec.querystring)({key:e.config.apiKey,...s}).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);let u={method:t,headers:o,...i};return(0,ec.isCloudflareWorker)()||(u.referrerPolicy="no-referrer"),e.emulatorConfig&&(0,ec.isCloudWorkstation)(e.emulatorConfig.host)&&(u.credentials="include"),e$.fetch()(await eR(e,e.config.apiHost,n,a),u)})}async function eO(e,t,n){e._canInitEmulator=!1;let r={...eT,...t};try{let t=new eU(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw eL(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,n]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw eL(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw eL(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw eL(e,"user-disabled",s);let a=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw ey(e,a,n);eg(e,a)}}catch(t){if(t instanceof ec.FirebaseError)throw t;eg(e,"network-request-failed",{message:String(t)})}}async function eP(e,t,n,r,i={}){let s=await eN(e,t,n,r,i);return"mfaPendingCredential"in s&&eg(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function eR(e,t,n,r){let i=`${t}${n}?${r}`,s=e.config.emulator?eE(e.config,i):`${e.config.apiScheme}://${i}`;return eA.includes(n)&&(await e._persistenceManagerAvailable,"COOKIE"===e._getPersistenceType())?e._getPersistence()._getFinalTarget(s).toString():s}class eU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ev(this.auth,"network-request-failed")),eC.get())})}}function eL(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ev(e,t,r);return i.customData._tokenResponse=n,i}function ez(e){return void 0!==e&&void 0!==e.enterprise}class eM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)switch(t.enforcementState){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eF(e,t){return eN(e,"GET","/v2/recaptchaConfig",eD(e,t))}async function ej(e,t){return eN(e,"POST","/v1/accounts:delete",t)}async function eV(e,t){return eN(e,"POST","/v1/accounts:lookup",t)}function eB(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function eZ(e,t=!1){let n=(0,ec.getModularInstance)(e),r=await n.getIdToken(t),i=eK(r);ew(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s="object"==typeof i.firebase?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:eB(eq(i.auth_time)),issuedAtTime:eB(eq(i.iat)),expirationTime:eB(eq(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function eq(e){return 1e3*Number(e)}function eK(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ep("JWT malformed, contained fewer than 3 sections"),null;try{let e=(0,ec.base64Decode)(n);if(!e)return ep("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return ep("Caught error parsing JWT payload as JSON",e?.toString()),null}}function eG(e){let t=eK(e);return ew(t,"internal-error"),ew(void 0!==t.exp,"internal-error"),ew(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function eJ(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof ec.FirebaseError&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class eW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(!e)return this.errorBackoff=3e4,Math.max(0,(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class eH{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eB(this.lastLoginAt),this.creationTime=eB(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eQ(e){var t,n;let r=e.auth,i=await e.getIdToken(),s=await eJ(e,eV(r,{idToken:i}));ew(s?.users.length,r,"internal-error");let a=s.users[0];e._notifyReloadListener(a);let o=a.providerUserInfo?.length?eY(a.providerUserInfo):[],u=(t=e.providerData,n=o,[...t.filter(e=>!n.some(t=>t.providerId===e.providerId)),...n]),l=e.isAnonymous,c=!(e.email&&a.passwordHash)&&!u?.length;Object.assign(e,{uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new eH(a.createdAt,a.lastLoginAt),isAnonymous:!!l&&c})}async function eX(e){let t=(0,ec.getModularInstance)(e);await eQ(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eY(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function e0(e,t){let n=await eO(e,{},async()=>{let n=(0,ec.querystring)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await eR(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let o={method:"POST",headers:a,body:n};return e.emulatorConfig&&(0,ec.isCloudWorkstation)(e.emulatorConfig.host)&&(o.credentials="include"),e$.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e1(e,t){return eN(e,"POST","/v2/accounts:revokeToken",eD(e,t))}class e6{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ew(e.idToken,"internal-error"),ew(void 0!==e.idToken,"internal-error"),ew(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):eG(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ew(0!==e.length,"internal-error");let t=eG(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(ew(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await e0(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new e6;return n&&(ew("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(ew("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(ew("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e6,this.toJSON())}_performRefresh(){return eI("not implemented")}}function e4(e,t){ew("string"==typeof e||void 0===e,"internal-error",{appName:t})}class e2{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId="firebase",this.proactiveRefresh=new eW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new eH(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await eJ(this,this.stsTokenManager.getToken(this.auth,e));return ew(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eZ(this,e)}reload(){return eX(this)}_assign(e){this!==e&&(ew(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new e2({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ew(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await eQ(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,c._isFirebaseServerApp)(this.auth.app))return Promise.reject(e_(this.auth));let e=await this.getIdToken();return await eJ(this,ej(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){let n=t.displayName??void 0,r=t.email??void 0,i=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,o=t._redirectEventId??void 0,u=t.createdAt??void 0,l=t.lastLoginAt??void 0,{uid:c,emailVerified:d,isAnonymous:h,providerData:f,stsTokenManager:m}=t;ew(c&&m,e,"internal-error");let p=e6.fromJSON(this.name,m);ew("string"==typeof c,e,"internal-error"),e4(n,e.name),e4(r,e.name),ew("boolean"==typeof d,e,"internal-error"),ew("boolean"==typeof h,e,"internal-error"),e4(i,e.name),e4(s,e.name),e4(a,e.name),e4(o,e.name),e4(u,e.name),e4(l,e.name);let g=new e2({uid:c,auth:e,email:r,emailVerified:d,displayName:n,isAnonymous:h,photoURL:s,phoneNumber:i,tenantId:a,stsTokenManager:p,createdAt:u,lastLoginAt:l});return f&&Array.isArray(f)&&(g.providerData=f.map(e=>({...e}))),o&&(g._redirectEventId=o),g}static async _fromIdTokenResponse(e,t,n=!1){let r=new e6;r.updateFromServerResponse(t);let i=new e2({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await eQ(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];ew(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?eY(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!i?.length,a=new e6;a.updateFromIdToken(n);let o=new e2({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s});return Object.assign(o,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new eH(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!i?.length}),o}}let e3=new Map;function e5(e){var t,n;t="Expected a class definition",e instanceof Function||eI(t);let r=e3.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||eI(n)):(r=new e,e3.set(e,r)),r}class e8{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function e9(e,t,n){return`firebase:${e}:${t}:${n}`}e8.type="NONE";class e7{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=e9(this.userKey,r.apiKey,i),this.fullPersistenceKey=e9("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){let t=await eV(this.auth,{idToken:e}).catch(()=>void 0);return t?e2._fromGetAccountInfoResponse(this.auth,t,e):null}return e2._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new e7(e5(e8),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||e5(e8),s=e9(n,e.config.apiKey,e.name),a=null;for(let n of t)try{let t=await n._get(s);if(t){let r;if("string"==typeof t){let n=await eV(e,{idToken:t}).catch(()=>void 0);if(!n)break;r=await e2._fromGetAccountInfoResponse(e,n,t)}else r=e2._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch{}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch{}}))),new e7(i,e,n)}}function te(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(ti(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ta(t))return"Blackberry";if(to(t))return"Webos";if(tn(t))return"Safari";if((t.includes("chrome/")||tr(t))&&!t.includes("edge/"))return"Chrome";if(ts(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(n?.length===2)return n[1]}return"Other"}function tt(e=(0,ec.getUA)()){return/firefox\//i.test(e)}function tn(e=(0,ec.getUA)()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tr(e=(0,ec.getUA)()){return/crios\//i.test(e)}function ti(e=(0,ec.getUA)()){return/iemobile/i.test(e)}function ts(e=(0,ec.getUA)()){return/android/i.test(e)}function ta(e=(0,ec.getUA)()){return/blackberry/i.test(e)}function to(e=(0,ec.getUA)()){return/webos/i.test(e)}function tu(e=(0,ec.getUA)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function tl(e=(0,ec.getUA)()){return tu(e)||ts(e)||to(e)||ta(e)||/windows phone/i.test(e)||ti(e)}function tc(e,t=[]){let n;switch(e){case"Browser":n=te((0,ec.getUA)());break;case"Worker":n=`${te((0,ec.getUA)())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${c.SDK_VERSION}/${r}`}class td{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e?.message})}}}async function th(e,t={}){return eN(e,"GET","/v2/passwordPolicy",eD(e,t))}class tf{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class tm{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tg(this),this.idTokenSubscription=new tg(this),this.beforeStateQueue=new td(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ef,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=e5(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted){if(this.persistenceManager=await e7.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await eV(this,{idToken:e}),n=await e2._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if((0,c._isFirebaseServerApp)(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,s=await this.tryRedirectSignIn(e);(!t||t===i)&&s?.user&&(n=s.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return(ew(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId)?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await eQ(e)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("u"<typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,c._isFirebaseServerApp)(this.app))return Promise.reject(e_(this));let t=e?(0,ec.getModularInstance)(e):null;return t&&ew(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ew(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,c._isFirebaseServerApp)(this.app)?Promise.reject(e_(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,c._isFirebaseServerApp)(this.app)?Promise.reject(e_(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(e5(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new tf(await th(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ec.ErrorFactory("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await e1(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&e5(e)||this._popupRedirectResolver;ew(t,this,"argument-error"),this.redirectPersistenceManager=await e7.create(this,[e5(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return(this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e)?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ew(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{let n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ew(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);let n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if((0,c._isFirebaseServerApp)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&function(e,...t){em.logLevel<=ed.LogLevel.WARN&&em.warn(`Auth (${c.SDK_VERSION}): ${e}`,...t)}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tp(e){return(0,ec.getModularInstance)(e)}class tg{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,ec.createSubscribe)(e=>this.observer=e)}get next(){return ew(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let tv={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ty(e){return`__${e}${Math.floor(1e6*Math.random())}`}class t_{constructor(){this.enterprise=new tb}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tb{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}let tw="NO_RECAPTCHA";class tI{constructor(e){this.type="recaptcha-enterprise",this.auth=tp(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{eF(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new eM(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;ez(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(tw)})}):r(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new t_().execute("siteKey",{action:"verify"}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&ez(window.grecaptcha))r(n,e,i);else{var s;if("u"<typeof window)return void i(Error("RecaptchaVerifier is only supported in browser"));let t=tv.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(s=t,tv.loadJS(s)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function tx(e,t,n,r=!1,i=!1){let s,a=new tI(e);if(i)s=tw;else try{s=await a.verify(n)}catch(e){s=await a.verify(n,!0)}let o={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){let e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){let e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function tS(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i)if(!e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await tx(e,t,n,"getOobCode"===n);return r(e,i)}});else{let i=await tx(e,t,n,"getOobCode"===n);return r(e,i)}if("PHONE_PROVIDER"!==i)return Promise.reject(i+" provider is not supported.");if(e._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){let i=await tx(e,t,n);return r(e,i).catch(async i=>{if(e._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let i=await tx(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{let i=await tx(e,t,n,!1,!0);return r(e,i)}}async function tk(e){let t=tp(e),n=new eM(await eF(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}));null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new tI(t).verify()}function tE(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function t$(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class tT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return eI("not implemented")}_getIdTokenResponse(e){return eI("not implemented")}_linkToIdToken(e,t){return eI("not implemented")}_getReauthenticationResolver(e){return eI("not implemented")}}async function tA(e,t){return eN(e,"POST","/v1/accounts:signUp",t)}async function tC(e,t){return eP(e,"POST","/v1/accounts:signInWithPassword",eD(e,t))}async function tD(e,t){return eP(e,"POST","/v1/accounts:signInWithEmailLink",eD(e,t))}async function tN(e,t){return eP(e,"POST","/v1/accounts:signInWithEmailLink",eD(e,t))}class tO extends tT{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new tO(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new tO(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);else if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return tS(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",tC,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return tD(e,{email:this._email,oobCode:this._password});default:eg(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return tS(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tA,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return tN(e,{idToken:t,email:this._email,oobCode:this._password});default:eg(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function tP(e,t){return eP(e,"POST","/v1/accounts:signInWithIdp",eD(e,t))}class tR extends tT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new tR(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):eg("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let{providerId:t,signInMethod:n,...r}="string"==typeof e?JSON.parse(e):e;if(!t||!n)return null;let i=new tR(t,n);return i.idToken=r.idToken||void 0,i.accessToken=r.accessToken||void 0,i.secret=r.secret,i.nonce=r.nonce,i.pendingToken=r.pendingToken||null,i}_getIdTokenResponse(e){return tP(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,tP(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,tP(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,ec.querystring)(t)}return e}}async function tU(e,t){return eN(e,"POST","/v1/accounts:sendVerificationCode",eD(e,t))}async function tL(e,t){return eP(e,"POST","/v1/accounts:signInWithPhoneNumber",eD(e,t))}async function tz(e,t){let n=await eP(e,"POST","/v1/accounts:signInWithPhoneNumber",eD(e,t));if(n.temporaryProof)throw eL(e,"account-exists-with-different-credential",n);return n}let tM={USER_NOT_FOUND:"user-not-found"};async function tF(e,t){return eP(e,"POST","/v1/accounts:signInWithPhoneNumber",eD(e,{...t,operation:"REAUTH"}),tM)}class tj extends tT{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new tj({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new tj({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return tL(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return tz(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return tF(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new tj({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class tV{constructor(e){const t=(0,ec.querystringDecode)((0,ec.extractQuerystring)(e)),n=t.apiKey??null,r=t.oobCode??null,i=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);ew(n&&r&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){let t,n,r,i=(n=(t=(0,ec.querystringDecode)((0,ec.extractQuerystring)(e)).link)?(0,ec.querystringDecode)((0,ec.extractQuerystring)(t)).deep_link_id:null,((r=(0,ec.querystringDecode)((0,ec.extractQuerystring)(e)).deep_link_id)?(0,ec.querystringDecode)((0,ec.extractQuerystring)(r)).link:null)||r||n||t||e);try{return new tV(i)}catch{return null}}}class tB{constructor(){this.providerId=tB.PROVIDER_ID}static credential(e,t){return tO._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=tV.parseLink(t);return ew(n,"argument-error"),tO._fromEmailAndCode(e,n.code,n.tenantId)}}tB.PROVIDER_ID="password",tB.EMAIL_PASSWORD_SIGN_IN_METHOD="password",tB.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class tZ{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class tq extends tZ{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tK extends tq{constructor(){super("facebook.com")}static credential(e){return tR._fromParams({providerId:tK.PROVIDER_ID,signInMethod:tK.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tK.credentialFromTaggedObject(e)}static credentialFromError(e){return tK.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tK.credential(e.oauthAccessToken)}catch{return null}}}tK.FACEBOOK_SIGN_IN_METHOD="facebook.com",tK.PROVIDER_ID="facebook.com";class tG extends tq{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tR._fromParams({providerId:tG.PROVIDER_ID,signInMethod:tG.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return tG.credentialFromTaggedObject(e)}static credentialFromError(e){return tG.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return tG.credential(t,n)}catch{return null}}}tG.GOOGLE_SIGN_IN_METHOD="google.com",tG.PROVIDER_ID="google.com";class tJ extends tq{constructor(){super("github.com")}static credential(e){return tR._fromParams({providerId:tJ.PROVIDER_ID,signInMethod:tJ.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tJ.credentialFromTaggedObject(e)}static credentialFromError(e){return tJ.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tJ.credential(e.oauthAccessToken)}catch{return null}}}tJ.GITHUB_SIGN_IN_METHOD="github.com",tJ.PROVIDER_ID="github.com";class tW extends tq{constructor(){super("twitter.com")}static credential(e,t){return tR._fromParams({providerId:tW.PROVIDER_ID,signInMethod:tW.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tW.credentialFromTaggedObject(e)}static credentialFromError(e){return tW.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return tW.credential(t,n)}catch{return null}}}tW.TWITTER_SIGN_IN_METHOD="twitter.com",tW.PROVIDER_ID="twitter.com";class tH{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new tH({user:await e2._fromIdTokenResponse(e,n,r),providerId:tQ(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new tH({user:e,providerId:tQ(n),_tokenResponse:n,operationType:t})}}function tQ(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class tX extends ec.FirebaseError{constructor(e,t,n,r){super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,tX.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new tX(e,t,n,r)}}function tY(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw tX._fromErrorAndOperation(e,n,t,r);throw n})}async function t0(e,t,n=!1){let r=await eJ(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tH._forOperation(e,"link",r)}async function t1(e,t,n=!1){let{auth:r}=e;if((0,c._isFirebaseServerApp)(r.app))return Promise.reject(e_(r));let i="reauthenticate";try{let s=await eJ(e,tY(r,i,t,e),n);ew(s.idToken,r,"internal-error");let a=eK(s.idToken);ew(a,r,"internal-error");let{sub:o}=a;return ew(e.uid===o,r,"user-mismatch"),tH._forOperation(e,i,s)}catch(e){throw e?.code==="auth/user-not-found"&&eg(r,"user-mismatch"),e}}async function t6(e,t,n=!1){if((0,c._isFirebaseServerApp)(e.app))return Promise.reject(e_(e));let r="signIn",i=await tY(e,r,t),s=await tH._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function t4(e,t){return t6(tp(e),t)}class t2{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?t3._fromServerResponse(e,t):"totpInfo"in t?t5._fromServerResponse(e,t):eg(e,"internal-error")}}class t3 extends t2{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new t3(t)}}class t5 extends t2{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new t5(t)}}async function t8(e){let t=tp(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function t9(e,t,n){return(0,c._isFirebaseServerApp)(e.app)?Promise.reject(e_(e)):t4((0,ec.getModularInstance)(e),tB.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&t8(e),t})}function t7(e,t,n,r){return(0,ec.getModularInstance)(e).onIdTokenChanged(t,n,r)}function ne(e,t,n,r){return(0,ec.getModularInstance)(e).onAuthStateChanged(t,n,r)}function nt(e){return(0,ec.getModularInstance)(e).signOut()}class nn{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new nn("enroll",e,t)}static _fromMfaPendingCredential(e){return new nn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return nn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);else if(e.multiFactorSession?.idToken)return nn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class nr{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){let n=tp(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>t2._fromServerResponse(n,e));ew(r.mfaPendingCredential,n,"internal-error");let s=nn._fromMfaPendingCredential(r.mfaPendingCredential);return new nr(s,i,async e=>{let i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;let a={...r,idToken:i.idToken,refreshToken:i.refreshToken};switch(t.operationType){case"signIn":let o=await tH._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(o.user),o;case"reauthenticate":return ew(t.user,n,"internal-error"),tH._forOperation(t.user,t.operationType,a);default:eg(n,"internal-error")}})}async resolveSignIn(e){return this.signInResolver(e)}}function ni(e,t){let n=(0,ec.getModularInstance)(e);return ew(t.customData.operationType,n,"argument-error"),ew(t.customData._serverResponse?.mfaPendingCredential,n,"argument-error"),nr._fromError(n,t)}function ns(e,t){return eN(e,"POST","/v2/accounts/mfaEnrollment:start",eD(e,t))}class na{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>t2._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new na(e)}async getSession(){return nn._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){let n=await this.getSession(),r=await eJ(this.user,e._process(this.user.auth,n,t));return await this.user._updateTokensIfNecessary(r),this.user.reload()}async unenroll(e){let t="string"==typeof e?e:e.uid,n=await this.user.getIdToken();try{var r,i;let e=await eJ(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},eN(r,"POST","/v2/accounts/mfaEnrollment:withdraw",eD(r,i))));this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(e){throw e}}}let no=new WeakMap;function nu(e){let t=(0,ec.getModularInstance)(e);return no.has(t)||no.set(t,na._fromUser(t)),no.get(t)}let nl="__sak";class nc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(nl,"1"),this.storage.removeItem(nl),Promise.resolve(!0)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class nd extends nc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tl(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,ec.isIE)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}nd.type="LOCAL";class nh extends nc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nh.type="SESSION";class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new nf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!i?.size)return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let s=Array.from(i).map(async t=>t(e.origin,r)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function nm(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}nf.receivers=[];class np{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i,s="u">typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let u=nm("",20);s.port1.start();let l=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:s,onMessage(e){if(e.data.eventId===u)switch(e.data.status){case"ack":clearTimeout(l),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(e.data.response);break;default:clearTimeout(l),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function ng(){return window}function nv(){return void 0!==ng().WorkerGlobalScope&&"function"==typeof ng().importScripts}async function ny(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}let n_="firebaseLocalStorageDb",nb="firebaseLocalStorage",nw="fbase_key";class nI{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nx(e,t){return e.transaction([nb],t?"readwrite":"readonly").objectStore(nb)}function nS(){let e=indexedDB.open(n_,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(nb,{keyPath:nw})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(nb)?t(n):(n.close(),await new nI(indexedDB.deleteDatabase(n_)).toPromise(),t(await nS()))})})}async function nk(e,t,n){return new nI(nx(e,!0).put({[nw]:t,value:n})).toPromise()}async function nE(e,t){let n=nx(e,!1).get(t),r=await new nI(n).toPromise();return void 0===r?null:r.value}function n$(e,t){return new nI(nx(e,!0).delete(t)).toPromise()}class nT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await nS()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(nv()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ny(),!this.activeServiceWorker)return;this.sender=new np(this.activeServiceWorker);let e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await nS();return await nk(e,nl,"1"),await n$(e,nl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>nk(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>nE(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>n$(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new nI(nx(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}function nA(e,t){return eN(e,"POST","/v2/accounts/mfaSignIn:start",eD(e,t))}nT.type="LOCAL",ty("rcb"),new ek(3e4,6e4);let nC="recaptcha";async function nD(e,t,n){if(!e._getRecaptchaConfig())try{await tk(e)}catch(e){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(r="string"==typeof t?{phoneNumber:t}:t,"session"in r){let t=r.session;if("phoneNumber"in r){ew("enroll"===t.type,e,"internal-error");let i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===tw){ew(n?.type===nC,e,"argument-error");let r=await nN(e,t,n);return ns(e,r)}return ns(e,t)},a=tS(e,i,"mfaSmsEnrollment",s,"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{ew("signin"===t.type,e,"internal-error");let i=r.multiFactorHint?.uid||r.multiFactorUid;ew(i,e,"missing-multi-factor-info");let s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===tw){ew(n?.type===nC,e,"argument-error");let r=await nN(e,t,n);return nA(e,r)}return nA(e,t)},o=tS(e,s,"mfaSmsSignIn",a,"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{let t={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"},i=async(e,t)=>{if(t.captchaResponse===tw){ew(n?.type===nC,e,"argument-error");let r=await nN(e,t,n);return tU(e,r)}return tU(e,t)},s=tS(e,t,"sendVerificationCode",i,"PHONE_PROVIDER");return(await s.catch(e=>Promise.reject(e))).sessionInfo}}finally{n?._reset()}}async function nN(e,t,n){ew(n.type===nC,e,"argument-error");let r=await n.verify();ew("string"==typeof r,e,"argument-error");let i={...t};if("phoneEnrollmentInfo"in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if(!("phoneSignInInfo"in i))return Object.assign(i,{recaptchaToken:r}),i;{let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}}class nO{constructor(e){this.providerId=nO.PROVIDER_ID,this.auth=tp(e)}verifyPhoneNumber(e,t){return nD(this.auth,e,(0,ec.getModularInstance)(t))}static credential(e,t){return tj._fromVerification(e,t)}static credentialFromResult(e){return nO.credentialFromTaggedObject(e)}static credentialFromError(e){return nO.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?tj._fromTokenResponse(t,n):null}}nO.PROVIDER_ID="phone",nO.PHONE_SIGN_IN_METHOD="phone";class nP extends tT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tP(e,this._buildIdpRequest())}_linkToIdToken(e,t){return tP(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return tP(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nR(e){return t6(e.auth,new nP(e),e.bypassAuthState)}function nU(e){let{auth:t,user:n}=e;return ew(n,t,"internal-error"),t1(n,new nP(e),e.bypassAuthState)}async function nL(e){let{auth:t,user:n}=e;return ew(n,t,"internal-error"),t0(n,new nP(e),e.bypassAuthState)}class nz{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nR;case"linkViaPopup":case"linkViaRedirect":return nL;case"reauthViaPopup":case"reauthViaRedirect":return nU;default:eg(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||eI(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||eI(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}let nM=new ek(2e3,1e4);class nF extends nz{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,nF.currentPopupAction&&nF.currentPopupAction.cancel(),nF.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return ew(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||eI(t);let n=nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ev(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ev(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nF.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ev(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nM.get())};e()}}nF.currentPopupAction=null;let nj=new Map;class nV extends nz{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=nj.get(this.auth._key());if(!e){try{let t=await nB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}nj.set(this.auth._key(),e)}return this.bypassAuthState||nj.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type)return void this.resolve(null);if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nB(e,t){var n;let r=e9("pendingRedirect",(n=t).config.apiKey,n.name),i=e5(e._redirectPersistence);if(!await i._isAvailable())return!1;let s=await i._get(r)==="true";return await i._remove(r),s}function nZ(e,t){nj.set(e._key(),t)}async function nq(e,t,n=!1){if((0,c._isFirebaseServerApp)(e.app))return Promise.reject(e_(e));let r=tp(e),i=t?e5(t):(ew(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver),s=new nV(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class nK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nJ(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!nJ(e)){let n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ev(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nG(e))}saveEventToCache(e){this.cachedEventUids.add(nG(e)),this.lastProcessedEventTime=Date.now()}}function nG(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function nJ({type:e,error:t}){return"unknown"===e&&t?.code==="auth/no-auth-event"}async function nW(e,t={}){return eN(e,"GET","/v1/projects",t)}let nH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nQ=/^https?/;async function nX(e){if(e.config.emulator)return;let{authorizedDomains:t}=await nW(e);for(let e of t)try{if(function(e){let t=ex(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!nQ.test(n))return!1;if(nH.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch{}eg(e,"unauthorized-domain")}let nY=new ek(3e4,6e4);function n0(){let e=ng().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let n1=null,n6=new ek(5e3,15e3),n4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function n3(e){let t,n,r,i,s,a=await (n1=n1||new Promise((t,n)=>{function r(){n0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{n0(),n(ev(e,"network-request-failed"))},timeout:nY.get()})}if(ng().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ng().gapi?.load)r();else{var i;let t=ty("iframefcb");return ng()[t]=()=>{gapi.load?r():n(ev(e,"network-request-failed"))},(i=`${tv.gapiScript}?onload=${t}`,tv.loadJS(i)).catch(e=>n(e))}}).catch(e=>{throw n1=null,e})),o=ng().gapi;return ew(o,e,"internal-error"),a.open({where:document.body,url:(ew((t=e.config).authDomain,e,"auth-domain-config-required"),n=t.emulator?eE(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:c.SDK_VERSION},(i=n2.get(e.config.apiHost))&&(r.eid=i),(s=e._getFrameworks()).length&&(r.fw=s.join(",")),`${n}?${(0,ec.querystring)(r).slice(1)}`),messageHandlersFilter:o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n4,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=ev(e,"network-request-failed"),s=ng().setTimeout(()=>{r(i)},n6.get());function a(){ng().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}let n5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class n8{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}let n9=encodeURIComponent("fac");async function n7(e,t,n,r,i,s){ew(e.config.authDomain,e,"auth-domain-config-required"),ew(e.config.apiKey,e,"invalid-api-key");let a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:c.SDK_VERSION,eventId:i};if(t instanceof tZ)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",(0,ec.isEmpty)(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))a[n]=r;if(t instanceof tq){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}for(let t of(e.tenantId&&(a.tid=e.tenantId),Object.keys(a)))void 0===a[t]&&delete a[t];let o=await e._getAppCheckToken(),u=o?`#${n9}=${encodeURIComponent(o)}`:"";return`${function({config:e}){return e.emulator?eE(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,ec.querystring)(a).slice(1)}${u}`}let re="webStorageSupport",rt=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nh,this._completeRedirectFn=nq,this._overrideRedirectResult=nZ}async _openPopup(e,t,n,r){var i,s;i=this.eventManagers[e._key()]?.manager,s="_initialize() not called before _openPopup()",i||eI(s);let a=await n7(e,t,n,ex(),r);return function(e,t,n,r=500,i=600){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",u={...n5,width:r.toString(),height:i.toString(),top:s,left:a},l=(0,ec.getUA)().toLowerCase();n&&(o=tr(l)?"_blank":n),tt(l)&&(t=t||"http://localhost",u.scrollbars="yes");let c=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,ec.getUA)()){return tu(e)&&!!window.navigator?.standalone}(l)&&"_self"!==o){var d,h;let e,n;return d=t||"",h=o,(e=document.createElement("a")).href=d,e.target=h,(n=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n),new n8(null)}let f=window.open(t||"",o,c);ew(f,e,"popup-blocked");try{f.focus()}catch(e){}return new n8(f)}(e,a,nm())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await n7(e,t,n,ex(),r),ng().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||eI(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await n3(e),n=new nK(e);return t.register("authEvent",t=>(ew(t?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(re,{type:re},n=>{let r=n?.[0]?.[re];void 0!==r&&t(!!r),eg(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=nX(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return tl()||tn()||tu()}};class rn{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return eI("unexpected MultiFactorSessionType")}}}class rr{static assertionForEnrollment(e,t){return ri._fromSecret(e,t)}static assertionForSignIn(e,t){return ri._fromEnrollmentId(e,t)}static async generateSecret(e){var t;ew(void 0!==e.user?.auth,"internal-error");let n=await eN(t=e.user.auth,"POST","/v2/accounts/mfaEnrollment:start",eD(t,{idToken:e.credential,totpEnrollmentInfo:{}}));return rs._fromStartTotpMfaEnrollmentResponse(n,e.user.auth)}}rr.FACTOR_ID="totp";class ri extends rn{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new ri(t,void 0,e)}static _fromEnrollmentId(e,t){return new ri(t,e)}async _finalizeEnroll(e,t,n){return ew(void 0!==this.secret,e,"argument-error"),eN(e,"POST","/v2/accounts/mfaEnrollment:finalize",eD(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){ew(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return eN(e,"POST","/v2/accounts/mfaSignIn:finalize",eD(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class rs{constructor(e,t,n,r,i,s,a){this.sessionInfo=s,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new rs(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(ra(e)||ra(t))&&(n=!0),n&&(ra(e)&&(e=this.auth.currentUser?.email||"unknownuser"),ra(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function ra(e){return void 0===e||e?.length===0}var ro="@firebase/auth",ru="1.12.0";class rl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ew(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}let rc=(0,ec.getExperimentalSetting)("authIdTokenMaxAge")||300,rd=null;function rh(e=(0,c.getApp)()){let t=(0,c._getProvider)(e,"auth");if(t.isInitialized())return t.getImmediate();let n=function(e,t){let n=(0,c._getProvider)(e,"auth");if(n.isInitialized()){let e=n.getImmediate(),r=n.getOptions();if((0,ec.deepEqual)(r,t??{}))return e;eg(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:rt,persistence:[nT,nd,nh]}),r=(0,ec.getExperimentalSetting)("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t,r=(t=e.toString(),async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rc)return;let i=n?.token;rd!==i&&(rd=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});(0,ec.getModularInstance)(n).beforeAuthStateChanged(r,()=>r(n.currentUser)),t7(n,e=>r(e))}}let i=(0,ec.getDefaultEmulatorHost)("auth");return i&&function(e,t,n){let r=tp(e);ew(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=tE(t),{host:s,port:a}=function(e){let t=tE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:t$(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:t$(t)}}}(t),o=null===a?"":`:${a}`,u={url:`${i}//${s}${o}/`},l=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!r._canInitEmulator){ew(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ew((0,ec.deepEqual)(u,r.config.emulator)&&(0,ec.deepEqual)(l,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,(0,ec.isCloudWorkstation)(s)?((0,ec.pingServer)(`${i}//${s}${o}`),(0,ec.updateEmulatorBanner)("Auth",!0)):function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"u">typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"u">typeof window&&"u">typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}tv={loadJS:e=>new Promise((t,n)=>{let r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{let t=ev("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},r="Browser",(0,c._registerComponent)(new h.Component("auth",(e,{options:t})=>{let n,i,s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:l}=s.options;ew(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});let c=new tm(s,a,o,{apiKey:u,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tc(r)});return i=(Array.isArray(n=t?.persistence||[])?n:[n]).map(e5),t?.errorMap&&c._updateErrorMap(t.errorMap),c._initializeWithPersistence(i,t?.popupRedirectResolver),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,c._registerComponent)(new h.Component("auth-internal",e=>new rl(tp(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,c.registerVersion)(ro,ru,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(r)),(0,c.registerVersion)(ro,ru,"esm2020"),e.s([],58556),e.s([],51718),e.i(58556),e.s(["TotpMultiFactorGenerator",()=>rr,"getAuth",()=>rh,"getMultiFactorResolver",()=>ni,"multiFactor",()=>nu,"onAuthStateChanged",()=>ne,"onIdTokenChanged",()=>t7,"signInWithEmailAndPassword",()=>t9,"signOut",()=>nt],18357);var rf=e.i(47167);let rm=Object.freeze({status:"aborted"});function rp(e,t,n){function r(n,r){if(n._zod||Object.defineProperty(n,"_zod",{value:{def:r,constr:a,traits:new Set},enumerable:!1}),n._zod.traits.has(e))return;n._zod.traits.add(e),t(n,r);let i=a.prototype,s=Object.keys(i);for(let e=0;e<s.length;e++){let t=s[e];t in n||(n[t]=i[t].bind(n))}}let i=n?.Parent??Object;class s extends i{}function a(e){var t;let i=n?.Parent?new s:this;for(let n of(r(i,e),(t=i._zod).deferred??(t.deferred=[]),i._zod.deferred))n();return i}return Object.defineProperty(s,"name",{value:e}),Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:t=>!!n?.Parent&&t instanceof n.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}let rg=Symbol("zod_brand");class rv extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ry extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}let r_={};function rb(e){return e&&Object.assign(r_,e),r_}function rw(e){return e}function rI(e){return e}function rx(e){}function rS(e){throw Error("Unexpected value in exhaustive check")}function rk(e){}function rE(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function r$(e,t="|"){return e.map(e=>r6(e)).join(t)}function rT(e,t){return"bigint"==typeof t?t.toString():t}function rA(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function rC(e){return null==e}function rD(e){let t=+!!e.startsWith("^"),n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function rN(e,t){let n=(e.toString().split(".")[1]||"").length,r=t.toString(),i=(r.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(r)){let e=r.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}let s=n>i?n:i;return Number.parseInt(e.toFixed(s).replace(".",""))%Number.parseInt(t.toFixed(s).replace(".",""))/10**s}e.s(["$ZodAsyncError",()=>rv,"$ZodEncodeError",()=>ry,"$brand",0,rg,"$constructor",()=>rp,"NEVER",0,rm,"config",()=>rb,"globalConfig",0,r_],97753);let rO=Symbol("evaluating");function rP(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==rO)return void 0===r&&(r=rO,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function rR(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function rU(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function rL(...e){let t={};for(let n of e)Object.assign(t,Object.getOwnPropertyDescriptors(n));return Object.defineProperties({},t)}function rz(e){return rL(e._zod.def)}function rM(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function rF(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let n={};for(let r=0;r<t.length;r++)n[t[r]]=e[r];return n})}function rj(e=10){let t="abcdefghijklmnopqrstuvwxyz",n="";for(let r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}function rV(e){return JSON.stringify(e)}function rB(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}let rZ="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function rq(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let rK=rA(()=>{if("u">typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function rG(e){if(!1===rq(e))return!1;let t=e.constructor;if(void 0===t||"function"!=typeof t)return!0;let n=t.prototype;return!1!==rq(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function rJ(e){return rG(e)?{...e}:Array.isArray(e)?[...e]:e}function rW(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}let rH=new Set(["string","number","symbol"]),rQ=new Set(["string","number","bigint","boolean","symbol","undefined"]);function rX(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rY(e,t,n){let r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function r0(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}function r1(e){let t;return new Proxy({},{get:(n,r,i)=>(t??(t=e()),Reflect.get(t,r,i)),set:(n,r,i,s)=>(t??(t=e()),Reflect.set(t,r,i,s)),has:(n,r)=>(t??(t=e()),Reflect.has(t,r)),deleteProperty:(n,r)=>(t??(t=e()),Reflect.deleteProperty(t,r)),ownKeys:n=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(n,r)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,r)),defineProperty:(n,r,i)=>(t??(t=e()),Reflect.defineProperty(t,r,i))})}function r6(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function r4(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}let r2={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},r3={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function r5(e,t){let n=e._zod.def,r=n.checks;if(r&&r.length>0)throw Error(".pick() cannot be used on object schemas containing refinements");let i=rL(e._zod.def,{get shape(){let e={};for(let r in t){if(!(r in n.shape))throw Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=n.shape[r])}return rU(this,"shape",e),e},checks:[]});return rY(e,i)}function r8(e,t){let n=e._zod.def,r=n.checks;if(r&&r.length>0)throw Error(".omit() cannot be used on object schemas containing refinements");let i=rL(e._zod.def,{get shape(){let r={...e._zod.def.shape};for(let e in t){if(!(e in n.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return rU(this,"shape",r),r},checks:[]});return rY(e,i)}function r9(e,t){if(!rG(t))throw Error("Invalid input to extend: expected a plain object");let n=e._zod.def.checks;if(n&&n.length>0){let n=e._zod.def.shape;for(let e in t)if(void 0!==Object.getOwnPropertyDescriptor(n,e))throw Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}let r=rL(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t};return rU(this,"shape",n),n}});return rY(e,r)}function r7(e,t){if(!rG(t))throw Error("Invalid input to safeExtend: expected a plain object");let n=rL(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t};return rU(this,"shape",n),n}});return rY(e,n)}function ie(e,t){let n=rL(e._zod.def,{get shape(){let n={...e._zod.def.shape,...t._zod.def.shape};return rU(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return rY(e,n)}function it(e,t,n){let r=t._zod.def.checks;if(r&&r.length>0)throw Error(".partial() cannot be used on object schemas containing refinements");let i=rL(t._zod.def,{get shape(){let r=t._zod.def.shape,i={...r};if(n)for(let t in n){if(!(t in r))throw Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(let t in r)i[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return rU(this,"shape",i),i},checks:[]});return rY(t,i)}function ir(e,t,n){let r=rL(t._zod.def,{get shape(){let r=t._zod.def.shape,i={...r};if(n)for(let t in n){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(let t in r)i[t]=new e({type:"nonoptional",innerType:r[t]});return rU(this,"shape",i),i}});return rY(t,r)}function ii(e,t=0){if(!0===e.aborted)return!0;for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function is(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function ia(e){return"string"==typeof e?e:e?.message}function io(e,t,n){let r={...e,path:e.path??[]};return e.message||(r.message=ia(e.inst?._zod.def?.error?.(e))??ia(t?.error?.(e))??ia(n.customError?.(e))??ia(n.localeError?.(e))??"Invalid input"),delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function iu(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function il(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function ic(e){let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"nan":"number";case"object":if(null===e)return"null";if(Array.isArray(e))return"array";if(e&&Object.getPrototypeOf(e)!==Object.prototype&&"constructor"in e&&e.constructor)return e.constructor.name}return t}function id(...e){let[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}}function ih(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function im(e){let t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}function ip(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function ig(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),n="=".repeat((4-t.length%4)%4);return im(t+n)}function iv(e){return ip(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function iy(e){let t=e.replace(/^0x/,"");if(t.length%2!=0)throw Error("Invalid hex string length");let n=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)n[e/2]=Number.parseInt(t.slice(e,e+2),16);return n}function i_(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}class ib{constructor(...e){}}e.s(["BIGINT_FORMAT_RANGES",0,r3,"Class",()=>ib,"NUMBER_FORMAT_RANGES",0,r2,"aborted",()=>ii,"allowsEval",0,rK,"assert",()=>rk,"assertEqual",()=>rw,"assertIs",()=>rx,"assertNever",()=>rS,"assertNotEqual",()=>rI,"assignProp",()=>rU,"base64ToUint8Array",()=>im,"base64urlToUint8Array",()=>ig,"cached",()=>rA,"captureStackTrace",0,rZ,"cleanEnum",()=>ih,"cleanRegex",()=>rD,"clone",()=>rY,"cloneDef",()=>rz,"createTransparentProxy",()=>r1,"defineLazy",()=>rP,"esc",()=>rV,"escapeRegex",()=>rX,"extend",()=>r9,"finalizeIssue",()=>io,"floatSafeRemainder",()=>rN,"getElementAtPath",()=>rM,"getEnumValues",()=>rE,"getLengthableOrigin",()=>il,"getParsedType",0,e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("u">typeof Map&&e instanceof Map)return"map";if("u">typeof Set&&e instanceof Set)return"set";if("u">typeof Date&&e instanceof Date)return"date";if("u">typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},"getSizableOrigin",()=>iu,"hexToUint8Array",()=>iy,"isObject",()=>rq,"isPlainObject",()=>rG,"issue",()=>id,"joinValues",()=>r$,"jsonStringifyReplacer",()=>rT,"merge",()=>ie,"mergeDefs",()=>rL,"normalizeParams",()=>r0,"nullish",()=>rC,"numKeys",()=>rW,"objectClone",()=>rR,"omit",()=>r8,"optionalKeys",()=>r4,"parsedType",()=>ic,"partial",()=>it,"pick",()=>r5,"prefixIssues",()=>is,"primitiveTypes",0,rQ,"promiseAllObject",()=>rF,"propertyKeyTypes",0,rH,"randomString",()=>rj,"required",()=>ir,"safeExtend",()=>r7,"shallowClone",()=>rJ,"slugify",()=>rB,"stringifyPrimitive",()=>r6,"uint8ArrayToBase64",()=>ip,"uint8ArrayToBase64url",()=>iv,"uint8ArrayToHex",()=>i_,"unwrapMessage",()=>ia],22143);let iw=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,rT,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},iI=rp("$ZodError",iw),ix=rp("$ZodError",iw,{Parent:Error});function iS(e,t=e=>e.message){let n={},r=[];for(let i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function ik(e,t=e=>e.message){let n={_errors:[]},r=e=>{for(let i of e.issues)if("invalid_union"===i.code&&i.errors.length)i.errors.map(e=>r({issues:e}));else if("invalid_key"===i.code)r({issues:i.issues});else if("invalid_element"===i.code)r({issues:i.issues});else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){let n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}function iE(e,t=e=>e.message){let n={errors:[]},r=(e,i=[])=>{var s,a;for(let o of e.issues)if("invalid_union"===o.code&&o.errors.length)o.errors.map(e=>r({issues:e},o.path));else if("invalid_key"===o.code)r({issues:o.issues},o.path);else if("invalid_element"===o.code)r({issues:o.issues},o.path);else{let e=[...i,...o.path];if(0===e.length){n.errors.push(t(o));continue}let r=n,u=0;for(;u<e.length;){let n=e[u],i=u===e.length-1;"string"==typeof n?(r.properties??(r.properties={}),(s=r.properties)[n]??(s[n]={errors:[]}),r=r.properties[n]):(r.items??(r.items=[]),(a=r.items)[n]??(a[n]={errors:[]}),r=r.items[n]),i&&r.errors.push(t(o)),u++}}};return r(e),n}function i$(e){let t=[];for(let n of e.map(e=>"object"==typeof e?e.key:e))"number"==typeof n?t.push(`[${n}]`):"symbol"==typeof n?t.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?t.push(`[${JSON.stringify(n)}]`):(t.length&&t.push("."),t.push(n));return t.join("")}function iT(e){let t=[];for(let n of[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length))t.push(` ${n.message}`),n.path?.length&&t.push(`   at ${i$(n.path)}`);return t.join("\n")}e.s(["$ZodError",0,iI,"$ZodRealError",0,ix,"flattenError",()=>iS,"formatError",()=>ik,"prettifyError",()=>iT,"toDotPath",()=>i$,"treeifyError",()=>iE],74969);let iA=e=>(t,n,r,i)=>{let s=r?Object.assign(r,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new rv;if(a.issues.length){let t=new(i?.Err??e)(a.issues.map(e=>io(e,s,rb())));throw rZ(t,i?.callee),t}return a.value},iC=iA(ix),iD=e=>async(t,n,r,i)=>{let s=r?Object.assign(r,{async:!0}):{async:!0},a=t._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){let t=new(i?.Err??e)(a.issues.map(e=>io(e,s,rb())));throw rZ(t,i?.callee),t}return a.value},iN=iD(ix),iO=e=>(t,n,r)=>{let i=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new rv;return s.issues.length?{success:!1,error:new(e??iI)(s.issues.map(e=>io(e,i,rb())))}:{success:!0,data:s.value}},iP=iO(ix),iR=e=>async(t,n,r)=>{let i=r?Object.assign(r,{async:!0}):{async:!0},s=t._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(e=>io(e,i,rb())))}:{success:!0,data:s.value}},iU=iR(ix),iL=e=>(t,n,r)=>{let i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return iA(e)(t,n,i)},iz=iL(ix),iM=e=>(t,n,r)=>iA(e)(t,n,r),iF=iM(ix),ij=e=>async(t,n,r)=>{let i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return iD(e)(t,n,i)},iV=ij(ix),iB=e=>async(t,n,r)=>iD(e)(t,n,r),iZ=iB(ix),iq=e=>(t,n,r)=>{let i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return iO(e)(t,n,i)},iK=iq(ix),iG=e=>(t,n,r)=>iO(e)(t,n,r),iJ=iG(ix),iW=e=>async(t,n,r)=>{let i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return iR(e)(t,n,i)},iH=iW(ix),iQ=e=>async(t,n,r)=>iR(e)(t,n,r),iX=iQ(ix);e.s(["_decode",0,iM,"_decodeAsync",0,iB,"_encode",0,iL,"_encodeAsync",0,ij,"_parse",0,iA,"_parseAsync",0,iD,"_safeDecode",0,iG,"_safeDecodeAsync",0,iQ,"_safeEncode",0,iq,"_safeEncodeAsync",0,iW,"_safeParse",0,iO,"_safeParseAsync",0,iR,"decode",0,iF,"decodeAsync",0,iZ,"encode",0,iz,"encodeAsync",0,iV,"parse",0,iC,"parseAsync",0,iN,"safeDecode",0,iJ,"safeDecodeAsync",0,iX,"safeEncode",0,iK,"safeEncodeAsync",0,iH,"safeParse",0,iP,"safeParseAsync",0,iU],3108);let iY=/^[cC][^\s-]{8,}$/,i0=/^[0-9a-z]+$/,i1=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,i6=/^[0-9a-vA-V]{20}$/,i4=/^[A-Za-z0-9]{27}$/,i2=/^[a-zA-Z0-9_-]{21}$/,i3=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,i5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,i8=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,i9=i8(4),i7=i8(6),se=i8(7),st=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,sn=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u;function sr(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let si=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ss=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,sa=e=>{let t=rX(e??":");return RegExp(`^(?:[0-9A-F]{2}${t}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${t}){5}[0-9a-f]{2}$`)},so=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,su=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sl=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,sc=/^[A-Za-z0-9_-]*$/,sd=/^\+[1-9]\d{6,14}$/,sh="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",sf=RegExp(`^${sh}$`);function sm(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function sp(e){return RegExp(`^${sm(e)}$`)}function sg(e){let t=sm({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let r=`${t}(?:${n.join("|")})`;return RegExp(`^${sh}T(?:${r})$`)}let sv=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},sy=/^-?\d+n?$/,s_=/^-?\d+$/,sb=/^-?\d+(?:\.\d+)?$/,sw=/^(?:true|false)$/i,sI=/^null$/i,sx=/^undefined$/i,sS=/^[^A-Z]*$/,sk=/^[^a-z]*$/;function sE(e,t){return RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function s$(e){return RegExp(`^[A-Za-z0-9_-]{${e}}$`)}let sT=sE(22,"=="),sA=s$(22),sC=sE(27,"="),sD=s$(27),sN=sE(43,"="),sO=s$(43),sP=sE(64,""),sR=s$(64),sU=sE(86,"=="),sL=s$(86);e.s(["base64",0,sl,"base64url",0,sc,"bigint",0,sy,"boolean",0,sw,"browserEmail",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"cidrv4",0,so,"cidrv6",0,su,"cuid",0,iY,"cuid2",0,i0,"date",0,sf,"datetime",()=>sg,"domain",0,/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,"duration",0,i3,"e164",0,sd,"email",0,st,"emoji",()=>sr,"extendedDuration",0,/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,"guid",0,i5,"hex",0,/^[0-9a-fA-F]*$/,"hostname",0,/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,"html5Email",0,/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,"idnEmail",0,sn,"integer",0,s_,"ipv4",0,si,"ipv6",0,ss,"ksuid",0,i4,"lowercase",0,sS,"mac",0,sa,"md5_base64",0,sT,"md5_base64url",0,sA,"md5_hex",0,/^[0-9a-fA-F]{32}$/,"nanoid",0,i2,"null",()=>sI,"number",0,sb,"rfc5322Email",0,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"sha1_base64",0,sC,"sha1_base64url",0,sD,"sha1_hex",0,/^[0-9a-fA-F]{40}$/,"sha256_base64",0,sN,"sha256_base64url",0,sO,"sha256_hex",0,/^[0-9a-fA-F]{64}$/,"sha384_base64",0,sP,"sha384_base64url",0,sR,"sha384_hex",0,/^[0-9a-fA-F]{96}$/,"sha512_base64",0,sU,"sha512_base64url",0,sL,"sha512_hex",0,/^[0-9a-fA-F]{128}$/,"string",0,sv,"time",()=>sp,"ulid",0,i1,"undefined",()=>sx,"unicodeEmail",0,sn,"uppercase",0,sk,"uuid",0,i8,"uuid4",0,i9,"uuid6",0,i7,"uuid7",0,se,"xid",0,i6],82358);let sz=rp("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),sM={number:"number",bigint:"bigint",object:"date"},sF=rp("$ZodCheckLessThan",(e,t)=>{sz.init(e,t);let n=sM[typeof t.value];e._zod.onattach.push(e=>{let n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??1/0;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:"object"==typeof t.value?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),sj=rp("$ZodCheckGreaterThan",(e,t)=>{sz.init(e,t);let n=sM[typeof t.value];e._zod.onattach.push(e=>{let n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??-1/0;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:"object"==typeof t.value?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),sV=rp("$ZodCheckMultipleOf",(e,t)=>{sz.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%t.value===BigInt(0):0===rN(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),sB=rp("$ZodCheckNumberFormat",(e,t)=>{sz.init(e,t),t.format=t.format||"float64";let n=t.format?.includes("int"),r=n?"int":"number",[i,s]=r2[t.format];e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,r.minimum=i,r.maximum=s,n&&(r.pattern=s_)}),e._zod.check=a=>{let o=a.value;if(n){if(!Number.isInteger(o))return void a.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});if(!Number.isSafeInteger(o))return void(o>0?a.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):a.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}))}o<i&&a.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),o>s&&a.issues.push({origin:"number",input:o,code:"too_big",maximum:s,inclusive:!0,inst:e,continue:!t.abort})}}),sZ=rp("$ZodCheckBigIntFormat",(e,t)=>{sz.init(e,t);let[n,r]=r3[t.format];e._zod.onattach.push(e=>{let i=e._zod.bag;i.format=t.format,i.minimum=n,i.maximum=r}),e._zod.check=i=>{let s=i.value;s<n&&i.issues.push({origin:"bigint",input:s,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),s>r&&i.issues.push({origin:"bigint",input:s,code:"too_big",maximum:r,inclusive:!0,inst:e,continue:!t.abort})}}),sq=rp("$ZodCheckMaxSize",(e,t)=>{var n;sz.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!rC(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let n=e._zod.bag.maximum??1/0;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let r=n.value;r.size<=t.maximum||n.issues.push({origin:iu(r),code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),sK=rp("$ZodCheckMinSize",(e,t)=>{var n;sz.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!rC(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let n=e._zod.bag.minimum??-1/0;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let r=n.value;r.size>=t.minimum||n.issues.push({origin:iu(r),code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),sG=rp("$ZodCheckSizeEquals",(e,t)=>{var n;sz.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!rC(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let n=e._zod.bag;n.minimum=t.size,n.maximum=t.size,n.size=t.size}),e._zod.check=n=>{let r=n.value,i=r.size;if(i===t.size)return;let s=i>t.size;n.issues.push({origin:iu(r),...s?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),sJ=rp("$ZodCheckMaxLength",(e,t)=>{var n;sz.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!rC(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let n=e._zod.bag.maximum??1/0;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{let r=n.value;if(r.length<=t.maximum)return;let i=il(r);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),sW=rp("$ZodCheckMinLength",(e,t)=>{var n;sz.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!rC(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let n=e._zod.bag.minimum??-1/0;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{let r=n.value;if(r.length>=t.minimum)return;let i=il(r);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),sH=rp("$ZodCheckLengthEquals",(e,t)=>{var n;sz.init(e,t),(n=e._zod.def).when??(n.when=e=>{let t=e.value;return!rC(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{let r=n.value,i=r.length;if(i===t.length)return;let s=il(r),a=i>t.length;n.issues.push({origin:s,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),sQ=rp("$ZodCheckStringFormat",(e,t)=>{var n,r;sz.init(e,t),e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),sX=rp("$ZodCheckRegex",(e,t)=>{sQ.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),sY=rp("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=sS),sQ.init(e,t)}),s0=rp("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=sk),sQ.init(e,t)}),s1=rp("$ZodCheckIncludes",(e,t)=>{sz.init(e,t);let n=rX(t.includes),r=new RegExp("number"==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}}),s6=rp("$ZodCheckStartsWith",(e,t)=>{sz.init(e,t);let n=RegExp(`^${rX(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),s4=rp("$ZodCheckEndsWith",(e,t)=>{sz.init(e,t);let n=RegExp(`.*${rX(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}});function s2(e,t,n){e.issues.length&&t.issues.push(...is(n,e.issues))}let s3=rp("$ZodCheckProperty",(e,t)=>{sz.init(e,t),e._zod.check=e=>{let n=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(n instanceof Promise)return n.then(n=>s2(n,e,t.property));s2(n,e,t.property)}}),s5=rp("$ZodCheckMimeType",(e,t)=>{sz.init(e,t);let n=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=r=>{n.has(r.value.type)||r.issues.push({code:"invalid_value",values:t.mime,input:r.value.type,inst:e,continue:!t.abort})}}),s8=rp("$ZodCheckOverwrite",(e,t)=>{sz.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});e.s(["$ZodCheck",0,sz,"$ZodCheckBigIntFormat",0,sZ,"$ZodCheckEndsWith",0,s4,"$ZodCheckGreaterThan",0,sj,"$ZodCheckIncludes",0,s1,"$ZodCheckLengthEquals",0,sH,"$ZodCheckLessThan",0,sF,"$ZodCheckLowerCase",0,sY,"$ZodCheckMaxLength",0,sJ,"$ZodCheckMaxSize",0,sq,"$ZodCheckMimeType",0,s5,"$ZodCheckMinLength",0,sW,"$ZodCheckMinSize",0,sK,"$ZodCheckMultipleOf",0,sV,"$ZodCheckNumberFormat",0,sB,"$ZodCheckOverwrite",0,s8,"$ZodCheckProperty",0,s3,"$ZodCheckRegex",0,sX,"$ZodCheckSizeEquals",0,sG,"$ZodCheckStartsWith",0,s6,"$ZodCheckStringFormat",0,sQ,"$ZodCheckUpperCase",0,s0],55605);class s9{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}e.s(["Doc",()=>s9],98530);let s7={major:4,minor:3,patch:6};e.s(["version",0,s7],98477);let ae=rp("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=s7;let r=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&r.unshift(e),r))for(let n of t._zod.onattach)n(e);if(0===r.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,n)=>{let r,i=ii(e);for(let s of t){if(s._zod.def.when){if(!s._zod.def.when(e))continue}else if(i)continue;let t=e.issues.length,a=s._zod.check(e);if(a instanceof Promise&&n?.async===!1)throw new rv;if(r||a instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await a,e.issues.length!==t&&(i||(i=ii(e,t)))});else{if(e.issues.length===t)continue;i||(i=ii(e,t))}}return r?r.then(()=>e):e},n=(n,i,s)=>{if(ii(n))return n.aborted=!0,n;let a=t(i,r,s);if(a instanceof Promise){if(!1===s.async)throw new rv;return a.then(t=>e._zod.parse(t,s))}return e._zod.parse(a,s)};e._zod.run=(i,s)=>{if(s.skipChecks)return e._zod.parse(i,s);if("backward"===s.direction){let t=e._zod.parse({value:i.value,issues:[]},{...s,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,i,s)):n(t,i,s)}let a=e._zod.parse(i,s);if(a instanceof Promise){if(!1===s.async)throw new rv;return a.then(e=>t(e,r,s))}return t(a,r,s)}}rP(e,"~standard",()=>({validate:t=>{try{let n=iP(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return iU(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}))}),at=rp("$ZodString",(e,t)=>{ae.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??sv(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(e){}return"string"==typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),an=rp("$ZodStringFormat",(e,t)=>{sQ.init(e,t),at.init(e,t)}),ar=rp("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=i5),an.init(e,t)}),ai=rp("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=i8(e))}else t.pattern??(t.pattern=i8());an.init(e,t)}),as=rp("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=st),an.init(e,t)}),aa=rp("$ZodURL",(e,t)=>{an.init(e,t),e._zod.check=n=>{try{let r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),ao=rp("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=sr()),an.init(e,t)}),au=rp("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=i2),an.init(e,t)}),al=rp("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=iY),an.init(e,t)}),ac=rp("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=i0),an.init(e,t)}),ad=rp("$ZodULID",(e,t)=>{t.pattern??(t.pattern=i1),an.init(e,t)}),ah=rp("$ZodXID",(e,t)=>{t.pattern??(t.pattern=i6),an.init(e,t)}),af=rp("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=i4),an.init(e,t)}),am=rp("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=sg(t)),an.init(e,t)}),ap=rp("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=sf),an.init(e,t)}),ag=rp("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=sp(t)),an.init(e,t)}),av=rp("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=i3),an.init(e,t)}),ay=rp("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=si),an.init(e,t),e._zod.bag.format="ipv4"}),a_=rp("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=ss),an.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),ab=rp("$ZodMAC",(e,t)=>{t.pattern??(t.pattern=sa(t.delimiter)),an.init(e,t),e._zod.bag.format="mac"}),aw=rp("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=so),an.init(e,t)}),aI=rp("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=su),an.init(e,t),e._zod.check=n=>{let r=n.value.split("/");try{if(2!==r.length)throw Error();let[e,t]=r;if(!t)throw Error();let n=Number(t);if(`${n}`!==t||n<0||n>128)throw Error();new URL(`http://[${e}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function ax(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}let aS=rp("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=sl),an.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{ax(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function ak(e){if(!sc.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return ax(t.padEnd(4*Math.ceil(t.length/4),"="))}let aE=rp("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=sc),an.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{ak(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),a$=rp("$ZodE164",(e,t)=>{t.pattern??(t.pattern=sd),an.init(e,t)});function aT(e,t=null){try{let n=e.split(".");if(3!==n.length)return!1;let[r]=n;if(!r)return!1;let i=JSON.parse(atob(r));if("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))return!1;return!0}catch{return!1}}let aA=rp("$ZodJWT",(e,t)=>{an.init(e,t),e._zod.check=n=>{aT(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),aC=rp("$ZodCustomStringFormat",(e,t)=>{an.init(e,t),e._zod.check=n=>{t.fn(n.value)||n.issues.push({code:"invalid_format",format:t.format,input:n.value,inst:e,continue:!t.abort})}}),aD=rp("$ZodNumber",(e,t)=>{ae.init(e,t),e._zod.pattern=e._zod.bag.pattern??sb,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(e){}let i=n.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return n;let s="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),n}}),aN=rp("$ZodNumberFormat",(e,t)=>{sB.init(e,t),aD.init(e,t)}),aO=rp("$ZodBoolean",(e,t)=>{ae.init(e,t),e._zod.pattern=sw,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch(e){}let i=n.value;return"boolean"==typeof i||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),aP=rp("$ZodBigInt",(e,t)=>{ae.init(e,t),e._zod.pattern=sy,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=BigInt(n.value)}catch(e){}return"bigint"==typeof n.value||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:e}),n}}),aR=rp("$ZodBigIntFormat",(e,t)=>{sZ.init(e,t),aP.init(e,t)}),aU=rp("$ZodSymbol",(e,t)=>{ae.init(e,t),e._zod.parse=(t,n)=>{let r=t.value;return"symbol"==typeof r||t.issues.push({expected:"symbol",code:"invalid_type",input:r,inst:e}),t}}),aL=rp("$ZodUndefined",(e,t)=>{ae.init(e,t),e._zod.pattern=sx,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,n)=>{let r=t.value;return void 0===r||t.issues.push({expected:"undefined",code:"invalid_type",input:r,inst:e}),t}}),az=rp("$ZodNull",(e,t)=>{ae.init(e,t),e._zod.pattern=sI,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{let r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}}),aM=rp("$ZodAny",(e,t)=>{ae.init(e,t),e._zod.parse=e=>e}),aF=rp("$ZodUnknown",(e,t)=>{ae.init(e,t),e._zod.parse=e=>e}),aj=rp("$ZodNever",(e,t)=>{ae.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),aV=rp("$ZodVoid",(e,t)=>{ae.init(e,t),e._zod.parse=(t,n)=>{let r=t.value;return void 0===r||t.issues.push({expected:"void",code:"invalid_type",input:r,inst:e}),t}}),aB=rp("$ZodDate",(e,t)=>{ae.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch(e){}let i=n.value,s=i instanceof Date;return s&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...s?{received:"Invalid Date"}:{},inst:e}),n}});function aZ(e,t,n){e.issues.length&&t.issues.push(...is(n,e.issues)),t.value[n]=e.value}let aq=rp("$ZodArray",(e,t)=>{ae.init(e,t),e._zod.parse=(n,r)=>{let i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);let s=[];for(let e=0;e<i.length;e++){let a=i[e],o=t.element._zod.run({value:a,issues:[]},r);o instanceof Promise?s.push(o.then(t=>aZ(t,n,e))):aZ(o,n,e)}return s.length?Promise.all(s).then(()=>n):n}});function aK(e,t,n,r,i){if(e.issues.length){if(i&&!(n in r))return;t.issues.push(...is(n,e.issues))}void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function aG(e){let t=Object.keys(e.shape);for(let n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${n}": expected a Zod schema`);let n=r4(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function aJ(e,t,n,r,i,s){let a=[],o=i.keySet,u=i.catchall._zod,l=u.def.type,c="optional"===u.optout;for(let i in t){if(o.has(i))continue;if("never"===l){a.push(i);continue}let s=u.run({value:t[i],issues:[]},r);s instanceof Promise?e.push(s.then(e=>aK(e,n,i,t,c))):aK(s,n,i,t,c)}return(a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:s}),e.length)?Promise.all(e).then(()=>n):n}let aW=rp("$ZodObject",(e,t)=>{let n;ae.init(e,t);let r=Object.getOwnPropertyDescriptor(t,"shape");if(!r?.get){let e=t.shape;Object.defineProperty(t,"shape",{get:()=>{let n={...e};return Object.defineProperty(t,"shape",{value:n}),n}})}let i=rA(()=>aG(t));rP(e._zod,"propValues",()=>{let e=t.shape,n={};for(let t in e){let r=e[t]._zod;if(r.values)for(let e of(n[t]??(n[t]=new Set),r.values))n[t].add(e)}return n});let s=t.catchall;e._zod.parse=(t,r)=>{n??(n=i.value);let a=t.value;if(!rq(a))return t.issues.push({expected:"object",code:"invalid_type",input:a,inst:e}),t;t.value={};let o=[],u=n.shape;for(let e of n.keys){let n=u[e],i="optional"===n._zod.optout,s=n._zod.run({value:a[e],issues:[]},r);s instanceof Promise?o.push(s.then(n=>aK(n,t,e,a,i))):aK(s,t,e,a,i)}return s?aJ(o,a,t,r,i.value,e):o.length?Promise.all(o).then(()=>t):t}}),aH=rp("$ZodObjectJIT",(e,t)=>{let n,r;aW.init(e,t);let i=e._zod.parse,s=rA(()=>aG(t)),a=!r_.jitless,o=a&&rK.value,u=t.catchall;e._zod.parse=(l,c)=>{r??(r=s.value);let d=l.value;return rq(d)?a&&o&&c?.async===!1&&!0!==c.jitless?(n||(n=(e=>{let t=new s9(["shape","payload","ctx"]),n=s.value,r=e=>{let t=rV(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let i=Object.create(null),a=0;for(let e of n.keys)i[e]=`key_${a++}`;for(let s of(t.write("const newResult = {};"),n.keys)){let n=i[s],a=rV(s),o=e[s],u=o?._zod?.optout==="optional";t.write(`const ${n} = ${r(s)};`),u?t.write(`
        if (${n}.issues.length) {
          if (${a} in input) {
            payload.issues = payload.issues.concat(${n}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${a}, ...iss.path] : [${a}]
            })));
          }
        }
        
        if (${n}.value === undefined) {
          if (${a} in input) {
            newResult[${a}] = undefined;
          }
        } else {
          newResult[${a}] = ${n}.value;
        }
        
      `):t.write(`
        if (${n}.issues.length) {
          payload.issues = payload.issues.concat(${n}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${a}, ...iss.path] : [${a}]
          })));
        }
        
        if (${n}.value === undefined) {
          if (${a} in input) {
            newResult[${a}] = undefined;
          }
        } else {
          newResult[${a}] = ${n}.value;
        }
        
      `)}t.write("payload.value = newResult;"),t.write("return payload;");let o=t.compile();return(t,n)=>o(e,t,n)})(t.shape)),l=n(l,c),u)?aJ([],d,l,c,r,e):l:i(l,c):(l.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),l)}});function aQ(e,t,n,r){for(let n of e)if(0===n.issues.length)return t.value=n.value,t;let i=e.filter(e=>!ii(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>io(e,r,rb())))}),t)}let aX=rp("$ZodUnion",(e,t)=>{ae.init(e,t),rP(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),rP(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),rP(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),rP(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>rD(e.source)).join("|")})$`)}});let n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(n)return r(i,s);let a=!1,o=[];for(let e of t.options){let t=e._zod.run({value:i.value,issues:[]},s);if(t instanceof Promise)o.push(t),a=!0;else{if(0===t.issues.length)return t;o.push(t)}}return a?Promise.all(o).then(t=>aQ(t,i,e,s)):aQ(o,i,e,s)}});function aY(e,t,n,r){let i=e.filter(e=>0===e.issues.length);return 1===i.length?t.value=i[0].value:0===i.length?t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>io(e,r,rb())))}):t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:[],inclusive:!1}),t}let a0=rp("$ZodXor",(e,t)=>{aX.init(e,t),t.inclusive=!1;let n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(n)return r(i,s);let a=!1,o=[];for(let e of t.options){let t=e._zod.run({value:i.value,issues:[]},s);t instanceof Promise?(o.push(t),a=!0):o.push(t)}return a?Promise.all(o).then(t=>aY(t,i,e,s)):aY(o,i,e,s)}}),a1=rp("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,aX.init(e,t);let n=e._zod.parse;rP(e._zod,"propValues",()=>{let e={};for(let n of t.options){let r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(let[t,n]of Object.entries(r))for(let r of(e[t]||(e[t]=new Set),n))e[t].add(r)}return e});let r=rA(()=>{let e=t.options,n=new Map;for(let r of e){let e=r._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(let t of e){if(n.has(t))throw Error(`Duplicate discriminator value "${String(t)}"`);n.set(t,r)}}return n});e._zod.parse=(i,s)=>{let a=i.value;if(!rq(a))return i.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),i;let o=r.value.get(a?.[t.discriminator]);return o?o._zod.run(i,s):t.unionFallback?n(i,s):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:a,path:[t.discriminator],inst:e}),i)}}),a6=rp("$ZodIntersection",(e,t)=>{ae.init(e,t),e._zod.parse=(e,n)=>{let r=e.value,i=t.left._zod.run({value:r,issues:[]},n),s=t.right._zod.run({value:r,issues:[]},n);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([t,n])=>a4(e,t,n)):a4(e,i,s)}});function a4(e,t,n){let r,i=new Map;for(let n of t.issues)if("unrecognized_keys"===n.code)for(let e of(r??(r=n),n.keys))i.has(e)||i.set(e,{}),i.get(e).l=!0;else e.issues.push(n);for(let t of n.issues)if("unrecognized_keys"===t.code)for(let e of t.keys)i.has(e)||i.set(e,{}),i.get(e).r=!0;else e.issues.push(t);let s=[...i].filter(([,e])=>e.l&&e.r).map(([e])=>e);if(s.length&&r&&e.issues.push({...r,keys:s}),ii(e))return e;let a=function e(t,n){if(t===n||t instanceof Date&&n instanceof Date&&+t==+n)return{valid:!0,data:t};if(rG(t)&&rG(n)){let r=Object.keys(n),i=Object.keys(t).filter(e=>-1!==r.indexOf(e)),s={...t,...n};for(let r of i){let i=e(t[r],n[r]);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};s[r]=i.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return{valid:!1,mergeErrorPath:[]};let r=[];for(let i=0;i<t.length;i++){let s=e(t[i],n[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}(t.value,n.value);if(!a.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}let a2=rp("$ZodTuple",(e,t)=>{ae.init(e,t);let n=t.items;e._zod.parse=(r,i)=>{let s=r.value;if(!Array.isArray(s))return r.issues.push({input:s,inst:e,expected:"tuple",code:"invalid_type"}),r;r.value=[];let a=[],o=[...n].reverse().findIndex(e=>"optional"!==e._zod.optin),u=-1===o?0:n.length-o;if(!t.rest){let t=s.length>n.length,i=s.length<u-1;if(t||i)return r.issues.push({...t?{code:"too_big",maximum:n.length,inclusive:!0}:{code:"too_small",minimum:n.length},input:s,inst:e,origin:"array"}),r}let l=-1;for(let e of n){if(++l>=s.length&&l>=u)continue;let t=e._zod.run({value:s[l],issues:[]},i);t instanceof Promise?a.push(t.then(e=>a3(e,r,l))):a3(t,r,l)}if(t.rest)for(let e of s.slice(n.length)){l++;let n=t.rest._zod.run({value:e,issues:[]},i);n instanceof Promise?a.push(n.then(e=>a3(e,r,l))):a3(n,r,l)}return a.length?Promise.all(a).then(()=>r):r}});function a3(e,t,n){e.issues.length&&t.issues.push(...is(n,e.issues)),t.value[n]=e.value}let a5=rp("$ZodRecord",(e,t)=>{ae.init(e,t),e._zod.parse=(n,r)=>{let i=n.value;if(!rG(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;let s=[],a=t.keyType._zod.values;if(a){let o;n.value={};let u=new Set;for(let e of a)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){u.add("number"==typeof e?e.toString():e);let a=t.valueType._zod.run({value:i[e],issues:[]},r);a instanceof Promise?s.push(a.then(t=>{t.issues.length&&n.issues.push(...is(e,t.issues)),n.value[e]=t.value})):(a.issues.length&&n.issues.push(...is(e,a.issues)),n.value[e]=a.value)}for(let e in i)u.has(e)||(o=o??[]).push(e);o&&o.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:o})}else for(let a of(n.value={},Reflect.ownKeys(i))){if("__proto__"===a)continue;let o=t.keyType._zod.run({value:a,issues:[]},r);if(o instanceof Promise)throw Error("Async schemas not supported in object keys currently");if("string"==typeof a&&sb.test(a)&&o.issues.length){let e=t.keyType._zod.run({value:Number(a),issues:[]},r);if(e instanceof Promise)throw Error("Async schemas not supported in object keys currently");0===e.issues.length&&(o=e)}if(o.issues.length){"loose"===t.mode?n.value[a]=i[a]:n.issues.push({code:"invalid_key",origin:"record",issues:o.issues.map(e=>io(e,r,rb())),input:a,path:[a],inst:e});continue}let u=t.valueType._zod.run({value:i[a],issues:[]},r);u instanceof Promise?s.push(u.then(e=>{e.issues.length&&n.issues.push(...is(a,e.issues)),n.value[o.value]=e.value})):(u.issues.length&&n.issues.push(...is(a,u.issues)),n.value[o.value]=u.value)}return s.length?Promise.all(s).then(()=>n):n}}),a8=rp("$ZodMap",(e,t)=>{ae.init(e,t),e._zod.parse=(n,r)=>{let i=n.value;if(!(i instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),n;let s=[];for(let[a,o]of(n.value=new Map,i)){let u=t.keyType._zod.run({value:a,issues:[]},r),l=t.valueType._zod.run({value:o,issues:[]},r);u instanceof Promise||l instanceof Promise?s.push(Promise.all([u,l]).then(([t,s])=>{a9(t,s,n,a,i,e,r)})):a9(u,l,n,a,i,e,r)}return s.length?Promise.all(s).then(()=>n):n}});function a9(e,t,n,r,i,s,a){e.issues.length&&(rH.has(typeof r)?n.issues.push(...is(r,e.issues)):n.issues.push({code:"invalid_key",origin:"map",input:i,inst:s,issues:e.issues.map(e=>io(e,a,rb()))})),t.issues.length&&(rH.has(typeof r)?n.issues.push(...is(r,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:i,inst:s,key:r,issues:t.issues.map(e=>io(e,a,rb()))})),n.value.set(e.value,t.value)}let a7=rp("$ZodSet",(e,t)=>{ae.init(e,t),e._zod.parse=(n,r)=>{let i=n.value;if(!(i instanceof Set))return n.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),n;let s=[];for(let e of(n.value=new Set,i)){let i=t.valueType._zod.run({value:e,issues:[]},r);i instanceof Promise?s.push(i.then(e=>oe(e,n))):oe(i,n)}return s.length?Promise.all(s).then(()=>n):n}});function oe(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}let ot=rp("$ZodEnum",(e,t)=>{ae.init(e,t);let n=rE(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=RegExp(`^(${n.filter(e=>rH.has(typeof e)).map(e=>"string"==typeof e?rX(e):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{let s=t.value;return r.has(s)||t.issues.push({code:"invalid_value",values:n,input:s,inst:e}),t}}),on=rp("$ZodLiteral",(e,t)=>{if(ae.init(e,t),0===t.values.length)throw Error("Cannot create literal schema with no valid values");let n=new Set(t.values);e._zod.values=n,e._zod.pattern=RegExp(`^(${t.values.map(e=>"string"==typeof e?rX(e):e?rX(e.toString()):String(e)).join("|")})$`),e._zod.parse=(r,i)=>{let s=r.value;return n.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),or=rp("$ZodFile",(e,t)=>{ae.init(e,t),e._zod.parse=(t,n)=>{let r=t.value;return r instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:r,inst:e}),t}}),oi=rp("$ZodTransform",(e,t)=>{ae.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new ry(e.constructor.name);let i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(n.value=e,n));if(i instanceof Promise)throw new rv;return n.value=i,n}});function os(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}let oa=rp("$ZodOptional",(e,t)=>{ae.init(e,t),e._zod.optin="optional",e._zod.optout="optional",rP(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),rP(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${rD(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>os(t,e.value)):os(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),oo=rp("$ZodExactOptional",(e,t)=>{oa.init(e,t),rP(e._zod,"values",()=>t.innerType._zod.values),rP(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(e,n)=>t.innerType._zod.run(e,n)}),ou=rp("$ZodNullable",(e,t)=>{ae.init(e,t),rP(e._zod,"optin",()=>t.innerType._zod.optin),rP(e._zod,"optout",()=>t.innerType._zod.optout),rP(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${rD(e.source)}|null)$`):void 0}),rP(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),ol=rp("$ZodDefault",(e,t)=>{ae.init(e,t),e._zod.optin="optional",rP(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>oc(e,t)):oc(r,t)}});function oc(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}let od=rp("$ZodPrefault",(e,t)=>{ae.init(e,t),e._zod.optin="optional",rP(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),oh=rp("$ZodNonOptional",(e,t)=>{ae.init(e,t),rP(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,r)=>{let i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(t=>of(t,e)):of(i,e)}});function of(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}let om=rp("$ZodSuccess",(e,t)=>{ae.init(e,t),e._zod.parse=(e,n)=>{if("backward"===n.direction)throw new ry("ZodSuccess");let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===r.issues.length,e)}}),op=rp("$ZodCatch",(e,t)=>{ae.init(e,t),rP(e._zod,"optin",()=>t.innerType._zod.optin),rP(e._zod,"optout",()=>t.innerType._zod.optout),rP(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>io(e,n,rb()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>io(e,n,rb()))},input:e.value}),e.issues=[]),e)}}),og=rp("$ZodNaN",(e,t)=>{ae.init(e,t),e._zod.parse=(t,n)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),ov=rp("$ZodPipe",(e,t)=>{ae.init(e,t),rP(e._zod,"values",()=>t.in._zod.values),rP(e._zod,"optin",()=>t.in._zod.optin),rP(e._zod,"optout",()=>t.out._zod.optout),rP(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("backward"===n.direction){let r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>oy(e,t.in,n)):oy(r,t.in,n)}let r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>oy(e,t.out,n)):oy(r,t.out,n)}});function oy(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}let o_=rp("$ZodCodec",(e,t)=>{ae.init(e,t),rP(e._zod,"values",()=>t.in._zod.values),rP(e._zod,"optin",()=>t.in._zod.optin),rP(e._zod,"optout",()=>t.out._zod.optout),rP(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("forward"===(n.direction||"forward")){let r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>ob(e,t,n)):ob(r,t,n)}{let r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>ob(e,t,n)):ob(r,t,n)}}});function ob(e,t,n){if(e.issues.length)return e.aborted=!0,e;if("forward"===(n.direction||"forward")){let r=t.transform(e.value,e);return r instanceof Promise?r.then(r=>ow(e,r,t.out,n)):ow(e,r,t.out,n)}{let r=t.reverseTransform(e.value,e);return r instanceof Promise?r.then(r=>ow(e,r,t.in,n)):ow(e,r,t.in,n)}}function ow(e,t,n,r){return e.issues.length?(e.aborted=!0,e):n._zod.run({value:t,issues:e.issues},r)}let oI=rp("$ZodReadonly",(e,t)=>{ae.init(e,t),rP(e._zod,"propValues",()=>t.innerType._zod.propValues),rP(e._zod,"values",()=>t.innerType._zod.values),rP(e._zod,"optin",()=>t.innerType?._zod?.optin),rP(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);let r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(ox):ox(r)}});function ox(e){return e.value=Object.freeze(e.value),e}let oS=rp("$ZodTemplateLiteral",(e,t)=>{ae.init(e,t);let n=[];for(let e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);let t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${e._zod.traits}`);let r=+!!t.startsWith("^"),i=t.endsWith("$")?t.length-1:t.length;n.push(t.slice(r,i))}else if(null===e||rQ.has(typeof e))n.push(rX(`${e}`));else throw Error(`Invalid template literal part: ${e}`);e._zod.pattern=RegExp(`^${n.join("")}$`),e._zod.parse=(n,r)=>("string"!=typeof n.value?n.issues.push({input:n.value,inst:e,expected:"string",code:"invalid_type"}):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(n.value)||n.issues.push({input:n.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source})),n)}),ok=rp("$ZodFunction",(e,t)=>(ae.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw Error("implement() must be called with a function");return function(...n){let r=Reflect.apply(t,this,e._def.input?iC(e._def.input,n):n);return e._def.output?iC(e._def.output,r):r}},e.implementAsync=t=>{if("function"!=typeof t)throw Error("implementAsync() must be called with a function");return async function(...n){let r=e._def.input?await iN(e._def.input,n):n,i=await Reflect.apply(t,this,r);return e._def.output?await iN(e._def.output,i):i}},e._zod.parse=(t,n)=>("function"!=typeof t.value?t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}):e._def.output&&"promise"===e._def.output._zod.def.type?t.value=e.implementAsync(t.value):t.value=e.implement(t.value),t),e.input=(...t)=>{let n=e.constructor;return new n(Array.isArray(t[0])?{type:"function",input:new a2({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}:{type:"function",input:t[0],output:e._def.output})},e.output=t=>new e.constructor({type:"function",input:e._def.input,output:t}),e)),oE=rp("$ZodPromise",(e,t)=>{ae.init(e,t),e._zod.parse=(e,n)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},n))}),o$=rp("$ZodLazy",(e,t)=>{ae.init(e,t),rP(e._zod,"innerType",()=>t.getter()),rP(e._zod,"pattern",()=>e._zod.innerType?._zod?.pattern),rP(e._zod,"propValues",()=>e._zod.innerType?._zod?.propValues),rP(e._zod,"optin",()=>e._zod.innerType?._zod?.optin??void 0),rP(e._zod,"optout",()=>e._zod.innerType?._zod?.optout??void 0),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)}),oT=rp("$ZodCustom",(e,t)=>{sz.init(e,t),ae.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{let r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(t=>oA(t,n,r,e));oA(i,n,r,e)}});function oA(e,t,n,r){if(!e){let e={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(id(e))}}function oC(e,t,n,r){let i=Math.abs(e),s=i%10,a=i%100;return a>=11&&a<=19?r:1===s?t:s>=2&&s<=4?n:r}function oD(){let e,t,n;return{localeError:(e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"},map:{unit:"entries",verb:"to have"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",mac:"MAC address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n={nan:"NaN"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;return`Invalid input: expected ${e}, received ${i}`}case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${r6(r.values[0])}`;return`Invalid option: expected one of ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Too big: expected ${r.origin??"value"} to have ${t}${r.maximum.toString()} ${n.unit??"elements"}`;return`Too big: expected ${r.origin??"value"} to be ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Too small: expected ${r.origin} to have ${t}${r.minimum.toString()} ${n.unit}`;return`Too small: expected ${r.origin} to be ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Invalid string: must start with "${r.prefix}"`;if("ends_with"===r.format)return`Invalid string: must end with "${r.suffix}"`;if("includes"===r.format)return`Invalid string: must include "${r.includes}"`;if("regex"===r.format)return`Invalid string: must match pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${r.divisor}`;case"unrecognized_keys":return`Unrecognized key${r.keys.length>1?"s":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`Invalid key in ${r.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${r.origin}`}})}}function oN(e,t,n){return 1===Math.abs(e)?t:n}function oO(e){if(!e)return"";let t=e[e.length-1];return e+(["","","","","","",""].includes(t)?"":"")}function oP(){let e,t,n;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:" (Array)",null:" (null)"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`  instanceof ${r.expected}  ${i}`;return`  ${e}  ${i}`}case"invalid_value":if(1===r.values.length)return`  ${r6(r.values[0])}`;return`  ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`  ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`  ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`  ${r.origin} ${t} ${r.minimum.toString()} ${n.unit}`;return`  ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  "${r.prefix}"`;if("ends_with"===r.format)return`  "${r.suffix}"`;if("includes"===r.format)return`  "${r.includes}"`;if("regex"===r.format)return`  ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return`  ${r.divisor}`;case"unrecognized_keys":return` ${r$(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${r.origin}`}})}}e.s(["$ZodAny",0,aM,"$ZodArray",0,aq,"$ZodBase64",0,aS,"$ZodBase64URL",0,aE,"$ZodBigInt",0,aP,"$ZodBigIntFormat",0,aR,"$ZodBoolean",0,aO,"$ZodCIDRv4",0,aw,"$ZodCIDRv6",0,aI,"$ZodCUID",0,al,"$ZodCUID2",0,ac,"$ZodCatch",0,op,"$ZodCodec",0,o_,"$ZodCustom",0,oT,"$ZodCustomStringFormat",0,aC,"$ZodDate",0,aB,"$ZodDefault",0,ol,"$ZodDiscriminatedUnion",0,a1,"$ZodE164",0,a$,"$ZodEmail",0,as,"$ZodEmoji",0,ao,"$ZodEnum",0,ot,"$ZodExactOptional",0,oo,"$ZodFile",0,or,"$ZodFunction",0,ok,"$ZodGUID",0,ar,"$ZodIPv4",0,ay,"$ZodIPv6",0,a_,"$ZodISODate",0,ap,"$ZodISODateTime",0,am,"$ZodISODuration",0,av,"$ZodISOTime",0,ag,"$ZodIntersection",0,a6,"$ZodJWT",0,aA,"$ZodKSUID",0,af,"$ZodLazy",0,o$,"$ZodLiteral",0,on,"$ZodMAC",0,ab,"$ZodMap",0,a8,"$ZodNaN",0,og,"$ZodNanoID",0,au,"$ZodNever",0,aj,"$ZodNonOptional",0,oh,"$ZodNull",0,az,"$ZodNullable",0,ou,"$ZodNumber",0,aD,"$ZodNumberFormat",0,aN,"$ZodObject",0,aW,"$ZodObjectJIT",0,aH,"$ZodOptional",0,oa,"$ZodPipe",0,ov,"$ZodPrefault",0,od,"$ZodPromise",0,oE,"$ZodReadonly",0,oI,"$ZodRecord",0,a5,"$ZodSet",0,a7,"$ZodString",0,at,"$ZodStringFormat",0,an,"$ZodSuccess",0,om,"$ZodSymbol",0,aU,"$ZodTemplateLiteral",0,oS,"$ZodTransform",0,oi,"$ZodTuple",0,a2,"$ZodType",0,ae,"$ZodULID",0,ad,"$ZodURL",0,aa,"$ZodUUID",0,ai,"$ZodUndefined",0,aL,"$ZodUnion",0,aX,"$ZodUnknown",0,aF,"$ZodVoid",0,aV,"$ZodXID",0,ah,"$ZodXor",0,a0,"isValidBase64",()=>ax,"isValidBase64URL",()=>ak,"isValidJWT",()=>aT],76094);let oR=e=>e.charAt(0).toUpperCase()+e.slice(1);function oU(e){let t=Math.abs(e),n=t%10,r=t%100;return r>=11&&r<=19||0===n?"many":1===n?"one":"few"}function oL(e,t,n,r){let i=Math.abs(e),s=i%10,a=i%100;return a>=11&&a<=19?r:1===s?t:s>=2&&s<=4?n:r}function oz(){let e,t,n;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "},n={nan:"NaN",number:"",array:""},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`  :  instanceof ${r.expected},  ${i}`;return`  :  ${e},  ${i}`}case"invalid_value":if(1===r.values.length)return`  :  ${r6(r.values[0])}`;return` :    ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ,  ${r.origin??""} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??""}`;return` : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ,  ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return` : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}}e.s([],43365);let oM=Symbol("ZodOutput"),oF=Symbol("ZodInput");class oj{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let n=t[0];return this._map.set(e,n),n&&"object"==typeof n&&"id"in n&&this._idmap.set(n.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let n={...this.get(t)??{}};delete n.id;let r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function oV(){return new oj}(a=globalThis).__zod_globalRegistry??(a.__zod_globalRegistry=oV());let oB=globalThis.__zod_globalRegistry;function oZ(e,t){return new e({type:"string",...r0(t)})}function oq(e,t){return new e({type:"string",coerce:!0,...r0(t)})}function oK(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...r0(t)})}function oG(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...r0(t)})}function oJ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...r0(t)})}function oW(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...r0(t)})}function oH(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...r0(t)})}function oQ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...r0(t)})}function oX(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...r0(t)})}function oY(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...r0(t)})}function o0(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...r0(t)})}function o1(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...r0(t)})}function o6(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...r0(t)})}function o4(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...r0(t)})}function o2(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...r0(t)})}function o3(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...r0(t)})}function o5(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...r0(t)})}function o8(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...r0(t)})}function o9(e,t){return new e({type:"string",format:"mac",check:"string_format",abort:!1,...r0(t)})}function o7(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...r0(t)})}function ue(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...r0(t)})}function ut(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...r0(t)})}function un(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...r0(t)})}function ur(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...r0(t)})}function ui(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...r0(t)})}e.s(["$ZodRegistry",()=>oj,"$input",0,oF,"$output",0,oM,"globalRegistry",0,oB,"registry",()=>oV],25527);let us={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function ua(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...r0(t)})}function uo(e,t){return new e({type:"string",format:"date",check:"string_format",...r0(t)})}function uu(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...r0(t)})}function ul(e,t){return new e({type:"string",format:"duration",check:"string_format",...r0(t)})}function uc(e,t){return new e({type:"number",checks:[],...r0(t)})}function ud(e,t){return new e({type:"number",coerce:!0,checks:[],...r0(t)})}function uh(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...r0(t)})}function uf(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...r0(t)})}function um(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...r0(t)})}function up(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...r0(t)})}function ug(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...r0(t)})}function uv(e,t){return new e({type:"boolean",...r0(t)})}function uy(e,t){return new e({type:"boolean",coerce:!0,...r0(t)})}function u_(e,t){return new e({type:"bigint",...r0(t)})}function ub(e,t){return new e({type:"bigint",coerce:!0,...r0(t)})}function uw(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...r0(t)})}function uI(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...r0(t)})}function ux(e,t){return new e({type:"symbol",...r0(t)})}function uS(e,t){return new e({type:"undefined",...r0(t)})}function uk(e,t){return new e({type:"null",...r0(t)})}function uE(e){return new e({type:"any"})}function u$(e){return new e({type:"unknown"})}function uT(e,t){return new e({type:"never",...r0(t)})}function uA(e,t){return new e({type:"void",...r0(t)})}function uC(e,t){return new e({type:"date",...r0(t)})}function uD(e,t){return new e({type:"date",coerce:!0,...r0(t)})}function uN(e,t){return new e({type:"nan",...r0(t)})}function uO(e,t){return new sF({check:"less_than",...r0(t),value:e,inclusive:!1})}function uP(e,t){return new sF({check:"less_than",...r0(t),value:e,inclusive:!0})}function uR(e,t){return new sj({check:"greater_than",...r0(t),value:e,inclusive:!1})}function uU(e,t){return new sj({check:"greater_than",...r0(t),value:e,inclusive:!0})}function uL(e){return uR(0,e)}function uz(e){return uO(0,e)}function uM(e){return uP(0,e)}function uF(e){return uU(0,e)}function uj(e,t){return new sV({check:"multiple_of",...r0(t),value:e})}function uV(e,t){return new sq({check:"max_size",...r0(t),maximum:e})}function uB(e,t){return new sK({check:"min_size",...r0(t),minimum:e})}function uZ(e,t){return new sG({check:"size_equals",...r0(t),size:e})}function uq(e,t){return new sJ({check:"max_length",...r0(t),maximum:e})}function uK(e,t){return new sW({check:"min_length",...r0(t),minimum:e})}function uG(e,t){return new sH({check:"length_equals",...r0(t),length:e})}function uJ(e,t){return new sX({check:"string_format",format:"regex",...r0(t),pattern:e})}function uW(e){return new sY({check:"string_format",format:"lowercase",...r0(e)})}function uH(e){return new s0({check:"string_format",format:"uppercase",...r0(e)})}function uQ(e,t){return new s1({check:"string_format",format:"includes",...r0(t),includes:e})}function uX(e,t){return new s6({check:"string_format",format:"starts_with",...r0(t),prefix:e})}function uY(e,t){return new s4({check:"string_format",format:"ends_with",...r0(t),suffix:e})}function u0(e,t,n){return new s3({check:"property",property:e,schema:t,...r0(n)})}function u1(e,t){return new s5({check:"mime_type",mime:e,...r0(t)})}function u6(e){return new s8({check:"overwrite",tx:e})}function u4(e){return u6(t=>t.normalize(e))}function u2(){return u6(e=>e.trim())}function u3(){return u6(e=>e.toLowerCase())}function u5(){return u6(e=>e.toUpperCase())}function u8(){return u6(e=>rB(e))}function u9(e,t,n){return new e({type:"array",element:t,...r0(n)})}function u7(e,t,n){return new e({type:"union",options:t,...r0(n)})}function le(e,t,n){return new e({type:"union",options:t,inclusive:!1,...r0(n)})}function lt(e,t,n,r){return new e({type:"union",options:n,discriminator:t,...r0(r)})}function ln(e,t,n){return new e({type:"intersection",left:t,right:n})}function lr(e,t,n,r){let i=n instanceof ae,s=i?r:n;return new e({type:"tuple",items:t,rest:i?n:null,...r0(s)})}function li(e,t,n,r){return new e({type:"record",keyType:t,valueType:n,...r0(r)})}function ls(e,t,n,r){return new e({type:"map",keyType:t,valueType:n,...r0(r)})}function la(e,t,n){return new e({type:"set",valueType:t,...r0(n)})}function lo(e,t,n){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...r0(n)})}function lu(e,t,n){return new e({type:"enum",entries:t,...r0(n)})}function ll(e,t,n){return new e({type:"literal",values:Array.isArray(t)?t:[t],...r0(n)})}function lc(e,t){return new e({type:"file",...r0(t)})}function ld(e,t){return new e({type:"transform",transform:t})}function lh(e,t){return new e({type:"optional",innerType:t})}function lf(e,t){return new e({type:"nullable",innerType:t})}function lm(e,t,n){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof n?n():rJ(n)}})}function lp(e,t,n){return new e({type:"nonoptional",innerType:t,...r0(n)})}function lg(e,t){return new e({type:"success",innerType:t})}function lv(e,t,n){return new e({type:"catch",innerType:t,catchValue:"function"==typeof n?n:()=>n})}function ly(e,t,n){return new e({type:"pipe",in:t,out:n})}function l_(e,t){return new e({type:"readonly",innerType:t})}function lb(e,t,n){return new e({type:"template_literal",parts:t,...r0(n)})}function lw(e,t){return new e({type:"lazy",getter:t})}function lI(e,t){return new e({type:"promise",innerType:t})}function lx(e,t,n){let r=r0(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function lS(e,t,n){return new e({type:"custom",check:"custom",fn:t,...r0(n)})}function lk(e){let t=lE(n=>(n.addIssue=e=>{"string"==typeof e?n.issues.push(id(e,n.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=n.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),n.issues.push(id(e)))},e(n.value,n)));return t}function lE(e,t){let n=new sz({check:"custom",...r0(t)});return n._zod.check=e,n}function l$(e){let t=new sz({check:"describe"});return t._zod.onattach=[t=>{let n=oB.get(t)??{};oB.add(t,{...n,description:e})}],t._zod.check=()=>{},t}function lT(e){let t=new sz({check:"meta"});return t._zod.onattach=[t=>{let n=oB.get(t)??{};oB.add(t,{...n,...e})}],t._zod.check=()=>{},t}function lA(e,t){let n=r0(t),r=n.truthy??["true","1","yes","on","y","enabled"],i=n.falsy??["false","0","no","off","n","disabled"];"sensitive"!==n.case&&(r=r.map(e=>"string"==typeof e?e.toLowerCase():e),i=i.map(e=>"string"==typeof e?e.toLowerCase():e));let s=new Set(r),a=new Set(i),o=e.Codec??o_,u=e.Boolean??aO,l=new o({type:"pipe",in:new(e.String??at)({type:"string",error:n.error}),out:new u({type:"boolean",error:n.error}),transform:(e,t)=>{let r=e;return"sensitive"!==n.case&&(r=r.toLowerCase()),!!s.has(r)||!a.has(r)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...s,...a],input:t.value,inst:l,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?r[0]||"true":i[0]||"false",error:n.error});return l}function lC(e,t,n,r={}){let i=r0(r),s={...r0(r),check:"string_format",type:"string",format:t,fn:"function"==typeof n?n:e=>n.test(e),...i};return n instanceof RegExp&&(s.pattern=n),new e(s)}function lD(e){let t=e?.target??"draft-2020-12";return"draft-4"===t&&(t="draft-04"),"draft-7"===t&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??oB,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function lN(e,t,n={path:[],schemaPath:[]}){var r;let i=e._zod.def,s=t.seen.get(e);if(s)return s.count++,n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema;let a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);let o=e._zod.toJSONSchema?.();if(o)a.schema=o;else{let r={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,r);else{let n=a.schema,s=t.processors[i.type];if(!s)throw Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);s(e,t,n,r)}let s=e._zod.parent;s&&(a.ref||(a.ref=s),lN(s,t,r),t.seen.get(s).isParent=!0)}let u=t.metadataRegistry.get(e);return u&&Object.assign(a.schema,u),"input"===t.io&&function e(t,n){let r=n??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);let i=t._zod.def;if("transform"===i.type)return!0;if("array"===i.type)return e(i.element,r);if("set"===i.type)return e(i.valueType,r);if("lazy"===i.type)return e(i.getter(),r);if("promise"===i.type||"optional"===i.type||"nonoptional"===i.type||"nullable"===i.type||"readonly"===i.type||"default"===i.type||"prefault"===i.type)return e(i.innerType,r);if("intersection"===i.type)return e(i.left,r)||e(i.right,r);if("record"===i.type||"map"===i.type)return e(i.keyType,r)||e(i.valueType,r);if("pipe"===i.type)return e(i.in,r)||e(i.out,r);if("object"===i.type){for(let t in i.shape)if(e(i.shape[t],r))return!0;return!1}if("union"===i.type){for(let t of i.options)if(e(t,r))return!0;return!1}if("tuple"===i.type){for(let t of i.items)if(e(t,r))return!0;if(i.rest&&e(i.rest,r))return!0}return!1}(e)&&(delete a.schema.examples,delete a.schema.default),"input"===t.io&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function lO(e,t){let n=e.seen.get(t);if(!n)throw Error("Unprocessed schema. This is a bug in Zod.");let r=new Map;for(let t of e.seen.entries()){let n=e.metadataRegistry.get(t[0])?.id;if(n){let e=r.get(n);if(e&&e!==t[0])throw Error(`Duplicate schema id "${n}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(n,t[0])}}let i=t=>{if(t[1].schema.$ref)return;let r=t[1],{ref:i,defId:s}=(t=>{let r="draft-2020-12"===e.target?"$defs":"definitions";if(e.external){let n=e.external.registry.get(t[0])?.id,i=e.external.uri??(e=>e);if(n)return{ref:i(n)};let s=t[1].defId??t[1].schema.id??`schema${e.counter++}`;return t[1].defId=s,{defId:s,ref:`${i("__shared")}#/${r}/${s}`}}if(t[1]===n)return{ref:"#"};let i=`#/${r}/`,s=t[1].schema.id??`__schema${e.counter++}`;return{defId:s,ref:i+s}})(t);r.def={...r.schema},s&&(r.defId=s);let a=r.schema;for(let e in a)delete a[e];a.$ref=i};if("throw"===e.cycles)for(let t of e.seen.entries()){let e=t[1];if(e.cycle)throw Error(`Cycle detected: #/${e.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let n of e.seen.entries()){let r=n[1];if(t===n[0]){i(n);continue}if(e.external){let r=e.external.registry.get(n[0])?.id;if(t!==n[0]&&r){i(n);continue}}if(e.metadataRegistry.get(n[0])?.id||r.cycle||r.count>1&&"ref"===e.reused){i(n);continue}}}function lP(e,t){let n=e.seen.get(t);if(!n)throw Error("Unprocessed schema. This is a bug in Zod.");let r=t=>{let n=e.seen.get(t);if(null===n.ref)return;let i=n.def??n.schema,s={...i},a=n.ref;if(n.ref=null,a){r(a);let n=e.seen.get(a),o=n.schema;if(o.$ref&&("draft-07"===e.target||"draft-04"===e.target||"openapi-3.0"===e.target)?(i.allOf=i.allOf??[],i.allOf.push(o)):Object.assign(i,o),Object.assign(i,s),t._zod.parent===a)for(let e in i)"$ref"!==e&&"allOf"!==e&&(e in s||delete i[e]);if(o.$ref&&n.def)for(let e in i)"$ref"!==e&&"allOf"!==e&&e in n.def&&JSON.stringify(i[e])===JSON.stringify(n.def[e])&&delete i[e]}let o=t._zod.parent;if(o&&o!==a){r(o);let t=e.seen.get(o);if(t?.schema.$ref&&(i.$ref=t.schema.$ref,t.def))for(let e in i)"$ref"!==e&&"allOf"!==e&&e in t.def&&JSON.stringify(i[e])===JSON.stringify(t.def[e])&&delete i[e]}e.override({zodSchema:t,jsonSchema:i,path:n.path??[]})};for(let t of[...e.seen.entries()].reverse())r(t[0]);let i={};if("draft-2020-12"===e.target?i.$schema="https://json-schema.org/draft/2020-12/schema":"draft-07"===e.target?i.$schema="http://json-schema.org/draft-07/schema#":"draft-04"===e.target?i.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){let n=e.external.registry.get(t)?.id;if(!n)throw Error("Schema is missing an `id` property");i.$id=e.external.uri(n)}Object.assign(i,n.def??n.schema);let s=e.external?.defs??{};for(let t of e.seen.entries()){let e=t[1];e.def&&e.defId&&(s[e.defId]=e.def)}e.external||Object.keys(s).length>0&&("draft-2020-12"===e.target?i.$defs=s:i.definitions=s);try{let n=JSON.parse(JSON.stringify(i));return Object.defineProperty(n,"~standard",{value:{...t["~standard"],jsonSchema:{input:lU(t,"input",e.processors),output:lU(t,"output",e.processors)}},enumerable:!1,writable:!1}),n}catch(e){throw Error("Error converting schema to JSON.")}}e.s(["TimePrecision",0,us,"_any",()=>uE,"_array",()=>u9,"_base64",()=>ut,"_base64url",()=>un,"_bigint",()=>u_,"_boolean",()=>uv,"_catch",()=>lv,"_check",()=>lE,"_cidrv4",()=>o7,"_cidrv6",()=>ue,"_coercedBigint",()=>ub,"_coercedBoolean",()=>uy,"_coercedDate",()=>uD,"_coercedNumber",()=>ud,"_coercedString",()=>oq,"_cuid",()=>o1,"_cuid2",()=>o6,"_custom",()=>lx,"_date",()=>uC,"_default",()=>lm,"_discriminatedUnion",()=>lt,"_e164",()=>ur,"_email",()=>oK,"_emoji",()=>oY,"_endsWith",()=>uY,"_enum",()=>lo,"_file",()=>lc,"_float32",()=>uf,"_float64",()=>um,"_gt",()=>uR,"_gte",()=>uU,"_guid",()=>oG,"_includes",()=>uQ,"_int",()=>uh,"_int32",()=>up,"_int64",()=>uw,"_intersection",()=>ln,"_ipv4",()=>o5,"_ipv6",()=>o8,"_isoDate",()=>uo,"_isoDateTime",()=>ua,"_isoDuration",()=>ul,"_isoTime",()=>uu,"_jwt",()=>ui,"_ksuid",()=>o3,"_lazy",()=>lw,"_length",()=>uG,"_literal",()=>ll,"_lowercase",()=>uW,"_lt",()=>uO,"_lte",()=>uP,"_mac",()=>o9,"_map",()=>ls,"_max",()=>uP,"_maxLength",()=>uq,"_maxSize",()=>uV,"_mime",()=>u1,"_min",()=>uU,"_minLength",()=>uK,"_minSize",()=>uB,"_multipleOf",()=>uj,"_nan",()=>uN,"_nanoid",()=>o0,"_nativeEnum",()=>lu,"_negative",()=>uz,"_never",()=>uT,"_nonnegative",()=>uF,"_nonoptional",()=>lp,"_nonpositive",()=>uM,"_normalize",()=>u4,"_null",()=>uk,"_nullable",()=>lf,"_number",()=>uc,"_optional",()=>lh,"_overwrite",()=>u6,"_pipe",()=>ly,"_positive",()=>uL,"_promise",()=>lI,"_property",()=>u0,"_readonly",()=>l_,"_record",()=>li,"_refine",()=>lS,"_regex",()=>uJ,"_set",()=>la,"_size",()=>uZ,"_slugify",()=>u8,"_startsWith",()=>uX,"_string",()=>oZ,"_stringFormat",()=>lC,"_stringbool",()=>lA,"_success",()=>lg,"_superRefine",()=>lk,"_symbol",()=>ux,"_templateLiteral",()=>lb,"_toLowerCase",()=>u3,"_toUpperCase",()=>u5,"_transform",()=>ld,"_trim",()=>u2,"_tuple",()=>lr,"_uint32",()=>ug,"_uint64",()=>uI,"_ulid",()=>o4,"_undefined",()=>uS,"_union",()=>u7,"_unknown",()=>u$,"_uppercase",()=>uH,"_url",()=>oX,"_uuid",()=>oJ,"_uuidv4",()=>oW,"_uuidv6",()=>oH,"_uuidv7",()=>oQ,"_void",()=>uA,"_xid",()=>o2,"_xor",()=>le,"describe",()=>l$,"meta",()=>lT],50215);let lR=(e,t={})=>n=>{let r=lD({...n,processors:t});return lN(e,r),lO(r,e),lP(r,e)},lU=(e,t,n={})=>r=>{let{libraryOptions:i,target:s}=r??{},a=lD({...i??{},target:s,io:t,processors:n});return lN(e,a),lO(a,e),lP(a,e)};e.s(["createStandardJSONSchemaMethod",0,lU,"createToJSONSchemaMethod",0,lR,"extractDefs",()=>lO,"finalize",()=>lP,"initializeContext",()=>lD,"process",()=>lN],34966);let lL={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},lz=(e,t,n,r)=>{n.type="string";let{minimum:i,maximum:s,format:a,patterns:o,contentEncoding:u}=e._zod.bag;if("number"==typeof i&&(n.minLength=i),"number"==typeof s&&(n.maxLength=s),a&&(n.format=lL[a]??a,""===n.format&&delete n.format,"time"===a&&delete n.format),u&&(n.contentEncoding=u),o&&o.size>0){let e=[...o];1===e.length?n.pattern=e[0].source:e.length>1&&(n.allOf=[...e.map(e=>({..."draft-07"===t.target||"draft-04"===t.target||"openapi-3.0"===t.target?{type:"string"}:{},pattern:e.source}))])}},lM=(e,t,n,r)=>{let{minimum:i,maximum:s,format:a,multipleOf:o,exclusiveMaximum:u,exclusiveMinimum:l}=e._zod.bag;"string"==typeof a&&a.includes("int")?n.type="integer":n.type="number","number"==typeof l&&("draft-04"===t.target||"openapi-3.0"===t.target?(n.minimum=l,n.exclusiveMinimum=!0):n.exclusiveMinimum=l),"number"==typeof i&&(n.minimum=i,"number"==typeof l&&"draft-04"!==t.target&&(l>=i?delete n.minimum:delete n.exclusiveMinimum)),"number"==typeof u&&("draft-04"===t.target||"openapi-3.0"===t.target?(n.maximum=u,n.exclusiveMaximum=!0):n.exclusiveMaximum=u),"number"==typeof s&&(n.maximum=s,"number"==typeof u&&"draft-04"!==t.target&&(u<=s?delete n.maximum:delete n.exclusiveMaximum)),"number"==typeof o&&(n.multipleOf=o)},lF=(e,t,n,r)=>{n.type="boolean"},lj=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema")},lV=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema")},lB=(e,t,n,r)=>{"openapi-3.0"===t.target?(n.type="string",n.nullable=!0,n.enum=[null]):n.type="null"},lZ=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema")},lq=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw Error("Void cannot be represented in JSON Schema")},lK=(e,t,n,r)=>{n.not={}},lG=(e,t,n,r)=>{},lJ=(e,t,n,r)=>{},lW=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw Error("Date cannot be represented in JSON Schema")},lH=(e,t,n,r)=>{let i=rE(e._zod.def.entries);i.every(e=>"number"==typeof e)&&(n.type="number"),i.every(e=>"string"==typeof e)&&(n.type="string"),n.enum=i},lQ=(e,t,n,r)=>{let i=e._zod.def,s=[];for(let e of i.values)if(void 0===e){if("throw"===t.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof e)if("throw"===t.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else s.push(Number(e));else s.push(e);if(0===s.length);else if(1===s.length){let e=s[0];n.type=null===e?"null":typeof e,"draft-04"===t.target||"openapi-3.0"===t.target?n.enum=[e]:n.const=e}else s.every(e=>"number"==typeof e)&&(n.type="number"),s.every(e=>"string"==typeof e)&&(n.type="string"),s.every(e=>"boolean"==typeof e)&&(n.type="boolean"),s.every(e=>null===e)&&(n.type="null"),n.enum=s},lX=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw Error("NaN cannot be represented in JSON Schema")},lY=(e,t,n,r)=>{let i=e._zod.pattern;if(!i)throw Error("Pattern not found in template literal");n.type="string",n.pattern=i.source},l0=(e,t,n,r)=>{let i={type:"string",format:"binary",contentEncoding:"binary"},{minimum:s,maximum:a,mime:o}=e._zod.bag;void 0!==s&&(i.minLength=s),void 0!==a&&(i.maxLength=a),o?1===o.length?(i.contentMediaType=o[0],Object.assign(n,i)):(Object.assign(n,i),n.anyOf=o.map(e=>({contentMediaType:e}))):Object.assign(n,i)},l1=(e,t,n,r)=>{n.type="boolean"},l6=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema")},l4=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")},l2=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema")},l3=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw Error("Map cannot be represented in JSON Schema")},l5=(e,t,n,r)=>{if("throw"===t.unrepresentable)throw Error("Set cannot be represented in JSON Schema")},l8=(e,t,n,r)=>{let i=e._zod.def,{minimum:s,maximum:a}=e._zod.bag;"number"==typeof s&&(n.minItems=s),"number"==typeof a&&(n.maxItems=a),n.type="array",n.items=lN(i.element,t,{...r,path:[...r.path,"items"]})},l9=(e,t,n,r)=>{let i=e._zod.def;n.type="object",n.properties={};let s=i.shape;for(let e in s)n.properties[e]=lN(s[e],t,{...r,path:[...r.path,"properties",e]});let a=new Set([...new Set(Object.keys(s))].filter(e=>{let n=i.shape[e]._zod;return"input"===t.io?void 0===n.optin:void 0===n.optout}));a.size>0&&(n.required=Array.from(a)),i.catchall?._zod.def.type==="never"?n.additionalProperties=!1:i.catchall?i.catchall&&(n.additionalProperties=lN(i.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):"output"===t.io&&(n.additionalProperties=!1)},l7=(e,t,n,r)=>{let i=e._zod.def,s=!1===i.inclusive,a=i.options.map((e,n)=>lN(e,t,{...r,path:[...r.path,s?"oneOf":"anyOf",n]}));s?n.oneOf=a:n.anyOf=a},ce=(e,t,n,r)=>{let i=e._zod.def,s=lN(i.left,t,{...r,path:[...r.path,"allOf",0]}),a=lN(i.right,t,{...r,path:[...r.path,"allOf",1]}),o=e=>"allOf"in e&&1===Object.keys(e).length;n.allOf=[...o(s)?s.allOf:[s],...o(a)?a.allOf:[a]]},ct=(e,t,n,r)=>{let i=e._zod.def;n.type="array";let s="draft-2020-12"===t.target?"prefixItems":"items",a="draft-2020-12"===t.target||"openapi-3.0"===t.target?"items":"additionalItems",o=i.items.map((e,n)=>lN(e,t,{...r,path:[...r.path,s,n]})),u=i.rest?lN(i.rest,t,{...r,path:[...r.path,a,..."openapi-3.0"===t.target?[i.items.length]:[]]}):null;"draft-2020-12"===t.target?(n.prefixItems=o,u&&(n.items=u)):"openapi-3.0"===t.target?(n.items={anyOf:o},u&&n.items.anyOf.push(u),n.minItems=o.length,u||(n.maxItems=o.length)):(n.items=o,u&&(n.additionalItems=u));let{minimum:l,maximum:c}=e._zod.bag;"number"==typeof l&&(n.minItems=l),"number"==typeof c&&(n.maxItems=c)},cn=(e,t,n,r)=>{let i=e._zod.def;n.type="object";let s=i.keyType,a=s._zod.bag,o=a?.patterns;if("loose"===i.mode&&o&&o.size>0){let e=lN(i.valueType,t,{...r,path:[...r.path,"patternProperties","*"]});for(let t of(n.patternProperties={},o))n.patternProperties[t.source]=e}else("draft-07"===t.target||"draft-2020-12"===t.target)&&(n.propertyNames=lN(i.keyType,t,{...r,path:[...r.path,"propertyNames"]})),n.additionalProperties=lN(i.valueType,t,{...r,path:[...r.path,"additionalProperties"]});let u=s._zod.values;if(u){let e=[...u].filter(e=>"string"==typeof e||"number"==typeof e);e.length>0&&(n.required=e)}},cr=(e,t,n,r)=>{let i=e._zod.def,s=lN(i.innerType,t,r),a=t.seen.get(e);"openapi-3.0"===t.target?(a.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},ci=(e,t,n,r)=>{let i=e._zod.def;lN(i.innerType,t,r),t.seen.get(e).ref=i.innerType},cs=(e,t,n,r)=>{let i=e._zod.def;lN(i.innerType,t,r),t.seen.get(e).ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},ca=(e,t,n,r)=>{let i=e._zod.def;lN(i.innerType,t,r),t.seen.get(e).ref=i.innerType,"input"===t.io&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},co=(e,t,n,r)=>{let i,s=e._zod.def;lN(s.innerType,t,r),t.seen.get(e).ref=s.innerType;try{i=s.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}n.default=i},cu=(e,t,n,r)=>{let i=e._zod.def,s="input"===t.io?"transform"===i.in._zod.def.type?i.out:i.in:i.out;lN(s,t,r),t.seen.get(e).ref=s},cl=(e,t,n,r)=>{let i=e._zod.def;lN(i.innerType,t,r),t.seen.get(e).ref=i.innerType,n.readOnly=!0},cc=(e,t,n,r)=>{let i=e._zod.def;lN(i.innerType,t,r),t.seen.get(e).ref=i.innerType},cd=(e,t,n,r)=>{let i=e._zod.def;lN(i.innerType,t,r),t.seen.get(e).ref=i.innerType},ch=(e,t,n,r)=>{let i=e._zod.innerType;lN(i,t,r),t.seen.get(e).ref=i},cf={string:lz,number:lM,boolean:lF,bigint:lj,symbol:lV,null:lB,undefined:lZ,void:lq,never:lK,any:lG,unknown:lJ,date:lW,enum:lH,literal:lQ,nan:lX,template_literal:lY,file:l0,success:l1,custom:l6,function:l4,transform:l2,map:l3,set:l5,array:l8,object:l9,union:l7,intersection:ce,tuple:ct,record:cn,nullable:cr,nonoptional:ci,default:cs,prefault:ca,catch:co,pipe:cu,readonly:cl,promise:cc,optional:cd,lazy:ch};function cm(e,t){if("_idmap"in e){let n=lD({...t,processors:cf}),r={};for(let t of e._idmap.entries()){let[e,r]=t;lN(r,n)}let i={};for(let s of(n.external={registry:e,uri:t?.uri,defs:r},e._idmap.entries())){let[e,t]=s;lO(n,t),i[e]=lP(n,t)}return Object.keys(r).length>0&&(i.__shared={["draft-2020-12"===n.target?"$defs":"definitions"]:r}),{schemas:i}}let n=lD({...t,processors:cf});return lN(e,n),lO(n,e),lP(n,e)}class cp{get metadataRegistry(){return this.ctx.metadataRegistry}get target(){return this.ctx.target}get unrepresentable(){return this.ctx.unrepresentable}get override(){return this.ctx.override}get io(){return this.ctx.io}get counter(){return this.ctx.counter}set counter(e){this.ctx.counter=e}get seen(){return this.ctx.seen}constructor(e){let t=e?.target??"draft-2020-12";"draft-4"===t&&(t="draft-04"),"draft-7"===t&&(t="draft-07"),this.ctx=lD({processors:cf,target:t,...e?.metadata&&{metadata:e.metadata},...e?.unrepresentable&&{unrepresentable:e.unrepresentable},...e?.override&&{override:e.override},...e?.io&&{io:e.io}})}process(e,t={path:[],schemaPath:[]}){return lN(e,this.ctx,t)}emit(e,t){t&&(t.cycles&&(this.ctx.cycles=t.cycles),t.reused&&(this.ctx.reused=t.reused),t.external&&(this.ctx.external=t.external)),lO(this.ctx,e);let{"~standard":n,...r}=lP(this.ctx,e);return r}}e.s([],18249),e.s([],92135),e.s(["ZodAny",()=>dY,"ZodArray",()=>d7,"ZodBase64",()=>d_,"ZodBase64URL",()=>dw,"ZodBigInt",()=>dV,"ZodBigIntFormat",()=>dZ,"ZodBoolean",()=>dF,"ZodCIDRv4",()=>dp,"ZodCIDRv6",()=>dv,"ZodCUID",()=>c9,"ZodCUID2",()=>de,"ZodCatch",()=>hJ,"ZodCodec",()=>h0,"ZodCustom",()=>fn,"ZodCustomStringFormat",()=>d$,"ZodDate",()=>d8,"ZodDefault",()=>hF,"ZodDiscriminatedUnion",()=>hc,"ZodE164",()=>dx,"ZodEmail",()=>cK,"ZodEmoji",()=>c2,"ZodEnum",()=>hS,"ZodExactOptional",()=>hR,"ZodFile",()=>hA,"ZodFunction",()=>fe,"ZodGUID",()=>cJ,"ZodIPv4",()=>dl,"ZodIPv6",()=>df,"ZodIntersection",()=>hh,"ZodJWT",()=>dk,"ZodKSUID",()=>da,"ZodLazy",()=>h5,"ZodLiteral",()=>h$,"ZodMAC",()=>dd,"ZodMap",()=>hb,"ZodNaN",()=>hH,"ZodNanoID",()=>c5,"ZodNever",()=>d4,"ZodNonOptional",()=>hZ,"ZodNull",()=>dQ,"ZodNullable",()=>hL,"ZodNumber",()=>dN,"ZodNumberFormat",()=>dP,"ZodObject",()=>hn,"ZodOptional",()=>hO,"ZodPipe",()=>hX,"ZodPrefault",()=>hV,"ZodPromise",()=>h9,"ZodReadonly",()=>h6,"ZodRecord",()=>hg,"ZodSet",()=>hI,"ZodString",()=>cB,"ZodStringFormat",()=>cq,"ZodSuccess",()=>hK,"ZodSymbol",()=>dG,"ZodTemplateLiteral",()=>h2,"ZodTransform",()=>hD,"ZodTuple",()=>hm,"ZodType",()=>cj,"ZodULID",()=>dn,"ZodURL",()=>c1,"ZodUUID",()=>cH,"ZodUndefined",()=>dW,"ZodUnion",()=>ha,"ZodUnknown",()=>d1,"ZodVoid",()=>d3,"ZodXID",()=>di,"ZodXor",()=>hu,"_ZodString",()=>cV,"_default",()=>hj,"_function",()=>ft,"any",()=>d0,"array",()=>he,"base64",()=>db,"base64url",()=>dI,"bigint",()=>dB,"boolean",()=>dj,"catch",()=>hW,"check",()=>fr,"cidrv4",()=>dg,"cidrv6",()=>dy,"codec",()=>h1,"cuid",()=>c7,"cuid2",()=>dt,"custom",()=>fi,"date",()=>d9,"describe",()=>fo,"discriminatedUnion",()=>hd,"e164",()=>dS,"email",()=>cG,"emoji",()=>c3,"enum",()=>hk,"exactOptional",()=>hU,"file",()=>hC,"float32",()=>dU,"float64",()=>dL,"function",()=>ft,"guid",()=>cW,"hash",()=>dD,"hex",()=>dC,"hostname",()=>dA,"httpUrl",()=>c4,"instanceof",()=>fl,"int",()=>dR,"int32",()=>dz,"int64",()=>dq,"intersection",()=>hf,"ipv4",()=>dc,"ipv6",()=>dm,"json",()=>fd,"jwt",()=>dE,"keyof",()=>ht,"ksuid",()=>du,"lazy",()=>h8,"literal",()=>hT,"looseObject",()=>hs,"looseRecord",()=>h_,"mac",()=>dh,"map",()=>hw,"meta",()=>fu,"nan",()=>hQ,"nanoid",()=>c8,"nativeEnum",()=>hE,"never",()=>d2,"nonoptional",()=>hq,"null",()=>dX,"nullable",()=>hz,"nullish",()=>hM,"number",()=>dO,"object",()=>hr,"optional",()=>hP,"partialRecord",()=>hy,"pipe",()=>hY,"prefault",()=>hB,"preprocess",()=>fh,"promise",()=>h7,"readonly",()=>h4,"record",()=>hv,"refine",()=>fs,"set",()=>hx,"strictObject",()=>hi,"string",()=>cZ,"stringFormat",()=>dT,"stringbool",()=>fc,"success",()=>hG,"superRefine",()=>fa,"symbol",()=>dJ,"templateLiteral",()=>h3,"transform",()=>hN,"tuple",()=>hp,"uint32",()=>dM,"uint64",()=>dK,"ulid",()=>dr,"undefined",()=>dH,"union",()=>ho,"unknown",()=>d6,"url",()=>c6,"uuid",()=>cQ,"uuidv4",()=>cX,"uuidv6",()=>cY,"uuidv7",()=>c0,"void",()=>d5,"xid",()=>ds,"xor",()=>hl],62201),e.i(76094),e.s(["$ZodAny",0,aM,"$ZodArray",0,aq,"$ZodBase64",0,aS,"$ZodBase64URL",0,aE,"$ZodBigInt",0,aP,"$ZodBigIntFormat",0,aR,"$ZodBoolean",0,aO,"$ZodCIDRv4",0,aw,"$ZodCIDRv6",0,aI,"$ZodCUID",0,al,"$ZodCUID2",0,ac,"$ZodCatch",0,op,"$ZodCodec",0,o_,"$ZodCustom",0,oT,"$ZodCustomStringFormat",0,aC,"$ZodDate",0,aB,"$ZodDefault",0,ol,"$ZodDiscriminatedUnion",0,a1,"$ZodE164",0,a$,"$ZodEmail",0,as,"$ZodEmoji",0,ao,"$ZodEnum",0,ot,"$ZodExactOptional",0,oo,"$ZodFile",0,or,"$ZodFunction",0,ok,"$ZodGUID",0,ar,"$ZodIPv4",0,ay,"$ZodIPv6",0,a_,"$ZodISODate",0,ap,"$ZodISODateTime",0,am,"$ZodISODuration",0,av,"$ZodISOTime",0,ag,"$ZodIntersection",0,a6,"$ZodJWT",0,aA,"$ZodKSUID",0,af,"$ZodLazy",0,o$,"$ZodLiteral",0,on,"$ZodMAC",0,ab,"$ZodMap",0,a8,"$ZodNaN",0,og,"$ZodNanoID",0,au,"$ZodNever",0,aj,"$ZodNonOptional",0,oh,"$ZodNull",0,az,"$ZodNullable",0,ou,"$ZodNumber",0,aD,"$ZodNumberFormat",0,aN,"$ZodObject",0,aW,"$ZodObjectJIT",0,aH,"$ZodOptional",0,oa,"$ZodPipe",0,ov,"$ZodPrefault",0,od,"$ZodPromise",0,oE,"$ZodReadonly",0,oI,"$ZodRecord",0,a5,"$ZodSet",0,a7,"$ZodString",0,at,"$ZodStringFormat",0,an,"$ZodSuccess",0,om,"$ZodSymbol",0,aU,"$ZodTemplateLiteral",0,oS,"$ZodTransform",0,oi,"$ZodTuple",0,a2,"$ZodType",0,ae,"$ZodULID",0,ad,"$ZodURL",0,aa,"$ZodUUID",0,ai,"$ZodUndefined",0,aL,"$ZodUnion",0,aX,"$ZodUnknown",0,aF,"$ZodVoid",0,aV,"$ZodXID",0,ah,"$ZodXor",0,a0,"clone",()=>rY,"isValidBase64",()=>ax,"isValidBase64URL",()=>ak,"isValidJWT",()=>aT],32952);var cg=e.i(82358),cg=cg,cv=e.i(22143),cv=cv;e.s([],42332),e.s(["ZodISODate",()=>cb,"ZodISODateTime",()=>cy,"ZodISODuration",()=>cS,"ZodISOTime",()=>cI,"date",()=>cw,"datetime",()=>c_,"duration",()=>ck,"time",()=>cx],49732);let cy=rp("ZodISODateTime",(e,t)=>{am.init(e,t),cq.init(e,t)});function c_(e){return ua(cy,e)}let cb=rp("ZodISODate",(e,t)=>{ap.init(e,t),cq.init(e,t)});function cw(e){return uo(cb,e)}let cI=rp("ZodISOTime",(e,t)=>{ag.init(e,t),cq.init(e,t)});function cx(e){return uu(cI,e)}let cS=rp("ZodISODuration",(e,t)=>{av.init(e,t),cq.init(e,t)});function ck(e){return ul(cS,e)}let cE=(e,t)=>{iI.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>ik(e,t)},flatten:{value:t=>iS(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,rT,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,rT,2)}},isEmpty:{get:()=>0===e.issues.length}})},c$=rp("ZodError",cE),cT=rp("ZodError",cE,{Parent:Error});e.s(["ZodError",0,c$,"ZodRealError",0,cT],89282);let cA=iA(cT),cC=iD(cT),cD=iO(cT),cN=iR(cT),cO=iL(cT),cP=iM(cT),cR=ij(cT),cU=iB(cT),cL=iq(cT),cz=iG(cT),cM=iW(cT),cF=iQ(cT);e.s(["decode",0,cP,"decodeAsync",0,cU,"encode",0,cO,"encodeAsync",0,cR,"parse",0,cA,"parseAsync",0,cC,"safeDecode",0,cz,"safeDecodeAsync",0,cF,"safeEncode",0,cL,"safeEncodeAsync",0,cM,"safeParse",0,cD,"safeParseAsync",0,cN],364);let cj=rp("ZodType",(e,t)=>(ae.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:lU(e,"input"),output:lU(e,"output")}}),e.toJSONSchema=lR(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(cv.mergeDefs(t,{checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),{parent:!0}),e.with=e.check,e.clone=(t,n)=>rY(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>cA(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>cD(e,t,n),e.parseAsync=async(t,n)=>cC(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>cN(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>cO(e,t,n),e.decode=(t,n)=>cP(e,t,n),e.encodeAsync=async(t,n)=>cR(e,t,n),e.decodeAsync=async(t,n)=>cU(e,t,n),e.safeEncode=(t,n)=>cL(e,t,n),e.safeDecode=(t,n)=>cz(e,t,n),e.safeEncodeAsync=async(t,n)=>cM(e,t,n),e.safeDecodeAsync=async(t,n)=>cF(e,t,n),e.refine=(t,n)=>e.check(fs(t,n)),e.superRefine=t=>e.check(lk(t)),e.overwrite=t=>e.check(u6(t)),e.optional=()=>hP(e),e.exactOptional=()=>hU(e),e.nullable=()=>hz(e),e.nullish=()=>hP(hz(e)),e.nonoptional=t=>hq(e,t),e.array=()=>he(e),e.or=t=>ho([e,t]),e.and=t=>hf(e,t),e.transform=t=>hY(e,hN(t)),e.default=t=>hj(e,t),e.prefault=t=>hB(e,t),e.catch=t=>hW(e,t),e.pipe=t=>hY(e,t),e.readonly=()=>h4(e),e.describe=t=>{let n=e.clone();return oB.add(n,{description:t}),n},Object.defineProperty(e,"description",{get:()=>oB.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return oB.get(e);let n=e.clone();return oB.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=t=>t(e),e)),cV=rp("_ZodString",(e,t)=>{at.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lz(e,t,n,r);let n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(uJ(...t)),e.includes=(...t)=>e.check(uQ(...t)),e.startsWith=(...t)=>e.check(uX(...t)),e.endsWith=(...t)=>e.check(uY(...t)),e.min=(...t)=>e.check(uK(...t)),e.max=(...t)=>e.check(uq(...t)),e.length=(...t)=>e.check(uG(...t)),e.nonempty=(...t)=>e.check(uK(1,...t)),e.lowercase=t=>e.check(uW(t)),e.uppercase=t=>e.check(uH(t)),e.trim=()=>e.check(u2()),e.normalize=(...t)=>e.check(u4(...t)),e.toLowerCase=()=>e.check(u3()),e.toUpperCase=()=>e.check(u5()),e.slugify=()=>e.check(u8())}),cB=rp("ZodString",(e,t)=>{at.init(e,t),cV.init(e,t),e.email=t=>e.check(oK(cK,t)),e.url=t=>e.check(oX(c1,t)),e.jwt=t=>e.check(ui(dk,t)),e.emoji=t=>e.check(oY(c2,t)),e.guid=t=>e.check(oG(cJ,t)),e.uuid=t=>e.check(oJ(cH,t)),e.uuidv4=t=>e.check(oW(cH,t)),e.uuidv6=t=>e.check(oH(cH,t)),e.uuidv7=t=>e.check(oQ(cH,t)),e.nanoid=t=>e.check(o0(c5,t)),e.guid=t=>e.check(oG(cJ,t)),e.cuid=t=>e.check(o1(c9,t)),e.cuid2=t=>e.check(o6(de,t)),e.ulid=t=>e.check(o4(dn,t)),e.base64=t=>e.check(ut(d_,t)),e.base64url=t=>e.check(un(dw,t)),e.xid=t=>e.check(o2(di,t)),e.ksuid=t=>e.check(o3(da,t)),e.ipv4=t=>e.check(o5(dl,t)),e.ipv6=t=>e.check(o8(df,t)),e.cidrv4=t=>e.check(o7(dp,t)),e.cidrv6=t=>e.check(ue(dv,t)),e.e164=t=>e.check(ur(dx,t)),e.datetime=t=>e.check(c_(t)),e.date=t=>e.check(cw(t)),e.time=t=>e.check(cx(t)),e.duration=t=>e.check(ck(t))});function cZ(e){return oZ(cB,e)}let cq=rp("ZodStringFormat",(e,t)=>{an.init(e,t),cV.init(e,t)}),cK=rp("ZodEmail",(e,t)=>{as.init(e,t),cq.init(e,t)});function cG(e){return oK(cK,e)}let cJ=rp("ZodGUID",(e,t)=>{ar.init(e,t),cq.init(e,t)});function cW(e){return oG(cJ,e)}let cH=rp("ZodUUID",(e,t)=>{ai.init(e,t),cq.init(e,t)});function cQ(e){return oJ(cH,e)}function cX(e){return oW(cH,e)}function cY(e){return oH(cH,e)}function c0(e){return oQ(cH,e)}let c1=rp("ZodURL",(e,t)=>{aa.init(e,t),cq.init(e,t)});function c6(e){return oX(c1,e)}function c4(e){return oX(c1,{protocol:/^https?$/,hostname:cg.domain,...cv.normalizeParams(e)})}let c2=rp("ZodEmoji",(e,t)=>{ao.init(e,t),cq.init(e,t)});function c3(e){return oY(c2,e)}let c5=rp("ZodNanoID",(e,t)=>{au.init(e,t),cq.init(e,t)});function c8(e){return o0(c5,e)}let c9=rp("ZodCUID",(e,t)=>{al.init(e,t),cq.init(e,t)});function c7(e){return o1(c9,e)}let de=rp("ZodCUID2",(e,t)=>{ac.init(e,t),cq.init(e,t)});function dt(e){return o6(de,e)}let dn=rp("ZodULID",(e,t)=>{ad.init(e,t),cq.init(e,t)});function dr(e){return o4(dn,e)}let di=rp("ZodXID",(e,t)=>{ah.init(e,t),cq.init(e,t)});function ds(e){return o2(di,e)}let da=rp("ZodKSUID",(e,t)=>{af.init(e,t),cq.init(e,t)});function du(e){return o3(da,e)}let dl=rp("ZodIPv4",(e,t)=>{ay.init(e,t),cq.init(e,t)});function dc(e){return o5(dl,e)}let dd=rp("ZodMAC",(e,t)=>{ab.init(e,t),cq.init(e,t)});function dh(e){return o9(dd,e)}let df=rp("ZodIPv6",(e,t)=>{a_.init(e,t),cq.init(e,t)});function dm(e){return o8(df,e)}let dp=rp("ZodCIDRv4",(e,t)=>{aw.init(e,t),cq.init(e,t)});function dg(e){return o7(dp,e)}let dv=rp("ZodCIDRv6",(e,t)=>{aI.init(e,t),cq.init(e,t)});function dy(e){return ue(dv,e)}let d_=rp("ZodBase64",(e,t)=>{aS.init(e,t),cq.init(e,t)});function db(e){return ut(d_,e)}let dw=rp("ZodBase64URL",(e,t)=>{aE.init(e,t),cq.init(e,t)});function dI(e){return un(dw,e)}let dx=rp("ZodE164",(e,t)=>{a$.init(e,t),cq.init(e,t)});function dS(e){return ur(dx,e)}let dk=rp("ZodJWT",(e,t)=>{aA.init(e,t),cq.init(e,t)});function dE(e){return ui(dk,e)}let d$=rp("ZodCustomStringFormat",(e,t)=>{aC.init(e,t),cq.init(e,t)});function dT(e,t,n={}){return lC(d$,e,t,n)}function dA(e){return lC(d$,"hostname",cg.hostname,e)}function dC(e){return lC(d$,"hex",cg.hex,e)}function dD(e,t){let n=t?.enc??"hex",r=`${e}_${n}`,i=cg[r];if(!i)throw Error(`Unrecognized hash format: ${r}`);return lC(d$,r,i,t)}let dN=rp("ZodNumber",(e,t)=>{aD.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lM(e,t,n,r),e.gt=(t,n)=>e.check(uR(t,n)),e.gte=(t,n)=>e.check(uU(t,n)),e.min=(t,n)=>e.check(uU(t,n)),e.lt=(t,n)=>e.check(uO(t,n)),e.lte=(t,n)=>e.check(uP(t,n)),e.max=(t,n)=>e.check(uP(t,n)),e.int=t=>e.check(dR(t)),e.safe=t=>e.check(dR(t)),e.positive=t=>e.check(uR(0,t)),e.nonnegative=t=>e.check(uU(0,t)),e.negative=t=>e.check(uO(0,t)),e.nonpositive=t=>e.check(uP(0,t)),e.multipleOf=(t,n)=>e.check(uj(t,n)),e.step=(t,n)=>e.check(uj(t,n)),e.finite=()=>e;let n=e._zod.bag;e.minValue=Math.max(n.minimum??-1/0,n.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(n.maximum??1/0,n.exclusiveMaximum??1/0)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function dO(e){return uc(dN,e)}let dP=rp("ZodNumberFormat",(e,t)=>{aN.init(e,t),dN.init(e,t)});function dR(e){return uh(dP,e)}function dU(e){return uf(dP,e)}function dL(e){return um(dP,e)}function dz(e){return up(dP,e)}function dM(e){return ug(dP,e)}let dF=rp("ZodBoolean",(e,t)=>{aO.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lF(e,t,n,r)});function dj(e){return uv(dF,e)}let dV=rp("ZodBigInt",(e,t)=>{aP.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lj(e,t,n,r),e.gte=(t,n)=>e.check(uU(t,n)),e.min=(t,n)=>e.check(uU(t,n)),e.gt=(t,n)=>e.check(uR(t,n)),e.gte=(t,n)=>e.check(uU(t,n)),e.min=(t,n)=>e.check(uU(t,n)),e.lt=(t,n)=>e.check(uO(t,n)),e.lte=(t,n)=>e.check(uP(t,n)),e.max=(t,n)=>e.check(uP(t,n)),e.positive=t=>e.check(uR(BigInt(0),t)),e.negative=t=>e.check(uO(BigInt(0),t)),e.nonpositive=t=>e.check(uP(BigInt(0),t)),e.nonnegative=t=>e.check(uU(BigInt(0),t)),e.multipleOf=(t,n)=>e.check(uj(t,n));let n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null});function dB(e){return u_(dV,e)}let dZ=rp("ZodBigIntFormat",(e,t)=>{aR.init(e,t),dV.init(e,t)});function dq(e){return uw(dZ,e)}function dK(e){return uI(dZ,e)}let dG=rp("ZodSymbol",(e,t)=>{aU.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lV(e,t,n,r)});function dJ(e){return ux(dG,e)}let dW=rp("ZodUndefined",(e,t)=>{aL.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lZ(e,t,n,r)});function dH(e){return uS(dW,e)}let dQ=rp("ZodNull",(e,t)=>{az.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lB(e,t,n,r)});function dX(e){return uk(dQ,e)}let dY=rp("ZodAny",(e,t)=>{aM.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lG(e,t,n,r)});function d0(){return uE(dY)}let d1=rp("ZodUnknown",(e,t)=>{aF.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lJ(e,t,n,r)});function d6(){return u$(d1)}let d4=rp("ZodNever",(e,t)=>{aj.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lK(e,t,n,r)});function d2(e){return uT(d4,e)}let d3=rp("ZodVoid",(e,t)=>{aV.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lq(e,t,n,r)});function d5(e){return uA(d3,e)}let d8=rp("ZodDate",(e,t)=>{aB.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lW(e,t,n,r),e.min=(t,n)=>e.check(uU(t,n)),e.max=(t,n)=>e.check(uP(t,n));let n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function d9(e){return uC(d8,e)}let d7=rp("ZodArray",(e,t)=>{aq.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>l8(e,t,n,r),e.element=t.element,e.min=(t,n)=>e.check(uK(t,n)),e.nonempty=t=>e.check(uK(1,t)),e.max=(t,n)=>e.check(uq(t,n)),e.length=(t,n)=>e.check(uG(t,n)),e.unwrap=()=>e.element});function he(e,t){return u9(d7,e,t)}function ht(e){return hk(Object.keys(e._zod.def.shape))}let hn=rp("ZodObject",(e,t)=>{aH.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>l9(e,t,n,r),cv.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>hk(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:d6()}),e.loose=()=>e.clone({...e._zod.def,catchall:d6()}),e.strict=()=>e.clone({...e._zod.def,catchall:d2()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>cv.extend(e,t),e.safeExtend=t=>cv.safeExtend(e,t),e.merge=t=>cv.merge(e,t),e.pick=t=>cv.pick(e,t),e.omit=t=>cv.omit(e,t),e.partial=(...t)=>cv.partial(hO,e,t[0]),e.required=(...t)=>cv.required(hZ,e,t[0])});function hr(e,t){return new hn({type:"object",shape:e??{},...cv.normalizeParams(t)})}function hi(e,t){return new hn({type:"object",shape:e,catchall:d2(),...cv.normalizeParams(t)})}function hs(e,t){return new hn({type:"object",shape:e,catchall:d6(),...cv.normalizeParams(t)})}let ha=rp("ZodUnion",(e,t)=>{aX.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>l7(e,t,n,r),e.options=t.options});function ho(e,t){return new ha({type:"union",options:e,...cv.normalizeParams(t)})}let hu=rp("ZodXor",(e,t)=>{ha.init(e,t),a0.init(e,t),e._zod.processJSONSchema=(t,n,r)=>l7(e,t,n,r),e.options=t.options});function hl(e,t){return new hu({type:"union",options:e,inclusive:!1,...cv.normalizeParams(t)})}let hc=rp("ZodDiscriminatedUnion",(e,t)=>{ha.init(e,t),a1.init(e,t)});function hd(e,t,n){return new hc({type:"union",options:t,discriminator:e,...cv.normalizeParams(n)})}let hh=rp("ZodIntersection",(e,t)=>{a6.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>ce(e,t,n,r)});function hf(e,t){return new hh({type:"intersection",left:e,right:t})}let hm=rp("ZodTuple",(e,t)=>{a2.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>ct(e,t,n,r),e.rest=t=>e.clone({...e._zod.def,rest:t})});function hp(e,t,n){let r=t instanceof ae,i=r?n:t;return new hm({type:"tuple",items:e,rest:r?t:null,...cv.normalizeParams(i)})}let hg=rp("ZodRecord",(e,t)=>{a5.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>cn(e,t,n,r),e.keyType=t.keyType,e.valueType=t.valueType});function hv(e,t,n){return new hg({type:"record",keyType:e,valueType:t,...cv.normalizeParams(n)})}function hy(e,t,n){let r=rY(e);return r._zod.values=void 0,new hg({type:"record",keyType:r,valueType:t,...cv.normalizeParams(n)})}function h_(e,t,n){return new hg({type:"record",keyType:e,valueType:t,mode:"loose",...cv.normalizeParams(n)})}let hb=rp("ZodMap",(e,t)=>{a8.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>l3(e,t,n,r),e.keyType=t.keyType,e.valueType=t.valueType,e.min=(...t)=>e.check(uB(...t)),e.nonempty=t=>e.check(uB(1,t)),e.max=(...t)=>e.check(uV(...t)),e.size=(...t)=>e.check(uZ(...t))});function hw(e,t,n){return new hb({type:"map",keyType:e,valueType:t,...cv.normalizeParams(n)})}let hI=rp("ZodSet",(e,t)=>{a7.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>l5(e,t,n,r),e.min=(...t)=>e.check(uB(...t)),e.nonempty=t=>e.check(uB(1,t)),e.max=(...t)=>e.check(uV(...t)),e.size=(...t)=>e.check(uZ(...t))});function hx(e,t){return new hI({type:"set",valueType:e,...cv.normalizeParams(t)})}let hS=rp("ZodEnum",(e,t)=>{ot.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lH(e,t,n,r),e.enum=t.entries,e.options=Object.values(t.entries);let n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{let i={};for(let r of e)if(n.has(r))i[r]=t.entries[r];else throw Error(`Key ${r} not found in enum`);return new hS({...t,checks:[],...cv.normalizeParams(r),entries:i})},e.exclude=(e,r)=>{let i={...t.entries};for(let t of e)if(n.has(t))delete i[t];else throw Error(`Key ${t} not found in enum`);return new hS({...t,checks:[],...cv.normalizeParams(r),entries:i})}});function hk(e,t){return new hS({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...cv.normalizeParams(t)})}function hE(e,t){return new hS({type:"enum",entries:e,...cv.normalizeParams(t)})}let h$=rp("ZodLiteral",(e,t)=>{on.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lQ(e,t,n,r),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function hT(e,t){return new h$({type:"literal",values:Array.isArray(e)?e:[e],...cv.normalizeParams(t)})}let hA=rp("ZodFile",(e,t)=>{or.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>l0(e,t,n,r),e.min=(t,n)=>e.check(uB(t,n)),e.max=(t,n)=>e.check(uV(t,n)),e.mime=(t,n)=>e.check(u1(Array.isArray(t)?t:[t],n))});function hC(e){return lc(hA,e)}let hD=rp("ZodTransform",(e,t)=>{oi.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>l2(e,t,n,r),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new ry(e.constructor.name);n.addIssue=r=>{"string"==typeof r?n.issues.push(cv.issue(r,n.value,t)):(r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),n.issues.push(cv.issue(r)))};let i=t.transform(n.value,n);return i instanceof Promise?i.then(e=>(n.value=e,n)):(n.value=i,n)}});function hN(e){return new hD({type:"transform",transform:e})}let hO=rp("ZodOptional",(e,t)=>{oa.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>cd(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function hP(e){return new hO({type:"optional",innerType:e})}let hR=rp("ZodExactOptional",(e,t)=>{oo.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>cd(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function hU(e){return new hR({type:"optional",innerType:e})}let hL=rp("ZodNullable",(e,t)=>{ou.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>cr(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function hz(e){return new hL({type:"nullable",innerType:e})}function hM(e){return hP(hz(e))}let hF=rp("ZodDefault",(e,t)=>{ol.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>cs(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function hj(e,t){return new hF({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():cv.shallowClone(t)}})}let hV=rp("ZodPrefault",(e,t)=>{od.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>ca(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function hB(e,t){return new hV({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():cv.shallowClone(t)}})}let hZ=rp("ZodNonOptional",(e,t)=>{oh.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>ci(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function hq(e,t){return new hZ({type:"nonoptional",innerType:e,...cv.normalizeParams(t)})}let hK=rp("ZodSuccess",(e,t)=>{om.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>l1(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function hG(e){return new hK({type:"success",innerType:e})}let hJ=rp("ZodCatch",(e,t)=>{op.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>co(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function hW(e,t){return new hJ({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}let hH=rp("ZodNaN",(e,t)=>{og.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lX(e,t,n,r)});function hQ(e){return uN(hH,e)}let hX=rp("ZodPipe",(e,t)=>{ov.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>cu(e,t,n,r),e.in=t.in,e.out=t.out});function hY(e,t){return new hX({type:"pipe",in:e,out:t})}let h0=rp("ZodCodec",(e,t)=>{hX.init(e,t),o_.init(e,t)});function h1(e,t,n){return new h0({type:"pipe",in:e,out:t,transform:n.decode,reverseTransform:n.encode})}let h6=rp("ZodReadonly",(e,t)=>{oI.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>cl(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function h4(e){return new h6({type:"readonly",innerType:e})}let h2=rp("ZodTemplateLiteral",(e,t)=>{oS.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>lY(e,t,n,r)});function h3(e,t){return new h2({type:"template_literal",parts:e,...cv.normalizeParams(t)})}let h5=rp("ZodLazy",(e,t)=>{o$.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>ch(e,t,n,r),e.unwrap=()=>e._zod.def.getter()});function h8(e){return new h5({type:"lazy",getter:e})}let h9=rp("ZodPromise",(e,t)=>{oE.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>cc(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function h7(e){return new h9({type:"promise",innerType:e})}let fe=rp("ZodFunction",(e,t)=>{ok.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>l4(e,t,n,r)});function ft(e){return new fe({type:"function",input:Array.isArray(e?.input)?hp(e?.input):e?.input??he(d6()),output:e?.output??d6()})}let fn=rp("ZodCustom",(e,t)=>{oT.init(e,t),cj.init(e,t),e._zod.processJSONSchema=(t,n,r)=>l6(e,t,n,r)});function fr(e){let t=new sz({check:"custom"});return t._zod.check=e,t}function fi(e,t){return lx(fn,e??(()=>!0),t)}function fs(e,t={}){return lS(fn,e,t)}function fa(e){return lk(e)}let fo=l$,fu=lT;function fl(e,t={}){let n=new fn({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...cv.normalizeParams(t)});return n._zod.bag.Class=e,n._zod.check=t=>{t.value instanceof e||t.issues.push({code:"invalid_type",expected:e.name,input:t.value,inst:n,path:[...n._zod.def.path??[]]})},n}let fc=(...e)=>lA({Codec:h0,Boolean:dF,String:cB},...e);function fd(e){let t=h8(()=>ho([cZ(e),dO(),dj(),dX(),he(t),hv(cZ(),t)]));return t}function fh(e,t){return hY(hN(e),t)}let ff={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function fm(e){rb({customError:e})}function fp(){return rb().customError}o||(o={}),e.s(["ZodFirstPartyTypeKind",()=>o,"ZodIssueCode",0,ff,"getErrorMap",()=>fp,"setErrorMap",()=>fm],6034),e.i(42332),e.s(["endsWith",()=>uY,"gt",()=>uR,"gte",()=>uU,"includes",()=>uQ,"length",()=>uG,"lowercase",()=>uW,"lt",()=>uO,"lte",()=>uP,"maxLength",()=>uq,"maxSize",()=>uV,"mime",()=>u1,"minLength",()=>uK,"minSize",()=>uB,"multipleOf",()=>uj,"negative",()=>uz,"nonnegative",()=>uF,"nonpositive",()=>uM,"normalize",()=>u4,"overwrite",()=>u6,"positive",()=>uL,"property",()=>u0,"regex",()=>uJ,"size",()=>uZ,"slugify",()=>u8,"startsWith",()=>uX,"toLowerCase",()=>u3,"toUpperCase",()=>u5,"trim",()=>u2,"uppercase",()=>uH],30421);var fg=e.i(30421),fv=e.i(49732);let fy={...e.i(62201),...fg,iso:fv},f_=new Set(["$schema","$ref","$defs","definitions","$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor","type","enum","const","anyOf","oneOf","allOf","not","properties","required","additionalProperties","patternProperties","propertyNames","minProperties","maxProperties","items","prefixItems","additionalItems","minItems","maxItems","uniqueItems","contains","minContains","maxContains","minLength","maxLength","pattern","format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","multipleOf","description","default","contentEncoding","contentMediaType","contentSchema","unevaluatedItems","unevaluatedProperties","if","then","else","dependentSchemas","dependentRequired","nullable","readOnly"]);function fb(e,t){var n;let r;if("boolean"==typeof e)return e?fy.any():fy.never();let i={version:(n=t?.defaultTarget,"https://json-schema.org/draft/2020-12/schema"===(r=e.$schema)?"draft-2020-12":"http://json-schema.org/draft-07/schema#"===r?"draft-7":"http://json-schema.org/draft-04/schema#"===r?"draft-4":n??"draft-2020-12"),defs:e.$defs||e.definitions||{},refs:new Map,processing:new Set,rootSchema:e,registry:t?.registry??oB};return function e(t,n){if("boolean"==typeof t)return t?fy.any():fy.never();let r=function t(n,r){let i;if(void 0!==n.not){if("object"==typeof n.not&&0===Object.keys(n.not).length)return fy.never();throw Error("not is not supported in Zod (except { not: {} } for never)")}if(void 0!==n.unevaluatedItems)throw Error("unevaluatedItems is not supported");if(void 0!==n.unevaluatedProperties)throw Error("unevaluatedProperties is not supported");if(void 0!==n.if||void 0!==n.then||void 0!==n.else)throw Error("Conditional schemas (if/then/else) are not supported");if(void 0!==n.dependentSchemas||void 0!==n.dependentRequired)throw Error("dependentSchemas and dependentRequired are not supported");if(n.$ref){let t=n.$ref;if(r.refs.has(t))return r.refs.get(t);if(r.processing.has(t))return fy.lazy(()=>{if(!r.refs.has(t))throw Error(`Circular reference not resolved: ${t}`);return r.refs.get(t)});r.processing.add(t);let i=e(function(e,t){if(!e.startsWith("#"))throw Error("External $ref is not supported, only local refs (#/...) are allowed");let n=e.slice(1).split("/").filter(Boolean);if(0===n.length)return t.rootSchema;let r="draft-2020-12"===t.version?"$defs":"definitions";if(n[0]===r){let r=n[1];if(!r||!t.defs[r])throw Error(`Reference not found: ${e}`);return t.defs[r]}throw Error(`Reference not found: ${e}`)}(t,r),r);return r.refs.set(t,i),r.processing.delete(t),i}if(void 0!==n.enum){let e=n.enum;if("openapi-3.0"===r.version&&!0===n.nullable&&1===e.length&&null===e[0])return fy.null();if(0===e.length)return fy.never();if(1===e.length)return fy.literal(e[0]);if(e.every(e=>"string"==typeof e))return fy.enum(e);let t=e.map(e=>fy.literal(e));return t.length<2?t[0]:fy.union([t[0],t[1],...t.slice(2)])}if(void 0!==n.const)return fy.literal(n.const);let s=n.type;if(Array.isArray(s)){let e=s.map(e=>t({...n,type:e},r));return 0===e.length?fy.never():1===e.length?e[0]:fy.union(e)}if(!s)return fy.any();switch(s){case"string":{let e=fy.string();if(n.format){let t=n.format;"email"===t?e=e.check(fy.email()):"uri"===t||"uri-reference"===t?e=e.check(fy.url()):"uuid"===t||"guid"===t?e=e.check(fy.uuid()):"date-time"===t?e=e.check(fy.iso.datetime()):"date"===t?e=e.check(fy.iso.date()):"time"===t?e=e.check(fy.iso.time()):"duration"===t?e=e.check(fy.iso.duration()):"ipv4"===t?e=e.check(fy.ipv4()):"ipv6"===t?e=e.check(fy.ipv6()):"mac"===t?e=e.check(fy.mac()):"cidr"===t?e=e.check(fy.cidrv4()):"cidr-v6"===t?e=e.check(fy.cidrv6()):"base64"===t?e=e.check(fy.base64()):"base64url"===t?e=e.check(fy.base64url()):"e164"===t?e=e.check(fy.e164()):"jwt"===t?e=e.check(fy.jwt()):"emoji"===t?e=e.check(fy.emoji()):"nanoid"===t?e=e.check(fy.nanoid()):"cuid"===t?e=e.check(fy.cuid()):"cuid2"===t?e=e.check(fy.cuid2()):"ulid"===t?e=e.check(fy.ulid()):"xid"===t?e=e.check(fy.xid()):"ksuid"===t&&(e=e.check(fy.ksuid()))}"number"==typeof n.minLength&&(e=e.min(n.minLength)),"number"==typeof n.maxLength&&(e=e.max(n.maxLength)),n.pattern&&(e=e.regex(new RegExp(n.pattern))),i=e;break}case"number":case"integer":{let e="integer"===s?fy.number().int():fy.number();"number"==typeof n.minimum&&(e=e.min(n.minimum)),"number"==typeof n.maximum&&(e=e.max(n.maximum)),"number"==typeof n.exclusiveMinimum?e=e.gt(n.exclusiveMinimum):!0===n.exclusiveMinimum&&"number"==typeof n.minimum&&(e=e.gt(n.minimum)),"number"==typeof n.exclusiveMaximum?e=e.lt(n.exclusiveMaximum):!0===n.exclusiveMaximum&&"number"==typeof n.maximum&&(e=e.lt(n.maximum)),"number"==typeof n.multipleOf&&(e=e.multipleOf(n.multipleOf)),i=e;break}case"boolean":i=fy.boolean();break;case"null":i=fy.null();break;case"object":{let t={},s=n.properties||{},a=new Set(n.required||[]);for(let[n,i]of Object.entries(s)){let s=e(i,r);t[n]=a.has(n)?s:s.optional()}if(n.propertyNames){let s=e(n.propertyNames,r),a=n.additionalProperties&&"object"==typeof n.additionalProperties?e(n.additionalProperties,r):fy.any();if(0===Object.keys(t).length){i=fy.record(s,a);break}let o=fy.object(t).passthrough(),u=fy.looseRecord(s,a);i=fy.intersection(o,u);break}if(n.patternProperties){let s=n.patternProperties,a=Object.keys(s),o=[];for(let t of a){let n=e(s[t],r),i=fy.string().regex(new RegExp(t));o.push(fy.looseRecord(i,n))}let u=[];if(Object.keys(t).length>0&&u.push(fy.object(t).passthrough()),u.push(...o),0===u.length)i=fy.object({}).passthrough();else if(1===u.length)i=u[0];else{let e=fy.intersection(u[0],u[1]);for(let t=2;t<u.length;t++)e=fy.intersection(e,u[t]);i=e}break}let o=fy.object(t);i=!1===n.additionalProperties?o.strict():"object"==typeof n.additionalProperties?o.catchall(e(n.additionalProperties,r)):o.passthrough();break}case"array":{let t=n.prefixItems,s=n.items;if(t&&Array.isArray(t)){let a=t.map(t=>e(t,r)),o=s&&"object"==typeof s&&!Array.isArray(s)?e(s,r):void 0;i=o?fy.tuple(a).rest(o):fy.tuple(a),"number"==typeof n.minItems&&(i=i.check(fy.minLength(n.minItems))),"number"==typeof n.maxItems&&(i=i.check(fy.maxLength(n.maxItems)))}else if(Array.isArray(s)){let t=s.map(t=>e(t,r)),a=n.additionalItems&&"object"==typeof n.additionalItems?e(n.additionalItems,r):void 0;i=a?fy.tuple(t).rest(a):fy.tuple(t),"number"==typeof n.minItems&&(i=i.check(fy.minLength(n.minItems))),"number"==typeof n.maxItems&&(i=i.check(fy.maxLength(n.maxItems)))}else if(void 0!==s){let t=e(s,r),a=fy.array(t);"number"==typeof n.minItems&&(a=a.min(n.minItems)),"number"==typeof n.maxItems&&(a=a.max(n.maxItems)),i=a}else i=fy.array(fy.any());break}default:throw Error(`Unsupported type: ${s}`)}return n.description&&(i=i.describe(n.description)),void 0!==n.default&&(i=i.default(n.default)),i}(t,n),i=t.type||void 0!==t.enum||void 0!==t.const;if(t.anyOf&&Array.isArray(t.anyOf)){let s=t.anyOf.map(t=>e(t,n)),a=fy.union(s);r=i?fy.intersection(r,a):a}if(t.oneOf&&Array.isArray(t.oneOf)){let s=t.oneOf.map(t=>e(t,n)),a=fy.xor(s);r=i?fy.intersection(r,a):a}if(t.allOf&&Array.isArray(t.allOf))if(0===t.allOf.length)r=i?r:fy.any();else{let s=i?r:e(t.allOf[0],n),a=+!i;for(let r=a;r<t.allOf.length;r++)s=fy.intersection(s,e(t.allOf[r],n));r=s}!0===t.nullable&&"openapi-3.0"===n.version&&(r=fy.nullable(r)),!0===t.readOnly&&(r=fy.readonly(r));let s={};for(let e of["$id","id","$comment","$anchor","$vocabulary","$dynamicRef","$dynamicAnchor"])e in t&&(s[e]=t[e]);for(let e of["contentEncoding","contentMediaType","contentSchema"])e in t&&(s[e]=t[e]);for(let e of Object.keys(t))f_.has(e)||(s[e]=t[e]);return Object.keys(s).length>0&&n.registry.add(r,s),r}(e,i)}function fw(e){return oq(cB,e)}function fI(e){return ud(dN,e)}function fx(e){return uy(dF,e)}function fS(e){return ub(dV,e)}function fk(e){return uD(d8,e)}e.s(["bigint",()=>fS,"boolean",()=>fx,"date",()=>fk,"number",()=>fI,"string",()=>fw],13657),rb(oD()),e.s([],98821),e.i(98821),e.i(92135),e.i(97753),e.i(3108),e.i(74969),e.i(32952),e.i(55605),e.i(98477);var fE=cv,f$=cg;e.i(43365),e.s(["ar",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""},n={nan:"NaN"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`  :   instanceof ${r.expected}    ${i}`;return`  :   ${e}    ${i}`}case"invalid_value":if(1===r.values.length)return`  :   ${r6(r.values[0])}`;return`  :     : ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`   :    ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`  :    ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`  :   ${r.origin}   ${t} ${r.minimum.toString()} ${n.unit}`;return`  :   ${r.origin}   ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  :     "${r.prefix}"`;if("ends_with"===r.format)return`  :     "${r.suffix}"`;if("includes"===r.format)return`  :    "${r.includes}"`;if("regex"===r.format)return`  :     ${r.pattern}`;return`${t[r.format]??r.format}  `;case"not_multiple_of":return`  :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${r$(r.keys," ")}`;case"invalid_key":return`    ${r.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${r.origin}`}})}},"az",0,function(){let e,t,n;return{localeError:(e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"},n={nan:"NaN"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Yanl dyr: g\xf6zlniln instanceof ${r.expected}, daxil olan ${i}`;return`Yanl dyr: g\xf6zlniln ${e}, daxil olan ${i}`}case"invalid_value":if(1===r.values.length)return`Yanl dyr: g\xf6zlniln ${r6(r.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()} ${n.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Yanl mtn: "${r.prefix}" il balamaldr`;if("ends_with"===r.format)return`Yanl mtn: "${r.suffix}" il bitmlidir`;if("includes"===r.format)return`Yanl mtn: "${r.includes}" daxil olmaldr`;if("regex"===r.format)return`Yanl mtn: ${r.pattern} ablonuna uyun olmaldr`;return`Yanl ${t[r.format]??r.format}`;case"not_multiple_of":return`Yanl dd: ${r.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${r.keys.length>1?"lar":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${r.origin} daxilind yanl dyr`;default:return`Yanl dyr`}})}},"be",0,function(){let e,t,n;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return` :  instanceof ${r.expected},  ${i}`;return` :  ${e},  ${i}`}case"invalid_value":if(1===r.values.length)return` :  ${r6(r.values[0])}`;return` :    ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n){let e=oC(Number(r.maximum),n.unit.one,n.unit.few,n.unit.many);return` : ,  ${r.origin??""}  ${n.verb} ${t}${r.maximum.toString()} ${e}`}return` : ,  ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n){let e=oC(Number(r.minimum),n.unit.one,n.unit.few,n.unit.many);return` : ,  ${r.origin}  ${n.verb} ${t}${r.minimum.toString()} ${e}`}return` : ,  ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}},"bg",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return` :  instanceof ${r.expected},  ${i}`;return` :  ${e},  ${i}`}case"invalid_value":if(1===r.values.length)return` :  ${r6(r.values[0])}`;return` :    ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${n.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${n.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":{if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :     ${r.pattern}`;let e="";return"emoji"===r.format&&(e=""),"datetime"===r.format&&(e=""),"date"===r.format&&(e=""),"time"===r.format&&(e=""),"duration"===r.format&&(e=""),`${e} ${t[r.format]??r.format}`}case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}},"ca",0,function(){let e,t,n;return{localeError:(e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},t={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Tipus inv\xe0lid: s'esperava instanceof ${r.expected}, s'ha rebut ${i}`;return`Tipus inv\xe0lid: s'esperava ${e}, s'ha rebut ${i}`}case"invalid_value":if(1===r.values.length)return`Valor inv\xe0lid: s'esperava ${r6(r.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${r$(r.values," o ")}`;case"too_big":{let t=r.inclusive?"com a mxim":"menys de",n=e[r.origin]??null;if(n)return`Massa gran: s'esperava que ${r.origin??"el valor"} contingu\xe9s ${t} ${r.maximum.toString()} ${n.unit??"elements"}`;return`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"com a mnim":"ms de",n=e[r.origin]??null;if(n)return`Massa petit: s'esperava que ${r.origin} contingu\xe9s ${t} ${r.minimum.toString()} ${n.unit}`;return`Massa petit: s'esperava que ${r.origin} fos ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${r.prefix}"`;if("ends_with"===r.format)return`Format inv\xe0lid: ha d'acabar amb "${r.suffix}"`;if("includes"===r.format)return`Format inv\xe0lid: ha d'incloure "${r.includes}"`;if("regex"===r.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${r.pattern}`;return`Format inv\xe0lid per a ${t[r.format]??r.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${r.origin}`;default:return`Entrada inv\xe0lida`}})}},"cs",0,function(){let e,t,n;return{localeError:(e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}},t={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"},n={nan:"NaN",number:"slo",string:"etzec",function:"funkce",array:"pole"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Neplatn\xfd vstup: oek\xe1v\xe1no instanceof ${r.expected}, obdreno ${i}`;return`Neplatn\xfd vstup: oek\xe1v\xe1no ${e}, obdreno ${i}`}case"invalid_value":if(1===r.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${r6(r.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.maximum.toString()} ${n.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.minimum.toString()} ${n.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${r.prefix}"`;if("ends_with"===r.format)return`Neplatn\xfd etzec: mus\xed konit na "${r.suffix}"`;if("includes"===r.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${r.includes}"`;if("regex"===r.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${r.pattern}`;return`Neplatn\xfd form\xe1t ${t[r.format]??r.format}`;case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${r.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${r$(r.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${r.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${r.origin}`;default:return`Neplatn\xfd vstup`}})}},"da",0,function(){let e,t,n;return{localeError:(e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n={nan:"NaN",string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Ugyldigt input: forventede instanceof ${r.expected}, fik ${i}`;return`Ugyldigt input: forventede ${e}, fik ${i}`}case"invalid_value":if(1===r.values.length)return`Ugyldig v\xe6rdi: forventede ${r6(r.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null,s=n[r.origin]??r.origin;if(i)return`For stor: forventede ${s??"value"} ${i.verb} ${t} ${r.maximum.toString()} ${i.unit??"elementer"}`;return`For stor: forventede ${s??"value"} havde ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null,s=n[r.origin]??r.origin;if(i)return`For lille: forventede ${s} ${i.verb} ${t} ${r.minimum.toString()} ${i.unit}`;return`For lille: forventede ${s} havde ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ugyldig streng: skal starte med "${r.prefix}"`;if("ends_with"===r.format)return`Ugyldig streng: skal ende med "${r.suffix}"`;if("includes"===r.format)return`Ugyldig streng: skal indeholde "${r.includes}"`;if("regex"===r.format)return`Ugyldig streng: skal matche m\xf8nsteret ${r.pattern}`;return`Ugyldig ${t[r.format]??r.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${r$(r.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${r.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${r.origin}`;default:return"Ugyldigt input"}})}},"de",0,function(){let e,t,n;return{localeError:(e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},t={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"},n={nan:"NaN",number:"Zahl",array:"Array"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Ung\xfcltige Eingabe: erwartet instanceof ${r.expected}, erhalten ${i}`;return`Ung\xfcltige Eingabe: erwartet ${e}, erhalten ${i}`}case"invalid_value":if(1===r.values.length)return`Ung\xfcltige Eingabe: erwartet ${r6(r.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ${n.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ist`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ${n.unit} hat`;return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ist`}case"invalid_format":if("starts_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.suffix}" enden`;if("includes"===r.format)return`Ung\xfcltiger String: muss "${r.includes}" enthalten`;if("regex"===r.format)return`Ung\xfcltiger String: muss dem Muster ${r.pattern} entsprechen`;return`Ung\xfcltig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${r$(r.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${r.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${r.origin}`;default:return`Ung\xfcltige Eingabe`}})}},"en",0,oD,"eo",0,function(){let e,t,n;return{localeError:(e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},t={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"},n={nan:"NaN",number:"nombro",array:"tabelo",null:"senvalora"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Nevalida enigo: atendiis instanceof ${r.expected}, riceviis ${i}`;return`Nevalida enigo: atendiis ${e}, riceviis ${i}`}case"invalid_value":if(1===r.values.length)return`Nevalida enigo: atendiis ${r6(r.values[0])}`;return`Nevalida opcio: atendiis unu el ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()} ${n.unit??"elementojn"}`;return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Tro malgranda: atendiis ke ${r.origin} havu ${t}${r.minimum.toString()} ${n.unit}`;return`Tro malgranda: atendiis ke ${r.origin} estu ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nevalida karaktraro: devas komencii per "${r.prefix}"`;if("ends_with"===r.format)return`Nevalida karaktraro: devas finii per "${r.suffix}"`;if("includes"===r.format)return`Nevalida karaktraro: devas inkluzivi "${r.includes}"`;if("regex"===r.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${r.pattern}`;return`Nevalida ${t[r.format]??r.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${r.divisor}`;case"unrecognized_keys":return`Nekonata${r.keys.length>1?"j":""} losilo${r.keys.length>1?"j":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${r.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${r.origin}`}})}},"es",0,function(){let e,t,n;return{localeError:(e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN",string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Entrada inv\xe1lida: se esperaba instanceof ${r.expected}, recibido ${i}`;return`Entrada inv\xe1lida: se esperaba ${e}, recibido ${i}`}case"invalid_value":if(1===r.values.length)return`Entrada inv\xe1lida: se esperaba ${r6(r.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",i=e[r.origin]??null,s=n[r.origin]??r.origin;if(i)return`Demasiado grande: se esperaba que ${s??"valor"} tuviera ${t}${r.maximum.toString()} ${i.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${s??"valor"} fuera ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",i=e[r.origin]??null,s=n[r.origin]??r.origin;if(i)return`Demasiado peque\xf1o: se esperaba que ${s} tuviera ${t}${r.minimum.toString()} ${i.unit}`;return`Demasiado peque\xf1o: se esperaba que ${s} fuera ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cadena inv\xe1lida: debe comenzar con "${r.prefix}"`;if("ends_with"===r.format)return`Cadena inv\xe1lida: debe terminar en "${r.suffix}"`;if("includes"===r.format)return`Cadena inv\xe1lida: debe incluir "${r.includes}"`;if("regex"===r.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${r.pattern}`;return`Inv\xe1lido ${t[r.format]??r.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${r.divisor}`;case"unrecognized_keys":return`Llave${r.keys.length>1?"s":""} desconocida${r.keys.length>1?"s":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${n[r.origin]??r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${n[r.origin]??r.origin}`;default:return`Entrada inv\xe1lida`}})}},"fa",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return` :  instanceof ${r.expected}  ${i}  `;return` :  ${e}  ${i}  `}case"invalid_value":if(1===r.values.length)return` :  ${r6(r.values[0])} `;return` :    ${r$(r.values,"|")} `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"  `;if("ends_with"===r.format)return` :   "${r.suffix}"  `;if("includes"===r.format)return` :   "${r.includes}" `;if("regex"===r.format)return` :    ${r.pattern}   `;return`${t[r.format]??r.format} `;case"not_multiple_of":return` :   ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""} : ${r$(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin}`}})}},"fi",0,function(){let e,t,n;return{localeError:(e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}},t={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"},n={nan:"NaN"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Virheellinen tyyppi: odotettiin instanceof ${r.expected}, oli ${i}`;return`Virheellinen tyyppi: odotettiin ${e}, oli ${i}`}case"invalid_value":if(1===r.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${r6(r.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Liian suuri: ${n.subject} t\xe4ytyy olla ${t}${r.maximum.toString()} ${n.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Liian pieni: ${n.subject} t\xe4ytyy olla ${t}${r.minimum.toString()} ${n.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${r.prefix}"`;if("ends_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${r.suffix}"`;if("includes"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${r.includes}"`;if("regex"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${r.pattern}`;return`Virheellinen ${t[r.format]??r.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${r$(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}})}},"fr",0,function(){let e,t,n;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},n={nan:"NaN",number:"nombre",array:"tableau"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Entr\xe9e invalide : instanceof ${r.expected} attendu, ${i} re\xe7u`;return`Entr\xe9e invalide : ${e} attendu, ${i} re\xe7u`}case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : ${r6(r.values[0])} attendu`;return`Option invalide : une valeur parmi ${r$(r.values,"|")} attendue`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Trop grand : ${r.origin??"valeur"} doit ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"lment(s)"}`;return`Trop grand : ${r.origin??"valeur"} doit \xeatre ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Trop petit : ${r.origin} doit ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Trop petit : ${r.origin} doit \xeatre ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${r$(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}},"frCA",0,function(){let e,t,n;return{localeError:(e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"},n={nan:"NaN"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Entr\xe9e invalide : attendu instanceof ${r.expected}, re\xe7u ${i}`;return`Entr\xe9e invalide : attendu ${e}, re\xe7u ${i}`}case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : attendu ${r6(r.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"<",n=e[r.origin]??null;if(n)return`Trop grand : attendu que ${r.origin??"la valeur"} ait ${t}${r.maximum.toString()} ${n.unit}`;return`Trop grand : attendu que ${r.origin??"la valeur"} soit ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":">",n=e[r.origin]??null;if(n)return`Trop petit : attendu que ${r.origin} ait ${t}${r.minimum.toString()} ${n.unit}`;return`Trop petit : attendu que ${r.origin} soit ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au motif ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${r$(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}})}},"he",0,function(){let e,t,n,r,i,s,a,o,u;return{localeError:(e={string:{label:"",gender:"f"},number:{label:"",gender:"m"},boolean:{label:" ",gender:"m"},bigint:{label:"BigInt",gender:"m"},date:{label:"",gender:"m"},array:{label:"",gender:"m"},object:{label:"",gender:"m"},null:{label:"  (null)",gender:"m"},undefined:{label:"   (undefined)",gender:"m"},symbol:{label:" (Symbol)",gender:"m"},function:{label:"",gender:"f"},map:{label:" (Map)",gender:"f"},set:{label:" (Set)",gender:"f"},file:{label:"",gender:"m"},promise:{label:"Promise",gender:"m"},NaN:{label:"NaN",gender:"m"},unknown:{label:"  ",gender:"m"},value:{label:"",gender:"m"}},t={string:{unit:"",shortLabel:"",longLabel:""},file:{unit:"",shortLabel:"",longLabel:""},array:{unit:"",shortLabel:"",longLabel:""},set:{unit:"",shortLabel:"",longLabel:""},number:{unit:"",shortLabel:"",longLabel:""}},n=t=>t?e[t]:void 0,r=t=>{let r=n(t);return r?r.label:t??e.unknown.label},i=e=>`${r(e)}`,s=e=>{let t=n(e);return"f"===(t?.gender??"m")?" ":" "},a=e=>e?t[e]??null:null,o={regex:{label:"",gender:"m"},email:{label:" ",gender:"f"},url:{label:" ",gender:"f"},emoji:{label:"'",gender:"m"},uuid:{label:"UUID",gender:"m"},nanoid:{label:"nanoid",gender:"m"},guid:{label:"GUID",gender:"m"},cuid:{label:"cuid",gender:"m"},cuid2:{label:"cuid2",gender:"m"},ulid:{label:"ULID",gender:"m"},xid:{label:"XID",gender:"m"},ksuid:{label:"KSUID",gender:"m"},datetime:{label:"  ISO",gender:"m"},date:{label:" ISO",gender:"m"},time:{label:" ISO",gender:"m"},duration:{label:"  ISO",gender:"m"},ipv4:{label:" IPv4",gender:"f"},ipv6:{label:" IPv6",gender:"f"},cidrv4:{label:" IPv4",gender:"m"},cidrv6:{label:" IPv6",gender:"m"},base64:{label:"  64",gender:"f"},base64url:{label:"  64  ",gender:"f"},json_string:{label:" JSON",gender:"f"},e164:{label:" E.164",gender:"m"},jwt:{label:"JWT",gender:"m"},ends_with:{label:"",gender:"m"},includes:{label:"",gender:"m"},lowercase:{label:"",gender:"m"},starts_with:{label:"",gender:"m"},uppercase:{label:"",gender:"m"}},u={nan:"NaN"},t=>{switch(t.code){case"invalid_type":{let n=t.expected,i=u[n??""]??r(n),s=ic(t.input),a=u[s]??e[s]?.label??s;if(/^[A-Z]/.test(t.expected))return`  :   instanceof ${t.expected},  ${a}`;return`  :   ${i},  ${a}`}case"invalid_value":{if(1===t.values.length)return`  :    ${r6(t.values[0])}`;let e=t.values.map(e=>r6(e));if(2===t.values.length)return`  :    ${e[0]}  ${e[1]}`;let n=e[e.length-1],r=e.slice(0,-1).join(", ");return`  :    ${r}  ${n}`}case"too_big":{let e=a(t.origin),n=i(t.origin??"value");if("string"===t.origin)return`${e?.longLabel??""} : ${n}   ${t.maximum.toString()} ${e?.unit??""} ${t.inclusive?" ":" "}`.trim();if("number"===t.origin){let e=t.inclusive?`   -${t.maximum}`:` -${t.maximum}`;return` : ${n}   ${e}`}if("array"===t.origin||"set"===t.origin){let r="set"===t.origin?"":"",i=t.inclusive?`${t.maximum} ${e?.unit??""}  `:` -${t.maximum} ${e?.unit??""}`;return` : ${n} ${r}  ${i}`.trim()}let r=t.inclusive?"<=":"<",o=s(t.origin??"value");if(e?.unit)return`${e.longLabel} : ${n} ${o} ${r}${t.maximum.toString()} ${e.unit}`;return`${e?.longLabel??""} : ${n} ${o} ${r}${t.maximum.toString()}`}case"too_small":{let e=a(t.origin),n=i(t.origin??"value");if("string"===t.origin)return`${e?.shortLabel??""} : ${n}   ${t.minimum.toString()} ${e?.unit??""} ${t.inclusive?" ":""}`.trim();if("number"===t.origin){let e=t.inclusive?`   -${t.minimum}`:` -${t.minimum}`;return` : ${n}   ${e}`}if("array"===t.origin||"set"===t.origin){let r="set"===t.origin?"":"";if(1===t.minimum&&t.inclusive){let e=(t.origin,"  ");return` : ${n} ${r}  ${e}`}let i=t.inclusive?`${t.minimum} ${e?.unit??""}  `:` -${t.minimum} ${e?.unit??""}`;return` : ${n} ${r}  ${i}`.trim()}let r=t.inclusive?">=":">",o=s(t.origin??"value");if(e?.unit)return`${e.shortLabel} : ${n} ${o} ${r}${t.minimum.toString()} ${e.unit}`;return`${e?.shortLabel??""} : ${n} ${o} ${r}${t.minimum.toString()}`}case"invalid_format":{if("starts_with"===t.format)return`    "${t.prefix}"`;if("ends_with"===t.format)return`    "${t.suffix}"`;if("includes"===t.format)return`   "${t.includes}"`;if("regex"===t.format)return`    ${t.pattern}`;let e=o[t.format],n=e?.label??t.format,r=e?.gender??"m";return`${n}  ${"f"===r?"":""}`}case"not_multiple_of":return`  :     ${t.divisor}`;case"unrecognized_keys":return`${t.keys.length>1?"":""}  ${t.keys.length>1?"":""}: ${r$(t.keys,", ")}`;case"invalid_key":return`   `;case"invalid_union":return"  ";case"invalid_element":{let e=i(t.origin??"array");return`   ${e}`}default:return`  `}})}},"hu",0,function(){let e,t,n;return{localeError:(e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},t={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"},n={nan:"NaN",number:"szm",array:"tmb"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k instanceof ${r.expected}, a kapott \xe9rt\xe9k ${i}`;return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${e}, a kapott \xe9rt\xe9k ${i}`}case"invalid_value":if(1===r.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${r6(r.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`T\xfal nagy: ${r.origin??"rtk"} m\xe9rete t\xfal nagy ${t}${r.maximum.toString()} ${n.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${r.origin??"rtk"} t\xfal nagy: ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} m\xe9rete t\xfal kicsi ${t}${r.minimum.toString()} ${n.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} t\xfal kicsi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===r.format)return`\xc9rv\xe9nytelen string: "${r.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===r.format)return`\xc9rv\xe9nytelen string: ${r.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${t[r.format]??r.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${r.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${r.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${r.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}})}},"hy",0,function(){let e,t,n;return{localeError:(e={string:{unit:{one:"",many:""},verb:""},file:{unit:{one:"",many:""},verb:""},array:{unit:{one:"",many:""},verb:""},set:{unit:{one:"",many:""},verb:""}},t={regex:"",email:". ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`    instanceof ${r.expected},   ${i}`;return`    ${e},   ${i}`}case"invalid_value":if(1===r.values.length)return`    ${r6(r.values[1])}`;return`      ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n){let e=oN(Number(r.maximum),n.unit.one,n.unit.many);return`    ,  ${oO(r.origin??"")}  ${t}${r.maximum.toString()} ${e}`}return`    ,  ${oO(r.origin??"")}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n){let e=oN(Number(r.minimum),n.unit.one,n.unit.many);return`    ,  ${oO(r.origin)}  ${t}${r.minimum.toString()} ${e}`}return`    ,  ${oO(r.origin)}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`     "${r.prefix}"-`;if("ends_with"===r.format)return`     "${r.suffix}"-`;if("includes"===r.format)return`     "${r.includes}"`;if("regex"===r.format)return`     ${r.pattern} `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return`      ${r.divisor}-`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}. ${r$(r.keys,", ")}`;case"invalid_key":return`  ${oO(r.origin)}-`;case"invalid_union":return" ";case"invalid_element":return`  ${oO(r.origin)}-`;default:return` `}})}},"id",0,function(){let e,t,n;return{localeError:(e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},t={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Input tidak valid: diharapkan instanceof ${r.expected}, diterima ${i}`;return`Input tidak valid: diharapkan ${e}, diterima ${i}`}case"invalid_value":if(1===r.values.length)return`Input tidak valid: diharapkan ${r6(r.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${t}${r.maximum.toString()} ${n.unit??"elemen"}`;return`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Terlalu kecil: diharapkan ${r.origin} memiliki ${t}${r.minimum.toString()} ${n.unit}`;return`Terlalu kecil: diharapkan ${r.origin} menjadi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak valid: harus dimulai dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak valid: harus berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak valid: harus menyertakan "${r.includes}"`;if("regex"===r.format)return`String tidak valid: harus sesuai pola ${r.pattern}`;return`${t[r.format]??r.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`}})}},"is",0,function(){let e,t,n;return{localeError:(e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}},t={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"},n={nan:"NaN",number:"nmer",array:"fylki"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Rangt gildi: \xde\xfa sl\xf3st inn ${i} \xfear sem \xe1 a\xf0 vera instanceof ${r.expected}`;return`Rangt gildi: \xde\xfa sl\xf3st inn ${i} \xfear sem \xe1 a\xf0 vera ${e}`}case"invalid_value":if(1===r.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${r6(r.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} hafi ${t}${r.maximum.toString()} ${n.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} s\xe9 ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} hafi ${t}${r.minimum.toString()} ${n.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} s\xe9 ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${r.prefix}"`;if("ends_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${r.suffix}"`;if("includes"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${r.includes}"`;if("regex"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${r.pattern}`;return`Rangt ${t[r.format]??r.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${r.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${r.keys.length>1?"ir lyklar":"ur lykill"}: ${r$(r.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${r.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${r.origin}`}})}},"it",0,function(){let e,t,n;return{localeError:(e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},t={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"numero",array:"vettore"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Input non valido: atteso instanceof ${r.expected}, ricevuto ${i}`;return`Input non valido: atteso ${e}, ricevuto ${i}`}case"invalid_value":if(1===r.values.length)return`Input non valido: atteso ${r6(r.values[0])}`;return`Opzione non valida: atteso uno tra ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Troppo grande: ${r.origin??"valore"} deve avere ${t}${r.maximum.toString()} ${n.unit??"elementi"}`;return`Troppo grande: ${r.origin??"valore"} deve essere ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Troppo piccolo: ${r.origin} deve avere ${t}${r.minimum.toString()} ${n.unit}`;return`Troppo piccolo: ${r.origin} deve essere ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Stringa non valida: deve iniziare con "${r.prefix}"`;if("ends_with"===r.format)return`Stringa non valida: deve terminare con "${r.suffix}"`;if("includes"===r.format)return`Stringa non valida: deve includere "${r.includes}"`;if("regex"===r.format)return`Stringa non valida: deve corrispondere al pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${r$(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`}})}},"ja",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`: instanceof ${r.expected}${i}`;return`: ${e}${i}`}case"invalid_value":if(1===r.values.length)return`: ${r6(r.values[0])}`;return`: ${r$(r.values,"")}`;case"too_big":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin??""}${r.maximum.toString()}${n.unit??""}${t}`;return`: ${r.origin??""}${r.maximum.toString()}${t}`}case"too_small":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin}${r.minimum.toString()}${n.unit}${t}`;return`: ${r.origin}${r.minimum.toString()}${t}`}case"invalid_format":if("starts_with"===r.format)return`: "${r.prefix}"`;if("ends_with"===r.format)return`: "${r.suffix}"`;if("includes"===r.format)return`: "${r.includes}"`;if("regex"===r.format)return`: ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return`: ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}: ${r$(r.keys,"")}`;case"invalid_key":return`${r.origin}`;case"invalid_union":return"";case"invalid_element":return`${r.origin}`;default:return``}})}},"ka",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",string:"",boolean:"",function:"",array:""},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return` :  instanceof ${r.expected},  ${i}`;return` :  ${e},  ${i}`}case"invalid_value":if(1===r.values.length)return` :  ${r6(r.values[0])}`;return` :  - ${r$(r.values,"|")}-`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :  ${r.origin??""} ${n.verb} ${t}${r.maximum.toString()} ${n.unit}`;return` :  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :  ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return` :  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"-`;if("ends_with"===r.format)return` :   "${r.suffix}"-`;if("includes"===r.format)return` :   "${r.includes}"-`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :   ${r.divisor}- `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`  ${r.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${r.origin}-`;default:return` `}})}},"kh",0,function(){return oP()},"km",0,oP,"ko",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return` :   instanceof ${r.expected},   ${i}`;return` :   ${e},   ${i}`}case"invalid_value":if(1===r.values.length)return` :  ${r6(r.values[0])}  `;return` : ${r$(r.values," ")}   `;case"too_big":{let t=r.inclusive?"":"",n=""===t?" ":" ",i=e[r.origin]??null,s=i?.unit??"";if(i)return`${r.origin??""}  : ${r.maximum.toString()}${s} ${t}${n}`;return`${r.origin??""}  : ${r.maximum.toString()} ${t}${n}`}case"too_small":{let t=r.inclusive?"":"",n=""===t?" ":" ",i=e[r.origin]??null,s=i?.unit??"";if(i)return`${r.origin??""}  : ${r.minimum.toString()}${s} ${t}${n}`;return`${r.origin??""}  : ${r.minimum.toString()} ${t}${n}`}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"()  `;if("ends_with"===r.format)return` : "${r.suffix}"()  `;if("includes"===r.format)return` : "${r.includes}"()  `;if("regex"===r.format)return` :  ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}  `;case"unrecognized_keys":return`   : ${r$(r.keys,", ")}`;case"invalid_key":return` : ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${r.origin}`}})}},"lt",0,function(){return{localeError:(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(t,n,r,i){let s=e[t]??null;return null===s?s:{unit:s.unit[n],verb:s.verb[i][r?"inclusive":"notInclusive"]}}let n={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"},r={nan:"NaN",number:"skaiius",bigint:"sveikasis skaiius",string:"eilut",boolean:"login reikm",undefined:"neapibrta reikm",function:"funkcija",symbol:"simbolis",array:"masyvas",object:"objektas",null:"nulin reikm"};return e=>{switch(e.code){case"invalid_type":{let t=r[e.expected]??e.expected,n=ic(e.input),i=r[n]??n;if(/^[A-Z]/.test(e.expected))return`Gautas tipas ${i}, o tiktasi - instanceof ${e.expected}`;return`Gautas tipas ${i}, o tiktasi - ${t}`}case"invalid_value":if(1===e.values.length)return`Privalo bti ${r6(e.values[0])}`;return`Privalo bti vienas i ${r$(e.values,"|")} pasirinkim`;case"too_big":{let n=r[e.origin]??e.origin,i=t(e.origin,oU(Number(e.maximum)),e.inclusive??!1,"smaller");if(i?.verb)return`${oR(n??e.origin??"reikm")} ${i.verb} ${e.maximum.toString()} ${i.unit??"element"}`;let s=e.inclusive?"ne didesnis kaip":"maesnis kaip";return`${oR(n??e.origin??"reikm")} turi bti ${s} ${e.maximum.toString()} ${i?.unit}`}case"too_small":{let n=r[e.origin]??e.origin,i=t(e.origin,oU(Number(e.minimum)),e.inclusive??!1,"bigger");if(i?.verb)return`${oR(n??e.origin??"reikm")} ${i.verb} ${e.minimum.toString()} ${i.unit??"element"}`;let s=e.inclusive?"ne maesnis kaip":"didesnis kaip";return`${oR(n??e.origin??"reikm")} turi bti ${s} ${e.minimum.toString()} ${i?.unit}`}case"invalid_format":if("starts_with"===e.format)return`Eilut privalo prasidti "${e.prefix}"`;if("ends_with"===e.format)return`Eilut privalo pasibaigti "${e.suffix}"`;if("includes"===e.format)return`Eilut privalo traukti "${e.includes}"`;if("regex"===e.format)return`Eilut privalo atitikti ${e.pattern}`;return`Neteisingas ${n[e.format]??e.format}`;case"not_multiple_of":return`Skaiius privalo bti ${e.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${e.keys.length>1?"i":"as"} rakt${e.keys.length>1?"ai":"as"}: ${r$(e.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga vestis";case"invalid_element":{let t=r[e.origin]??e.origin;return`${oR(t??e.origin??"reikm")} turi klaiding vest`}}}})()}},"mk",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return` :   instanceof ${r.expected},  ${i}`;return` :   ${e},  ${i}`}case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${r6(r.values[0])}`;return` :    ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${n.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${n.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :      ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?" ":" "}: ${r$(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}})}},"ms",0,function(){let e,t,n;return{localeError:(e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},t={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"nombor"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Input tidak sah: dijangka instanceof ${r.expected}, diterima ${i}`;return`Input tidak sah: dijangka ${e}, diterima ${i}`}case"invalid_value":if(1===r.values.length)return`Input tidak sah: dijangka ${r6(r.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Terlalu besar: dijangka ${r.origin??"nilai"} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"elemen"}`;return`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Terlalu kecil: dijangka ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Terlalu kecil: dijangka ${r.origin} adalah ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak sah: mesti bermula dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak sah: mesti berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak sah: mesti mengandungi "${r.includes}"`;if("regex"===r.format)return`String tidak sah: mesti sepadan dengan corak ${r.pattern}`;return`${t[r.format]??r.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${r$(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`}})}},"nl",0,function(){let e,t,n;return{localeError:(e={string:{unit:"tekens",verb:"heeft"},file:{unit:"bytes",verb:"heeft"},array:{unit:"elementen",verb:"heeft"},set:{unit:"elementen",verb:"heeft"}},t={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"},n={nan:"NaN",number:"getal"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Ongeldige invoer: verwacht instanceof ${r.expected}, ontving ${i}`;return`Ongeldige invoer: verwacht ${e}, ontving ${i}`}case"invalid_value":if(1===r.values.length)return`Ongeldige invoer: verwacht ${r6(r.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null,i="date"===r.origin?"laat":"string"===r.origin?"lang":"groot";if(n)return`Te ${i}: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} ${n.unit??"elementen"} ${n.verb}`;return`Te ${i}: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} is`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null,i="date"===r.origin?"vroeg":"string"===r.origin?"kort":"klein";if(n)return`Te ${i}: verwacht dat ${r.origin} ${t}${r.minimum.toString()} ${n.unit} ${n.verb}`;return`Te ${i}: verwacht dat ${r.origin} ${t}${r.minimum.toString()} is`}case"invalid_format":if("starts_with"===r.format)return`Ongeldige tekst: moet met "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ongeldige tekst: moet op "${r.suffix}" eindigen`;if("includes"===r.format)return`Ongeldige tekst: moet "${r.includes}" bevatten`;if("regex"===r.format)return`Ongeldige tekst: moet overeenkomen met patroon ${r.pattern}`;return`Ongeldig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`}})}},"no",0,function(){let e,t,n;return{localeError:(e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}},t={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"tall",array:"liste"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Ugyldig input: forventet instanceof ${r.expected}, fikk ${i}`;return`Ugyldig input: forventet ${e}, fikk ${i}`}case"invalid_value":if(1===r.values.length)return`Ugyldig verdi: forventet ${r6(r.values[0])}`;return`Ugyldig valg: forventet en av ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()} ${n.unit??"elementer"}`;return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()} ${n.unit}`;return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ugyldig streng: m\xe5 starte med "${r.prefix}"`;if("ends_with"===r.format)return`Ugyldig streng: m\xe5 ende med "${r.suffix}"`;if("includes"===r.format)return`Ugyldig streng: m\xe5 inneholde "${r.includes}"`;if("regex"===r.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${r.pattern}`;return`Ugyldig ${t[r.format]??r.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${r$(r.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${r.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`}})}},"ota",0,function(){let e,t,n;return{localeError:(e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}},t={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"},n={nan:"NaN",number:"numara",array:"saf",null:"gayb"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`F\xe2sit giren: umulan instanceof ${r.expected}, alnan ${i}`;return`F\xe2sit giren: umulan ${e}, alnan ${i}`}case"invalid_value":if(1===r.values.length)return`F\xe2sit giren: umulan ${r6(r.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} ${n.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} olmalyd.`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} ${n.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} olmalyd.`}case"invalid_format":if("starts_with"===r.format)return`F\xe2sit metin: "${r.prefix}" ile balamal.`;if("ends_with"===r.format)return`F\xe2sit metin: "${r.suffix}" ile bitmeli.`;if("includes"===r.format)return`F\xe2sit metin: "${r.includes}" ihtiv\xe2 etmeli.`;if("regex"===r.format)return`F\xe2sit metin: ${r.pattern} nakna uymal.`;return`F\xe2sit ${t[r.format]??r.format}`;case"not_multiple_of":return`F\xe2sit say: ${r.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${r.keys.length>1?"s":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${r.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}})}},"pl",0,function(){let e,t,n;return{localeError:(e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}},t={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"},n={nan:"NaN",number:"liczba",array:"tablica"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Nieprawidowe dane wejciowe: oczekiwano instanceof ${r.expected}, otrzymano ${i}`;return`Nieprawidowe dane wejciowe: oczekiwano ${e}, otrzymano ${i}`}case"invalid_value":if(1===r.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${r6(r.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Za dua warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.maximum.toString()} ${n.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Za maa warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.minimum.toString()} ${n.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${r.prefix}"`;if("ends_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${r.suffix}"`;if("includes"===r.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${r.includes}"`;if("regex"===r.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${r.pattern}`;return`Nieprawidow(y/a/e) ${t[r.format]??r.format}`;case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${r.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${r.origin}`;default:return`Nieprawidowe dane wejciowe`}})}},"ps",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return` :  instanceof ${r.expected} ,  ${i}  `;return` :  ${e} ,  ${i}  `}case"invalid_value":if(1===r.values.length)return` :  ${r6(r.values[0])} `;return` :    ${r$(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"   `;if("ends_with"===r.format)return` :   "${r.suffix}"    `;if("includes"===r.format)return` :  "${r.includes}" `;if("regex"===r.format)return` :   ${r.pattern}   `;return`${t[r.format]??r.format}  `;case"not_multiple_of":return` :   ${r.divisor}  `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`   ${r.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin} `}})}},"pt",0,function(){let e,t,n;return{localeError:(e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},t={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"},n={nan:"NaN",number:"nmero",null:"nulo"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Tipo inv\xe1lido: esperado instanceof ${r.expected}, recebido ${i}`;return`Tipo inv\xe1lido: esperado ${e}, recebido ${i}`}case"invalid_value":if(1===r.values.length)return`Entrada inv\xe1lida: esperado ${r6(r.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Muito grande: esperado que ${r.origin??"valor"} tivesse ${t}${r.maximum.toString()} ${n.unit??"elementos"}`;return`Muito grande: esperado que ${r.origin??"valor"} fosse ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Muito pequeno: esperado que ${r.origin} tivesse ${t}${r.minimum.toString()} ${n.unit}`;return`Muito pequeno: esperado que ${r.origin} fosse ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Texto inv\xe1lido: deve come\xe7ar com "${r.prefix}"`;if("ends_with"===r.format)return`Texto inv\xe1lido: deve terminar com "${r.suffix}"`;if("includes"===r.format)return`Texto inv\xe1lido: deve incluir "${r.includes}"`;if("regex"===r.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${r.pattern}`;return`${t[r.format]??r.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${r.origin}`;default:return`Campo inv\xe1lido`}})}},"ru",0,function(){let e,t,n;return{localeError:(e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:""},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return` :  instanceof ${r.expected},  ${i}`;return` :  ${e},  ${i}`}case"invalid_value":if(1===r.values.length)return` :  ${r6(r.values[0])}`;return` :    ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n){let e=oL(Number(r.maximum),n.unit.one,n.unit.few,n.unit.many);return`  : ,  ${r.origin??""}   ${t}${r.maximum.toString()} ${e}`}return`  : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n){let e=oL(Number(r.minimum),n.unit.one,n.unit.few,n.unit.many);return`  : ,  ${r.origin}   ${t}${r.minimum.toString()} ${e}`}return`  : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}})}},"sl",0,function(){let e,t,n;return{localeError:(e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},t={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"},n={nan:"NaN",number:"tevilo",array:"tabela"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Neveljaven vnos: priakovano instanceof ${r.expected}, prejeto ${i}`;return`Neveljaven vnos: priakovano ${e}, prejeto ${i}`}case"invalid_value":if(1===r.values.length)return`Neveljaven vnos: priakovano ${r6(r.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} imelo ${t}${r.maximum.toString()} ${n.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Premajhno: priakovano, da bo ${r.origin} imelo ${t}${r.minimum.toString()} ${n.unit}`;return`Premajhno: priakovano, da bo ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neveljaven niz: mora se zaeti z "${r.prefix}"`;if("ends_with"===r.format)return`Neveljaven niz: mora se konati z "${r.suffix}"`;if("includes"===r.format)return`Neveljaven niz: mora vsebovati "${r.includes}"`;if("regex"===r.format)return`Neveljaven niz: mora ustrezati vzorcu ${r.pattern}`;return`Neveljaven ${t[r.format]??r.format}`;case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i kljui":" klju"}: ${r$(r.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${r.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`}})}},"sv",0,function(){let e,t,n;return{localeError:(e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}},t={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"},n={nan:"NaN",number:"antal",array:"lista"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Ogiltig inmatning: f\xf6rv\xe4ntat instanceof ${r.expected}, fick ${i}`;return`Ogiltig inmatning: f\xf6rv\xe4ntat ${e}, fick ${i}`}case"invalid_value":if(1===r.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${r6(r.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()} ${n.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()} ${n.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${r.prefix}"`;if("ends_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${r.suffix}"`;if("includes"===r.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${r.includes}"`;if("regex"===r.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${r.pattern}"`;return`Ogiltig(t) ${t[r.format]??r.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${r$(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${r.origin??"vrdet"}`}})}},"ta",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"},n={nan:"NaN",number:"",array:"",null:""},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return` :  instanceof ${r.expected},  ${i}`;return` :  ${e},  ${i}`}case"invalid_value":if(1===r.values.length)return` :  ${r6(r.values[0])}`;return` :  ${r$(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :  ${r.origin??""} ${t}${r.maximum.toString()} ${n.unit??""}   `;return` :  ${r.origin??""} ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :  ${r.origin} ${t}${r.minimum.toString()} ${n.unit}   `;return` :  ${r.origin} ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"   `;if("ends_with"===r.format)return` : "${r.suffix}"   `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` : ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`  ${r.keys.length>1?"":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${r.origin}   `;default:return` `}})}},"th",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""},n={nan:"NaN",number:"",array:" (Array)",null:" (null)"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`:  instanceof ${r.expected}  ${i}`;return`:  ${e}  ${i}`}case"invalid_value":if(1===r.values.length)return`:  ${r6(r.values[0])}`;return`:  ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`: ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin} ${t} ${r.minimum.toString()} ${n.unit}`;return`: ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`:  "${r.prefix}"`;if("ends_with"===r.format)return`:  "${r.suffix}"`;if("includes"===r.format)return`:  "${r.includes}" `;if("regex"===r.format)return`:  ${r.pattern}`;return`: ${t[r.format]??r.format}`;case"not_multiple_of":return`:  ${r.divisor} `;case"unrecognized_keys":return`: ${r$(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${r.origin}`;default:return``}})}},"tr",0,function(){let e,t,n;return{localeError:(e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}},t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"},n={nan:"NaN"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Ge\xe7ersiz deer: beklenen instanceof ${r.expected}, alnan ${i}`;return`Ge\xe7ersiz deer: beklenen ${e}, alnan ${i}`}case"invalid_value":if(1===r.values.length)return`Ge\xe7ersiz deer: beklenen ${r6(r.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()} ${n.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ge\xe7ersiz metin: "${r.prefix}" ile balamal`;if("ends_with"===r.format)return`Ge\xe7ersiz metin: "${r.suffix}" ile bitmeli`;if("includes"===r.format)return`Ge\xe7ersiz metin: "${r.includes}" i\xe7ermeli`;if("regex"===r.format)return`Ge\xe7ersiz metin: ${r.pattern} desenine uymal`;return`Ge\xe7ersiz ${t[r.format]??r.format}`;case"not_multiple_of":return`Ge\xe7ersiz say: ${r.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${r.keys.length>1?"lar":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${r.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}})}},"ua",0,function(){return oz()},"uk",0,oz,"ur",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "},n={nan:"NaN",number:"",array:"",null:""},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`  : instanceof ${r.expected}   ${i}  `;return`  : ${e}   ${i}  `}case"invalid_value":if(1===r.values.length)return`  : ${r6(r.values[0])}  `;return` : ${r$(r.values,"|")}     `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""}   `;return` : ${r.origin??""}  ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit}   `;return` : ${r.origin}  ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"    `;if("ends_with"===r.format)return` : "${r.suffix}"    `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` :  ${r.pattern}    `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`   ${r.keys.length>1?"":""}: ${r$(r.keys," ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${r.origin}   `;default:return`  `}})}},"uz",0,function(){let e,t,n;return{localeError:(e={string:{unit:"belgi",verb:"bolishi kerak"},file:{unit:"bayt",verb:"bolishi kerak"},array:{unit:"element",verb:"bolishi kerak"},set:{unit:"element",verb:"bolishi kerak"}},t={regex:"kirish",email:"elektron pochta manzili",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO sana va vaqti",date:"ISO sana",time:"ISO vaqt",duration:"ISO davomiylik",ipv4:"IPv4 manzil",ipv6:"IPv6 manzil",mac:"MAC manzil",cidrv4:"IPv4 diapazon",cidrv6:"IPv6 diapazon",base64:"base64 kodlangan satr",base64url:"base64url kodlangan satr",json_string:"JSON satr",e164:"E.164 raqam",jwt:"JWT",template_literal:"kirish"},n={nan:"NaN",number:"raqam",array:"massiv"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`Notogri kirish: kutilgan instanceof ${r.expected}, qabul qilingan ${i}`;return`Notogri kirish: kutilgan ${e}, qabul qilingan ${i}`}case"invalid_value":if(1===r.values.length)return`Notogri kirish: kutilgan ${r6(r.values[0])}`;return`Notogri variant: quyidagilardan biri kutilgan ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Juda katta: kutilgan ${r.origin??"qiymat"} ${t}${r.maximum.toString()} ${n.unit} ${n.verb}`;return`Juda katta: kutilgan ${r.origin??"qiymat"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Juda kichik: kutilgan ${r.origin} ${t}${r.minimum.toString()} ${n.unit} ${n.verb}`;return`Juda kichik: kutilgan ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Notogri satr: "${r.prefix}" bilan boshlanishi kerak`;if("ends_with"===r.format)return`Notogri satr: "${r.suffix}" bilan tugashi kerak`;if("includes"===r.format)return`Notogri satr: "${r.includes}" ni oz ichiga olishi kerak`;if("regex"===r.format)return`Notogri satr: ${r.pattern} shabloniga mos kelishi kerak`;return`Notogri ${t[r.format]??r.format}`;case"not_multiple_of":return`Notogri raqam: ${r.divisor} ning karralisi bolishi kerak`;case"unrecognized_keys":return`Nomalum kalit${r.keys.length>1?"lar":""}: ${r$(r.keys,", ")}`;case"invalid_key":return`${r.origin} dagi kalit notogri`;case"invalid_union":return"Notogri kirish";case"invalid_element":return`${r.origin} da notogri qiymat`;default:return`Notogri kirish`}})}},"vi",0,function(){let e,t,n;return{localeError:(e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}},t={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"},n={nan:"NaN",number:"s",array:"mng"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`u v\xe0o kh\xf4ng hp l: mong i instanceof ${r.expected}, nhn c ${i}`;return`u v\xe0o kh\xf4ng hp l: mong i ${e}, nhn c ${i}`}case"invalid_value":if(1===r.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${r6(r.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Qu\xe1 nh: mong i ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Qu\xe1 nh: mong i ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Chui kh\xf4ng hp l: phi bt u bng "${r.prefix}"`;if("ends_with"===r.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${r.suffix}"`;if("includes"===r.format)return`Chui kh\xf4ng hp l: phi bao gm "${r.includes}"`;if("regex"===r.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${r.pattern}`;return`${t[r.format]??r.format} kh\xf4ng hp l`;case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${r.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${r$(r.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${r.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${r.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}})}},"yo",0,function(){let e,t,n;return{localeError:(e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}},t={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"},n={nan:"NaN",number:"nmb",array:"akop"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi instanceof ${r.expected}, \xe0m a r\xed ${i}`;return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${e}, \xe0m a r\xed ${i}`}case"invalid_value":if(1===r.values.length)return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${r6(r.values[0])}`;return`\xc0\xe0y\xe0n a\xece: yan kan l\xe1ra ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`T\xf3 p j\xf9: a n\xed l\xe1ti j p\xe9 ${r.origin??"iye"} ${n.verb} ${t}${r.maximum} ${n.unit}`;return`T\xf3 p j\xf9: a n\xed l\xe1ti j ${t}${r.maximum}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`K\xe9r\xe9 ju: a n\xed l\xe1ti j p\xe9 ${r.origin} ${n.verb} ${t}${r.minimum} ${n.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti j ${t}${r.minimum}`}case"invalid_format":if("starts_with"===r.format)return`r a\xece: gbd br pl\xfa "${r.prefix}"`;if("ends_with"===r.format)return`r a\xece: gbd par\xed pl\xfa "${r.suffix}"`;if("includes"===r.format)return`r a\xece: gbd n\xed "${r.includes}"`;if("regex"===r.format)return`r a\xece: gbd b\xe1 \xe0pr mu ${r.pattern}`;return`A\xece: ${t[r.format]??r.format}`;case"not_multiple_of":return`Nmb\xe0 a\xece: gbd j \xe8y\xe0 p\xedp\xedn ti ${r.divisor}`;case"unrecognized_keys":return`Bt\xecn\xec \xe0\xecm: ${r$(r.keys,", ")}`;case"invalid_key":return`Bt\xecn\xec a\xece n\xedn\xfa ${r.origin}`;case"invalid_union":default:return"bwl ae";case"invalid_element":return`Iye a\xece n\xedn\xfa ${r.origin}`}})}},"zhCN",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""},n={nan:"NaN",number:"",array:"",null:"(null)"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return` instanceof ${r.expected} ${i}`;return` ${e} ${i}`}case"invalid_value":if(1===r.values.length)return` ${r6(r.values[0])}`;return` ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` ${r.origin??""} ${t}${r.maximum.toString()} ${n.unit??""}`;return` ${r.origin??""} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return` ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`(key): ${r$(r.keys,", ")}`;case"invalid_key":return`${r.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${r.origin} (value)`;default:return``}})}},"zhTW",0,function(){let e,t,n;return{localeError:(e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""},n={nan:"NaN"},r=>{switch(r.code){case"invalid_type":{let e=n[r.expected]??r.expected,t=ic(r.input),i=n[t]??t;if(/^[A-Z]/.test(r.expected))return` instanceof ${r.expected} ${i}`;return` ${e} ${i}`}case"invalid_value":if(1===r.values.length)return` ${r6(r.values[0])}`;return` ${r$(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""}`;return` ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` ${r.origin}  ${t}${r.minimum.toString()} ${n.unit}`;return` ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""}${r$(r.keys,"")}`;case"invalid_key":return`${r.origin} `;case"invalid_union":return"";case"invalid_element":return`${r.origin} `;default:return``}})}}],54580);var fT=e.i(54580);e.i(25527),e.i(98530),e.i(50215),e.i(34966);var fA=e.i(18249);e.s(["$ZodAny",0,aM,"$ZodArray",0,aq,"$ZodAsyncError",()=>rv,"$ZodBase64",0,aS,"$ZodBase64URL",0,aE,"$ZodBigInt",0,aP,"$ZodBigIntFormat",0,aR,"$ZodBoolean",0,aO,"$ZodCIDRv4",0,aw,"$ZodCIDRv6",0,aI,"$ZodCUID",0,al,"$ZodCUID2",0,ac,"$ZodCatch",0,op,"$ZodCheck",0,sz,"$ZodCheckBigIntFormat",0,sZ,"$ZodCheckEndsWith",0,s4,"$ZodCheckGreaterThan",0,sj,"$ZodCheckIncludes",0,s1,"$ZodCheckLengthEquals",0,sH,"$ZodCheckLessThan",0,sF,"$ZodCheckLowerCase",0,sY,"$ZodCheckMaxLength",0,sJ,"$ZodCheckMaxSize",0,sq,"$ZodCheckMimeType",0,s5,"$ZodCheckMinLength",0,sW,"$ZodCheckMinSize",0,sK,"$ZodCheckMultipleOf",0,sV,"$ZodCheckNumberFormat",0,sB,"$ZodCheckOverwrite",0,s8,"$ZodCheckProperty",0,s3,"$ZodCheckRegex",0,sX,"$ZodCheckSizeEquals",0,sG,"$ZodCheckStartsWith",0,s6,"$ZodCheckStringFormat",0,sQ,"$ZodCheckUpperCase",0,s0,"$ZodCodec",0,o_,"$ZodCustom",0,oT,"$ZodCustomStringFormat",0,aC,"$ZodDate",0,aB,"$ZodDefault",0,ol,"$ZodDiscriminatedUnion",0,a1,"$ZodE164",0,a$,"$ZodEmail",0,as,"$ZodEmoji",0,ao,"$ZodEncodeError",()=>ry,"$ZodEnum",0,ot,"$ZodError",0,iI,"$ZodExactOptional",0,oo,"$ZodFile",0,or,"$ZodFunction",0,ok,"$ZodGUID",0,ar,"$ZodIPv4",0,ay,"$ZodIPv6",0,a_,"$ZodISODate",0,ap,"$ZodISODateTime",0,am,"$ZodISODuration",0,av,"$ZodISOTime",0,ag,"$ZodIntersection",0,a6,"$ZodJWT",0,aA,"$ZodKSUID",0,af,"$ZodLazy",0,o$,"$ZodLiteral",0,on,"$ZodMAC",0,ab,"$ZodMap",0,a8,"$ZodNaN",0,og,"$ZodNanoID",0,au,"$ZodNever",0,aj,"$ZodNonOptional",0,oh,"$ZodNull",0,az,"$ZodNullable",0,ou,"$ZodNumber",0,aD,"$ZodNumberFormat",0,aN,"$ZodObject",0,aW,"$ZodObjectJIT",0,aH,"$ZodOptional",0,oa,"$ZodPipe",0,ov,"$ZodPrefault",0,od,"$ZodPromise",0,oE,"$ZodReadonly",0,oI,"$ZodRealError",0,ix,"$ZodRecord",0,a5,"$ZodRegistry",()=>oj,"$ZodSet",0,a7,"$ZodString",0,at,"$ZodStringFormat",0,an,"$ZodSuccess",0,om,"$ZodSymbol",0,aU,"$ZodTemplateLiteral",0,oS,"$ZodTransform",0,oi,"$ZodTuple",0,a2,"$ZodType",0,ae,"$ZodULID",0,ad,"$ZodURL",0,aa,"$ZodUUID",0,ai,"$ZodUndefined",0,aL,"$ZodUnion",0,aX,"$ZodUnknown",0,aF,"$ZodVoid",0,aV,"$ZodXID",0,ah,"$ZodXor",0,a0,"$brand",0,rg,"$constructor",()=>rp,"$input",0,oF,"$output",0,oM,"Doc",()=>s9,"JSONSchema",0,fA,"JSONSchemaGenerator",()=>cp,"NEVER",0,rm,"TimePrecision",0,us,"_any",()=>uE,"_array",()=>u9,"_base64",()=>ut,"_base64url",()=>un,"_bigint",()=>u_,"_boolean",()=>uv,"_catch",()=>lv,"_check",()=>lE,"_cidrv4",()=>o7,"_cidrv6",()=>ue,"_coercedBigint",()=>ub,"_coercedBoolean",()=>uy,"_coercedDate",()=>uD,"_coercedNumber",()=>ud,"_coercedString",()=>oq,"_cuid",()=>o1,"_cuid2",()=>o6,"_custom",()=>lx,"_date",()=>uC,"_decode",0,iM,"_decodeAsync",0,iB,"_default",()=>lm,"_discriminatedUnion",()=>lt,"_e164",()=>ur,"_email",()=>oK,"_emoji",()=>oY,"_encode",0,iL,"_encodeAsync",0,ij,"_endsWith",()=>uY,"_enum",()=>lo,"_file",()=>lc,"_float32",()=>uf,"_float64",()=>um,"_gt",()=>uR,"_gte",()=>uU,"_guid",()=>oG,"_includes",()=>uQ,"_int",()=>uh,"_int32",()=>up,"_int64",()=>uw,"_intersection",()=>ln,"_ipv4",()=>o5,"_ipv6",()=>o8,"_isoDate",()=>uo,"_isoDateTime",()=>ua,"_isoDuration",()=>ul,"_isoTime",()=>uu,"_jwt",()=>ui,"_ksuid",()=>o3,"_lazy",()=>lw,"_length",()=>uG,"_literal",()=>ll,"_lowercase",()=>uW,"_lt",()=>uO,"_lte",()=>uP,"_mac",()=>o9,"_map",()=>ls,"_max",()=>uP,"_maxLength",()=>uq,"_maxSize",()=>uV,"_mime",()=>u1,"_min",()=>uU,"_minLength",()=>uK,"_minSize",()=>uB,"_multipleOf",()=>uj,"_nan",()=>uN,"_nanoid",()=>o0,"_nativeEnum",()=>lu,"_negative",()=>uz,"_never",()=>uT,"_nonnegative",()=>uF,"_nonoptional",()=>lp,"_nonpositive",()=>uM,"_normalize",()=>u4,"_null",()=>uk,"_nullable",()=>lf,"_number",()=>uc,"_optional",()=>lh,"_overwrite",()=>u6,"_parse",0,iA,"_parseAsync",0,iD,"_pipe",()=>ly,"_positive",()=>uL,"_promise",()=>lI,"_property",()=>u0,"_readonly",()=>l_,"_record",()=>li,"_refine",()=>lS,"_regex",()=>uJ,"_safeDecode",0,iG,"_safeDecodeAsync",0,iQ,"_safeEncode",0,iq,"_safeEncodeAsync",0,iW,"_safeParse",0,iO,"_safeParseAsync",0,iR,"_set",()=>la,"_size",()=>uZ,"_slugify",()=>u8,"_startsWith",()=>uX,"_string",()=>oZ,"_stringFormat",()=>lC,"_stringbool",()=>lA,"_success",()=>lg,"_superRefine",()=>lk,"_symbol",()=>ux,"_templateLiteral",()=>lb,"_toLowerCase",()=>u3,"_toUpperCase",()=>u5,"_transform",()=>ld,"_trim",()=>u2,"_tuple",()=>lr,"_uint32",()=>ug,"_uint64",()=>uI,"_ulid",()=>o4,"_undefined",()=>uS,"_union",()=>u7,"_unknown",()=>u$,"_uppercase",()=>uH,"_url",()=>oX,"_uuid",()=>oJ,"_uuidv4",()=>oW,"_uuidv6",()=>oH,"_uuidv7",()=>oQ,"_void",()=>uA,"_xid",()=>o2,"_xor",()=>le,"clone",()=>rY,"config",()=>rb,"createStandardJSONSchemaMethod",0,lU,"createToJSONSchemaMethod",0,lR,"decode",0,iF,"decodeAsync",0,iZ,"describe",()=>l$,"encode",0,iz,"encodeAsync",0,iV,"extractDefs",()=>lO,"finalize",()=>lP,"flattenError",()=>iS,"formatError",()=>ik,"globalConfig",0,r_,"globalRegistry",0,oB,"initializeContext",()=>lD,"isValidBase64",()=>ax,"isValidBase64URL",()=>ak,"isValidJWT",()=>aT,"locales",0,fT,"meta",()=>lT,"parse",0,iC,"parseAsync",0,iN,"prettifyError",()=>iT,"process",()=>lN,"regexes",0,f$,"registry",()=>oV,"safeDecode",0,iJ,"safeDecodeAsync",0,iX,"safeEncode",0,iK,"safeEncodeAsync",0,iH,"safeParse",0,iP,"safeParseAsync",0,iU,"toDotPath",()=>i$,"toJSONSchema",()=>cm,"treeifyError",()=>iE,"util",0,fE,"version",0,s7],12717);var fC=e.i(12717);e.i(89282),e.i(364),e.i(6034),e.s(["$brand",0,rg,"ZodFirstPartyTypeKind",()=>o,"ZodIssueCode",0,ff,"config",()=>rb,"getErrorMap",()=>fp,"setErrorMap",()=>fm],58829),e.i(58829);var cg=cg,cv=cv,fD=e.i(13657);e.s(["$brand",0,rg,"$input",0,oF,"$output",0,oM,"NEVER",0,rm,"TimePrecision",0,us,"ZodAny",0,dY,"ZodArray",0,d7,"ZodBase64",0,d_,"ZodBase64URL",0,dw,"ZodBigInt",0,dV,"ZodBigIntFormat",0,dZ,"ZodBoolean",0,dF,"ZodCIDRv4",0,dp,"ZodCIDRv6",0,dv,"ZodCUID",0,c9,"ZodCUID2",0,de,"ZodCatch",0,hJ,"ZodCodec",0,h0,"ZodCustom",0,fn,"ZodCustomStringFormat",0,d$,"ZodDate",0,d8,"ZodDefault",0,hF,"ZodDiscriminatedUnion",0,hc,"ZodE164",0,dx,"ZodEmail",0,cK,"ZodEmoji",0,c2,"ZodEnum",0,hS,"ZodError",0,c$,"ZodExactOptional",0,hR,"ZodFile",0,hA,"ZodFirstPartyTypeKind",()=>o,"ZodFunction",0,fe,"ZodGUID",0,cJ,"ZodIPv4",0,dl,"ZodIPv6",0,df,"ZodISODate",0,cb,"ZodISODateTime",0,cy,"ZodISODuration",0,cS,"ZodISOTime",0,cI,"ZodIntersection",0,hh,"ZodIssueCode",0,ff,"ZodJWT",0,dk,"ZodKSUID",0,da,"ZodLazy",0,h5,"ZodLiteral",0,h$,"ZodMAC",0,dd,"ZodMap",0,hb,"ZodNaN",0,hH,"ZodNanoID",0,c5,"ZodNever",0,d4,"ZodNonOptional",0,hZ,"ZodNull",0,dQ,"ZodNullable",0,hL,"ZodNumber",0,dN,"ZodNumberFormat",0,dP,"ZodObject",0,hn,"ZodOptional",0,hO,"ZodPipe",0,hX,"ZodPrefault",0,hV,"ZodPromise",0,h9,"ZodReadonly",0,h6,"ZodRealError",0,cT,"ZodRecord",0,hg,"ZodSet",0,hI,"ZodString",0,cB,"ZodStringFormat",0,cq,"ZodSuccess",0,hK,"ZodSymbol",0,dG,"ZodTemplateLiteral",0,h2,"ZodTransform",0,hD,"ZodTuple",0,hm,"ZodType",0,cj,"ZodULID",0,dn,"ZodURL",0,c1,"ZodUUID",0,cH,"ZodUndefined",0,dW,"ZodUnion",0,ha,"ZodUnknown",0,d1,"ZodVoid",0,d3,"ZodXID",0,di,"ZodXor",0,hu,"_ZodString",0,cV,"_default",()=>hj,"_function",()=>ft,"any",()=>d0,"array",()=>he,"base64",()=>db,"base64url",()=>dI,"bigint",()=>dB,"boolean",()=>dj,"catch",()=>hW,"check",()=>fr,"cidrv4",()=>dg,"cidrv6",()=>dy,"clone",()=>rY,"codec",()=>h1,"coerce",0,fD,"config",()=>rb,"core",0,fC,"cuid",()=>c7,"cuid2",()=>dt,"custom",()=>fi,"date",()=>d9,"decode",0,cP,"decodeAsync",0,cU,"describe",0,fo,"discriminatedUnion",()=>hd,"e164",()=>dS,"email",()=>cG,"emoji",()=>c3,"encode",0,cO,"encodeAsync",0,cR,"endsWith",()=>uY,"enum",()=>hk,"exactOptional",()=>hU,"file",()=>hC,"flattenError",()=>iS,"float32",()=>dU,"float64",()=>dL,"formatError",()=>ik,"fromJSONSchema",()=>fb,"function",()=>ft,"getErrorMap",()=>fp,"globalRegistry",0,oB,"gt",()=>uR,"gte",()=>uU,"guid",()=>cW,"hash",()=>dD,"hex",()=>dC,"hostname",()=>dA,"httpUrl",()=>c4,"includes",()=>uQ,"instanceof",()=>fl,"int",()=>dR,"int32",()=>dz,"int64",()=>dq,"intersection",()=>hf,"ipv4",()=>dc,"ipv6",()=>dm,"iso",0,fv,"json",()=>fd,"jwt",()=>dE,"keyof",()=>ht,"ksuid",()=>du,"lazy",()=>h8,"length",()=>uG,"literal",()=>hT,"locales",0,fT,"looseObject",()=>hs,"looseRecord",()=>h_,"lowercase",()=>uW,"lt",()=>uO,"lte",()=>uP,"mac",()=>dh,"map",()=>hw,"maxLength",()=>uq,"maxSize",()=>uV,"meta",0,fu,"mime",()=>u1,"minLength",()=>uK,"minSize",()=>uB,"multipleOf",()=>uj,"nan",()=>hQ,"nanoid",()=>c8,"nativeEnum",()=>hE,"negative",()=>uz,"never",()=>d2,"nonnegative",()=>uF,"nonoptional",()=>hq,"nonpositive",()=>uM,"normalize",()=>u4,"null",()=>dX,"nullable",()=>hz,"nullish",()=>hM,"number",()=>dO,"object",()=>hr,"optional",()=>hP,"overwrite",()=>u6,"parse",0,cA,"parseAsync",0,cC,"partialRecord",()=>hy,"pipe",()=>hY,"positive",()=>uL,"prefault",()=>hB,"preprocess",()=>fh,"prettifyError",()=>iT,"promise",()=>h7,"property",()=>u0,"readonly",()=>h4,"record",()=>hv,"refine",()=>fs,"regex",()=>uJ,"regexes",()=>cg,"registry",()=>oV,"safeDecode",0,cz,"safeDecodeAsync",0,cF,"safeEncode",0,cL,"safeEncodeAsync",0,cM,"safeParse",0,cD,"safeParseAsync",0,cN,"set",()=>hx,"setErrorMap",()=>fm,"size",()=>uZ,"slugify",()=>u8,"startsWith",()=>uX,"strictObject",()=>hi,"string",()=>cZ,"stringFormat",()=>dT,"stringbool",0,fc,"success",()=>hG,"superRefine",()=>fa,"symbol",()=>dJ,"templateLiteral",()=>h3,"toJSONSchema",()=>cm,"toLowerCase",()=>u3,"toUpperCase",()=>u5,"transform",()=>hN,"treeifyError",()=>iE,"trim",()=>u2,"tuple",()=>hp,"uint32",()=>dM,"uint64",()=>dK,"ulid",()=>dr,"undefined",()=>dH,"union",()=>ho,"unknown",()=>d6,"uppercase",()=>uH,"url",()=>c6,"util",()=>cv,"uuid",()=>cQ,"uuidv4",()=>cX,"uuidv6",()=>cY,"uuidv7",()=>c0,"void",()=>d5,"xid",()=>ds,"xor",()=>hl],22219);var fN=e.i(22219),fN=fN;let fO=fN.object({NEXT_PUBLIC_FIREBASE_API_KEY:fN.string().min(1),NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:fN.string().min(1),NEXT_PUBLIC_FIREBASE_PROJECT_ID:fN.string().min(1),NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:fN.string().min(1),NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:fN.string().min(1),NEXT_PUBLIC_FIREBASE_APP_ID:fN.string().min(1)}),fP=fN.object({UPSTASH_REDIS_REST_URL:fN.string().url().optional(),UPSTASH_REDIS_REST_TOKEN:fN.string().min(1).optional()}),fR=function(){let e={NEXT_PUBLIC_FIREBASE_API_KEY:rf.default.env.NEXT_PUBLIC_FIREBASE_API_KEY??"",NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN:rf.default.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN??"",NEXT_PUBLIC_FIREBASE_PROJECT_ID:rf.default.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID??"",NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET:rf.default.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET??"",NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID:rf.default.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID??"",NEXT_PUBLIC_FIREBASE_APP_ID:rf.default.env.NEXT_PUBLIC_FIREBASE_APP_ID??""},t=fO.safeParse(e);if(!t.success){let e=t.error.issues.map(e=>`  - ${e.path.join(".")}`).join("\n");if("1"===rf.default.env.VERCEL)throw Error(`DYMNDS: Missing required environment variables:
${e}

Set these in Vercel Dashboard > Settings > Environment Variables.`);console.warn(`[DYMNDS] Missing env vars (non-fatal in dev):
${e}`)}let n=rf.default.env.UPSTASH_REDIS_REST_URL,r=rf.default.env.UPSTASH_REDIS_REST_TOKEN;(n&&!r||!n&&r)&&console.warn("[DYMNDS] Partial Upstash config detected. Both UPSTASH_REDIS_REST_URL and UPSTASH_REDIS_REST_TOKEN must be set for distributed rate limiting."),fP.safeParse({UPSTASH_REDIS_REST_URL:n,UPSTASH_REDIS_REST_TOKEN:r});let i=rf.default.env.FIREBASE_SERVICE_ACCOUNT_KEY;if(i)try{JSON.parse(i)}catch{console.error("[DYMNDS] FIREBASE_SERVICE_ACCOUNT_KEY is not valid JSON. Paste the entire contents of your service account JSON file.")}else"1"===rf.default.env.VERCEL?console.error("[DYMNDS] FIREBASE_SERVICE_ACCOUNT_KEY is not set. API routes (orders, contact, waitlist) will fail. Set it in Vercel Dashboard > Settings > Environment Variables."):console.warn("[DYMNDS] FIREBASE_SERVICE_ACCOUNT_KEY not set (non-fatal in dev). Server-side Firestore operations will fail until configured.");return e}(),fU={apiKey:fR.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:fR.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:fR.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:fR.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:fR.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:fR.NEXT_PUBLIC_FIREBASE_APP_ID},fL=0===(0,u.getApps)().length?(0,u.initializeApp)(fU):(0,u.getApp)(),fz=(0,l.getFirestore)(fL),fM=el(fL),fF=null;e.s(["db",0,fz,"getAuthClient",0,()=>(fF||(fF=rh(fL)),fF),"storage",0,fM],53699)}]);